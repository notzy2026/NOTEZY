function nb(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function rb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zh={exports:{}},rl={},ef={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function sb(){if(y0)return Me;y0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,q={};function z(V,Q,ge){this.props=V,this.context=Q,this.refs=q,this.updater=ge||O}z.prototype.isReactComponent={},z.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=z.prototype;function re(V,Q,ge){this.props=V,this.context=Q,this.refs=q,this.updater=ge||O}var te=re.prototype=new ne;te.constructor=re,M(te,z.prototype),te.isPureReactComponent=!0;var ce=Array.isArray,ke=Object.prototype.hasOwnProperty,ve={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function E(V,Q,ge){var ye,Ve={},Oe=null,be=null;if(Q!=null)for(ye in Q.ref!==void 0&&(be=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)ke.call(Q,ye)&&!P.hasOwnProperty(ye)&&(Ve[ye]=Q[ye]);var Ue=arguments.length-2;if(Ue===1)Ve.children=ge;else if(1<Ue){for(var We=Array(Ue),vt=0;vt<Ue;vt++)We[vt]=arguments[vt+2];Ve.children=We}if(V&&V.defaultProps)for(ye in Ue=V.defaultProps,Ue)Ve[ye]===void 0&&(Ve[ye]=Ue[ye]);return{$$typeof:n,type:V,key:Oe,ref:be,props:Ve,_owner:ve.current}}function S(V,Q){return{$$typeof:n,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function C(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return Q[ge]})}var D=/\/+/g;function I(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):Q.toString(36)}function je(V,Q,ge,ye,Ve){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(Oe){case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case n:case e:be=!0}}if(be)return be=V,Ve=Ve(be),V=ye===""?"."+I(be,0):ye,ce(Ve)?(ge="",V!=null&&(ge=V.replace(D,"$&/")+"/"),je(Ve,Q,ge,"",function(vt){return vt})):Ve!=null&&(A(Ve)&&(Ve=S(Ve,ge+(!Ve.key||be&&be.key===Ve.key?"":(""+Ve.key).replace(D,"$&/")+"/")+V)),Q.push(Ve)),1;if(be=0,ye=ye===""?".":ye+":",ce(V))for(var Ue=0;Ue<V.length;Ue++){Oe=V[Ue];var We=ye+I(Oe,Ue);be+=je(Oe,Q,ge,We,Ve)}else if(We=N(V),typeof We=="function")for(V=We.call(V),Ue=0;!(Oe=V.next()).done;)Oe=Oe.value,We=ye+I(Oe,Ue++),be+=je(Oe,Q,ge,We,Ve);else if(Oe==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return be}function Te(V,Q,ge){if(V==null)return V;var ye=[],Ve=0;return je(V,ye,"","",function(Oe){return Q.call(ge,Oe,Ve++)}),ye}function Se(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Ce={current:null},H={transition:null},me={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:H,ReactCurrentOwner:ve};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Te,forEach:function(V,Q,ge){Te(V,function(){Q.apply(this,arguments)},ge)},count:function(V){var Q=0;return Te(V,function(){Q++}),Q},toArray:function(V){return Te(V,function(Q){return Q})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=z,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=re,Me.StrictMode=s,Me.Suspense=m,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Me.act=ie,Me.cloneElement=function(V,Q,ge){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ye=M({},V.props),Ve=V.key,Oe=V.ref,be=V._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,be=ve.current),Q.key!==void 0&&(Ve=""+Q.key),V.type&&V.type.defaultProps)var Ue=V.type.defaultProps;for(We in Q)ke.call(Q,We)&&!P.hasOwnProperty(We)&&(ye[We]=Q[We]===void 0&&Ue!==void 0?Ue[We]:Q[We])}var We=arguments.length-2;if(We===1)ye.children=ge;else if(1<We){Ue=Array(We);for(var vt=0;vt<We;vt++)Ue[vt]=arguments[vt+2];ye.children=Ue}return{$$typeof:n,type:V.type,key:Ve,ref:Oe,props:ye,_owner:be}},Me.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Me.createElement=E,Me.createFactory=function(V){var Q=E.bind(null,V);return Q.type=V,Q},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:p,render:V}},Me.isValidElement=A,Me.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Se}},Me.memo=function(V,Q){return{$$typeof:x,type:V,compare:Q===void 0?null:Q}},Me.startTransition=function(V){var Q=H.transition;H.transition={};try{V()}finally{H.transition=Q}},Me.unstable_act=ie,Me.useCallback=function(V,Q){return Ce.current.useCallback(V,Q)},Me.useContext=function(V){return Ce.current.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V){return Ce.current.useDeferredValue(V)},Me.useEffect=function(V,Q){return Ce.current.useEffect(V,Q)},Me.useId=function(){return Ce.current.useId()},Me.useImperativeHandle=function(V,Q,ge){return Ce.current.useImperativeHandle(V,Q,ge)},Me.useInsertionEffect=function(V,Q){return Ce.current.useInsertionEffect(V,Q)},Me.useLayoutEffect=function(V,Q){return Ce.current.useLayoutEffect(V,Q)},Me.useMemo=function(V,Q){return Ce.current.useMemo(V,Q)},Me.useReducer=function(V,Q,ge){return Ce.current.useReducer(V,Q,ge)},Me.useRef=function(V){return Ce.current.useRef(V)},Me.useState=function(V){return Ce.current.useState(V)},Me.useSyncExternalStore=function(V,Q,ge){return Ce.current.useSyncExternalStore(V,Q,ge)},Me.useTransition=function(){return Ce.current.useTransition()},Me.version="18.3.1",Me}var x0;function rp(){return x0||(x0=1,ef.exports=sb()),ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function ib(){if(v0)return rl;v0=1;var n=rp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,x){var w,b={},N=null,O=null;x!==void 0&&(N=""+x),m.key!==void 0&&(N=""+m.key),m.ref!==void 0&&(O=m.ref);for(w in m)s.call(m,w)&&!l.hasOwnProperty(w)&&(b[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)b[w]===void 0&&(b[w]=m[w]);return{$$typeof:e,type:p,key:N,ref:O,props:b,_owner:o.current}}return rl.Fragment=t,rl.jsx=d,rl.jsxs=d,rl}var _0;function ob(){return _0||(_0=1,Zh.exports=ib()),Zh.exports}var c=ob(),ou={},tf={exports:{}},sn={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function ab(){return w0||(w0=1,(function(n){function e(H,me){var ie=H.length;H.push(me);e:for(;0<ie;){var V=ie-1>>>1,Q=H[V];if(0<o(Q,me))H[V]=me,H[ie]=Q,ie=V;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var me=H[0],ie=H.pop();if(ie!==me){H[0]=ie;e:for(var V=0,Q=H.length,ge=Q>>>1;V<ge;){var ye=2*(V+1)-1,Ve=H[ye],Oe=ye+1,be=H[Oe];if(0>o(Ve,ie))Oe<Q&&0>o(be,Ve)?(H[V]=be,H[Oe]=ie,V=Oe):(H[V]=Ve,H[ye]=ie,V=ye);else if(Oe<Q&&0>o(be,ie))H[V]=be,H[Oe]=ie,V=Oe;else break e}}return me}function o(H,me){var ie=H.sortIndex-me.sortIndex;return ie!==0?ie:H.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var m=[],x=[],w=1,b=null,N=3,O=!1,M=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(H){for(var me=t(x);me!==null;){if(me.callback===null)s(x);else if(me.startTime<=H)s(x),me.sortIndex=me.expirationTime,e(m,me);else break;me=t(x)}}function ce(H){if(q=!1,te(H),!M)if(t(m)!==null)M=!0,Se(ke);else{var me=t(x);me!==null&&Ce(ce,me.startTime-H)}}function ke(H,me){M=!1,q&&(q=!1,ne(E),E=-1),O=!0;var ie=N;try{for(te(me),b=t(m);b!==null&&(!(b.expirationTime>me)||H&&!C());){var V=b.callback;if(typeof V=="function"){b.callback=null,N=b.priorityLevel;var Q=V(b.expirationTime<=me);me=n.unstable_now(),typeof Q=="function"?b.callback=Q:b===t(m)&&s(m),te(me)}else s(m);b=t(m)}if(b!==null)var ge=!0;else{var ye=t(x);ye!==null&&Ce(ce,ye.startTime-me),ge=!1}return ge}finally{b=null,N=ie,O=!1}}var ve=!1,P=null,E=-1,S=5,A=-1;function C(){return!(n.unstable_now()-A<S)}function D(){if(P!==null){var H=n.unstable_now();A=H;var me=!0;try{me=P(!0,H)}finally{me?I():(ve=!1,P=null)}}else ve=!1}var I;if(typeof re=="function")I=function(){re(D)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Te=je.port2;je.port1.onmessage=D,I=function(){Te.postMessage(null)}}else I=function(){z(D,0)};function Se(H){P=H,ve||(ve=!0,I())}function Ce(H,me){E=z(function(){H(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){M||O||(M=!0,Se(ke))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(H){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var ie=N;N=me;try{return H()}finally{N=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,me){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=N;N=H;try{return me()}finally{N=ie}},n.unstable_scheduleCallback=function(H,me,ie){var V=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?V+ie:V):ie=V,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,H={id:w++,callback:me,priorityLevel:H,startTime:ie,expirationTime:Q,sortIndex:-1},ie>V?(H.sortIndex=ie,e(x,H),t(m)===null&&H===t(x)&&(q?(ne(E),E=-1):q=!0,Ce(ce,ie-V))):(H.sortIndex=Q,e(m,H),M||O||(M=!0,Se(ke))),H},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(H){var me=N;return function(){var ie=N;N=me;try{return H.apply(this,arguments)}finally{N=ie}}}})(rf)),rf}var k0;function lb(){return k0||(k0=1,nf.exports=ab()),nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function cb(){if(b0)return sn;b0=1;var n=rp(),e=lb();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){d(r,i),d(r+"Capture",i)}function d(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function N(r){return m.call(b,r)?!0:m.call(w,r)?!1:x.test(r)?b[r]=!0:(w[r]=!0,!1)}function O(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,i,a,h){if(i===null||typeof i>"u"||O(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(r,i,a,h,f,g,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){z[r]=new q(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];z[i]=new q(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){z[r]=new q(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){z[r]=new q(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){z[r]=new q(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){z[r]=new q(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){z[r]=new q(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){z[r]=new q(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){z[r]=new q(r,5,!1,r.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function re(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(ne,re);z[i]=new q(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(ne,re);z[i]=new q(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(ne,re);z[i]=new q(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){z[r]=new q(r,1,!1,r.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){z[r]=new q(r,1,!1,r.toLowerCase(),null,!0,!0)});function te(r,i,a,h){var f=z.hasOwnProperty(i)?z[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,a,f,h)&&(a=null),h||f===null?N(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),ve=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),H=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,V;function Q(r){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var ge=!1;function ye(r,i){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var h=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){h=B}r.call(i.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=h.stack.split(`
`),_=f.length-1,T=g.length-1;1<=_&&0<=T&&f[_]!==g[T];)T--;for(;1<=_&&0<=T;_--,T--)if(f[_]!==g[T]){if(_!==1||T!==1)do if(_--,T--,0>T||f[_]!==g[T]){var R=`
`+f[_].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=_&&0<=T);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function Ve(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case ve:return"Portal";case S:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case D:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Te:return i=r.displayName||null,i!==null?i:Oe(r.type)||"Memo";case Se:i=r._payload,r=r._init;try{return Oe(r(i))}catch{}}return null}function be(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vt(r){var i=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){h=""+_,g.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Wn(r){r._valueTracker||(r._valueTracker=vt(r))}function Gn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=We(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function Zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gi(r,i){var a=i.checked;return ie({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Hl(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ki(r,i){i=i.checked,i!=null&&te(r,"checked",i,!1)}function ei(r,i){Ki(r,i);var a=Ue(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?_t(r,i.type,a):i.hasOwnProperty("defaultValue")&&_t(r,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ua(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function _t(r,i,a){(i!=="number"||Zr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var pt=Array.isArray;function Cn(r,i,a,h){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function da(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ha(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(pt(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ue(a)}}function Wl(r,i){var a=Ue(i.value),h=Ue(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function es(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function fa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?fa(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ts,Gl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ts.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ti(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kl=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(r){Kl.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ns[i]=ns[r]})});function rs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||ns.hasOwnProperty(r)&&ns[r]?(""+i).trim():i+"px"}function Yi(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=rs(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var pa=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pn(r,i){if(i){if(pa[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Xi(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function Ji(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Er=null,Nr=null,lt=null;function ma(r){if(r=Ba(r)){if(typeof Er!="function")throw Error(t(280));var i=r.stateNode;i&&(i=wc(i),Er(r.stateNode,r.type,i))}}function is(r){Nr?lt?lt.push(r):lt=[r]:Nr=r}function os(){if(Nr){var r=Nr,i=lt;if(lt=Nr=null,ma(r),i)for(r=0;r<i.length;r++)ma(i[r])}}function Ql(r,i){return r(i)}function Yl(){}var Kn=!1;function Xl(r,i,a){if(Kn)return r(i,a);Kn=!0;try{return Ql(r,i,a)}finally{Kn=!1,(Nr!==null||lt!==null)&&(Yl(),os())}}function ni(r,i){var a=r.stateNode;if(a===null)return null;var h=wc(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var as=!1;if(p)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){as=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{as=!1}function Jl(r,i,a,h,f,g,_,T,R){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(X){this.onError(X)}}var Tr=!1,Qn=null,Zi=!1,_n=null,Zl={onError:function(r){Tr=!0,Qn=r}};function ec(r,i,a,h,f,g,_,T,R){Tr=!1,Qn=null,Jl.apply(Zl,arguments)}function ga(r,i,a,h,f,g,_,T,R){if(ec.apply(this,arguments),Tr){if(Tr){var B=Qn;Tr=!1,Qn=null}else throw Error(t(198));Zi||(Zi=!0,_n=B)}}function Rn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ya(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function tc(r){if(Rn(r)!==r)throw Error(t(188))}function nc(r){var i=r.alternate;if(!i){if(i=Rn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return tc(f),r;if(g===h)return tc(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,h=g;break}if(T===h){_=!0,h=f,a=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===a){_=!0,a=g,h=f;break}if(T===h){_=!0,h=g,a=f;break}T=T.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function rc(r){return r=nc(r),r!==null?ri(r):null}function ri(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ri(r);if(i!==null)return i;r=r.sibling}return null}var xa=e.unstable_scheduleCallback,eo=e.unstable_cancelCallback,si=e.unstable_shouldYield,Ir=e.unstable_requestPaint,tt=e.unstable_now,Cd=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,va=e.unstable_UserBlockingPriority,ii=e.unstable_NormalPriority,_a=e.unstable_LowPriority,no=e.unstable_IdlePriority,oi=null,ln=null;function sc(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(oi,r,void 0,(r.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:ai,Yn=Math.log,wn=Math.LN2;function ai(r){return r>>>=0,r===0?32:31-(Yn(r)/wn|0)|0}var Xn=64,cs=4194304;function Qe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Sr(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var T=_&~f;T!==0?h=Qe(T):(g&=_,g!==0&&(h=Qe(g)))}else _=a&~f,_!==0?h=Qe(_):g!==0&&(h=Qe(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-cn(i),f=1<<a,h|=r[a],i&=~f;return h}function li(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-cn(g),T=1<<_,R=f[_];R===-1?((T&a)===0||(T&h)!==0)&&(f[_]=li(T,i)):R<=i&&(r.expiredLanes|=T),g&=~T}}function wa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ka(){var r=Xn;return Xn<<=1,(Xn&4194240)===0&&(Xn=64),r}function ba(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function ui(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-cn(i),r[i]=a}function Pd(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-cn(a),g=1<<f;i[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Ea(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-cn(a),f=1<<h;f&i|r[h]&i&&(r[h]|=i),a&=~f}}var $e=0;function Jn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Na,ro,Ta,Ia,Sa,Zn=!1,so=[],er=null,tr=null,Dt=null,di=new Map,Ar=new Map,un=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function us(r,i){switch(r){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":di.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(i.pointerId)}}function jn(r,i,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ba(i),i!==null&&ro(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function oc(r,i,a,h,f){switch(i){case"focusin":return er=jn(er,r,i,a,h,f),!0;case"dragenter":return tr=jn(tr,r,i,a,h,f),!0;case"mouseover":return Dt=jn(Dt,r,i,a,h,f),!0;case"pointerover":var g=f.pointerId;return di.set(g,jn(di.get(g)||null,r,i,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Ar.set(g,jn(Ar.get(g)||null,r,i,a,h,f)),!0}return!1}function io(r){var i=mi(r.target);if(i!==null){var a=Rn(i);if(a!==null){if(i=a.tag,i===13){if(i=ya(a),i!==null){r.blockedOn=i,Sa(r.priority,function(){Ta(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Je(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=oo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ss=h,a.target.dispatchEvent(h),ss=null}else return i=Ba(a),i!==null&&ro(i),r.blockedOn=a,!1;i.shift()}return!0}function ac(r,i,a){Je(r)&&a.delete(i)}function Rd(){Zn=!1,er!==null&&Je(er)&&(er=null),tr!==null&&Je(tr)&&(tr=null),Dt!==null&&Je(Dt)&&(Dt=null),di.forEach(ac),Ar.forEach(ac)}function ds(r,i){r.blockedOn===i&&(r.blockedOn=null,Zn||(Zn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rd)))}function hs(r){function i(f){return ds(f,r)}if(0<so.length){ds(so[0],r);for(var a=1;a<so.length;a++){var h=so[a];h.blockedOn===r&&(h.blockedOn=null)}}for(er!==null&&ds(er,r),tr!==null&&ds(tr,r),Dt!==null&&ds(Dt,r),di.forEach(i),Ar.forEach(i),a=0;a<un.length;a++)h=un[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<un.length&&(a=un[0],a.blockedOn===null);)io(a),a.blockedOn===null&&un.shift()}var Cr=ce.ReactCurrentBatchConfig,Pr=!0;function nr(r,i,a,h){var f=$e,g=Cr.transition;Cr.transition=null;try{$e=1,Aa(r,i,a,h)}finally{$e=f,Cr.transition=g}}function lc(r,i,a,h){var f=$e,g=Cr.transition;Cr.transition=null;try{$e=4,Aa(r,i,a,h)}finally{$e=f,Cr.transition=g}}function Aa(r,i,a,h){if(Pr){var f=oo(r,i,a,h);if(f===null)$d(r,i,h,rr,a),us(r,h);else if(oc(f,r,i,a,h))h.stopPropagation();else if(us(r,h),i&4&&-1<ic.indexOf(r)){for(;f!==null;){var g=Ba(f);if(g!==null&&Na(g),g=oo(r,i,a,h),g===null&&$d(r,i,h,rr,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else $d(r,i,h,null,a)}}var rr=null;function oo(r,i,a,h){if(rr=null,r=Ji(h),r=mi(r),r!==null)if(i=Rn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ya(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return rr=r,null}function ao(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cd()){case to:return 1;case va:return 4;case ii:case _a:return 16;case no:return 536870912;default:return 16}default:return 16}}var dn=null,lo=null,Rr=null;function cc(){if(Rr)return Rr;var r,i=lo,a=i.length,h,f="value"in dn?dn.value:dn.textContent,g=f.length;for(r=0;r<a&&i[r]===f[r];r++);var _=a-r;for(h=1;h<=_&&i[a-h]===f[g-h];h++);return Rr=f.slice(r,1<h?1-h:void 0)}function hi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Ca(){return!1}function zt(r){function i(a,h,f,g,_){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:Ca,this.isPropagationStopped=Ca,this}return ie(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=zt(ir),fs=ie({},ir,{view:0,detail:0}),co=zt(fs),uo,ho,hn,pi=ie({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hn&&(hn&&r.type==="mousemove"?(uo=r.screenX-hn.screenX,ho=r.screenY-hn.screenY):ho=uo=0,hn=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Pa=zt(pi),uc=ie({},pi,{dataTransfer:0}),dc=zt(uc),fo=ie({},fs,{relatedTarget:0}),Vt=zt(fo),hc=ie({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=zt(hc),ps=ie({},ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=zt(ps),y=ie({},ir,{data:0}),v=zt(y),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ee(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=$[r])?!!i[r]:!1}function Pe(){return ee}var mt=ie({},fs,{key:function(r){if(r.key){var i=k[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=hi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(r){return r.type==="keypress"?hi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xe=zt(mt),wt=ie({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fn=zt(wt),jr=ie({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),or=zt(jr),ar=ie({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),po=zt(ar),Ra=ie({},pi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Yw=zt(Ra),Xw=[9,13,27,32],jd=p&&"CompositionEvent"in window,ja=null;p&&"documentMode"in document&&(ja=document.documentMode);var Jw=p&&"TextEvent"in window&&!ja,cm=p&&(!jd||ja&&8<ja&&11>=ja),um=" ",dm=!1;function hm(r,i){switch(r){case"keyup":return Xw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function Zw(r,i){switch(r){case"compositionend":return fm(i);case"keypress":return i.which!==32?null:(dm=!0,um);case"textInput":return r=i.data,r===um&&dm?null:r;default:return null}}function ek(r,i){if(mo)return r==="compositionend"||!jd&&hm(r,i)?(r=cc(),Rr=lo=dn=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return cm&&i.locale!=="ko"?null:i.data;default:return null}}var tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tk[r.type]:i==="textarea"}function mm(r,i,a,h){is(h),i=xc(i,"onChange"),0<i.length&&(a=new fi("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var Da=null,Va=null;function nk(r){jm(r,0)}function pc(r){var i=_o(r);if(Gn(i))return r}function rk(r,i){if(r==="change")return i}var gm=!1;if(p){var Dd;if(p){var Vd="oninput"in document;if(!Vd){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Vd=typeof ym.oninput=="function"}Dd=Vd}else Dd=!1;gm=Dd&&(!document.documentMode||9<document.documentMode)}function xm(){Da&&(Da.detachEvent("onpropertychange",vm),Va=Da=null)}function vm(r){if(r.propertyName==="value"&&pc(Va)){var i=[];mm(i,Va,r,Ji(r)),Xl(nk,i)}}function sk(r,i,a){r==="focusin"?(xm(),Da=i,Va=a,Da.attachEvent("onpropertychange",vm)):r==="focusout"&&xm()}function ik(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pc(Va)}function ok(r,i){if(r==="click")return pc(i)}function ak(r,i){if(r==="input"||r==="change")return pc(i)}function lk(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Dn=typeof Object.is=="function"?Object.is:lk;function Oa(r,i){if(Dn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!m.call(i,f)||!Dn(r[f],i[f]))return!1}return!0}function _m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wm(r,i){var a=_m(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_m(a)}}function km(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?km(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function bm(){for(var r=window,i=Zr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Zr(r.document)}return i}function Od(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ck(r){var i=bm(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&km(a.ownerDocument.documentElement,a)){if(h!==null&&Od(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=wm(a,g);var _=wm(a,h);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uk=p&&"documentMode"in document&&11>=document.documentMode,go=null,Ld=null,La=null,Md=!1;function Em(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Md||go==null||go!==Zr(h)||(h=go,"selectionStart"in h&&Od(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),La&&Oa(La,h)||(La=h,h=xc(Ld,"onSelect"),0<h.length&&(i=new fi("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=go)))}function mc(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var yo={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Ud={},Nm={};p&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function gc(r){if(Ud[r])return Ud[r];if(!yo[r])return r;var i=yo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Nm)return Ud[r]=i[a];return r}var Tm=gc("animationend"),Im=gc("animationiteration"),Sm=gc("animationstart"),Am=gc("transitionend"),Cm=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(r,i){Cm.set(r,i),l(i,[r])}for(var Fd=0;Fd<Pm.length;Fd++){var zd=Pm[Fd],dk=zd.toLowerCase(),hk=zd[0].toUpperCase()+zd.slice(1);ms(dk,"on"+hk)}ms(Tm,"onAnimationEnd"),ms(Im,"onAnimationIteration"),ms(Sm,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Am,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Rm(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,ga(h,i,void 0,r),r.currentTarget=null}function jm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var _=h.length-1;0<=_;_--){var T=h[_],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==g&&f.isPropagationStopped())break e;Rm(f,T,B),g=R}else for(_=0;_<h.length;_++){if(T=h[_],R=T.instance,B=T.currentTarget,T=T.listener,R!==g&&f.isPropagationStopped())break e;Rm(f,T,B),g=R}}}if(Zi)throw r=_n,Zi=!1,_n=null,r}function nt(r,i){var a=i[Qd];a===void 0&&(a=i[Qd]=new Set);var h=r+"__bubble";a.has(h)||(Dm(i,r,2,!1),a.add(h))}function Bd(r,i,a){var h=0;i&&(h|=4),Dm(a,r,h,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[yc]){r[yc]=!0,s.forEach(function(a){a!=="selectionchange"&&(fk.has(a)||Bd(a,!1,r),Bd(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[yc]||(i[yc]=!0,Bd("selectionchange",!1,i))}}function Dm(r,i,a,h){switch(ao(i)){case 1:var f=nr;break;case 4:f=lc;break;default:f=Aa}a=f.bind(null,i,a,r),f=void 0,!as||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function $d(r,i,a,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var T=h.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=h.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(R=_.tag,R===5||R===6){h=g=_;continue e}T=T.parentNode}}h=h.return}Xl(function(){var B=g,X=Ji(a),J=[];e:{var Y=Cm.get(r);if(Y!==void 0){var oe=fi,ue=r;switch(r){case"keypress":if(hi(a)===0)break e;case"keydown":case"keyup":oe=Xe;break;case"focusin":ue="focus",oe=Vt;break;case"focusout":ue="blur",oe=Vt;break;case"beforeblur":case"afterblur":oe=Vt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=or;break;case Tm:case Im:case Sm:oe=fc;break;case Am:oe=po;break;case"scroll":oe=co;break;case"wheel":oe=Yw;break;case"copy":case"cut":case"paste":oe=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=fn}var fe=(i&4)!==0,gt=!fe&&r==="scroll",L=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var j=B,F;j!==null;){F=j;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,L!==null&&(Z=ni(j,L),Z!=null&&fe.push(Fa(j,Z,F)))),gt)break;j=j.return}0<fe.length&&(Y=new oe(Y,ue,null,a,X),J.push({event:Y,listeners:fe}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Y&&a!==ss&&(ue=a.relatedTarget||a.fromElement)&&(mi(ue)||ue[Dr]))break e;if((oe||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(ue=a.relatedTarget||a.toElement,oe=B,ue=ue?mi(ue):null,ue!==null&&(gt=Rn(ue),ue!==gt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(oe=null,ue=B),oe!==ue)){if(fe=Pa,Z="onMouseLeave",L="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(fe=fn,Z="onPointerLeave",L="onPointerEnter",j="pointer"),gt=oe==null?Y:_o(oe),F=ue==null?Y:_o(ue),Y=new fe(Z,j+"leave",oe,a,X),Y.target=gt,Y.relatedTarget=F,Z=null,mi(X)===B&&(fe=new fe(L,j+"enter",ue,a,X),fe.target=F,fe.relatedTarget=gt,Z=fe),gt=Z,oe&&ue)t:{for(fe=oe,L=ue,j=0,F=fe;F;F=xo(F))j++;for(F=0,Z=L;Z;Z=xo(Z))F++;for(;0<j-F;)fe=xo(fe),j--;for(;0<F-j;)L=xo(L),F--;for(;j--;){if(fe===L||L!==null&&fe===L.alternate)break t;fe=xo(fe),L=xo(L)}fe=null}else fe=null;oe!==null&&Vm(J,Y,oe,fe,!1),ue!==null&&gt!==null&&Vm(J,gt,ue,fe,!0)}}e:{if(Y=B?_o(B):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var pe=rk;else if(pm(Y))if(gm)pe=ak;else{pe=ik;var _e=sk}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=ok);if(pe&&(pe=pe(r,B))){mm(J,pe,a,X);break e}_e&&_e(r,Y,B),r==="focusout"&&(_e=Y._wrapperState)&&_e.controlled&&Y.type==="number"&&_t(Y,"number",Y.value)}switch(_e=B?_o(B):window,r){case"focusin":(pm(_e)||_e.contentEditable==="true")&&(go=_e,Ld=B,La=null);break;case"focusout":La=Ld=go=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Em(J,a,X);break;case"selectionchange":if(uk)break;case"keydown":case"keyup":Em(J,a,X)}var we;if(jd)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else mo?hm(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(cm&&a.locale!=="ko"&&(mo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&mo&&(we=cc()):(dn=X,lo="value"in dn?dn.value:dn.textContent,mo=!0)),_e=xc(B,Ie),0<_e.length&&(Ie=new v(Ie,r,null,a,X),J.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=fm(a),we!==null&&(Ie.data=we)))),(we=Jw?Zw(r,a):ek(r,a))&&(B=xc(B,"onBeforeInput"),0<B.length&&(X=new v("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:B}),X.data=we))}jm(J,i)})}function Fa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function xc(r,i){for(var a=i+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ni(r,a),g!=null&&h.unshift(Fa(r,g,f)),g=ni(r,i),g!=null&&h.push(Fa(r,g,f))),r=r.return}return h}function xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vm(r,i,a,h,f){for(var g=i._reactName,_=[];a!==null&&a!==h;){var T=a,R=T.alternate,B=T.stateNode;if(R!==null&&R===h)break;T.tag===5&&B!==null&&(T=B,f?(R=ni(a,g),R!=null&&_.unshift(Fa(a,R,T))):f||(R=ni(a,g),R!=null&&_.push(Fa(a,R,T)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var pk=/\r\n?/g,mk=/\u0000|\uFFFD/g;function Om(r){return(typeof r=="string"?r:""+r).replace(pk,`
`).replace(mk,"")}function vc(r,i,a){if(i=Om(i),Om(r)!==i&&a)throw Error(t(425))}function _c(){}var qd=null,Hd=null;function Wd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,gk=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(r){return Lm.resolve(null).then(r).catch(xk)}:Gd;function xk(r){setTimeout(function(){throw r})}function Kd(r,i){var a=i,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),hs(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);hs(i)}function gs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Mm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var vo=Math.random().toString(36).slice(2),lr="__reactFiber$"+vo,za="__reactProps$"+vo,Dr="__reactContainer$"+vo,Qd="__reactEvents$"+vo,vk="__reactListeners$"+vo,_k="__reactHandles$"+vo;function mi(r){var i=r[lr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Dr]||a[lr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Mm(r);r!==null;){if(a=r[lr])return a;r=Mm(r)}return i}r=a,a=r.parentNode}return null}function Ba(r){return r=r[lr]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function wc(r){return r[za]||null}var Yd=[],wo=-1;function ys(r){return{current:r}}function rt(r){0>wo||(r.current=Yd[wo],Yd[wo]=null,wo--)}function Ze(r,i){wo++,Yd[wo]=r.current,r.current=i}var xs={},Bt=ys(xs),Zt=ys(!1),gi=xs;function ko(r,i){var a=r.type.contextTypes;if(!a)return xs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function en(r){return r=r.childContextTypes,r!=null}function kc(){rt(Zt),rt(Bt)}function Um(r,i,a){if(Bt.current!==xs)throw Error(t(168));Ze(Bt,i),Ze(Zt,a)}function Fm(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,be(r)||"Unknown",f));return ie({},a,h)}function bc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||xs,gi=Bt.current,Ze(Bt,r),Ze(Zt,Zt.current),!0}function zm(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Fm(r,i,gi),h.__reactInternalMemoizedMergedChildContext=r,rt(Zt),rt(Bt),Ze(Bt,r)):rt(Zt),Ze(Zt,a)}var Vr=null,Ec=!1,Xd=!1;function Bm(r){Vr===null?Vr=[r]:Vr.push(r)}function wk(r){Ec=!0,Bm(r)}function vs(){if(!Xd&&Vr!==null){Xd=!0;var r=0,i=$e;try{var a=Vr;for($e=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Vr=null,Ec=!1}catch(f){throw Vr!==null&&(Vr=Vr.slice(r+1)),xa(to,vs),f}finally{$e=i,Xd=!1}}return null}var bo=[],Eo=0,Nc=null,Tc=0,kn=[],bn=0,yi=null,Or=1,Lr="";function xi(r,i){bo[Eo++]=Tc,bo[Eo++]=Nc,Nc=r,Tc=i}function $m(r,i,a){kn[bn++]=Or,kn[bn++]=Lr,kn[bn++]=yi,yi=r;var h=Or;r=Lr;var f=32-cn(h)-1;h&=~(1<<f),a+=1;var g=32-cn(i)+f;if(30<g){var _=f-f%5;g=(h&(1<<_)-1).toString(32),h>>=_,f-=_,Or=1<<32-cn(i)+f|a<<f|h,Lr=g+r}else Or=1<<g|a<<f|h,Lr=r}function Jd(r){r.return!==null&&(xi(r,1),$m(r,1,0))}function Zd(r){for(;r===Nc;)Nc=bo[--Eo],bo[Eo]=null,Tc=bo[--Eo],bo[Eo]=null;for(;r===yi;)yi=kn[--bn],kn[bn]=null,Lr=kn[--bn],kn[bn]=null,Or=kn[--bn],kn[bn]=null}var pn=null,mn=null,st=!1,Vn=null;function qm(r,i){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Hm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,pn=r,mn=gs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,pn=r,mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=yi!==null?{id:Or,overflow:Lr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function eh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function th(r){if(st){var i=mn;if(i){var a=i;if(!Hm(r,i)){if(eh(r))throw Error(t(418));i=gs(a.nextSibling);var h=pn;i&&Hm(r,i)?qm(h,a):(r.flags=r.flags&-4097|2,st=!1,pn=r)}}else{if(eh(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,pn=r}}}function Wm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Ic(r){if(r!==pn)return!1;if(!st)return Wm(r),st=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Wd(r.type,r.memoizedProps)),i&&(i=mn)){if(eh(r))throw Gm(),Error(t(418));for(;i;)qm(r,i),i=gs(i.nextSibling)}if(Wm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){mn=gs(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}mn=null}}else mn=pn?gs(r.stateNode.nextSibling):null;return!0}function Gm(){for(var r=mn;r;)r=gs(r.nextSibling)}function No(){mn=pn=null,st=!1}function nh(r){Vn===null?Vn=[r]:Vn.push(r)}var kk=ce.ReactCurrentBatchConfig;function $a(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(_){var T=f.refs;_===null?delete T[g]:T[g]=_},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Sc(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Km(r){var i=r._init;return i(r._payload)}function Qm(r){function i(L,j){if(r){var F=L.deletions;F===null?(L.deletions=[j],L.flags|=16):F.push(j)}}function a(L,j){if(!r)return null;for(;j!==null;)i(L,j),j=j.sibling;return null}function h(L,j){for(L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function f(L,j){return L=Is(L,j),L.index=0,L.sibling=null,L}function g(L,j,F){return L.index=F,r?(F=L.alternate,F!==null?(F=F.index,F<j?(L.flags|=2,j):F):(L.flags|=2,j)):(L.flags|=1048576,j)}function _(L){return r&&L.alternate===null&&(L.flags|=2),L}function T(L,j,F,Z){return j===null||j.tag!==6?(j=Gh(F,L.mode,Z),j.return=L,j):(j=f(j,F),j.return=L,j)}function R(L,j,F,Z){var pe=F.type;return pe===P?X(L,j,F.props.children,Z,F.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Se&&Km(pe)===j.type)?(Z=f(j,F.props),Z.ref=$a(L,j,F),Z.return=L,Z):(Z=Jc(F.type,F.key,F.props,null,L.mode,Z),Z.ref=$a(L,j,F),Z.return=L,Z)}function B(L,j,F,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=Kh(F,L.mode,Z),j.return=L,j):(j=f(j,F.children||[]),j.return=L,j)}function X(L,j,F,Z,pe){return j===null||j.tag!==7?(j=Ti(F,L.mode,Z,pe),j.return=L,j):(j=f(j,F),j.return=L,j)}function J(L,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Gh(""+j,L.mode,F),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:return F=Jc(j.type,j.key,j.props,null,L.mode,F),F.ref=$a(L,null,j),F.return=L,F;case ve:return j=Kh(j,L.mode,F),j.return=L,j;case Se:var Z=j._init;return J(L,Z(j._payload),F)}if(pt(j)||me(j))return j=Ti(j,L.mode,F,null),j.return=L,j;Sc(L,j)}return null}function Y(L,j,F,Z){var pe=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:T(L,j,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ke:return F.key===pe?R(L,j,F,Z):null;case ve:return F.key===pe?B(L,j,F,Z):null;case Se:return pe=F._init,Y(L,j,pe(F._payload),Z)}if(pt(F)||me(F))return pe!==null?null:X(L,j,F,Z,null);Sc(L,F)}return null}function oe(L,j,F,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(F)||null,T(j,L,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ke:return L=L.get(Z.key===null?F:Z.key)||null,R(j,L,Z,pe);case ve:return L=L.get(Z.key===null?F:Z.key)||null,B(j,L,Z,pe);case Se:var _e=Z._init;return oe(L,j,F,_e(Z._payload),pe)}if(pt(Z)||me(Z))return L=L.get(F)||null,X(j,L,Z,pe,null);Sc(j,Z)}return null}function ue(L,j,F,Z){for(var pe=null,_e=null,we=j,Ie=j=0,Rt=null;we!==null&&Ie<F.length;Ie++){we.index>Ie?(Rt=we,we=null):Rt=we.sibling;var Ge=Y(L,we,F[Ie],Z);if(Ge===null){we===null&&(we=Rt);break}r&&we&&Ge.alternate===null&&i(L,we),j=g(Ge,j,Ie),_e===null?pe=Ge:_e.sibling=Ge,_e=Ge,we=Rt}if(Ie===F.length)return a(L,we),st&&xi(L,Ie),pe;if(we===null){for(;Ie<F.length;Ie++)we=J(L,F[Ie],Z),we!==null&&(j=g(we,j,Ie),_e===null?pe=we:_e.sibling=we,_e=we);return st&&xi(L,Ie),pe}for(we=h(L,we);Ie<F.length;Ie++)Rt=oe(we,L,Ie,F[Ie],Z),Rt!==null&&(r&&Rt.alternate!==null&&we.delete(Rt.key===null?Ie:Rt.key),j=g(Rt,j,Ie),_e===null?pe=Rt:_e.sibling=Rt,_e=Rt);return r&&we.forEach(function(Ss){return i(L,Ss)}),st&&xi(L,Ie),pe}function fe(L,j,F,Z){var pe=me(F);if(typeof pe!="function")throw Error(t(150));if(F=pe.call(F),F==null)throw Error(t(151));for(var _e=pe=null,we=j,Ie=j=0,Rt=null,Ge=F.next();we!==null&&!Ge.done;Ie++,Ge=F.next()){we.index>Ie?(Rt=we,we=null):Rt=we.sibling;var Ss=Y(L,we,Ge.value,Z);if(Ss===null){we===null&&(we=Rt);break}r&&we&&Ss.alternate===null&&i(L,we),j=g(Ss,j,Ie),_e===null?pe=Ss:_e.sibling=Ss,_e=Ss,we=Rt}if(Ge.done)return a(L,we),st&&xi(L,Ie),pe;if(we===null){for(;!Ge.done;Ie++,Ge=F.next())Ge=J(L,Ge.value,Z),Ge!==null&&(j=g(Ge,j,Ie),_e===null?pe=Ge:_e.sibling=Ge,_e=Ge);return st&&xi(L,Ie),pe}for(we=h(L,we);!Ge.done;Ie++,Ge=F.next())Ge=oe(we,L,Ie,Ge.value,Z),Ge!==null&&(r&&Ge.alternate!==null&&we.delete(Ge.key===null?Ie:Ge.key),j=g(Ge,j,Ie),_e===null?pe=Ge:_e.sibling=Ge,_e=Ge);return r&&we.forEach(function(tb){return i(L,tb)}),st&&xi(L,Ie),pe}function gt(L,j,F,Z){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ke:e:{for(var pe=F.key,_e=j;_e!==null;){if(_e.key===pe){if(pe=F.type,pe===P){if(_e.tag===7){a(L,_e.sibling),j=f(_e,F.props.children),j.return=L,L=j;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Se&&Km(pe)===_e.type){a(L,_e.sibling),j=f(_e,F.props),j.ref=$a(L,_e,F),j.return=L,L=j;break e}a(L,_e);break}else i(L,_e);_e=_e.sibling}F.type===P?(j=Ti(F.props.children,L.mode,Z,F.key),j.return=L,L=j):(Z=Jc(F.type,F.key,F.props,null,L.mode,Z),Z.ref=$a(L,j,F),Z.return=L,L=Z)}return _(L);case ve:e:{for(_e=F.key;j!==null;){if(j.key===_e)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){a(L,j.sibling),j=f(j,F.children||[]),j.return=L,L=j;break e}else{a(L,j);break}else i(L,j);j=j.sibling}j=Kh(F,L.mode,Z),j.return=L,L=j}return _(L);case Se:return _e=F._init,gt(L,j,_e(F._payload),Z)}if(pt(F))return ue(L,j,F,Z);if(me(F))return fe(L,j,F,Z);Sc(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,j!==null&&j.tag===6?(a(L,j.sibling),j=f(j,F),j.return=L,L=j):(a(L,j),j=Gh(F,L.mode,Z),j.return=L,L=j),_(L)):a(L,j)}return gt}var To=Qm(!0),Ym=Qm(!1),Ac=ys(null),Cc=null,Io=null,rh=null;function sh(){rh=Io=Cc=null}function ih(r){var i=Ac.current;rt(Ac),r._currentValue=i}function oh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function So(r,i){Cc=r,rh=Io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(tn=!0),r.firstContext=null)}function En(r){var i=r._currentValue;if(rh!==r)if(r={context:r,memoizedValue:i,next:null},Io===null){if(Cc===null)throw Error(t(308));Io=r,Cc.dependencies={lanes:0,firstContext:r}}else Io=Io.next=r;return i}var vi=null;function ah(r){vi===null?vi=[r]:vi.push(r)}function Xm(r,i,a,h){var f=i.interleaved;return f===null?(a.next=a,ah(i)):(a.next=f.next,f.next=a),i.interleaved=a,Mr(r,h)}function Mr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var _s=!1;function lh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ur(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ws(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Mr(r,a)}return f=h.interleaved,f===null?(i.next=i,ah(h)):(i.next=f.next,f.next=i),h.interleaved=i,Mr(r,a)}function Pc(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Ea(r,a)}}function Zm(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Rc(r,i,a,h){var f=r.updateQueue;_s=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,B=R.next;R.next=null,_===null?g=B:_.next=B,_=R;var X=r.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=R))}if(g!==null){var J=f.baseState;_=0,X=B=R=null,T=g;do{var Y=T.lane,oe=T.eventTime;if((h&Y)===Y){X!==null&&(X=X.next={eventTime:oe,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ue=r,fe=T;switch(Y=i,oe=a,fe.tag){case 1:if(ue=fe.payload,typeof ue=="function"){J=ue.call(oe,J,Y);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=fe.payload,Y=typeof ue=="function"?ue.call(oe,J,Y):ue,Y==null)break e;J=ie({},J,Y);break e;case 2:_s=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,Y=f.effects,Y===null?f.effects=[T]:Y.push(T))}else oe={eventTime:oe,lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=oe,R=J):X=X.next=oe,_|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(R=J),f.baseState=R,f.firstBaseUpdate=B,f.lastBaseUpdate=X,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);ki|=_,r.lanes=_,r.memoizedState=J}}function eg(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var qa={},cr=ys(qa),Ha=ys(qa),Wa=ys(qa);function _i(r){if(r===qa)throw Error(t(174));return r}function ch(r,i){switch(Ze(Wa,i),Ze(Ha,r),Ze(cr,qa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Qi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Qi(i,r)}rt(cr),Ze(cr,i)}function Ao(){rt(cr),rt(Ha),rt(Wa)}function tg(r){_i(Wa.current);var i=_i(cr.current),a=Qi(i,r.type);i!==a&&(Ze(Ha,r),Ze(cr,a))}function uh(r){Ha.current===r&&(rt(cr),rt(Ha))}var it=ys(0);function jc(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dh=[];function hh(){for(var r=0;r<dh.length;r++)dh[r]._workInProgressVersionPrimary=null;dh.length=0}var Dc=ce.ReactCurrentDispatcher,fh=ce.ReactCurrentBatchConfig,wi=0,ot=null,Tt=null,Ct=null,Vc=!1,Ga=!1,Ka=0,bk=0;function $t(){throw Error(t(321))}function ph(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Dn(r[a],i[a]))return!1;return!0}function mh(r,i,a,h,f,g){if(wi=g,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Dc.current=r===null||r.memoizedState===null?Ik:Sk,r=a(h,f),Ga){g=0;do{if(Ga=!1,Ka=0,25<=g)throw Error(t(301));g+=1,Ct=Tt=null,i.updateQueue=null,Dc.current=Ak,r=a(h,f)}while(Ga)}if(Dc.current=Mc,i=Tt!==null&&Tt.next!==null,wi=0,Ct=Tt=ot=null,Vc=!1,i)throw Error(t(300));return r}function gh(){var r=Ka!==0;return Ka=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ot.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Nn(){if(Tt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var i=Ct===null?ot.memoizedState:Ct.next;if(i!==null)Ct=i,Tt=r;else{if(r===null)throw Error(t(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ct===null?ot.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function Qa(r,i){return typeof i=="function"?i(r):i}function yh(r){var i=Nn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Tt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var T=_=null,R=null,B=g;do{var X=B.lane;if((wi&X)===X)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var J={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(T=R=J,_=h):R=R.next=J,ot.lanes|=X,ki|=X}B=B.next}while(B!==null&&B!==g);R===null?_=h:R.next=T,Dn(h,i.memoizedState)||(tn=!0),i.memoizedState=h,i.baseState=_,i.baseQueue=R,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,ot.lanes|=g,ki|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function xh(r){var i=Nn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);Dn(g,i.memoizedState)||(tn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,h]}function ng(){}function rg(r,i){var a=ot,h=Nn(),f=i(),g=!Dn(h.memoizedState,f);if(g&&(h.memoizedState=f,tn=!0),h=h.queue,vh(og.bind(null,a,h,r),[r]),h.getSnapshot!==i||g||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,Ya(9,ig.bind(null,a,h,f,i),void 0,null),Pt===null)throw Error(t(349));(wi&30)!==0||sg(a,i,f)}return f}function sg(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function ig(r,i,a,h){i.value=a,i.getSnapshot=h,ag(i)&&lg(r)}function og(r,i,a){return a(function(){ag(i)&&lg(r)})}function ag(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Dn(r,a)}catch{return!0}}function lg(r){var i=Mr(r,1);i!==null&&Un(i,r,1,-1)}function cg(r){var i=ur();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},i.queue=r,r=r.dispatch=Tk.bind(null,ot,r),[i.memoizedState,r]}function Ya(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function ug(){return Nn().memoizedState}function Oc(r,i,a,h){var f=ur();ot.flags|=r,f.memoizedState=Ya(1|i,a,void 0,h===void 0?null:h)}function Lc(r,i,a,h){var f=Nn();h=h===void 0?null:h;var g=void 0;if(Tt!==null){var _=Tt.memoizedState;if(g=_.destroy,h!==null&&ph(h,_.deps)){f.memoizedState=Ya(i,a,g,h);return}}ot.flags|=r,f.memoizedState=Ya(1|i,a,g,h)}function dg(r,i){return Oc(8390656,8,r,i)}function vh(r,i){return Lc(2048,8,r,i)}function hg(r,i){return Lc(4,2,r,i)}function fg(r,i){return Lc(4,4,r,i)}function pg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function mg(r,i,a){return a=a!=null?a.concat([r]):null,Lc(4,4,pg.bind(null,i,r),a)}function _h(){}function gg(r,i){var a=Nn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&ph(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function yg(r,i){var a=Nn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&ph(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function xg(r,i,a){return(wi&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a):(Dn(a,i)||(a=ka(),ot.lanes|=a,ki|=a,r.baseState=!0),i)}function Ek(r,i){var a=$e;$e=a!==0&&4>a?a:4,r(!0);var h=fh.transition;fh.transition={};try{r(!1),i()}finally{$e=a,fh.transition=h}}function vg(){return Nn().memoizedState}function Nk(r,i,a){var h=Ns(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},_g(r))wg(i,a);else if(a=Xm(r,i,a,h),a!==null){var f=Xt();Un(a,r,h,f),kg(a,i,h)}}function Tk(r,i,a){var h=Ns(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(_g(r))wg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var _=i.lastRenderedState,T=g(_,a);if(f.hasEagerState=!0,f.eagerState=T,Dn(T,_)){var R=i.interleaved;R===null?(f.next=f,ah(i)):(f.next=R.next,R.next=f),i.interleaved=f;return}}catch{}finally{}a=Xm(r,i,f,h),a!==null&&(f=Xt(),Un(a,r,h,f),kg(a,i,h))}}function _g(r){var i=r.alternate;return r===ot||i!==null&&i===ot}function wg(r,i){Ga=Vc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function kg(r,i,a){if((a&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Ea(r,a)}}var Mc={readContext:En,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},Ik={readContext:En,useCallback:function(r,i){return ur().memoizedState=[r,i===void 0?null:i],r},useContext:En,useEffect:dg,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Oc(4194308,4,pg.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Oc(4194308,4,r,i)},useInsertionEffect:function(r,i){return Oc(4,2,r,i)},useMemo:function(r,i){var a=ur();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=ur();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Nk.bind(null,ot,r),[h.memoizedState,r]},useRef:function(r){var i=ur();return r={current:r},i.memoizedState=r},useState:cg,useDebugValue:_h,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=cg(!1),i=r[0];return r=Ek.bind(null,r[1]),ur().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=ot,f=ur();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Pt===null)throw Error(t(349));(wi&30)!==0||sg(h,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,dg(og.bind(null,h,g,r),[r]),h.flags|=2048,Ya(9,ig.bind(null,h,g,a,i),void 0,null),a},useId:function(){var r=ur(),i=Pt.identifierPrefix;if(st){var a=Lr,h=Or;a=(h&~(1<<32-cn(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ka++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=bk++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Sk={readContext:En,useCallback:gg,useContext:En,useEffect:vh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:yh,useRef:ug,useState:function(){return yh(Qa)},useDebugValue:_h,useDeferredValue:function(r){var i=Nn();return xg(i,Tt.memoizedState,r)},useTransition:function(){var r=yh(Qa)[0],i=Nn().memoizedState;return[r,i]},useMutableSource:ng,useSyncExternalStore:rg,useId:vg,unstable_isNewReconciler:!1},Ak={readContext:En,useCallback:gg,useContext:En,useEffect:vh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:xh,useRef:ug,useState:function(){return xh(Qa)},useDebugValue:_h,useDeferredValue:function(r){var i=Nn();return Tt===null?i.memoizedState=r:xg(i,Tt.memoizedState,r)},useTransition:function(){var r=xh(Qa)[0],i=Nn().memoizedState;return[r,i]},useMutableSource:ng,useSyncExternalStore:rg,useId:vg,unstable_isNewReconciler:!1};function On(r,i){if(r&&r.defaultProps){i=ie({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function wh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:ie({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uc={isMounted:function(r){return(r=r._reactInternals)?Rn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=Xt(),f=Ns(r),g=Ur(h,f);g.payload=i,a!=null&&(g.callback=a),i=ws(r,g,f),i!==null&&(Un(i,r,f,h),Pc(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=Xt(),f=Ns(r),g=Ur(h,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ws(r,g,f),i!==null&&(Un(i,r,f,h),Pc(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Xt(),h=Ns(r),f=Ur(a,h);f.tag=2,i!=null&&(f.callback=i),i=ws(r,f,h),i!==null&&(Un(i,r,h,a),Pc(i,r,h))}};function bg(r,i,a,h,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,_):i.prototype&&i.prototype.isPureReactComponent?!Oa(a,h)||!Oa(f,g):!0}function Eg(r,i,a){var h=!1,f=xs,g=i.contextType;return typeof g=="object"&&g!==null?g=En(g):(f=en(i)?gi:Bt.current,h=i.contextTypes,g=(h=h!=null)?ko(r,f):xs),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Uc,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function Ng(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&Uc.enqueueReplaceState(i,i.state,null)}function kh(r,i,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},lh(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=En(g):(g=en(i)?gi:Bt.current,f.context=ko(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(wh(r,i,g,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Uc.enqueueReplaceState(f,f.state,null),Rc(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Co(r,i){try{var a="",h=i;do a+=Ve(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function bh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Eh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ck=typeof WeakMap=="function"?WeakMap:Map;function Tg(r,i,a){a=Ur(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Wc||(Wc=!0,Uh=h),Eh(r,i)},a}function Ig(r,i,a){a=Ur(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;a.payload=function(){return h(f)},a.callback=function(){Eh(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Eh(r,i),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Sg(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Ck;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(a)||(f.add(a),r=qk.bind(null,r,i,a),i.then(r,r))}function Ag(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Cg(r,i,a,h,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ur(-1,1),i.tag=2,ws(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Pk=ce.ReactCurrentOwner,tn=!1;function Yt(r,i,a,h){i.child=r===null?Ym(i,null,a,h):To(i,r.child,a,h)}function Pg(r,i,a,h,f){a=a.render;var g=i.ref;return So(i,f),h=mh(r,i,a,h,g,f),a=gh(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Fr(r,i,f)):(st&&a&&Jd(i),i.flags|=1,Yt(r,i,h,f),i.child)}function Rg(r,i,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Wh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,jg(r,i,g,h,f)):(r=Jc(a.type,null,h,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:Oa,a(_,h)&&r.ref===i.ref)return Fr(r,i,f)}return i.flags|=1,r=Is(g,h),r.ref=i.ref,r.return=i,i.child=r}function jg(r,i,a,h,f){if(r!==null){var g=r.memoizedProps;if(Oa(g,h)&&r.ref===i.ref)if(tn=!1,i.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(tn=!0);else return i.lanes=r.lanes,Fr(r,i,f)}return Nh(r,i,a,h,f)}function Dg(r,i,a){var h=i.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ro,gn),gn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ze(Ro,gn),gn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ze(Ro,gn),gn|=h}else g!==null?(h=g.baseLanes|a,i.memoizedState=null):h=a,Ze(Ro,gn),gn|=h;return Yt(r,i,f,a),i.child}function Vg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Nh(r,i,a,h,f){var g=en(a)?gi:Bt.current;return g=ko(i,g),So(i,f),a=mh(r,i,a,h,g,f),h=gh(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Fr(r,i,f)):(st&&h&&Jd(i),i.flags|=1,Yt(r,i,a,f),i.child)}function Og(r,i,a,h,f){if(en(a)){var g=!0;bc(i)}else g=!1;if(So(i,f),i.stateNode===null)zc(r,i),Eg(i,a,h),kh(i,a,h,f),h=!0;else if(r===null){var _=i.stateNode,T=i.memoizedProps;_.props=T;var R=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=En(B):(B=en(a)?gi:Bt.current,B=ko(i,B));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==h||R!==B)&&Ng(i,_,h,B),_s=!1;var Y=i.memoizedState;_.state=Y,Rc(i,h,_,f),R=i.memoizedState,T!==h||Y!==R||Zt.current||_s?(typeof X=="function"&&(wh(i,a,X,h),R=i.memoizedState),(T=_s||bg(i,a,T,h,Y,R,B))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=R),_.props=h,_.state=R,_.context=B,h=T):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{_=i.stateNode,Jm(r,i),T=i.memoizedProps,B=i.type===i.elementType?T:On(i.type,T),_.props=B,J=i.pendingProps,Y=_.context,R=a.contextType,typeof R=="object"&&R!==null?R=En(R):(R=en(a)?gi:Bt.current,R=ko(i,R));var oe=a.getDerivedStateFromProps;(X=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==J||Y!==R)&&Ng(i,_,h,R),_s=!1,Y=i.memoizedState,_.state=Y,Rc(i,h,_,f);var ue=i.memoizedState;T!==J||Y!==ue||Zt.current||_s?(typeof oe=="function"&&(wh(i,a,oe,h),ue=i.memoizedState),(B=_s||bg(i,a,B,h,Y,ue,R)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ue,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ue,R)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ue),_.props=h,_.state=ue,_.context=R,h=B):(typeof _.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),h=!1)}return Th(r,i,a,h,g,f)}function Th(r,i,a,h,f,g){Vg(r,i);var _=(i.flags&128)!==0;if(!h&&!_)return f&&zm(i,a,!1),Fr(r,i,g);h=i.stateNode,Pk.current=i;var T=_&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&_?(i.child=To(i,r.child,null,g),i.child=To(i,null,T,g)):Yt(r,i,T,g),i.memoizedState=h.state,f&&zm(i,a,!0),i.child}function Lg(r){var i=r.stateNode;i.pendingContext?Um(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Um(r,i.context,!1),ch(r,i.containerInfo)}function Mg(r,i,a,h,f){return No(),nh(f),i.flags|=256,Yt(r,i,a,h),i.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Sh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ug(r,i,a){var h=i.pendingProps,f=it.current,g=!1,_=(i.flags&128)!==0,T;if((T=_)||(T=r!==null&&r.memoizedState===null?!1:(f&2)!==0),T?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ze(it,f&1),r===null)return th(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=h.children,r=h.fallback,g?(h=i.mode,g=i.child,_={mode:"hidden",children:_},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Zc(_,h,0,null),r=Ti(r,h,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Sh(a),i.memoizedState=Ih,r):Ah(i,_));if(f=r.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return Rk(r,i,_,h,T,f,a);if(g){g=h.fallback,_=i.mode,f=r.child,T=f.sibling;var R={mode:"hidden",children:h.children};return(_&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=R,i.deletions=null):(h=Is(f,R),h.subtreeFlags=f.subtreeFlags&14680064),T!==null?g=Is(T,g):(g=Ti(g,_,a,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,_=r.child.memoizedState,_=_===null?Sh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,i.memoizedState=Ih,h}return g=r.child,r=g.sibling,h=Is(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function Ah(r,i){return i=Zc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Fc(r,i,a,h){return h!==null&&nh(h),To(i,r.child,null,a),r=Ah(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Rk(r,i,a,h,f,g,_){if(a)return i.flags&256?(i.flags&=-257,h=bh(Error(t(422))),Fc(r,i,_,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=Zc({mode:"visible",children:h.children},f,0,null),g=Ti(g,f,_,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&To(i,r.child,null,_),i.child.memoizedState=Sh(_),i.memoizedState=Ih,g);if((i.mode&1)===0)return Fc(r,i,_,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var T=h.dgst;return h=T,g=Error(t(419)),h=bh(g,h,void 0),Fc(r,i,_,h)}if(T=(_&r.childLanes)!==0,tn||T){if(h=Pt,h!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Mr(r,f),Un(h,r,f,-1))}return Hh(),h=bh(Error(t(421))),Fc(r,i,_,h)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Hk.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,mn=gs(f.nextSibling),pn=i,st=!0,Vn=null,r!==null&&(kn[bn++]=Or,kn[bn++]=Lr,kn[bn++]=yi,Or=r.id,Lr=r.overflow,yi=i),i=Ah(i,h.children),i.flags|=4096,i)}function Fg(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),oh(r.return,i,a)}function Ch(r,i,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function zg(r,i,a){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Yt(r,i,h.children,a),h=it.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fg(r,a,i);else if(r.tag===19)Fg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ze(it,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&jc(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ch(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&jc(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Ch(i,!0,a,null,g);break;case"together":Ch(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zc(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Fr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ki|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Is(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Is(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function jk(r,i,a){switch(i.tag){case 3:Lg(i),No();break;case 5:tg(i);break;case 1:en(i.type)&&bc(i);break;case 4:ch(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Ze(Ac,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ze(it,it.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Ug(r,i,a):(Ze(it,it.current&1),r=Fr(r,i,a),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(r.flags&128)!==0){if(h)return zg(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(it,it.current),h)break;return null;case 22:case 23:return i.lanes=0,Dg(r,i,a)}return Fr(r,i,a)}var Bg,Ph,$g,qg;Bg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ph=function(){},$g=function(r,i,a,h){var f=r.memoizedProps;if(f!==h){r=i.stateNode,_i(cr.current);var g=null;switch(a){case"input":f=Gi(r,f),h=Gi(r,h),g=[];break;case"select":f=ie({},f,{value:void 0}),h=ie({},h,{value:void 0}),g=[];break;case"textarea":f=da(r,f),h=da(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=_c)}Pn(a,h);var _;a=null;for(B in f)if(!h.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var T=f[B];for(_ in T)T.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var R=h[B];if(T=f?.[B],h.hasOwnProperty(B)&&R!==T&&(R!=null||T!=null))if(B==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(a||(a={}),a[_]=R[_])}else a||(g||(g=[]),g.push(B,a)),a=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(g=g||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&nt("scroll",r),g||T===R||(g=[])):(g=g||[]).push(B,R))}a&&(g=g||[]).push("style",a);var B=g;(i.updateQueue=B)&&(i.flags|=4)}},qg=function(r,i,a,h){a!==h&&(i.flags|=4)};function Xa(r,i){if(!st)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function qt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function Dk(r,i,a){var h=i.pendingProps;switch(Zd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return en(i.type)&&kc(),qt(i),null;case 3:return h=i.stateNode,Ao(),rt(Zt),rt(Bt),hh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ic(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vn!==null&&(Bh(Vn),Vn=null))),Ph(r,i),qt(i),null;case 5:uh(i);var f=_i(Wa.current);if(a=i.type,r!==null&&i.stateNode!=null)$g(r,i,a,h,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return qt(i),null}if(r=_i(cr.current),Ic(i)){h=i.stateNode,a=i.type;var g=i.memoizedProps;switch(h[lr]=i,h[za]=g,r=(i.mode&1)!==0,a){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(f=0;f<Ma.length;f++)nt(Ma[f],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":Hl(h,g),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},nt("invalid",h);break;case"textarea":ha(h,g),nt("invalid",h)}Pn(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var T=g[_];_==="children"?typeof T=="string"?h.textContent!==T&&(g.suppressHydrationWarning!==!0&&vc(h.textContent,T,r),f=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&vc(h.textContent,T,r),f=["children",""+T]):o.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&nt("scroll",h)}switch(a){case"input":Wn(h),ua(h,g,!0);break;case"textarea":Wn(h),es(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=_c)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fa(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=_.createElement(a,{is:h.is}):(r=_.createElement(a),a==="select"&&(_=r,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):r=_.createElementNS(r,a),r[lr]=i,r[za]=h,Bg(r,i,!1,!1),i.stateNode=r;e:{switch(_=Xi(a,h),a){case"dialog":nt("cancel",r),nt("close",r),f=h;break;case"iframe":case"object":case"embed":nt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ma.length;f++)nt(Ma[f],r);f=h;break;case"source":nt("error",r),f=h;break;case"img":case"image":case"link":nt("error",r),nt("load",r),f=h;break;case"details":nt("toggle",r),f=h;break;case"input":Hl(r,h),f=Gi(r,h),nt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ie({},h,{value:void 0}),nt("invalid",r);break;case"textarea":ha(r,h),f=da(r,h),nt("invalid",r);break;default:f=h}Pn(a,f),T=f;for(g in T)if(T.hasOwnProperty(g)){var R=T[g];g==="style"?Yi(r,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gl(r,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&ti(r,R):typeof R=="number"&&ti(r,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&nt("scroll",r):R!=null&&te(r,g,R,_))}switch(a){case"input":Wn(r),ua(r,h,!1);break;case"textarea":Wn(r),es(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Cn(r,!!h.multiple,g,!1):h.defaultValue!=null&&Cn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=_c)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return qt(i),null;case 6:if(r&&i.stateNode!=null)qg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=_i(Wa.current),_i(cr.current),Ic(i)){if(h=i.stateNode,a=i.memoizedProps,h[lr]=i,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:vc(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vc(h.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[lr]=i,i.stateNode=h}return qt(i),null;case 13:if(rt(it),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gm(),No(),i.flags|=98560,g=!1;else if(g=Ic(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[lr]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),g=!1}else Vn!==null&&(Bh(Vn),Vn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(it.current&1)!==0?It===0&&(It=3):Hh())),i.updateQueue!==null&&(i.flags|=4),qt(i),null);case 4:return Ao(),Ph(r,i),r===null&&Ua(i.stateNode.containerInfo),qt(i),null;case 10:return ih(i.type._context),qt(i),null;case 17:return en(i.type)&&kc(),qt(i),null;case 19:if(rt(it),g=i.memoizedState,g===null)return qt(i),null;if(h=(i.flags&128)!==0,_=g.rendering,_===null)if(h)Xa(g,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=jc(r),_!==null){for(i.flags|=128,Xa(g,!1),h=_.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)g=a,r=h,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ze(it,it.current&1|2),i.child}r=r.sibling}g.tail!==null&&tt()>jo&&(i.flags|=128,h=!0,Xa(g,!1),i.lanes=4194304)}else{if(!h)if(r=jc(_),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!st)return qt(i),null}else 2*tt()-g.renderingStartTime>jo&&a!==1073741824&&(i.flags|=128,h=!0,Xa(g,!1),i.lanes=4194304);g.isBackwards?(_.sibling=i.child,i.child=_):(a=g.last,a!==null?a.sibling=_:i.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=tt(),i.sibling=null,a=it.current,Ze(it,h?a&1|2:a&1),i):(qt(i),null);case 22:case 23:return qh(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(gn&1073741824)!==0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Vk(r,i){switch(Zd(i),i.tag){case 1:return en(i.type)&&kc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ao(),rt(Zt),rt(Bt),hh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return uh(i),null;case 13:if(rt(it),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));No()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return rt(it),null;case 4:return Ao(),null;case 10:return ih(i.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var Bc=!1,Ht=!1,Ok=typeof WeakSet=="function"?WeakSet:Set,le=null;function Po(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ct(r,i,h)}else a.current=null}function Rh(r,i,a){try{a()}catch(h){ct(r,i,h)}}var Hg=!1;function Lk(r,i){if(qd=Pr,r=bm(),Od(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,T=-1,R=-1,B=0,X=0,J=r,Y=null;t:for(;;){for(var oe;J!==a||f!==0&&J.nodeType!==3||(T=_+f),J!==g||h!==0&&J.nodeType!==3||(R=_+h),J.nodeType===3&&(_+=J.nodeValue.length),(oe=J.firstChild)!==null;)Y=J,J=oe;for(;;){if(J===r)break t;if(Y===a&&++B===f&&(T=_),Y===g&&++X===h&&(R=_),(oe=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=oe}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:r,selectionRange:a},Pr=!1,le=i;le!==null;)if(i=le,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,le=r;else for(;le!==null;){i=le;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var fe=ue.memoizedProps,gt=ue.memoizedState,L=i.stateNode,j=L.getSnapshotBeforeUpdate(i.elementType===i.type?fe:On(i.type,fe),gt);L.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ct(i,i.return,Z)}if(r=i.sibling,r!==null){r.return=i.return,le=r;break}le=i.return}return ue=Hg,Hg=!1,ue}function Ja(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Rh(i,a,g)}f=f.next}while(f!==h)}}function $c(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function jh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Wg(r){var i=r.alternate;i!==null&&(r.alternate=null,Wg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[lr],delete i[za],delete i[Qd],delete i[vk],delete i[_k])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gg(r){return r.tag===5||r.tag===3||r.tag===4}function Kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_c));else if(h!==4&&(r=r.child,r!==null))for(Dh(r,i,a),r=r.sibling;r!==null;)Dh(r,i,a),r=r.sibling}function Vh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Vh(r,i,a),r=r.sibling;r!==null;)Vh(r,i,a),r=r.sibling}var Ot=null,Ln=!1;function ks(r,i,a){for(a=a.child;a!==null;)Qg(r,i,a),a=a.sibling}function Qg(r,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(oi,a)}catch{}switch(a.tag){case 5:Ht||Po(a,i);case 6:var h=Ot,f=Ln;Ot=null,ks(r,i,a),Ot=h,Ln=f,Ot!==null&&(Ln?(r=Ot,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ot.removeChild(a.stateNode));break;case 18:Ot!==null&&(Ln?(r=Ot,a=a.stateNode,r.nodeType===8?Kd(r.parentNode,a):r.nodeType===1&&Kd(r,a),hs(r)):Kd(Ot,a.stateNode));break;case 4:h=Ot,f=Ln,Ot=a.stateNode.containerInfo,Ln=!0,ks(r,i,a),Ot=h,Ln=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Rh(a,i,_),f=f.next}while(f!==h)}ks(r,i,a);break;case 1:if(!Ht&&(Po(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(T){ct(a,i,T)}ks(r,i,a);break;case 21:ks(r,i,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,ks(r,i,a),Ht=h):ks(r,i,a);break;default:ks(r,i,a)}}function Yg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ok),i.forEach(function(h){var f=Wk.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Mn(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 5:Ot=T.stateNode,Ln=!1;break e;case 3:Ot=T.stateNode.containerInfo,Ln=!0;break e;case 4:Ot=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(Ot===null)throw Error(t(160));Qg(g,_,f),Ot=null,Ln=!1;var R=f.alternate;R!==null&&(R.return=null),f.return=null}catch(B){ct(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xg(i,r),i=i.sibling}function Xg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Mn(i,r),dr(r),h&4){try{Ja(3,r,r.return),$c(3,r)}catch(fe){ct(r,r.return,fe)}try{Ja(5,r,r.return)}catch(fe){ct(r,r.return,fe)}}break;case 1:Mn(i,r),dr(r),h&512&&a!==null&&Po(a,a.return);break;case 5:if(Mn(i,r),dr(r),h&512&&a!==null&&Po(a,a.return),r.flags&32){var f=r.stateNode;try{ti(f,"")}catch(fe){ct(r,r.return,fe)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,T=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Ki(f,g),Xi(T,_);var B=Xi(T,g);for(_=0;_<R.length;_+=2){var X=R[_],J=R[_+1];X==="style"?Yi(f,J):X==="dangerouslySetInnerHTML"?Gl(f,J):X==="children"?ti(f,J):te(f,X,J,B)}switch(T){case"input":ei(f,g);break;case"textarea":Wl(f,g);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Cn(f,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cn(f,!!g.multiple,g.defaultValue,!0):Cn(f,!!g.multiple,g.multiple?[]:"",!1))}f[za]=g}catch(fe){ct(r,r.return,fe)}}break;case 6:if(Mn(i,r),dr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(fe){ct(r,r.return,fe)}}break;case 3:if(Mn(i,r),dr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{hs(i.containerInfo)}catch(fe){ct(r,r.return,fe)}break;case 4:Mn(i,r),dr(r);break;case 13:Mn(i,r),dr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Mh=tt())),h&4&&Yg(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(B=Ht)||X,Mn(i,r),Ht=B):Mn(i,r),dr(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!X&&(r.mode&1)!==0)for(le=r,X=r.child;X!==null;){for(J=le=X;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Ja(4,Y,Y.return);break;case 1:Po(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){h=Y,a=Y.return;try{i=h,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(fe){ct(h,a,fe)}}break;case 5:Po(Y,Y.return);break;case 22:if(Y.memoizedState!==null){e0(J);continue}}oe!==null?(oe.return=Y,le=oe):e0(J)}X=X.sibling}e:for(X=null,J=r;;){if(J.tag===5){if(X===null){X=J;try{f=J.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=J.stateNode,R=J.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=rs("display",_))}catch(fe){ct(r,r.return,fe)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(fe){ct(r,r.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Mn(i,r),dr(r),h&4&&Yg(r);break;case 21:break;default:Mn(i,r),dr(r)}}function dr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Gg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ti(f,""),h.flags&=-33);var g=Kg(r);Vh(r,g,f);break;case 3:case 4:var _=h.stateNode.containerInfo,T=Kg(r);Dh(r,T,_);break;default:throw Error(t(161))}}catch(R){ct(r,r.return,R)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Mk(r,i,a){le=r,Jg(r)}function Jg(r,i,a){for(var h=(r.mode&1)!==0;le!==null;){var f=le,g=f.child;if(f.tag===22&&h){var _=f.memoizedState!==null||Bc;if(!_){var T=f.alternate,R=T!==null&&T.memoizedState!==null||Ht;T=Bc;var B=Ht;if(Bc=_,(Ht=R)&&!B)for(le=f;le!==null;)_=le,R=_.child,_.tag===22&&_.memoizedState!==null?t0(f):R!==null?(R.return=_,le=R):t0(f);for(;g!==null;)le=g,Jg(g),g=g.sibling;le=f,Bc=T,Ht=B}Zg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,le=g):Zg(r)}}function Zg(r){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ht||$c(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:On(i.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&eg(i,g,h);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}eg(i,_,a)}break;case 5:var T=i.stateNode;if(a===null&&i.flags&4){a=T;var R=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&hs(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||i.flags&512&&jh(i)}catch(Y){ct(i,i.return,Y)}}if(i===r){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function e0(r){for(;le!==null;){var i=le;if(i===r){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function t0(r){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{$c(4,i)}catch(R){ct(i,a,R)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(R){ct(i,f,R)}}var g=i.return;try{jh(i)}catch(R){ct(i,g,R)}break;case 5:var _=i.return;try{jh(i)}catch(R){ct(i,_,R)}}}catch(R){ct(i,i.return,R)}if(i===r){le=null;break}var T=i.sibling;if(T!==null){T.return=i.return,le=T;break}le=i.return}}var Uk=Math.ceil,qc=ce.ReactCurrentDispatcher,Oh=ce.ReactCurrentOwner,Tn=ce.ReactCurrentBatchConfig,He=0,Pt=null,kt=null,Lt=0,gn=0,Ro=ys(0),It=0,Za=null,ki=0,Hc=0,Lh=0,el=null,nn=null,Mh=0,jo=1/0,zr=null,Wc=!1,Uh=null,bs=null,Gc=!1,Es=null,Kc=0,tl=0,Fh=null,Qc=-1,Yc=0;function Xt(){return(He&6)!==0?tt():Qc!==-1?Qc:Qc=tt()}function Ns(r){return(r.mode&1)===0?1:(He&2)!==0&&Lt!==0?Lt&-Lt:kk.transition!==null?(Yc===0&&(Yc=ka()),Yc):(r=$e,r!==0||(r=window.event,r=r===void 0?16:ao(r.type)),r)}function Un(r,i,a,h){if(50<tl)throw tl=0,Fh=null,Error(t(185));ui(r,a,h),((He&2)===0||r!==Pt)&&(r===Pt&&((He&2)===0&&(Hc|=a),It===4&&Ts(r,Lt)),rn(r,h),a===1&&He===0&&(i.mode&1)===0&&(jo=tt()+500,Ec&&vs()))}function rn(r,i){var a=r.callbackNode;ci(r,i);var h=Sr(r,r===Pt?Lt:0);if(h===0)a!==null&&eo(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&eo(a),i===1)r.tag===0?wk(r0.bind(null,r)):Bm(r0.bind(null,r)),yk(function(){(He&6)===0&&vs()}),a=null;else{switch(Jn(h)){case 1:a=to;break;case 4:a=va;break;case 16:a=ii;break;case 536870912:a=no;break;default:a=ii}a=d0(a,n0.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function n0(r,i){if(Qc=-1,Yc=0,(He&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Do()&&r.callbackNode!==a)return null;var h=Sr(r,r===Pt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Xc(r,h);else{i=h;var f=He;He|=2;var g=i0();(Pt!==r||Lt!==i)&&(zr=null,jo=tt()+500,Ei(r,i));do try{Bk();break}catch(T){s0(r,T)}while(!0);sh(),qc.current=g,He=f,kt!==null?i=0:(Pt=null,Lt=0,i=It)}if(i!==0){if(i===2&&(f=wa(r),f!==0&&(h=f,i=zh(r,f))),i===1)throw a=Za,Ei(r,0),Ts(r,h),rn(r,tt()),a;if(i===6)Ts(r,h);else{if(f=r.current.alternate,(h&30)===0&&!Fk(f)&&(i=Xc(r,h),i===2&&(g=wa(r),g!==0&&(h=g,i=zh(r,g))),i===1))throw a=Za,Ei(r,0),Ts(r,h),rn(r,tt()),a;switch(r.finishedWork=f,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ni(r,nn,zr);break;case 3:if(Ts(r,h),(h&130023424)===h&&(i=Mh+500-tt(),10<i)){if(Sr(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Gd(Ni.bind(null,r,nn,zr),i);break}Ni(r,nn,zr);break;case 4:if(Ts(r,h),(h&4194240)===h)break;for(i=r.eventTimes,f=-1;0<h;){var _=31-cn(h);g=1<<_,_=i[_],_>f&&(f=_),h&=~g}if(h=f,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Uk(h/1960))-h,10<h){r.timeoutHandle=Gd(Ni.bind(null,r,nn,zr),h);break}Ni(r,nn,zr);break;case 5:Ni(r,nn,zr);break;default:throw Error(t(329))}}}return rn(r,tt()),r.callbackNode===a?n0.bind(null,r):null}function zh(r,i){var a=el;return r.current.memoizedState.isDehydrated&&(Ei(r,i).flags|=256),r=Xc(r,i),r!==2&&(i=nn,nn=a,i!==null&&Bh(i)),r}function Bh(r){nn===null?nn=r:nn.push.apply(nn,r)}function Fk(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Dn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ts(r,i){for(i&=~Lh,i&=~Hc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-cn(i),h=1<<a;r[a]=-1,i&=~h}}function r0(r){if((He&6)!==0)throw Error(t(327));Do();var i=Sr(r,0);if((i&1)===0)return rn(r,tt()),null;var a=Xc(r,i);if(r.tag!==0&&a===2){var h=wa(r);h!==0&&(i=h,a=zh(r,h))}if(a===1)throw a=Za,Ei(r,0),Ts(r,i),rn(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ni(r,nn,zr),rn(r,tt()),null}function $h(r,i){var a=He;He|=1;try{return r(i)}finally{He=a,He===0&&(jo=tt()+500,Ec&&vs())}}function bi(r){Es!==null&&Es.tag===0&&(He&6)===0&&Do();var i=He;He|=1;var a=Tn.transition,h=$e;try{if(Tn.transition=null,$e=1,r)return r()}finally{$e=h,Tn.transition=a,He=i,(He&6)===0&&vs()}}function qh(){gn=Ro.current,rt(Ro)}function Ei(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,gk(a)),kt!==null)for(a=kt.return;a!==null;){var h=a;switch(Zd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&kc();break;case 3:Ao(),rt(Zt),rt(Bt),hh();break;case 5:uh(h);break;case 4:Ao();break;case 13:rt(it);break;case 19:rt(it);break;case 10:ih(h.type._context);break;case 22:case 23:qh()}a=a.return}if(Pt=r,kt=r=Is(r.current,null),Lt=gn=i,It=0,Za=null,Lh=Hc=ki=0,nn=el=null,vi!==null){for(i=0;i<vi.length;i++)if(a=vi[i],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,h.next=_}a.pending=h}vi=null}return r}function s0(r,i){do{var a=kt;try{if(sh(),Dc.current=Mc,Vc){for(var h=ot.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Vc=!1}if(wi=0,Ct=Tt=ot=null,Ga=!1,Ka=0,Oh.current=null,a===null||a.return===null){It=1,Za=i,kt=null;break}e:{var g=r,_=a.return,T=a,R=i;if(i=Lt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,X=T,J=X.tag;if((X.mode&1)===0&&(J===0||J===11||J===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var oe=Ag(_);if(oe!==null){oe.flags&=-257,Cg(oe,_,T,g,i),oe.mode&1&&Sg(g,B,i),i=oe,R=B;var ue=i.updateQueue;if(ue===null){var fe=new Set;fe.add(R),i.updateQueue=fe}else ue.add(R);break e}else{if((i&1)===0){Sg(g,B,i),Hh();break e}R=Error(t(426))}}else if(st&&T.mode&1){var gt=Ag(_);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Cg(gt,_,T,g,i),nh(Co(R,T));break e}}g=R=Co(R,T),It!==4&&(It=2),el===null?el=[g]:el.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var L=Tg(g,R,i);Zm(g,L);break e;case 1:T=R;var j=g.type,F=g.stateNode;if((g.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(bs===null||!bs.has(F)))){g.flags|=65536,i&=-i,g.lanes|=i;var Z=Ig(g,T,i);Zm(g,Z);break e}}g=g.return}while(g!==null)}a0(a)}catch(pe){i=pe,kt===a&&a!==null&&(kt=a=a.return);continue}break}while(!0)}function i0(){var r=qc.current;return qc.current=Mc,r===null?Mc:r}function Hh(){(It===0||It===3||It===2)&&(It=4),Pt===null||(ki&268435455)===0&&(Hc&268435455)===0||Ts(Pt,Lt)}function Xc(r,i){var a=He;He|=2;var h=i0();(Pt!==r||Lt!==i)&&(zr=null,Ei(r,i));do try{zk();break}catch(f){s0(r,f)}while(!0);if(sh(),He=a,qc.current=h,kt!==null)throw Error(t(261));return Pt=null,Lt=0,It}function zk(){for(;kt!==null;)o0(kt)}function Bk(){for(;kt!==null&&!si();)o0(kt)}function o0(r){var i=u0(r.alternate,r,gn);r.memoizedProps=r.pendingProps,i===null?a0(r):kt=i,Oh.current=null}function a0(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Dk(a,i,gn),a!==null){kt=a;return}}else{if(a=Vk(a,i),a!==null){a.flags&=32767,kt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,kt=null;return}}if(i=i.sibling,i!==null){kt=i;return}kt=i=r}while(i!==null);It===0&&(It=5)}function Ni(r,i,a){var h=$e,f=Tn.transition;try{Tn.transition=null,$e=1,$k(r,i,a,h)}finally{Tn.transition=f,$e=h}return null}function $k(r,i,a,h){do Do();while(Es!==null);if((He&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Pd(r,g),r===Pt&&(kt=Pt=null,Lt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Gc||(Gc=!0,d0(ii,function(){return Do(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Tn.transition,Tn.transition=null;var _=$e;$e=1;var T=He;He|=4,Oh.current=null,Lk(r,a),Xg(a,r),ck(Hd),Pr=!!qd,Hd=qd=null,r.current=a,Mk(a),Ir(),He=T,$e=_,Tn.transition=g}else r.current=a;if(Gc&&(Gc=!1,Es=r,Kc=f),g=r.pendingLanes,g===0&&(bs=null),sc(a.stateNode),rn(r,tt()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Wc)throw Wc=!1,r=Uh,Uh=null,r;return(Kc&1)!==0&&r.tag!==0&&Do(),g=r.pendingLanes,(g&1)!==0?r===Fh?tl++:(tl=0,Fh=r):tl=0,vs(),null}function Do(){if(Es!==null){var r=Jn(Kc),i=Tn.transition,a=$e;try{if(Tn.transition=null,$e=16>r?16:r,Es===null)var h=!1;else{if(r=Es,Es=null,Kc=0,(He&6)!==0)throw Error(t(331));var f=He;for(He|=4,le=r.current;le!==null;){var g=le,_=g.child;if((le.flags&16)!==0){var T=g.deletions;if(T!==null){for(var R=0;R<T.length;R++){var B=T[R];for(le=B;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Ja(8,X,g)}var J=X.child;if(J!==null)J.return=X,le=J;else for(;le!==null;){X=le;var Y=X.sibling,oe=X.return;if(Wg(X),X===B){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var ue=g.alternate;if(ue!==null){var fe=ue.child;if(fe!==null){ue.child=null;do{var gt=fe.sibling;fe.sibling=null,fe=gt}while(fe!==null)}}le=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,le=_;else e:for(;le!==null;){if(g=le,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ja(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,le=L;break e}le=g.return}}var j=r.current;for(le=j;le!==null;){_=le;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,le=F;else e:for(_=j;le!==null;){if(T=le,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:$c(9,T)}}catch(pe){ct(T,T.return,pe)}if(T===_){le=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,le=Z;break e}le=T.return}}if(He=f,vs(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(oi,r)}catch{}h=!0}return h}finally{$e=a,Tn.transition=i}}return!1}function l0(r,i,a){i=Co(a,i),i=Tg(r,i,1),r=ws(r,i,1),i=Xt(),r!==null&&(ui(r,1,i),rn(r,i))}function ct(r,i,a){if(r.tag===3)l0(r,r,a);else for(;i!==null;){if(i.tag===3){l0(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bs===null||!bs.has(h))){r=Co(a,r),r=Ig(i,r,1),i=ws(i,r,1),r=Xt(),i!==null&&(ui(i,1,r),rn(i,r));break}}i=i.return}}function qk(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=Xt(),r.pingedLanes|=r.suspendedLanes&a,Pt===r&&(Lt&a)===a&&(It===4||It===3&&(Lt&130023424)===Lt&&500>tt()-Mh?Ei(r,0):Lh|=a),rn(r,i)}function c0(r,i){i===0&&((r.mode&1)===0?i=1:(i=cs,cs<<=1,(cs&130023424)===0&&(cs=4194304)));var a=Xt();r=Mr(r,i),r!==null&&(ui(r,i,a),rn(r,a))}function Hk(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),c0(r,a)}function Wk(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),c0(r,a)}var u0;u0=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Zt.current)tn=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return tn=!1,jk(r,i,a);tn=(r.flags&131072)!==0}else tn=!1,st&&(i.flags&1048576)!==0&&$m(i,Tc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;zc(r,i),r=i.pendingProps;var f=ko(i,Bt.current);So(i,a),f=mh(null,i,h,r,f,a);var g=gh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,en(h)?(g=!0,bc(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,lh(i),f.updater=Uc,i.stateNode=f,f._reactInternals=i,kh(i,h,r,a),i=Th(null,i,h,!0,g,a)):(i.tag=0,st&&g&&Jd(i),Yt(null,i,f,a),i=i.child),i;case 16:h=i.elementType;e:{switch(zc(r,i),r=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=Kk(h),r=On(h,r),f){case 0:i=Nh(null,i,h,r,a);break e;case 1:i=Og(null,i,h,r,a);break e;case 11:i=Pg(null,i,h,r,a);break e;case 14:i=Rg(null,i,h,On(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:On(h,f),Nh(r,i,h,f,a);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:On(h,f),Og(r,i,h,f,a);case 3:e:{if(Lg(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,Jm(r,i),Rc(i,h,null,a);var _=i.memoizedState;if(h=_.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Co(Error(t(423)),i),i=Mg(r,i,h,a,f);break e}else if(h!==f){f=Co(Error(t(424)),i),i=Mg(r,i,h,a,f);break e}else for(mn=gs(i.stateNode.containerInfo.firstChild),pn=i,st=!0,Vn=null,a=Ym(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(No(),h===f){i=Fr(r,i,a);break e}Yt(r,i,h,a)}i=i.child}return i;case 5:return tg(i),r===null&&th(i),h=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,Wd(h,f)?_=null:g!==null&&Wd(h,g)&&(i.flags|=32),Vg(r,i),Yt(r,i,_,a),i.child;case 6:return r===null&&th(i),null;case 13:return Ug(r,i,a);case 4:return ch(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=To(i,null,h,a):Yt(r,i,h,a),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:On(h,f),Pg(r,i,h,f,a);case 7:return Yt(r,i,i.pendingProps,a),i.child;case 8:return Yt(r,i,i.pendingProps.children,a),i.child;case 12:return Yt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,_=f.value,Ze(Ac,h._currentValue),h._currentValue=_,g!==null)if(Dn(g.value,_)){if(g.children===f.children&&!Zt.current){i=Fr(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var T=g.dependencies;if(T!==null){_=g.child;for(var R=T.firstContext;R!==null;){if(R.context===h){if(g.tag===1){R=Ur(-1,a&-a),R.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?R.next=R:(R.next=X.next,X.next=R),B.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),oh(g.return,a,i),T.lanes|=a;break}R=R.next}}else if(g.tag===10)_=g.type===i.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),oh(_,a,i),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Yt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,So(i,a),f=En(f),h=h(f),i.flags|=1,Yt(r,i,h,a),i.child;case 14:return h=i.type,f=On(h,i.pendingProps),f=On(h.type,f),Rg(r,i,h,f,a);case 15:return jg(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:On(h,f),zc(r,i),i.tag=1,en(h)?(r=!0,bc(i)):r=!1,So(i,a),Eg(i,h,f),kh(i,h,f,a),Th(null,i,h,!0,r,a);case 19:return zg(r,i,a);case 22:return Dg(r,i,a)}throw Error(t(156,i.tag))};function d0(r,i){return xa(r,i)}function Gk(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,i,a,h){return new Gk(r,i,a,h)}function Wh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Kk(r){if(typeof r=="function")return Wh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===Te)return 14}return 2}function Is(r,i){var a=r.alternate;return a===null?(a=In(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Jc(r,i,a,h,f,g){var _=2;if(h=r,typeof r=="function")Wh(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case P:return Ti(a.children,f,g,i);case E:_=8,f|=8;break;case S:return r=In(12,a,i,f|2),r.elementType=S,r.lanes=g,r;case I:return r=In(13,a,i,f),r.elementType=I,r.lanes=g,r;case je:return r=In(19,a,i,f),r.elementType=je,r.lanes=g,r;case Ce:return Zc(a,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:_=10;break e;case C:_=9;break e;case D:_=11;break e;case Te:_=14;break e;case Se:_=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=In(_,a,i,f),i.elementType=r,i.type=h,i.lanes=g,i}function Ti(r,i,a,h){return r=In(7,r,h,i),r.lanes=a,r}function Zc(r,i,a,h){return r=In(22,r,h,i),r.elementType=Ce,r.lanes=a,r.stateNode={isHidden:!1},r}function Gh(r,i,a){return r=In(6,r,null,i),r.lanes=a,r}function Kh(r,i,a){return i=In(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Qk(r,i,a,h,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Qh(r,i,a,h,f,g,_,T,R){return r=new Qk(r,i,a,T,R),i===1?(i=1,g===!0&&(i|=8)):i=0,g=In(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(g),r}function Yk(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function h0(r){if(!r)return xs;r=r._reactInternals;e:{if(Rn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(en(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return Fm(r,a,i)}return i}function f0(r,i,a,h,f,g,_,T,R){return r=Qh(a,h,!0,r,f,g,_,T,R),r.context=h0(null),a=r.current,h=Xt(),f=Ns(a),g=Ur(h,f),g.callback=i??null,ws(a,g,f),r.current.lanes=f,ui(r,f,h),rn(r,h),r}function eu(r,i,a,h){var f=i.current,g=Xt(),_=Ns(f);return a=h0(a),i.context===null?i.context=a:i.pendingContext=a,i=Ur(g,_),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=ws(f,i,_),r!==null&&(Un(r,f,_,g),Pc(r,f,_)),_}function tu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function p0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Yh(r,i){p0(r,i),(r=r.alternate)&&p0(r,i)}function Xk(){return null}var m0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xh(r){this._internalRoot=r}nu.prototype.render=Xh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));eu(r,i,null,null)},nu.prototype.unmount=Xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;bi(function(){eu(null,r,null,null)}),i[Dr]=null}};function nu(r){this._internalRoot=r}nu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ia();r={blockedOn:null,target:r,priority:i};for(var a=0;a<un.length&&i!==0&&i<un[a].priority;a++);un.splice(a,0,r),a===0&&io(r)}};function Jh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ru(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function g0(){}function Jk(r,i,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var B=tu(_);g.call(B)}}var _=f0(i,h,r,0,null,!1,!1,"",g0);return r._reactRootContainer=_,r[Dr]=_.current,Ua(r.nodeType===8?r.parentNode:r),bi(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var T=h;h=function(){var B=tu(R);T.call(B)}}var R=Qh(r,0,!1,null,null,!1,!1,"",g0);return r._reactRootContainer=R,r[Dr]=R.current,Ua(r.nodeType===8?r.parentNode:r),bi(function(){eu(i,R,a,h)}),R}function su(r,i,a,h,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var T=f;f=function(){var R=tu(_);T.call(R)}}eu(i,_,r,f)}else _=Jk(a,i,r,f,h);return tu(_)}Na=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Qe(i.pendingLanes);a!==0&&(Ea(i,a|1),rn(i,tt()),(He&6)===0&&(jo=tt()+500,vs()))}break;case 13:bi(function(){var h=Mr(r,1);if(h!==null){var f=Xt();Un(h,r,1,f)}}),Yh(r,1)}},ro=function(r){if(r.tag===13){var i=Mr(r,134217728);if(i!==null){var a=Xt();Un(i,r,134217728,a)}Yh(r,134217728)}},Ta=function(r){if(r.tag===13){var i=Ns(r),a=Mr(r,i);if(a!==null){var h=Xt();Un(a,r,i,h)}Yh(r,i)}},Ia=function(){return $e},Sa=function(r,i){var a=$e;try{return $e=r,i()}finally{$e=a}},Er=function(r,i,a){switch(i){case"input":if(ei(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var f=wc(h);if(!f)throw Error(t(90));Gn(h),ei(h,f)}}}break;case"textarea":Wl(r,a);break;case"select":i=a.value,i!=null&&Cn(r,!!a.multiple,i,!1)}},Ql=$h,Yl=bi;var Zk={usingClientEntryPoint:!1,Events:[Ba,_o,wc,is,os,$h]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eb={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=rc(r),r===null?null:r.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||Xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{oi=iu.inject(eb),ln=iu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zk,sn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(i))throw Error(t(200));return Yk(r,i,null,a)},sn.createRoot=function(r,i){if(!Jh(r))throw Error(t(299));var a=!1,h="",f=m0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Qh(r,1,!1,null,null,a,!1,h,f),r[Dr]=i.current,Ua(r.nodeType===8?r.parentNode:r),new Xh(i)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=rc(i),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return bi(r)},sn.hydrate=function(r,i,a){if(!ru(i))throw Error(t(200));return su(null,r,i,!0,a)},sn.hydrateRoot=function(r,i,a){if(!Jh(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",_=m0;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=f0(i,null,r,1,a??null,f,!1,g,_),r[Dr]=i.current,Ua(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new nu(i)},sn.render=function(r,i,a){if(!ru(i))throw Error(t(200));return su(null,r,i,!1,a)},sn.unmountComponentAtNode=function(r){if(!ru(r))throw Error(t(40));return r._reactRootContainer?(bi(function(){su(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},sn.unstable_batchedUpdates=$h,sn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!ru(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return su(r,i,a,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var E0;function xx(){if(E0)return tf.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tf.exports=cb(),tf.exports}var N0;function ub(){if(N0)return ou;N0=1;var n=xx();return ou.createRoot=n.createRoot,ou.hydrateRoot=n.hydrateRoot,ou}var db=ub(),W=rp();const hb=rb(W),vx=nb({__proto__:null,default:hb},[W]),_x=W.createContext(void 0);function fb({children:n}){const[e,t]=W.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o===null});W.useEffect(()=>{e?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")},[e]);const s=()=>{t(!e)};return c.jsx(_x.Provider,{value:{isDark:e,toggleTheme:s},children:c.jsx("div",{className:e?"dark":"",children:n})})}function wx(){const n=W.useContext(_x);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}const pb=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mb=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],p=n[t++],m=((o&7)<<18|(l&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,p=d?n[o+1]:0,m=o+2<n.length,x=m?n[o+2]:0,w=l>>2,b=(l&3)<<4|p>>4;let N=(p&15)<<2|x>>6,O=x&63;m||(O=64,d||(N=64)),s.push(t[w],t[b],t[N],t[O])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const x=o<n.length?t[n.charAt(o)]:64;++o;const b=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||p==null||x==null||b==null)throw new gb;const N=l<<2|p>>4;if(s.push(N),x!==64){const O=p<<4&240|x>>2;if(s.push(O),b!==64){const M=x<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yb=function(n){const e=kx(n);return bx.encodeByteArray(e,!0)},Su=function(n){return yb(n).replace(/\./g,"")},Ex=function(n){try{return bx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=()=>xb().__FIREBASE_DEFAULTS__,_b=()=>{if(typeof process>"u"||typeof T0>"u")return;const n=T0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ex(n[1]);return e&&JSON.parse(e)},td=()=>{try{return pb()||vb()||_b()||wb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nx=n=>td()?.emulatorHosts?.[n],Tx=n=>{const e=Nx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ix=()=>td()?.config,Sx=n=>td()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Su(JSON.stringify(t)),Su(JSON.stringify(d)),""].join(".")}const fl={};function bb(){const n={prod:[],emulator:[]};for(const e of Object.keys(fl))fl[e]?n.emulator.push(e):n.prod.push(e);return n}function Eb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let I0=!1;function ip(n,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||fl[n]===e||fl[n]||I0)return;fl[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",l=bb().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function m(N,O){N.setAttribute("width","24"),N.setAttribute("id",O),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function x(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{I0=!0,d()},N}function w(N,O){N.setAttribute("id",O),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=Eb(s),O=t("text"),M=document.getElementById(O)||document.createElement("span"),q=t("learnmore"),z=document.getElementById(q)||document.createElement("a"),ne=t("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const te=N.element;p(te),w(z,q);const ce=x();m(re,ne),te.append(re,M,z,ce),document.body.appendChild(te)}l?(M.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Tb(){const n=td()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cb(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Pb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rb(){try{return typeof indexedDB=="object"}catch{return!1}}function jb(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Db,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?Vb(l,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new br(o,p,s)}}function Vb(n,e){return n.replace(Ob,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Ob=/\{\$([^}]+)}/g;function Lb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],d=e[o];if(S0(l)&&S0(d)){if(!Ri(l,d))return!1}else if(l!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function S0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Mb(n,e){const t=new Ub(n,e);return t.subscribe.bind(t)}class Ub{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Fb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=sf),o.error===void 0&&(o.error=sf),o.complete===void 0&&(o.complete=sf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new kb;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($b(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Bb(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bb(n){return n===Si?void 0:n}function $b(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const Hb={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Wb=Fe.INFO,Gb={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Kb=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Gb[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=Wb,this._logHandler=Kb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Qb=(n,e)=>e.some(t=>n instanceof t);let A0,C0;function Yb(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xb(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cx=new WeakMap,kf=new WeakMap,Px=new WeakMap,of=new WeakMap,ap=new WeakMap;function Jb(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Ms(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Cx.set(t,n)}).catch(()=>{}),ap.set(e,n),e}function Zb(n){if(kf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});kf.set(n,e)}let bf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Px.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e1(n){bf=n(bf)}function t1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(af(this),e,...t);return Px.set(s,e.sort?e.sort():[e]),Ms(s)}:Xb().includes(n)?function(...e){return n.apply(af(this),e),Ms(Cx.get(this))}:function(...e){return Ms(n.apply(af(this),e))}}function n1(n){return typeof n=="function"?t1(n):(n instanceof IDBTransaction&&Zb(n),Qb(n,Yb())?new Proxy(n,bf):n)}function Ms(n){if(n instanceof IDBRequest)return Jb(n);if(of.has(n))return of.get(n);const e=n1(n);return e!==n&&(of.set(n,e),ap.set(e,n)),e}const af=n=>ap.get(n);function r1(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),p=Ms(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Ms(d.result),m.oldVersion,m.newVersion,Ms(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}const s1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],lf=new Map;function P0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lf.get(e))return lf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=i1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||s1.includes(t)))return;const l=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let x=m.store;return s&&(x=x.index(p.shift())),(await Promise.all([x[t](...p),o&&m.done]))[0]};return lf.set(e,l),l}e1(n=>({...n,get:(e,t,s)=>P0(e,t)||n.get(e,t,s),has:(e,t)=>!!P0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function a1(n){return n.getComponent()?.type==="VERSION"}const Ef="@firebase/app",R0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new op("@firebase/app"),l1="@firebase/app-compat",c1="@firebase/analytics-compat",u1="@firebase/analytics",d1="@firebase/app-check-compat",h1="@firebase/app-check",f1="@firebase/auth",p1="@firebase/auth-compat",m1="@firebase/database",g1="@firebase/data-connect",y1="@firebase/database-compat",x1="@firebase/functions",v1="@firebase/functions-compat",_1="@firebase/installations",w1="@firebase/installations-compat",k1="@firebase/messaging",b1="@firebase/messaging-compat",E1="@firebase/performance",N1="@firebase/performance-compat",T1="@firebase/remote-config",I1="@firebase/remote-config-compat",S1="@firebase/storage",A1="@firebase/storage-compat",C1="@firebase/firestore",P1="@firebase/ai",R1="@firebase/firestore-compat",j1="firebase",D1="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",V1={[Ef]:"fire-core",[l1]:"fire-core-compat",[u1]:"fire-analytics",[c1]:"fire-analytics-compat",[h1]:"fire-app-check",[d1]:"fire-app-check-compat",[f1]:"fire-auth",[p1]:"fire-auth-compat",[m1]:"fire-rtdb",[g1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[x1]:"fire-fn",[v1]:"fire-fn-compat",[_1]:"fire-iid",[w1]:"fire-iid-compat",[k1]:"fire-fcm",[b1]:"fire-fcm-compat",[E1]:"fire-perf",[N1]:"fire-perf-compat",[T1]:"fire-rc",[I1]:"fire-rc-compat",[S1]:"fire-gcs",[A1]:"fire-gcs-compat",[C1]:"fire-fst",[R1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,O1=new Map,Tf=new Map;function j0(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ji(n){const e=n.name;if(Tf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,n);for(const t of Au.values())j0(t,n);for(const t of O1.values())j0(t,n);return!0}function nd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Pl("app","Firebase",L1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=D1;function Rx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Nf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(t||(t=Ix()),!t)throw Us.create("no-options");const l=Au.get(o);if(l){if(Ri(t,l.options)&&Ri(s,l.config))return l;throw Us.create("duplicate-app",{appName:o})}const d=new qb(o);for(const m of Tf.values())d.addComponent(m);const p=new M1(t,s,d);return Au.set(o,p),p}function lp(n=Nf){const e=Au.get(n);if(!e&&n===Nf&&Ix())return Rx();if(!e)throw Us.create("no-app",{appName:n});return e}function pr(n,e,t){let s=V1[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(d.join(" "));return}ji(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebase-heartbeat-database",F1=1,_l="firebase-heartbeat-store";let cf=null;function jx(){return cf||(cf=r1(U1,F1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Us.create("idb-open",{originalErrorMessage:n.message})})),cf}async function z1(n){try{const t=(await jx()).transaction(_l),s=await t.objectStore(_l).get(Dx(n));return await t.done,s}catch(e){if(e instanceof br)Gr.warn(e.message);else{const t=Us.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(t.message)}}}async function D0(n,e){try{const s=(await jx()).transaction(_l,"readwrite");await s.objectStore(_l).put(e,Dx(n)),await s.done}catch(t){if(t instanceof br)Gr.warn(t.message);else{const s=Us.create("idb-set",{originalErrorMessage:t?.message});Gr.warn(s.message)}}}function Dx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=1024,$1=30;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new W1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>$1){const o=G1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V0(),{heartbeatsToSend:t,unsentEntries:s}=H1(this._heartbeatsCache.heartbeats),o=Su(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Gr.warn(e),""}}}function V0(){return new Date().toISOString().substring(0,10)}function H1(n,e=B1){const t=[];let s=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),O0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),O0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rb()?jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O0(n){return Su(JSON.stringify({version:2,heartbeats:n})).length}function G1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){ji(new Bs("platform-logger",e=>new o1(e),"PRIVATE")),ji(new Bs("heartbeat",e=>new q1(e),"PRIVATE")),pr(Ef,R0,n),pr(Ef,R0,"esm2020"),pr("fire-js","")}K1("");function Vx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q1=Vx,Ox=new Pl("auth","Firebase",Vx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new op("@firebase/auth");function Y1(n,...e){Cu.logLevel<=Fe.WARN&&Cu.warn(`Auth (${Fi}): ${n}`,...e)}function xu(n,...e){Cu.logLevel<=Fe.ERROR&&Cu.error(`Auth (${Fi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n,...e){throw cp(n,...e)}function mr(n,...e){return cp(n,...e)}function Lx(n,e,t){const s={...Q1(),[e]:t};return new Pl("auth","Firebase",s).create(e,{appName:n.name})}function Hr(n){return Lx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Ox.create(n,...e)}function Ee(n,e,...t){if(!n)throw cp(e,...t)}function $r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xu(e),new Error(e)}function Kr(n,e){n||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){return typeof self<"u"&&self.location?.href||""}function X1(){return L0()==="http:"||L0()==="https:"}function L0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X1()||Sb()||"connection"in navigator)?navigator.onLine:!0}function Z1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=Nb()||Ab()}get(){return J1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nE=new jl(3e4,6e4);function Ys(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xs(n,e,t,s,o={}){return Ux(n,o,async()=>{let l={},d={};s&&(e==="GET"?d=s:l={body:JSON.stringify(s)});const p=Rl({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const x={method:e,headers:m,...l};return Ib()||(x.referrerPolicy="no-referrer"),n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(x.credentials="include"),Mx.fetch()(await Fx(n,n.config.apiHost,t,p),x)})}async function Ux(n,e,t){n._canInitEmulator=!1;const s={...eE,...e};try{const o=new sE(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw au(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const p=l.ok?d.errorMessage:d.error.message,[m,x]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw au(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw au(n,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Lx(n,w,x);Bn(n,w)}}catch(o){if(o instanceof br)throw o;Bn(n,"network-request-failed",{message:String(o)})}}async function Dl(n,e,t,s,o={}){const l=await Xs(n,e,t,s,o);return"mfaPendingCredential"in l&&Bn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Fx(n,e,t,s){const o=`${e}${t}?${s}`,l=n,d=l.config.emulator?up(n.config,o):`${n.config.apiScheme}://${o}`;return tE.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function rE(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(mr(this.auth,"network-request-failed")),nE.get())})}}function au(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=mr(n,e,s);return o.customData._tokenResponse=t,o}function M0(n){return n!==void 0&&n.enterprise!==void 0}class iE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oE(n,e){return Xs(n,"GET","/v2/recaptchaConfig",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(n,e){return Xs(n,"POST","/v1/accounts:delete",e)}async function Pu(n,e){return Xs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lE(n,e=!1){const t=dt(n),s=await t.getIdToken(e),o=dp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:s,authTime:pl(uf(o.auth_time)),issuedAtTime:pl(uf(o.iat)),expirationTime:pl(uf(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function uf(n){return Number(n)*1e3}function dp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ex(t);return o?JSON.parse(o):(xu("Failed to decode base64 JWT payload"),null)}catch(o){return xu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function U0(n){const e=dp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof br&&cE(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function cE({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(n){const e=n.auth,t=await n.getIdToken(),s=await wl(n,Pu(e,{idToken:t}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?zx(o.providerUserInfo):[],d=hE(n.providerData,l),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!d?.length,x=p?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Sf(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(n,w)}async function dE(n){const e=dt(n);await Ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hE(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(n,e){const t=await Ux(n,{},async()=>{const s=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=await Fx(n,o,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(m.credentials="include"),Mx.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pE(n,e){return Xs(n,"POST","/v2/accounts:revokeToken",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=U0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await fE(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,d=new Bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lE(this,e)}reload(){return dE(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ru(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await wl(this,aE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,d=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,x=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:O,providerData:M,stsTokenManager:q}=t;Ee(b&&q,e,"internal-error");const z=Bo.fromJSON(this.name,q);Ee(typeof b=="string",e,"internal-error"),As(s,e.name),As(o,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),As(l,e.name),As(d,e.name),As(p,e.name),As(m,e.name),As(x,e.name),As(w,e.name);const ne=new Fn({uid:b,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:O,photoURL:d,phoneNumber:l,tenantId:p,stsTokenManager:z,createdAt:x,lastLoginAt:w});return M&&Array.isArray(M)&&(ne.providerData=M.map(re=>({...re}))),m&&(ne._redirectEventId=m),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new Bo;o.updateFromServerResponse(t);const l=new Fn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ru(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?zx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!l?.length,p=new Bo;p.updateFromIdToken(s);const m=new Fn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,x),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function qr(n){Kr(n instanceof Function,"Expected a class definition");let e=F0.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bx.type="NONE";const z0=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=vu(this.userKey,o.apiKey,l),this.fullPersistenceKey=vu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pu(this.auth,{idToken:e}).catch(()=>{});return t?Fn._fromGetAccountInfoResponse(this.auth,t,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new $o(qr(z0),e,s);const o=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let l=o[0]||qr(z0);const d=vu(s,e.config.apiKey,e.name);let p=null;for(const x of t)try{const w=await x._get(d);if(w){let b;if(typeof w=="string"){const N=await Pu(e,{idToken:w}).catch(()=>{});if(!N)break;b=await Fn._fromGetAccountInfoResponse(e,N,w)}else b=Fn._fromJSON(e,w);x!==l&&(p=b),l=x;break}}catch{}const m=o.filter(x=>x._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,s):(l=m[0],p&&await l._set(d,p.toJSON()),await Promise.all(t.map(async x=>{if(x!==l)try{await x._remove(d)}catch{}})),new $o(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(Qx(e))return"Webos";if(qx(e))return"Safari";if((e.includes("chrome/")||Hx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function $x(n=Qt()){return/firefox\//i.test(n)}function qx(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hx(n=Qt()){return/crios\//i.test(n)}function Wx(n=Qt()){return/iemobile/i.test(n)}function Gx(n=Qt()){return/android/i.test(n)}function Kx(n=Qt()){return/blackberry/i.test(n)}function Qx(n=Qt()){return/webos/i.test(n)}function hp(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mE(n=Qt()){return hp(n)&&!!window.navigator?.standalone}function gE(){return Cb()&&document.documentMode===10}function Yx(n=Qt()){return hp(n)||Gx(n)||Qx(n)||Kx(n)||/windows phone/i.test(n)||Wx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e=[]){let t;switch(n){case"Browser":t=B0(Qt());break;case"Worker":t=`${B0(Qt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((d,p)=>{try{const m=e(l);d(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(n,e={}){return Xs(n,"GET","/v2/passwordPolicy",Ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=6;class _E{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vE,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new yE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pu(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ru(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Hr(this));const t=e?dt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xE(this),t=new _E(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pE(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zi(n){return dt(n)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mb(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kE(n){rd=n}function Jx(n){return rd.loadJS(n)}function bE(){return rd.recaptchaEnterpriseScript}function EE(){return rd.gapiScript}function NE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TE{constructor(){this.enterprise=new IE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SE="recaptcha-enterprise",Zx="NO_RECAPTCHA";class AE{constructor(e){this.type=SE,this.auth=zi(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,p)=>{oE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const x=new iE(m);return l.tenantId==null?l._agentRecaptchaConfig=x:l._tenantRecaptchaConfigs[l.tenantId]=x,d(x.siteKey)}}).catch(m=>{p(m)})})}function o(l,d,p){const m=window.grecaptcha;M0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(x=>{d(x)}).catch(()=>{d(Zx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TE().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{s(this.auth).then(p=>{if(!t&&M0(window.grecaptcha))o(p,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bE();m.length!==0&&(m+=p),Jx(m).then(()=>{o(p,l,d)}).catch(x=>{d(x)})}}).catch(p=>{d(p)})})}}async function q0(n,e,t,s=!1,o=!1){const l=new AE(n);let d;if(o)d=Zx;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,x=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:x,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Af(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await q0(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q0(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,e){const t=nd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ri(l,e??{}))return o;Bn(o,"already-initialized")}return t.initialize({options:e})}function PE(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function RE(n,e,t){const s=zi(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=ev(e),{host:d,port:p}=jE(e),m=p===null?"":`:${p}`,x={url:`${l}//${d}${m}/`},w=Object.freeze({host:d,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ri(x,s.config.emulator)&&Ri(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Qs(d)?(sp(`${l}//${d}${m}`),ip("Auth",!0)):DE()}function ev(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jE(n){const e=ev(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:H0(s.substr(l.length+1))}}else{const[l,d]=s.split(":");return{host:l,port:H0(d)}}}function H0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DE(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function VE(n,e){return Xs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(n,e){return Dl(n,"POST","/v1/accounts:signInWithPassword",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n,e){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}async function ME(n,e){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends fp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new kl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new kl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(e,t,"signInWithPassword",OE);case"emailLink":return LE(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Af(e,s,"signUpPassword",VE);case"emailLink":return ME(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e){return Dl(n,"POST","/v1/accounts:signInWithIdp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="http://localhost";class Di extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const d=new Di(s,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:UE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zE(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,s=al(ll(n)).deep_link_id;return(s?al(ll(s)).link:null)||s||t||e||n}class pp{constructor(e){const t=al(ll(e)),s=t.apiKey??null,o=t.oobCode??null,l=FE(t.mode??null);Ee(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zE(e);try{return new pp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,t){return kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=pp.parseLink(t);return Ee(s,"argument-error"),kl._fromEmailAndCode(e,s.code,s.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Vl{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Di._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Vl{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Vl{constructor(){super("twitter.com")}static credential(e,t){return Di._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ds.credential(t,s)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BE(n,e){return Dl(n,"POST","/v1/accounts:signUp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Fn._fromIdTokenResponse(e,s,o),d=W0(s);return new Vi({user:l,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=W0(s);return new Vi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function W0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends br{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ju(e,t,s,o)}}function nv(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(n,l,e,s):l})}async function $E(n,e,t=!1){const s=await wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vi._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(n,e,t=!1){const{auth:s}=n;if(yn(s.app))return Promise.reject(Hr(s));const o="reauthenticate";try{const l=await wl(n,nv(s,o,e,n),t);Ee(l.idToken,s,"internal-error");const d=dp(l.idToken);Ee(d,s,"internal-error");const{sub:p}=d;return Ee(n.uid===p,s,"user-mismatch"),Vi._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Bn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(n,e,t=!1){if(yn(n.app))return Promise.reject(Hr(n));const s="signIn",o=await nv(n,s,e),l=await Vi._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function HE(n,e){return rv(zi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(n){const e=zi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WE(n,e,t){if(yn(n.app))return Promise.reject(Hr(n));const s=zi(n),d=await Af(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BE).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&sv(n),m}),p=await Vi._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function GE(n,e,t){return yn(n.app)?Promise.reject(Hr(n)):HE(dt(n),ea.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&sv(n),s})}function KE(n,e,t,s){return dt(n).onIdTokenChanged(e,t,s)}function QE(n,e,t){return dt(n).beforeAuthStateChanged(e,t)}function YE(n,e,t,s){return dt(n).onAuthStateChanged(e,t,s)}function XE(n){return dt(n).signOut()}const Du="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=1e3,ZE=10;class ov extends iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},l=this.storage.getItem(s);gE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZE):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},JE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ov.type="LOCAL";const eN=ov;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}av.type="SESSION";const lv=av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async x=>x(t.origin,l)),m=await tN(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((p,m)=>{const x=mp("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const N=b;if(N.data.eventId===x)switch(N.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(N.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function rN(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function sN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){return navigator?.serviceWorker?.controller||null}function oN(){return cv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firebaseLocalStorageDb",aN=1,Vu="firebaseLocalStorage",dv="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function id(n,e){return n.transaction([Vu],e?"readwrite":"readonly").objectStore(Vu)}function lN(){const n=indexedDB.deleteDatabase(uv);return new Ol(n).toPromise()}function Cf(){const n=indexedDB.open(uv,aN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Vu,{keyPath:dv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Vu)?e(s):(s.close(),await lN(),e(await Cf()))})})}async function G0(n,e,t){const s=id(n,!0).put({[dv]:e,value:t});return new Ol(s).toPromise()}async function cN(n,e){const t=id(n,!1).get(e),s=await new Ol(t).toPromise();return s===void 0?null:s.value}function K0(n,e){const t=id(n,!0).delete(e);return new Ol(t).toPromise()}const uN=800,dN=3;class hv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>dN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(oN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await G0(e,Du,"1"),await K0(e,Du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>G0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=id(o,!1).getAll();return new Ol(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hv.type="LOCAL";const hN=hv;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,e){return e?qr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pN(n){return rv(n.auth,new gp(n),n.bypassAuthState)}function mN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),qE(t,new gp(n),n.bypassAuthState)}async function gN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),$E(t,new gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:Bn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new jl(2e3,1e4);class Fo extends fv{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yN.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="pendingRedirect",_u=new Map;class vN extends fv{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_u.get(this.auth._key());if(!e){try{const s=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(n,e){const t=bN(e),s=kN(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function wN(n,e){_u.set(n._key(),e)}function kN(n){return qr(n._redirectPersistence)}function bN(n){return vu(xN,n.config.apiKey,n.name)}async function EN(n,e,t=!1){if(yn(n.app))return Promise.reject(Hr(n));const s=zi(n),o=fN(s,e),d=await new vN(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=600*1e3;class TN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pv(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(mr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pv({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function IN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e={}){return Xs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function PN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SN(n);for(const t of e)try{if(RN(t))return}catch{}Bn(n,"unauthorized-domain")}function RN(n){const e=If(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!CN.test(t))return!1;if(AN.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new jl(3e4,6e4);function Y0(){const n=gr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DN(n){return new Promise((e,t)=>{function s(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),t(mr(n,"network-request-failed"))},timeout:jN.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)s();else{const o=NE("iframefcb");return gr()[o]=()=>{gapi.load?s():t(mr(n,"network-request-failed"))},Jx(`${EE()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw wu=null,e})}let wu=null;function VN(n){return wu=wu||DN(n),wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new jl(5e3,15e3),LN="__/auth/iframe",MN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?up(e,MN):`https://${n.config.authDomain}/${LN}`,s={apiKey:e.apiKey,appName:n.name,v:Fi},o=FN.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Rl(s).slice(1)}`}async function BN(n){const e=await VN(n),t=gr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:zN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const d=mr(n,"network-request-failed"),p=gr().setTimeout(()=>{l(d)},ON.get());function m(){gr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qN=500,HN=600,WN="_blank",GN="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(n,e,t,s=qN,o=HN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...$N,width:s.toString(),height:o.toString(),top:l,left:d},x=Qt().toLowerCase();t&&(p=Hx(x)?WN:t),$x(x)&&(e=e||GN,m.scrollbars="yes");const w=Object.entries(m).reduce((N,[O,M])=>`${N}${O}=${M},`,"");if(mE(x)&&p!=="_self")return QN(e||"",p),new X0(null);const b=window.open(e||"",p,w);Ee(b,n,"popup-blocked");try{b.focus()}catch{}return new X0(b)}function QN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",XN="emulator/auth/handler",JN=encodeURIComponent("fac");async function J0(n,e,t,s,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Fi,eventId:o};if(e instanceof tv){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",Lb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))d[w]=b}if(e instanceof Vl){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const m=await n._getAppCheckToken(),x=m?`#${JN}=${encodeURIComponent(m)}`:"";return`${ZN(n)}?${Rl(p).slice(1)}${x}`}function ZN({config:n}){return n.emulator?up(n,XN):`https://${n.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class eT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lv,this._completeRedirectFn=EN,this._overrideRedirectResult=wN}async _openPopup(e,t,s,o){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await J0(e,t,s,If(),o);return KN(e,l,mp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await J0(e,t,s,If(),o);return rN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Kr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await BN(e),s=new TN(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},o=>{const l=o?.[0]?.[df];l!==void 0&&t(!!l),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yx()||qx()||hp()}}const tT=eT;var Z0="@firebase/auth",ey="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sT(n){ji(new Bs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(n)},x=new wE(s,o,l,m);return PE(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ji(new Bs("auth-internal",e=>{const t=zi(e.getProvider("auth").getImmediate());return(s=>new nT(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Z0,ey,rT(n)),pr(Z0,ey,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=300,oT=Sx("authIdTokenMaxAge")||iT;let ty=null;const aT=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>oT)return;const o=t?.token;ty!==o&&(ty=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lT(n=lp()){const e=nd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CE(n,{popupRedirectResolver:tT,persistence:[hN,eN,lv]}),s=Sx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const d=aT(l.toString());QE(t,d,()=>d(t.currentUser)),KE(t,p=>d(p))}}const o=Nx("auth");return o&&RE(t,`http://${o}`),t}function cT(){return document.getElementsByTagName("head")?.[0]??document}kE({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=mr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",cT().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sT("Browser");var uT="firebase",dT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(uT,dT,"app");var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,mv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function S(){}S.prototype=E.prototype,P.F=E.prototype,P.prototype=new S,P.prototype.constructor=P,P.D=function(A,C,D){for(var I=Array(arguments.length-2),je=2;je<arguments.length;je++)I[je-2]=arguments[je];return E.prototype[C].apply(A,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,E,S){S||(S=0);const A=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)A[C]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(C=0;C<16;++C)A[C]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=P.g[0],S=P.g[1],C=P.g[2];let D=P.g[3],I;I=E+(D^S&(C^D))+A[0]+3614090360&4294967295,E=S+(I<<7&4294967295|I>>>25),I=D+(C^E&(S^C))+A[1]+3905402710&4294967295,D=E+(I<<12&4294967295|I>>>20),I=C+(S^D&(E^S))+A[2]+606105819&4294967295,C=D+(I<<17&4294967295|I>>>15),I=S+(E^C&(D^E))+A[3]+3250441966&4294967295,S=C+(I<<22&4294967295|I>>>10),I=E+(D^S&(C^D))+A[4]+4118548399&4294967295,E=S+(I<<7&4294967295|I>>>25),I=D+(C^E&(S^C))+A[5]+1200080426&4294967295,D=E+(I<<12&4294967295|I>>>20),I=C+(S^D&(E^S))+A[6]+2821735955&4294967295,C=D+(I<<17&4294967295|I>>>15),I=S+(E^C&(D^E))+A[7]+4249261313&4294967295,S=C+(I<<22&4294967295|I>>>10),I=E+(D^S&(C^D))+A[8]+1770035416&4294967295,E=S+(I<<7&4294967295|I>>>25),I=D+(C^E&(S^C))+A[9]+2336552879&4294967295,D=E+(I<<12&4294967295|I>>>20),I=C+(S^D&(E^S))+A[10]+4294925233&4294967295,C=D+(I<<17&4294967295|I>>>15),I=S+(E^C&(D^E))+A[11]+2304563134&4294967295,S=C+(I<<22&4294967295|I>>>10),I=E+(D^S&(C^D))+A[12]+1804603682&4294967295,E=S+(I<<7&4294967295|I>>>25),I=D+(C^E&(S^C))+A[13]+4254626195&4294967295,D=E+(I<<12&4294967295|I>>>20),I=C+(S^D&(E^S))+A[14]+2792965006&4294967295,C=D+(I<<17&4294967295|I>>>15),I=S+(E^C&(D^E))+A[15]+1236535329&4294967295,S=C+(I<<22&4294967295|I>>>10),I=E+(C^D&(S^C))+A[1]+4129170786&4294967295,E=S+(I<<5&4294967295|I>>>27),I=D+(S^C&(E^S))+A[6]+3225465664&4294967295,D=E+(I<<9&4294967295|I>>>23),I=C+(E^S&(D^E))+A[11]+643717713&4294967295,C=D+(I<<14&4294967295|I>>>18),I=S+(D^E&(C^D))+A[0]+3921069994&4294967295,S=C+(I<<20&4294967295|I>>>12),I=E+(C^D&(S^C))+A[5]+3593408605&4294967295,E=S+(I<<5&4294967295|I>>>27),I=D+(S^C&(E^S))+A[10]+38016083&4294967295,D=E+(I<<9&4294967295|I>>>23),I=C+(E^S&(D^E))+A[15]+3634488961&4294967295,C=D+(I<<14&4294967295|I>>>18),I=S+(D^E&(C^D))+A[4]+3889429448&4294967295,S=C+(I<<20&4294967295|I>>>12),I=E+(C^D&(S^C))+A[9]+568446438&4294967295,E=S+(I<<5&4294967295|I>>>27),I=D+(S^C&(E^S))+A[14]+3275163606&4294967295,D=E+(I<<9&4294967295|I>>>23),I=C+(E^S&(D^E))+A[3]+4107603335&4294967295,C=D+(I<<14&4294967295|I>>>18),I=S+(D^E&(C^D))+A[8]+1163531501&4294967295,S=C+(I<<20&4294967295|I>>>12),I=E+(C^D&(S^C))+A[13]+2850285829&4294967295,E=S+(I<<5&4294967295|I>>>27),I=D+(S^C&(E^S))+A[2]+4243563512&4294967295,D=E+(I<<9&4294967295|I>>>23),I=C+(E^S&(D^E))+A[7]+1735328473&4294967295,C=D+(I<<14&4294967295|I>>>18),I=S+(D^E&(C^D))+A[12]+2368359562&4294967295,S=C+(I<<20&4294967295|I>>>12),I=E+(S^C^D)+A[5]+4294588738&4294967295,E=S+(I<<4&4294967295|I>>>28),I=D+(E^S^C)+A[8]+2272392833&4294967295,D=E+(I<<11&4294967295|I>>>21),I=C+(D^E^S)+A[11]+1839030562&4294967295,C=D+(I<<16&4294967295|I>>>16),I=S+(C^D^E)+A[14]+4259657740&4294967295,S=C+(I<<23&4294967295|I>>>9),I=E+(S^C^D)+A[1]+2763975236&4294967295,E=S+(I<<4&4294967295|I>>>28),I=D+(E^S^C)+A[4]+1272893353&4294967295,D=E+(I<<11&4294967295|I>>>21),I=C+(D^E^S)+A[7]+4139469664&4294967295,C=D+(I<<16&4294967295|I>>>16),I=S+(C^D^E)+A[10]+3200236656&4294967295,S=C+(I<<23&4294967295|I>>>9),I=E+(S^C^D)+A[13]+681279174&4294967295,E=S+(I<<4&4294967295|I>>>28),I=D+(E^S^C)+A[0]+3936430074&4294967295,D=E+(I<<11&4294967295|I>>>21),I=C+(D^E^S)+A[3]+3572445317&4294967295,C=D+(I<<16&4294967295|I>>>16),I=S+(C^D^E)+A[6]+76029189&4294967295,S=C+(I<<23&4294967295|I>>>9),I=E+(S^C^D)+A[9]+3654602809&4294967295,E=S+(I<<4&4294967295|I>>>28),I=D+(E^S^C)+A[12]+3873151461&4294967295,D=E+(I<<11&4294967295|I>>>21),I=C+(D^E^S)+A[15]+530742520&4294967295,C=D+(I<<16&4294967295|I>>>16),I=S+(C^D^E)+A[2]+3299628645&4294967295,S=C+(I<<23&4294967295|I>>>9),I=E+(C^(S|~D))+A[0]+4096336452&4294967295,E=S+(I<<6&4294967295|I>>>26),I=D+(S^(E|~C))+A[7]+1126891415&4294967295,D=E+(I<<10&4294967295|I>>>22),I=C+(E^(D|~S))+A[14]+2878612391&4294967295,C=D+(I<<15&4294967295|I>>>17),I=S+(D^(C|~E))+A[5]+4237533241&4294967295,S=C+(I<<21&4294967295|I>>>11),I=E+(C^(S|~D))+A[12]+1700485571&4294967295,E=S+(I<<6&4294967295|I>>>26),I=D+(S^(E|~C))+A[3]+2399980690&4294967295,D=E+(I<<10&4294967295|I>>>22),I=C+(E^(D|~S))+A[10]+4293915773&4294967295,C=D+(I<<15&4294967295|I>>>17),I=S+(D^(C|~E))+A[1]+2240044497&4294967295,S=C+(I<<21&4294967295|I>>>11),I=E+(C^(S|~D))+A[8]+1873313359&4294967295,E=S+(I<<6&4294967295|I>>>26),I=D+(S^(E|~C))+A[15]+4264355552&4294967295,D=E+(I<<10&4294967295|I>>>22),I=C+(E^(D|~S))+A[6]+2734768916&4294967295,C=D+(I<<15&4294967295|I>>>17),I=S+(D^(C|~E))+A[13]+1309151649&4294967295,S=C+(I<<21&4294967295|I>>>11),I=E+(C^(S|~D))+A[4]+4149444226&4294967295,E=S+(I<<6&4294967295|I>>>26),I=D+(S^(E|~C))+A[11]+3174756917&4294967295,D=E+(I<<10&4294967295|I>>>22),I=C+(E^(D|~S))+A[2]+718787259&4294967295,C=D+(I<<15&4294967295|I>>>17),I=S+(D^(C|~E))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+D&4294967295}s.prototype.v=function(P,E){E===void 0&&(E=P.length);const S=E-this.blockSize,A=this.C;let C=this.h,D=0;for(;D<E;){if(C==0)for(;D<=S;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<E;)if(A[C++]=P.charCodeAt(D++),C==this.blockSize){o(this,A),C=0;break}}else for(;D<E;)if(A[C++]=P[D++],C==this.blockSize){o(this,A),C=0;break}}this.h=C,this.o+=E},s.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;E=this.o*8;for(var S=P.length-8;S<P.length;++S)P[S]=E&255,E/=256;for(this.v(P),P=Array(16),E=0,S=0;S<4;++S)for(let A=0;A<32;A+=8)P[E++]=this.g[S]>>>A&255;return P};function l(P,E){var S=p;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=E(P)}function d(P,E){this.h=E;const S=[];let A=!0;for(let C=P.length-1;C>=0;C--){const D=P[C]|0;A&&D==E||(S[C]=D,A=!1)}this.g=S}var p={};function m(P){return-128<=P&&P<128?l(P,function(E){return new d([E|0],E<0?-1:0)}):new d([P|0],P<0?-1:0)}function x(P){if(isNaN(P)||!isFinite(P))return b;if(P<0)return z(x(-P));const E=[];let S=1;for(let A=0;P>=S;A++)E[A]=P/S|0,S*=4294967296;return new d(E,0)}function w(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return z(w(P.substring(1),E));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=x(Math.pow(E,8));let A=b;for(let D=0;D<P.length;D+=8){var C=Math.min(8,P.length-D);const I=parseInt(P.substring(D,D+C),E);C<8?(C=x(Math.pow(E,C)),A=A.j(C).add(x(I))):(A=A.j(S),A=A.add(x(I)))}return A}var b=m(0),N=m(1),O=m(16777216);n=d.prototype,n.m=function(){if(q(this))return-z(this).m();let P=0,E=1;for(let S=0;S<this.g.length;S++){const A=this.i(S);P+=(A>=0?A:4294967296+A)*E,E*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(q(this))return"-"+z(this).toString(P);const E=x(Math.pow(P,6));var S=this;let A="";for(;;){const C=ce(S,E).g;S=ne(S,C.j(E));let D=((S.g.length>0?S.g[0]:S.h)>>>0).toString(P);if(S=C,M(S))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(let E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function q(P){return P.h==-1}n.l=function(P){return P=ne(this,P),q(P)?-1:M(P)?0:1};function z(P){const E=P.g.length,S=[];for(let A=0;A<E;A++)S[A]=~P.g[A];return new d(S,~P.h).add(N)}n.abs=function(){return q(this)?z(this):this},n.add=function(P){const E=Math.max(this.g.length,P.g.length),S=[];let A=0;for(let C=0;C<=E;C++){let D=A+(this.i(C)&65535)+(P.i(C)&65535),I=(D>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);A=I>>>16,D&=65535,I&=65535,S[C]=I<<16|D}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ne(P,E){return P.add(z(E))}n.j=function(P){if(M(this)||M(P))return b;if(q(this))return q(P)?z(this).j(z(P)):z(z(this).j(P));if(q(P))return z(this.j(z(P)));if(this.l(O)<0&&P.l(O)<0)return x(this.m()*P.m());const E=this.g.length+P.g.length,S=[];for(var A=0;A<2*E;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<P.g.length;C++){const D=this.i(A)>>>16,I=this.i(A)&65535,je=P.i(C)>>>16,Te=P.i(C)&65535;S[2*A+2*C]+=I*Te,re(S,2*A+2*C),S[2*A+2*C+1]+=D*Te,re(S,2*A+2*C+1),S[2*A+2*C+1]+=I*je,re(S,2*A+2*C+1),S[2*A+2*C+2]+=D*je,re(S,2*A+2*C+2)}for(P=0;P<E;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=E;P<2*E;P++)S[P]=0;return new d(S,0)};function re(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function te(P,E){this.g=P,this.h=E}function ce(P,E){if(M(E))throw Error("division by zero");if(M(P))return new te(b,b);if(q(P))return E=ce(z(P),E),new te(z(E.g),z(E.h));if(q(E))return E=ce(P,z(E)),new te(z(E.g),E.h);if(P.g.length>30){if(q(P)||q(E))throw Error("slowDivide_ only works with positive integers.");for(var S=N,A=E;A.l(P)<=0;)S=ke(S),A=ke(A);var C=ve(S,1),D=ve(A,1);for(A=ve(A,2),S=ve(S,2);!M(A);){var I=D.add(A);I.l(P)<=0&&(C=C.add(S),D=I),A=ve(A,1),S=ve(S,1)}return E=ne(P,C.j(E)),new te(C,E)}for(C=b;P.l(E)>=0;){for(S=Math.max(1,Math.floor(P.m()/E.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=x(S),I=D.j(E);q(I)||I.l(P)>0;)S-=A,D=x(S),I=D.j(E);M(D)&&(D=N),C=C.add(D),P=ne(P,I)}return new te(C,P)}n.B=function(P){return ce(this,P).h},n.and=function(P){const E=Math.max(this.g.length,P.g.length),S=[];for(let A=0;A<E;A++)S[A]=this.i(A)&P.i(A);return new d(S,this.h&P.h)},n.or=function(P){const E=Math.max(this.g.length,P.g.length),S=[];for(let A=0;A<E;A++)S[A]=this.i(A)|P.i(A);return new d(S,this.h|P.h)},n.xor=function(P){const E=Math.max(this.g.length,P.g.length),S=[];for(let A=0;A<E;A++)S[A]=this.i(A)^P.i(A);return new d(S,this.h^P.h)};function ke(P){const E=P.g.length+1,S=[];for(let A=0;A<E;A++)S[A]=P.i(A)<<1|P.i(A-1)>>>31;return new d(S,P.h)}function ve(P,E){const S=E>>5;E%=32;const A=P.g.length-S,C=[];for(let D=0;D<A;D++)C[D]=E>0?P.i(D+S)>>>E|P.i(D+S+1)<<32-E:P.i(D+S);return new d(C,P.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=x,d.fromString=w,Fs=d}).apply(typeof ny<"u"?ny:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gv,cl,yv,ku,Pf,xv,vv,_v;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var y=0;y<u.length;++y){var v=u[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,y){if(y)e:{var v=s;u=u.split(".");for(var k=0;k<u.length-1;k++){var U=u[k];if(!(U in v))break e;v=v[U]}u=u[u.length-1],k=v[u],y=y(k),y!=k&&y!=null&&e(v,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var v=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&v.push([k,y[k]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function m(u,y,v){return u.call.apply(u.bind,arguments)}function x(u,y,v){return x=m,x.apply(null,arguments)}function w(u,y){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function b(u,y){function v(){}v.prototype=y.prototype,u.Z=y.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(k,U,$){for(var ee=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ee[Pe-2]=arguments[Pe];return y.prototype[U].apply(k,ee)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const y=u.length;if(y>0){const v=Array(y);for(let k=0;k<y;k++)v[k]=u[k];return v}return[]}function M(u,y){for(let k=1;k<arguments.length;k++){const U=arguments[k];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const $=U.length||0;u.length=v+$;for(let ee=0;ee<$;ee++)u[v+ee]=U[ee]}else u.push(U)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(u){d.setTimeout(()=>{throw u},0)}function ne(){var u=P;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,v){const k=te.get();k.set(y,v),this.h?this.h.next=k:this.g=k,this.h=k}}var te=new q(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,ve=!1,P=new re,E=()=>{const u=Promise.resolve(void 0);ke=()=>{u.then(S)}};function S(){for(var u;u=ne();){try{u.h.call(u.g)}catch(v){z(v)}var y=te;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ve=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function je(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}b(je,C),je.prototype.init=function(u,y){const v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(v=="mouseover"?y=u.fromElement:v=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Se=0;function Ce(u,y,v,k,U){this.listener=u,this.proxy=null,this.src=y,this.type=v,this.capture=!!k,this.ha=U,this.key=++Se,this.da=this.fa=!1}function H(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function me(u,y,v){for(const k in u)y.call(v,u[k],k,u)}function ie(u,y){for(const v in u)y.call(void 0,u[v],v,u)}function V(u){const y={};for(const v in u)y[v]=u[v];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(u,y){let v,k;for(let U=1;U<arguments.length;U++){k=arguments[U];for(v in k)u[v]=k[v];for(let $=0;$<Q.length;$++)v=Q[$],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,y,v,k,U){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const ee=Oe(u,y,k,U);return ee>-1?(y=u[ee],v||(y.fa=!1)):(y=new Ce(y,this.src,$,!!k,U),y.fa=v,u.push(y)),y};function Ve(u,y){const v=y.type;if(v in u.g){var k=u.g[v],U=Array.prototype.indexOf.call(k,y,void 0),$;($=U>=0)&&Array.prototype.splice.call(k,U,1),$&&(H(y),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Oe(u,y,v,k){for(let U=0;U<u.length;++U){const $=u[U];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==k)return U}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ue={};function We(u,y,v,k,U){if(Array.isArray(y)){for(let $=0;$<y.length;$++)We(u,y[$],v,k,U);return null}return v=ua(v),u&&u[Te]?u.J(y,v,p(k)?!!k.capture:!1,U):vt(u,y,v,!1,k,U)}function vt(u,y,v,k,U,$){if(!y)throw Error("Invalid event type");const ee=p(U)?!!U.capture:!!U;let Pe=Ki(u);if(Pe||(u[be]=Pe=new ye(u)),v=Pe.add(y,v,k,ee,$),v.proxy)return v;if(k=Wn(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)D||(U=ee),U===void 0&&(U=!1),u.addEventListener(y.toString(),k,U);else if(u.attachEvent)u.attachEvent(Gi(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wn(){function u(v){return y.call(u.src,u.listener,v)}const y=Hl;return u}function Gn(u,y,v,k,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)Gn(u,y[$],v,k,U);else k=p(k)?!!k.capture:!!k,v=ua(v),u&&u[Te]?(u=u.i,$=String(y).toString(),$ in u.g&&(y=u.g[$],v=Oe(y,v,k,U),v>-1&&(H(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete u.g[$],u.h--)))):u&&(u=Ki(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Oe(y,v,k,U)),(v=u>-1?y[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Te])Ve(y.i,u);else{var v=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(v,k,u.capture):y.detachEvent?y.detachEvent(Gi(v),k):y.addListener&&y.removeListener&&y.removeListener(k),(v=Ki(y))?(Ve(v,u),v.h==0&&(v.src=null,y[be]=null)):H(u)}}}function Gi(u){return u in Ue?Ue[u]:Ue[u]="on"+u}function Hl(u,y){if(u.da)u=!0;else{y=new je(y,this);const v=u.listener,k=u.ha||u.src;u.fa&&Zr(u),u=v.call(k,y)}return u}function Ki(u){return u=u[be],u instanceof ye?u:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ua(u){return typeof u=="function"?u:(u[ei]||(u[ei]=function(y){return u.handleEvent(y)}),u[ei])}function _t(){A.call(this),this.i=new ye(this),this.M=this,this.G=null}b(_t,A),_t.prototype[Te]=!0,_t.prototype.removeEventListener=function(u,y,v,k){Gn(this,u,y,v,k)};function pt(u,y){var v,k=u.G;if(k)for(v=[];k;k=k.G)v.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var U=y;y=new C(k,u),ge(y,U)}U=!0;let $,ee;if(v)for(ee=v.length-1;ee>=0;ee--)$=y.g=v[ee],U=Cn($,k,!0,y)&&U;if($=y.g=u,U=Cn($,k,!0,y)&&U,U=Cn($,k,!1,y)&&U,v)for(ee=0;ee<v.length;ee++)$=y.g=v[ee],U=Cn($,k,!1,y)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const v=u.g[y];for(let k=0;k<v.length;k++)H(v[k]);delete u.g[y],u.h--}}this.G=null},_t.prototype.J=function(u,y,v,k){return this.i.add(String(u),y,!1,v,k)},_t.prototype.K=function(u,y,v,k){return this.i.add(String(u),y,!0,v,k)};function Cn(u,y,v,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let $=0;$<y.length;++$){const ee=y[$];if(ee&&!ee.da&&ee.capture==v){const Pe=ee.listener,mt=ee.ha||ee.src;ee.fa&&Ve(u.i,ee),U=Pe.call(mt,k)!==!1&&U}}return U&&!k.defaultPrevented}function da(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:d.setTimeout(u,y||0)}function ha(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Wl extends A{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){A.call(this),this.h=u,this.g={}}b(es,A);var fa=[];function Qi(u){me(u.g,function(y,v){this.g.hasOwnProperty(v)&&Zr(y)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),Qi(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=d.JSON.stringify,Gl=d.JSON.parse,ti=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ns(){}function Kl(){}var rs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yi(){C.call(this,"d")}b(Yi,C);function pa(){C.call(this,"c")}b(pa,C);var Pn={},Xi=null;function ss(){return Xi=Xi||new _t}Pn.Ia="serverreachability";function Ji(u){C.call(this,Pn.Ia,u)}b(Ji,C);function Er(u){const y=ss();pt(y,new Ji(y))}Pn.STAT_EVENT="statevent";function Nr(u,y){C.call(this,Pn.STAT_EVENT,u),this.stat=y}b(Nr,C);function lt(u){const y=ss();pt(y,new Nr(y,u))}Pn.Ja="timingevent";function ma(u,y){C.call(this,Pn.Ja,u),this.size=y}b(ma,C);function is(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function os(){this.g=!0}os.prototype.ua=function(){this.g=!1};function Ql(u,y,v,k,U,$){u.info(function(){if(u.g)if($){var ee="",Pe=$.split("&");for(let Xe=0;Xe<Pe.length;Xe++){var mt=Pe[Xe].split("=");if(mt.length>1){const wt=mt[0];mt=mt[1];const fn=wt.split("_");ee=fn.length>=2&&fn[1]=="type"?ee+(wt+"="+mt+"&"):ee+(wt+"=redacted&")}}}else ee=null;else ee=$;return"XMLHTTP REQ ("+k+") [attempt "+U+"]: "+y+`
`+v+`
`+ee})}function Yl(u,y,v,k,U,$,ee){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+U+"]: "+y+`
`+v+`
`+$+" "+ee})}function Kn(u,y,v,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+ni(u,v)+(k?" "+k:"")})}function Xl(u,y){u.info(function(){return"TIMEOUT: "+y})}os.prototype.info=function(){};function ni(u,y){if(!u.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var v=$[u];if(!(v.length<2)){var k=v[1];if(Array.isArray(k)&&!(k.length<1)){var U=k[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<k.length;ee++)k[ee]=""}}}}return ts($)}catch{return y}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function Tr(){}b(Tr,ns),Tr.prototype.g=function(){return new XMLHttpRequest},Jl=new Tr;function Qn(u){return encodeURIComponent(String(u))}function Zi(u){var y=1;u=u.split(":");const v=[];for(;y>0&&u.length;)v.push(u.shift()),y--;return u.length&&v.push(u.join(":")),v}function _n(u,y,v,k){this.j=u,this.i=y,this.l=v,this.S=k||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zl}function Zl(){this.i=null,this.g="",this.h=!1}var ec={},ga={};function Rn(u,y,v){u.M=1,u.A=Sr(wn(y)),u.u=v,u.R=!0,ya(u,null)}function ya(u,y){u.F=Date.now(),ri(u),u.B=wn(u.A);var v=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),Ia(v.i,"t",k),u.C=0,v=u.j.L,u.h=new Zl,u.g=uc(u.j,v?y:null,!u.u),u.P>0&&(u.O=new Wl(x(u.Y,u,u.g),u.P)),y=u.V,v=u.g,k=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(fa[0]=U.toString()),U=fa);for(let $=0;$<U.length;$++){const ee=We(v,U[$],k||y.handleEvent,!1,y.h||y);if(!ee)break;y.g[ee.key]=ee}y=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Er(),Ql(u.i,u.v,u.B,u.l,u.S,u.u)}_n.prototype.ba=function(u){u=u.target;const y=this.O;y&&nr(u)==3?y.j():this.Y(u)},_n.prototype.Y=function(u){try{if(u==this.g)e:{const Pe=nr(this.g),mt=this.g.ya(),Xe=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||lc(this.g)))){this.K||Pe!=4||mt==7||(mt==8||Xe<=0?Er(3):Er(2)),eo(this);var y=this.g.ca();this.X=y;var v=tc(this);if(this.o=y==200,Yl(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,U=this.g;if((k=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(k)){var $=k;break t}}$=null}if(u=$)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,u);else{this.o=!1,this.m=3,lt(12),Ir(this),si(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<v.length;)if(wt=rc(this,v),wt==ga){Pe==4&&(this.m=4,lt(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==ec){this.m=4,lt(15),Kn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,wt,null),tt(this,wt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||v.length!=0||this.h.h||(this.m=1,lt(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,v,"[Invalid Chunked Response]"),Ir(this),si(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),fi(ee),ee.P=!0,lt(11))}}else Kn(this.i,this.l,v,null),tt(this,v);Pe==4&&Ir(this),this.o&&!this.K&&(Pe==4?uo(this.j,this):(this.o=!1,ri(this)))}else Aa(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Ir(this),si(this)}}}catch{}finally{}};function tc(u){if(!nc(u))return u.g.la();const y=lc(u.g);if(y==="")return"";let v="";const k=y.length,U=nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ir(u),si(u),"";u.h.i=new d.TextDecoder}for(let $=0;$<k;$++)u.h.h=!0,v+=u.h.i.decode(y[$],{stream:!(U&&$==k-1)});return y.length=0,u.h.g+=v,u.C=0,u.h.g}function nc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function rc(u,y){var v=u.C,k=y.indexOf(`
`,v);return k==-1?ga:(v=Number(y.substring(v,k)),isNaN(v)?ec:(k+=1,k+v>y.length?ga:(y=y.slice(k,k+v),u.C=k+v,y)))}_n.prototype.cancel=function(){this.K=!0,Ir(this)};function ri(u){u.T=Date.now()+u.H,xa(u,u.H)}function xa(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=is(x(u.aa,u),y)}function eo(u){u.D&&(d.clearTimeout(u.D),u.D=null)}_n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xl(this.i,this.B),this.M!=2&&(Er(),lt(17)),Ir(this),this.m=2,si(this)):xa(this,this.T-u)};function si(u){u.j.I==0||u.K||uo(u.j,u)}function Ir(u){eo(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Qi(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function tt(u,y){try{var v=u.j;if(v.I!=0&&(v.g==u||_a(v.h,u))){if(!u.L&&_a(v.h,u)&&v.I==3){try{var k=v.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var U=k;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)co(v),dn(v);else break e;ir(v),lt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=is(x(v.Va,v),6e3));ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else hn(v,11)}else if((u.L||v.g==u)&&co(v),!I(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Xe=U[y];const wt=Xe[0];if(!(wt<=v.K))if(v.K=wt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const fn=Xe[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const jr=Xe[4];jr!=null&&(v.za=jr,v.j.info("SVER="+v.za));const or=Xe[5];or!=null&&typeof or=="number"&&or>0&&(k=1.5*or,v.O=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const ar=u.g;if(ar){const po=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var $=k.h;$.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(no($,$.h),$.h=null))}if(k.G){const Ra=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(k.wa=Ra,Qe(k.J,k.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),k=v;var ee=u;if(k.na=Pa(k,k.L?k.ba:null,k.W),ee.L){oi(k.h,ee);var Pe=ee,mt=k.O;mt&&(Pe.H=mt),Pe.D&&(eo(Pe),ri(Pe)),k.g=ee}else zt(k);v.i.length>0&&Rr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||hn(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?hn(v,7):ao(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}Er(4)}catch{}}var Cd=class{constructor(u,y){this.g=u,this.map=y}};function to(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function va(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function _a(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function no(u,y){u.g?u.g.add(y):u.h=y}function oi(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}to.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ln(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const v of u.g.values())y=y.concat(v.G);return y}return O(u.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cn(u,y){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const k=u[v].indexOf("=");let U,$=null;k>=0?(U=u[v].substring(0,k),$=u[v].substring(k+1)):U=u[v],y(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Yn?(this.l=u.l,ai(this,u.j),this.o=u.o,this.g=u.g,Xn(this,u.u),this.h=u.h,cs(this,Sa(u.i)),this.m=u.m):u&&(y=String(u).match(sc))?(this.l=!1,ai(this,y[1]||"",!0),this.o=li(y[2]||""),this.g=li(y[3]||"",!0),Xn(this,y[4]),this.h=li(y[5]||"",!0),cs(this,y[6]||"",!0),this.m=li(y[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}Yn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ci(y,ka,!0),":");var v=this.g;return(v||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ci(y,ka,!0),"@"),u.push(Qn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ci(v,v.charAt(0)=="/"?ui:ba,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ci(v,Ea)),u.join("")},Yn.prototype.resolve=function(u){const y=wn(this);let v=!!u.j;v?ai(y,u.j):v=!!u.o,v?y.o=u.o:v=!!u.g,v?y.g=u.g:v=u.u!=null;var k=u.h;if(v)Xn(y,u.u);else if(v=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var U=y.h.lastIndexOf("/");U!=-1&&(k=y.h.slice(0,U+1)+k)}if(U=k,U==".."||U==".")k="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){k=U.lastIndexOf("/",0)==0,U=U.split("/");const $=[];for(let ee=0;ee<U.length;){const Pe=U[ee++];Pe=="."?k&&ee==U.length&&$.push(""):Pe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),k&&ee==U.length&&$.push("")):($.push(Pe),k=!0)}k=$.join("/")}else k=U}return v?y.h=k:v=u.i.toString()!=="",v?cs(y,Sa(u.i)):v=!!u.m,v&&(y.m=u.m),y};function wn(u){return new Yn(u)}function ai(u,y,v){u.j=v?li(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Xn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function cs(u,y,v){y instanceof $e?(u.i=y,so(u.i,u.l)):(v||(y=ci(y,Pd)),u.i=new $e(y,u.l))}function Qe(u,y,v){u.i.set(y,v)}function Sr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ci(u,y,v){return typeof u=="string"?(u=encodeURI(u).replace(y,wa),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ka=/[#\/\?@]/g,ba=/[#\?:]/g,ui=/[#\?]/g,Pd=/[#\?@]/g,Ea=/#/g;function $e(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Jn(u){u.g||(u.g=new Map,u.h=0,u.i&&cn(u.i,function(y,v){u.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=$e.prototype,n.add=function(u,y){Jn(this),this.i=null,u=Zn(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(y),this.h+=1,this};function Na(u,y){Jn(u),y=Zn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ro(u,y){return Jn(u),y=Zn(u,y),u.g.has(y)}n.forEach=function(u,y){Jn(this),this.g.forEach(function(v,k){v.forEach(function(U){u.call(y,U,k,this)},this)},this)};function Ta(u,y){Jn(u);let v=[];if(typeof y=="string")ro(u,y)&&(v=v.concat(u.g.get(Zn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)v=v.concat(u[y]);return v}n.set=function(u,y){return Jn(this),this.i=null,u=Zn(this,u),ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=Ta(this,u),u.length>0?String(u[0]):y):y};function Ia(u,y,v){Na(u,y),v.length>0&&(u.i=null,u.g.set(Zn(u,y),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var v=y[k];const U=Qn(v);v=Ta(this,v);for(let $=0;$<v.length;$++){let ee=U;v[$]!==""&&(ee+="="+Qn(v[$])),u.push(ee)}}return this.i=u.join("&")};function Sa(u){const y=new $e;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Zn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function so(u,y){y&&!u.j&&(Jn(u),u.i=null,u.g.forEach(function(v,k){const U=k.toLowerCase();k!=U&&(Na(this,k),Ia(this,U,v))},u)),u.j=y}function er(u,y){const v=new os;if(d.Image){const k=new Image;k.onload=w(Dt,v,"TestLoadImage: loaded",!0,y,k),k.onerror=w(Dt,v,"TestLoadImage: error",!1,y,k),k.onabort=w(Dt,v,"TestLoadImage: abort",!1,y,k),k.ontimeout=w(Dt,v,"TestLoadImage: timeout",!1,y,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function tr(u,y){const v=new os,k=new AbortController,U=setTimeout(()=>{k.abort(),Dt(v,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then($=>{clearTimeout(U),$.ok?Dt(v,"TestPingServer: ok",!0,y):Dt(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Dt(v,"TestPingServer: error",!1,y)})}function Dt(u,y,v,k,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),k(v)}catch{}}function di(){this.g=new ti}function Ar(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ar,ns),Ar.prototype.g=function(){return new un(this.i,this.h)};function un(u,y){_t.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(un,_t),n=un.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||d).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?us(this):jn(this),this.readyState==3&&ic(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},n.Na=function(u){this.g&&(this.response=u,us(this))},n.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=y.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(un.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oc(u){let y="";return me(u,function(v,k){y+=k,y+=":",y+=v,y+=`\r
`}),y}function io(u,y,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=oc(v),typeof u=="string"?v!=null&&Qn(v):Qe(u,y,v))}function Je(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,_t);var ac=/^https?$/i,Rd=["POST","PUT"];n=Je.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=N(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch($){ds(this,$);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var U in k)v.set(U,k[U]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())v.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Rd,y,void 0)>=0)||k||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of v)this.g.setRequestHeader($,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){ds(this,$)}};function ds(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,hs(u),Pr(u)}function hs(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pt(this,"complete"),pt(this,"abort"),Pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},n.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof l<"u"){if(u.v&&nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(pt(u,"readystatechange"),nr(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var k;if(k=$===0){let ee=String(u.D).match(sc)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),k=!ac.test(ee?ee.toLowerCase():"")}v=k}if(v)pt(u,"complete"),pt(u,"success");else{u.o=6;try{var U=nr(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",hs(u)}}finally{Pr(u)}}}}function Pr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,y||pt(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function nr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Gl(y)}};function lc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Aa(u){const y={};u=(u.g&&nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(I(u[k]))continue;var v=Zi(u[k]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[U]||[];y[U]=$,$.push(v)}ie(y,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||y}function oo(u){this.za=0,this.i=[],this.j=new os,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rr("baseRetryDelayMs",5e3,u),this.Za=rr("retryDelaySeedMs",1e4,u),this.Ta=rr("forwardChannelMaxRetries",2,u),this.va=rr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new to(u&&u.concurrentRequestLimit),this.Ba=new di,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=oo.prototype,n.ka=8,n.I=1,n.connect=function(u,y,v,k){lt(0),this.W=u,this.H=y||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.J=Pa(this,null,this.W),Rr(this)};function ao(u){if(lo(u),u.I==3){var y=u.V++,v=wn(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),sr(u,v),y=new _n(u,u.j,y),y.M=2,y.A=Sr(wn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.A,v=!0),v||(y.g=uc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ri(y)}pi(u)}function dn(u){u.g&&(fi(u),u.g.cancel(),u.g=null)}function lo(u){dn(u),u.v&&(d.clearTimeout(u.v),u.v=null),co(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Rr(u){if(!va(u.h)&&!u.m){u.m=!0;var y=u.Ea;ke||E(),ve||(ke(),ve=!0),P.add(y,u),u.D=0}}function cc(u,y){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=is(x(u.Ea,u,y),ho(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new _n(this,this.j,u);let $=this.o;if(this.U&&($?($=V($),ge($,this.U)):$=this.U),this.u!==null||this.R||(U.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ca(this,U,y),v=wn(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),sr(this,v),$&&(this.R?y="headers="+Qn(oc($))+"&"+y:this.u&&io(v,this.u,$)),no(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),U.U=!0,Rn(U,v,null)):Rn(U,v,y),this.I=2}}else this.I==3&&(u?hi(this,u):this.i.length==0||va(this.h)||hi(this))};function hi(u,y){var v;y?v=y.l:v=u.V++;const k=wn(u.J);Qe(k,"SID",u.M),Qe(k,"RID",v),Qe(k,"AID",u.K),sr(u,k),u.u&&u.o&&io(k,u.u,u.o),v=new _n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ca(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),no(u.h,v),Rn(v,k,y)}function sr(u,y){u.H&&me(u.H,function(v,k){Qe(y,k,v)}),u.l&&me({},function(v,k){Qe(y,k,v)})}function Ca(u,y,v){v=Math.min(u.i.length,v);const k=u.l?x(u.l.Ka,u.l,u):null;e:{var U=u.i;let Pe=-1;for(;;){const mt=["count="+v];Pe==-1?v>0?(Pe=U[0].g,mt.push("ofs="+Pe)):Pe=0:mt.push("ofs="+Pe);let Xe=!0;for(let wt=0;wt<v;wt++){var $=U[wt].g;const fn=U[wt].map;if($-=Pe,$<0)Pe=Math.max(0,U[wt].g-100),Xe=!1;else try{$="req"+$+"_"||"";try{var ee=fn instanceof Map?fn:Object.entries(fn);for(const[jr,or]of ee){let ar=or;p(or)&&(ar=ts(or)),mt.push($+jr+"="+encodeURIComponent(ar))}}catch(jr){throw mt.push($+"type="+encodeURIComponent("_badmap")),jr}}catch{k&&k(fn)}}if(Xe){ee=mt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),y.G=u,ee}function zt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ke||E(),ve||(ke(),ve=!0),P.add(y,u),u.A=0}}function ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=is(x(u.Da,u),ho(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,fs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=is(x(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),dn(this),fs(this))};function fi(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fs(u){u.g=new _n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wn(u.na);Qe(y,"RID","rpc"),Qe(y,"SID",u.M),Qe(y,"AID",u.K),Qe(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(y,"TO",u.ia),Qe(y,"TYPE","xmlhttp"),sr(u,y),u.u&&u.o&&io(y,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(wn(y)),v.u=null,v.R=!0,ya(v,u)}n.Va=function(){this.C!=null&&(this.C=null,dn(this),ir(this),lt(19))};function co(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uo(u,y){var v=null;if(u.g==y){co(u),fi(u),u.g=null;var k=2}else if(_a(u.h,y))v=y.G,oi(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=u.D;k=ss(),pt(k,new ma(k,v)),Rr(u)}else zt(u);else if(U=y.m,U==3||U==0&&y.X>0||!(k==1&&cc(u,y)||k==2&&ir(u)))switch(v&&v.length>0&&(y=u.h,y.i=y.i.concat(v)),U){case 1:hn(u,5);break;case 4:hn(u,10);break;case 3:hn(u,6);break;default:hn(u,2)}}}function ho(u,y){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*y}function hn(u,y){if(u.j.info("Error code "+y),y==2){var v=x(u.bb,u),k=u.Ua;const U=!k;k=new Yn(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ai(k,"https"),Sr(k),U?er(k.toString(),v):tr(k.toString(),v)}else lt(2);u.I=0,u.l&&u.l.pa(y),pi(u),lo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function pi(u){if(u.I=0,u.ja=[],u.l){const y=ln(u.h);(y.length!=0||u.i.length!=0)&&(M(u.ja,y),M(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Pa(u,y,v){var k=v instanceof Yn?wn(v):new Yn(v);if(k.g!="")y&&(k.g=y+"."+k.g),Xn(k,k.u);else{var U=d.location;k=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const $=new Yn(null);k&&ai($,k),y&&($.g=y),U&&Xn($,U),v&&($.h=v),k=$}return v=u.G,y=u.wa,v&&y&&Qe(k,v,y),Qe(k,"VER",u.ka),sr(u,k),k}function uc(u,y,v){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Je(new Ar({ab:v})):new Je(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}n=dc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fo(){}fo.prototype.g=function(u,y){return new Vt(u,y)};function Vt(u,y){_t.call(this),this.g=new oo(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ps(this)}b(Vt,_t),Vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){ao(this.g)},Vt.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ts(u),u=v);y.i.push(new Cd(y.Ya++,u)),y.I==3&&Rr(y)},Vt.prototype.N=function(){this.g.l=null,delete this.j,ao(this.g),delete this.g,Vt.Z.N.call(this)};function hc(u){Yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const v in y){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}b(hc,Yi);function fc(){pa.call(this),this.status=1}b(fc,pa);function ps(u){this.g=u}b(ps,dc),ps.prototype.ra=function(){pt(this.g,"a")},ps.prototype.qa=function(u){pt(this.g,new hc(u))},ps.prototype.pa=function(u){pt(this.g,new fc)},ps.prototype.oa=function(){pt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,_v=function(){return new fo},vv=function(){return ss()},xv=Pn,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,ku=as,ls.COMPLETE="complete",yv=ls,Kl.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",_t.prototype.listen=_t.prototype.J,cl=Kl,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,gv=Je}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const ry="@firebase/firestore",sy="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new op("@firebase/firestore");function Oo(){return Oi.logLevel}function ae(n,...e){if(Oi.logLevel<=Fe.DEBUG){const t=e.map(yp);Oi.debug(`Firestore (${ta}): ${n}`,...t)}}function Qr(n,...e){if(Oi.logLevel<=Fe.ERROR){const t=e.map(yp);Oi.error(`Firestore (${ta}): ${n}`,...t)}}function Go(n,...e){if(Oi.logLevel<=Fe.WARN){const t=e.map(yp);Oi.warn(`Firestore (${ta}): ${n}`,...t)}}function yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,wv(n,s,t)}function wv(n,e,t){let s=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Qr(s),new Error(s)}function Ye(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||wv(e,o,s)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class fT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pT{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wr)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new kv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class mT{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gT{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new mT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xT(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ze(n,e){return n<e?-1:n>e?1:0}function Rf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return hf(o)===hf(l)?ze(o,l):hf(o)?1:-1}return ze(n.length,e.length)}const vT=55296,_T=57343;function hf(n){const e=n.charCodeAt(0);return e>=vT&&e<=_T}function Ko(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="__name__";class hr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ne(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=hr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=hr.isNumericId(e),o=hr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):Rf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class et extends hr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const wT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends hr{construct(e,t,s){return new Ut(e,t,s)}static isValidIdentifier(e){return wT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oy}static keyField(){return new Ut([oy])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(l(),o++)}if(l(),d)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(et.fromString(e))}static fromName(e){return new xe(et.fromString(e).popFirst(5))}static empty(){return new xe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n,e,t){if(!t)throw new se(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kT(n,e,t,s){if(e===!0&&s===!0)throw new se(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ay(n){if(!xe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ly(n){if(xe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ev(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function od(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=od(n);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ll(n,e){if(!Ev(n))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new se(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-62135596800,uy=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*uy);return new Ke(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cy)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uy}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ll(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Nt("string",Ke._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ke(0,0))}static max(){return new Ae(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function bT(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ke(t+1,0):new Ke(t,s));return new $s(o,xe.empty(),e)}function ET(n){return new $s(n.readTime,n.key,bl)}class $s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new $s(Ae.min(),xe.empty(),bl)}static max(){return new $s(Ae.max(),xe.empty(),bl)}}function NT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==TT)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,s)=>{t(e)}))}static reject(e){return new K(((t,s)=>{s(e)}))}static waitFor(e){return new K(((t,s)=>{let o=0,l=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++l,d&&l===o&&t()}),(m=>s(m)))})),d=!0,l===o&&t()}))}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next((o=>o?K.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new K(((s,o)=>{const l=e.length,d=new Array(l);let p=0;for(let m=0;m<l;m++){const x=m;t(e[x]).next((w=>{d[x]=w,++p,p===l&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new K(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function ST(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ra(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function ld(n){return n==null}function Ou(n){return n===0&&1/n==-1/0}function AT(n){return typeof n=="number"&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="";function CT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dy(e)),e=PT(n.get(t),e);return dy(e)}function PT(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Nv:t+="";break;default:t+=l}}return t}function dy(n){return n+Nv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Mt.RED,this.left=o??Mt.EMPTY,this.right=l??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Mt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new xn([])}unionWith(e){let t=new At(Ut.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Iv("Invalid base64 string: "+l):l}})(e);return new Ft(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l})(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const RT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=RT.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hs(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="server_timestamp",Av="__type__",Cv="__previous_value__",Pv="__local_write_time__";function _p(n){return(n?.mapValue?.fields||{})[Av]?.stringValue===Sv}function cd(n){const e=n.mapValue.fields[Cv];return _p(e)?cd(e):e}function El(n){const e=qs(n.mapValue.fields[Pv].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,s,o,l,d,p,m,x,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=x,this.isUsingEmulator=w}}const Lu="(default)";class Nl{constructor(e,t){this.projectId=e,this.database=t||Lu}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Lu}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__type__",DT="__max__",uu={mapValue:{}},jv="__vector__",Mu="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_p(n)?4:OT(n)?9007199254740991:VT(n)?10:11:Ne(28295,{value:n})}function wr(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=qs(o.timestampValue),p=qs(l.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Hs(o.bytesValue).isEqual(Hs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return yt(o.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return yt(o.integerValue)===yt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=yt(o.doubleValue),p=yt(l.doubleValue);return d===p?Ou(d)===Ou(p):isNaN(d)&&isNaN(p)}return!1})(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(o,l){const d=o.mapValue.fields||{},p=l.mapValue.fields||{};if(hy(d)!==hy(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!wr(d[m],p[m])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function Tl(n,e){return(n.values||[]).find((t=>wr(t,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Ws(n),s=Ws(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(l,d){const p=yt(l.integerValue||l.doubleValue),m=yt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return py(n.timestampValue,e.timestampValue);case 4:return py(El(n),El(e));case 5:return Rf(n.stringValue,e.stringValue);case 6:return(function(l,d){const p=Hs(l),m=Hs(d);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,d){const p=l.split("/"),m=d.split("/");for(let x=0;x<p.length&&x<m.length;x++){const w=ze(p[x],m[x]);if(w!==0)return w}return ze(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,d){const p=ze(yt(l.latitude),yt(d.latitude));return p!==0?p:ze(yt(l.longitude),yt(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return my(n.arrayValue,e.arrayValue);case 10:return(function(l,d){const p=l.fields||{},m=d.fields||{},x=p[Mu]?.arrayValue,w=m[Mu]?.arrayValue,b=ze(x?.values?.length||0,w?.values?.length||0);return b!==0?b:my(x,w)})(n.mapValue,e.mapValue);case 11:return(function(l,d){if(l===uu.mapValue&&d===uu.mapValue)return 0;if(l===uu.mapValue)return 1;if(d===uu.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),x=d.fields||{},w=Object.keys(x);m.sort(),w.sort();for(let b=0;b<m.length&&b<w.length;++b){const N=Rf(m[b],w[b]);if(N!==0)return N;const O=Qo(p[m[b]],x[w[b]]);if(O!==0)return O}return ze(m.length,w.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function py(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=qs(n),s=qs(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function my(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Qo(t[o],s[o]);if(l)return l}return ze(t.length,s.length)}function Yo(n){return jf(n)}function jf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=qs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=jf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of s)l?l=!1:o+=",",o+=`${d}:${jf(t.fields[d])}`;return o+"}"})(n.mapValue):Ne(61005,{value:n})}function bu(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(n);return e?16+bu(e):16;case 5:return 2*n.stringValue.length;case 6:return Hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+bu(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Js(s.fields,((l,d)=>{o+=l.length+bu(d)})),o})(n.mapValue);default:throw Ne(13486,{value:n})}}function gy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Df(n){return!!n&&"integerValue"in n}function wp(n){return!!n&&"arrayValue"in n}function yy(n){return!!n&&"nullValue"in n}function xy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eu(n){return!!n&&"mapValue"in n}function VT(n){return(n?.mapValue?.fields||{})[Rv]?.stringValue===jv}function ml(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ml(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return{...n}}function OT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Ut.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}d?s[p.lastSegment()]=ml(d):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Eu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Js(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new an(ml(this.value))}}function Dv(n){const e=[];return Js(n.fields,((t,s)=>{const o=new Ut([t]);if(Eu(s)){const l=Dv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,s,o,l,d,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Kt(e,0,Ae.min(),Ae.min(),Ae.min(),an.empty(),0)}static newFoundDocument(e,t,s,o){return new Kt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Ae.min(),Ae.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Ae.min(),Ae.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.position=e,this.inclusive=t}}function vy(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?s=xe.comparator(xe.fromName(d.referenceValue),t.key):s=Qo(d,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t="asc"){this.field=e,this.dir=t}}function LT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{}class Et extends Vv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new UT(e,t,s):t==="array-contains"?new BT(e,s):t==="in"?new $T(e,s):t==="not-in"?new qT(e,s):t==="array-contains-any"?new HT(e,s):new Et(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FT(e,s):new zT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends Vv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qn(e,t)}matches(e){return Ov(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(n){return n.op==="and"}function Lv(n){return MT(n)&&Ov(n)}function MT(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Vf(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(Lv(n))return n.filters.map((e=>Vf(e))).join(",");{const e=n.filters.map((t=>Vf(t))).join(",");return`${n.op}(${e})`}}function Mv(n,e){return n instanceof Et?(function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&wr(s.value,o.value)})(n,e):n instanceof qn?(function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,d,p)=>l&&Mv(d,o.filters[p])),!0):!1})(n,e):void Ne(19439)}function Uv(n){return n instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`})(n):n instanceof qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Uv).join(" ,")+"}"})(n):"Filter"}class UT extends Et{constructor(e,t,s){super(e,t,s),this.key=xe.fromName(s.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class FT extends Et{constructor(e,t){super(e,"in",t),this.keys=Fv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zT extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Fv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fv(n,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class BT extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wp(t)&&Tl(t.arrayValue,this.value)}}class $T extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}}class qT extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tl(this.value.arrayValue,t)}}class HT extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Tl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t=null,s=[],o=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=d,this.endAt=p,this.Te=null}}function wy(n,e=null,t=[],s=[],o=null,l=null,d=null){return new WT(n,e,t,s,o,l,d)}function kp(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Vf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Yo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Yo(s))).join(",")),e.Te=t}return e.Te}function bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_y(n.startAt,e.startAt)&&_y(n.endAt,e.endAt)}function Of(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t=null,s=[],o=[],l=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GT(n,e,t,s,o,l,d,p){return new sa(n,e,t,s,o,l,d,p)}function Ep(n){return new sa(n)}function ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zv(n){return n.collectionGroup!==null}function gl(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new At(Ut.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((x=>{x.isInequality()&&(p=p.add(x.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Il(l,s))})),t.has(Ut.keyField().canonicalString())||e.Ie.push(new Il(Ut.keyField(),s))}return e.Ie}function yr(n){const e=Re(n);return e.Ee||(e.Ee=KT(e,gl(n))),e.Ee}function KT(n,e){if(n.limitType==="F")return wy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Il(o.field,l)}));const t=n.endAt?new Uu(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Uu(n.startAt.position,n.startAt.inclusive):null;return wy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Lf(n,e){const t=n.filters.concat([e]);return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mf(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ud(n,e){return bp(yr(n),yr(e))&&n.limitType===e.limitType}function Bv(n){return`${kp(yr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Uv(o))).join(", ")}]`),ld(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Yo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Yo(o))).join(",")),`Target(${s})`})(yr(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):xe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of gl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,m){const x=vy(d,p,m);return d.inclusive?x<=0:x<0})(s.startAt,gl(s),o)||s.endAt&&!(function(d,p,m){const x=vy(d,p,m);return d.inclusive?x>=0:x>0})(s.endAt,gl(s),o))})(n,e)}function QT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $v(n){return(e,t)=>{let s=!1;for(const o of gl(n)){const l=YT(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function YT(n,e,t){const s=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(l,d,p){const m=d.data.field(l),x=p.data.field(l);return m!==null&&x!==null?Qo(m,x):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new at(xe.comparator);function Yr(){return XT}const qv=new at(xe.comparator);function ul(...n){let e=qv;for(const t of n)e=e.insert(t.key,t);return e}function Hv(n){let e=qv;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ai(){return yl()}function Wv(){return yl()}function yl(){return new Bi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const JT=new at(xe.comparator),ZT=new At(xe.comparator);function Be(...n){let e=ZT;for(const t of n)e=e.add(t);return e}const eI=new At(ze);function tI(){return eI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function Gv(n){return{integerValue:""+n}}function Kv(n,e){return AT(e)?Gv(e):Np(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function nI(n,e,t){return n instanceof Fu?(function(o,l){const d={fields:{[Av]:{stringValue:Sv},[Pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_p(l)&&(l=cd(l)),l&&(d.fields[Cv]=l),{mapValue:d}})(t,e):n instanceof Sl?Yv(n,e):n instanceof Al?Xv(n,e):(function(o,l){const d=Qv(o,l),p=by(d)+by(o.Ae);return Df(d)&&Df(o.Ae)?Gv(p):Np(o.serializer,p)})(n,e)}function rI(n,e,t){return n instanceof Sl?Yv(n,e):n instanceof Al?Xv(n,e):t}function Qv(n,e){return n instanceof Cl?(function(s){return Df(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Fu extends hd{}class Sl extends hd{constructor(e){super(),this.elements=e}}function Yv(n,e){const t=Jv(e);for(const s of n.elements)t.some((o=>wr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Al extends hd{constructor(e){super(),this.elements=e}}function Xv(n,e){let t=Jv(e);for(const s of n.elements)t=t.filter((o=>!wr(o,s)));return{arrayValue:{values:t}}}class Cl extends hd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function by(n){return yt(n.integerValue||n.doubleValue)}function Jv(n){return wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t){this.field=e,this.transform=t}}function iI(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Sl&&o instanceof Sl||s instanceof Al&&o instanceof Al?Ko(s.elements,o.elements,wr):s instanceof Cl&&o instanceof Cl?wr(s.Ae,o.Ae):s instanceof Fu&&o instanceof Fu})(n.transform,e.transform)}class oI{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fd{}function Zv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tp(n.key,An.none()):new Ml(n.key,n.data,An.none());{const t=n.data,s=an.empty();let o=new At(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?s.delete(l):s.set(l,d),o=o.add(l)}return new Zs(n.key,s,new xn(o.toArray()),An.none())}}function aI(n,e,t){n instanceof Ml?(function(o,l,d){const p=o.value.clone(),m=Ny(o.fieldTransforms,l,d.transformResults);p.setAll(m),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Zs?(function(o,l,d){if(!Nu(o.precondition,l))return void l.convertToUnknownDocument(d.version);const p=Ny(o.fieldTransforms,l,d.transformResults),m=l.data;m.setAll(e_(o)),m.setAll(p),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function xl(n,e,t,s){return n instanceof Ml?(function(l,d,p,m){if(!Nu(l.precondition,d))return p;const x=l.value.clone(),w=Ty(l.fieldTransforms,m,d);return x.setAll(w),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),null})(n,e,t,s):n instanceof Zs?(function(l,d,p,m){if(!Nu(l.precondition,d))return p;const x=Ty(l.fieldTransforms,m,d),w=d.data;return w.setAll(e_(l)),w.setAll(x),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,s):(function(l,d,p){return Nu(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(n,e,t)}function lI(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Qv(s.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(s.field,l))}return t||null}function Ey(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ko(s,o,((l,d)=>iI(l,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ml extends fd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends fd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function e_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Ny(n,e,t){const s=new Map;Ye(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,p=e.data.field(l.field);s.set(l.field,rI(d,p,t[o]))}return s}function Ty(n,e,t){const s=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);s.set(o.field,nI(l,d,e))}return s}class Tp extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cI extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&aI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=xl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=xl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Wv();return this.mutations.forEach((o=>{const l=e.get(o.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(o.key)?null:p;const m=Zv(d,p);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,s)=>Ey(t,s)))&&Ko(this.baseMutations,e.baseMutations,((t,s)=>Ey(t,s)))}}class Ip{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JT})();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,s[d].version);return new Ip(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function fI(n){switch(n){case G.OK:return Ne(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function t_(n){if(n===void 0)return Qr("GRPC error has no .code"),G.UNKNOWN;switch(n){case bt.OK:return G.OK;case bt.CANCELLED:return G.CANCELLED;case bt.UNKNOWN:return G.UNKNOWN;case bt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case bt.INTERNAL:return G.INTERNAL;case bt.UNAVAILABLE:return G.UNAVAILABLE;case bt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case bt.NOT_FOUND:return G.NOT_FOUND;case bt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case bt.ABORTED:return G.ABORTED;case bt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case bt.DATA_LOSS:return G.DATA_LOSS;default:return Ne(39323,{code:n})}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Fs([4294967295,4294967295],0);function Iy(n){const e=pI().encode(n),t=new mv;return t.update(e),new Uint8Array(t.digest())}function Sy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([t,s],0),new Fs([o,l],0)]}class Sp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Fs.fromNumber(s)));return o.compare(mI)===1&&(o=new Fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Iy(e),[s,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(s,o,l);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Sp(l,o,t);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const t=Iy(e),[s,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(s,o,l);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pd(Ae.min(),o,new at(ze),Yr(),Be())}}class Ul{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ul(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class n_{constructor(e,t){this.targetId=e,this.Ce=t}}class r_{constructor(e,t,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ay{constructor(){this.ve=0,this.Fe=Cy(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:l})}})),new Ul(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Cy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=du(),this.He=du(),this.Ye=new at(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Of(l))if(s===0){const d=new xe(l.path);this.et(t,d,Kt.newNoDocument(d,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const p=this.ut(e),m=p?this.ct(p,e,d):1;if(m!==0){this.it(t);const x=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let d,p;try{d=Hs(s).toUint8Array()}catch(m){if(m instanceof Iv)return Go("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Sp(d,o,l)}catch(m){return Go(m instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,d)=>{const p=this.ot(d);if(p){if(l.current&&Of(p.target)){const m=new xe(p.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,Kt.newNoDocument(m,e))}l.Be&&(t.set(d,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,d)=>{let p=!0;d.forEachWhile((m=>{const x=this.ot(m);return!x||x.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const o=new pd(e,t,this.Ye,this.je,s);return this.je=Yr(),this.Je=du(),this.He=du(),this.Ye=new at(ze),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ay,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new At(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new At(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ay),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function du(){return new at(xe.comparator)}function Cy(){return new at(xe.comparator)}const yI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vI={and:"AND",or:"OR"};class _I{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uf(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function zu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wI(n,e){return zu(n,e.toTimestamp())}function xr(n){return Ye(!!n,49232),Ae.fromTimestamp((function(t){const s=qs(t);return new Ke(s.seconds,s.nanos)})(n))}function Ap(n,e){return Ff(n,e).canonicalString()}function Ff(n,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function i_(n){const e=et.fromString(n);return Ye(u_(e),10190,{key:e.toString()}),e}function zf(n,e){return Ap(n.databaseId,e.path)}function ff(n,e){const t=i_(e);if(t.get(1)!==n.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(a_(t))}function o_(n,e){return Ap(n.databaseId,e)}function kI(n){const e=i_(n);return e.length===4?et.emptyPath():a_(e)}function Bf(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a_(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Py(n,e,t){return{name:zf(n,e),fields:t.value.mapValue.fields}}function bI(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ne(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(x,w){return x.useProto3Json?(Ye(w===void 0||typeof w=="string",58123),Ft.fromBase64String(w||"")):(Ye(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ft.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(x){const w=x.code===void 0?G.UNKNOWN:t_(x.code);return new se(w,x.message||"")})(d);t=new r_(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ff(n,s.document.name),l=xr(s.document.updateTime),d=s.document.createTime?xr(s.document.createTime):Ae.min(),p=new an({mapValue:{fields:s.document.fields}}),m=Kt.newFoundDocument(o,l,d,p),x=s.targetIds||[],w=s.removedTargetIds||[];t=new Tu(x,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ff(n,s.document),l=s.readTime?xr(s.readTime):Ae.min(),d=Kt.newNoDocument(o,l),p=s.removedTargetIds||[];t=new Tu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ff(n,s.document),l=s.removedTargetIds||[];t=new Tu([],l,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,d=new hI(o,l),p=s.targetId;t=new n_(p,d)}}return t}function EI(n,e){let t;if(e instanceof Ml)t={update:Py(n,e.key,e.value)};else if(e instanceof Tp)t={delete:zf(n,e.key)};else if(e instanceof Zs)t={update:Py(n,e.key,e.data),updateMask:jI(e.fieldMask)};else{if(!(e instanceof cI))return Ne(16599,{Vt:e.type});t={verify:zf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,d){const p=d.transform;if(p instanceof Fu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Sl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Al)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:wI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(n,e.precondition)),t}function NI(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map((t=>(function(o,l){let d=o.updateTime?xr(o.updateTime):xr(l);return d.isEqual(Ae.min())&&(d=xr(l)),new oI(d,o.transformResults||[])})(t,e)))):[]}function TI(n,e){return{documents:[o_(n,e.path)]}}function II(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=o_(n,o);const l=(function(x){if(x.length!==0)return c_(qn.create(x,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const d=(function(x){if(x.length!==0)return x.map((w=>(function(N){return{field:Mo(N.field),direction:CI(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Uf(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:o}}function SI(n){let e=kI(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(b){const N=l_(b);return N instanceof qn&&Lv(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(b){return b.map((N=>(function(M){return new Il(Uo(M.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(N)))})(t.orderBy));let p=null;t.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,ld(N)?null:N})(t.limit));let m=null;t.startAt&&(m=(function(b){const N=!!b.before,O=b.values||[];return new Uu(O,N)})(t.startAt));let x=null;return t.endAt&&(x=(function(b){const N=!b.before,O=b.values||[];return new Uu(O,N)})(t.endAt)),GT(e,o,d,l,p,"F",m,x)}function AI(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function l_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Uo(t.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Uo(t.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Et.create(Uo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return qn.create(t.compositeFilter.filters.map((s=>l_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function CI(n){return yI[n]}function PI(n){return xI[n]}function RI(n){return vI[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Ut.fromServerFormat(n.fieldPath)}function c_(n){return n instanceof Et?(function(t){if(t.op==="=="){if(xy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(yy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(yy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:PI(t.op),value:t.value}}})(n):n instanceof qn?(function(t){const s=t.getFilters().map((o=>c_(o)));return s.length===1?s[0]:{compositeFilter:{op:RI(t.op),filters:s}}})(n):Ne(54877,{filter:n})}function jI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function u_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,s,o,l=Ae.min(),d=Ae.min(),p=Ft.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.yt=e}}function VI(n){const e=SI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Cn=new LI}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve($s.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class LI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new At(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new At(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d_=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(d_,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LruGarbageCollector",MI=1048576;function Dy([n,e],[t,s]){const o=ze(n,t);return o===0?ze(e,s):o}class UI{constructor(e){this.Ir=e,this.buffer=new At(Dy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Dy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(jy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ra(t)?ae(jy,"Ignoring IndexedDB error during garbage collection: ",t):await na(t)}await this.Vr(3e5)}))}}class zI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(ad.ce);const s=new UI(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ry)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ry):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,d,p,m,x;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,t)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(x=Date.now(),Oo()<=Fe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${b} documents in `+(x-m)+`ms
Total Duration: ${x-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b}))))}}function BI(n,e){return new zI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new Bi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&xl(s.mutation,o,xn.empty(),Ke.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Be()){const o=Ai();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let d=ul();return l.forEach(((p,m)=>{d=d.insert(p,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Ai();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Be())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((d,p)=>{t.set(d,p)}))}))}computeViews(e,t,s,o){let l=Yr();const d=yl(),p=(function(){return yl()})();return t.forEach(((m,x)=>{const w=s.get(x.key);o.has(x.key)&&(w===void 0||w.mutation instanceof Zs)?l=l.insert(x.key,x):w!==void 0?(d.set(x.key,w.mutation.getFieldMask()),xl(w.mutation,x,w.mutation.getFieldMask(),Ke.now())):d.set(x.key,xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((x,w)=>d.set(x,w))),t.forEach(((x,w)=>p.set(x,new qI(w,d.get(x)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=yl();let o=new at(((d,p)=>d-p)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const p of d)p.keys().forEach((m=>{const x=t.get(m);if(x===null)return;let w=s.get(m)||xn.empty();w=p.applyToLocalView(x,w),s.set(m,w);const b=(o.get(p.batchId)||Be()).add(m);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),x=m.key,w=m.value,b=Wv();w.forEach((N=>{if(!l.has(N)){const O=Zv(t.get(N),s.get(N));O!==null&&b.set(N,O),l=l.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,x,b))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(d){return xe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(Ai());let p=bl,m=l;return d.next((x=>K.forEach(x,((w,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),l.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{m=m.insert(w,N)}))))).next((()=>this.populateOverlays(e,x,l))).next((()=>this.computeViews(e,m,x,Be()))).next((w=>({batchId:p,changes:Hv(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((s=>{let o=ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let d=ul();return this.indexManager.getCollectionParents(e,l).next((p=>K.forEach(p,(m=>{const x=(function(b,N){return new sa(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,x,s,o).next((w=>{w.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((d=>{l.forEach(((m,x)=>{const w=x.getKey();d.get(w)===null&&(d=d.insert(w,Kt.newInvalidDocument(w)))}));let p=ul();return d.forEach(((m,x)=>{const w=l.get(m);w!==void 0&&xl(w.mutation,x,xn.empty(),Ke.now()),dd(t,x)&&(p=p.insert(m,x))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:VI(o.bundledQuery),readTime:xr(o.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.overlays=new at(xe.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ai();return K.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=Ai(),l=t.length+1,d=new xe(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,x=m.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new at(((x,w)=>x-w));const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let w=l.get(x.largestBatchId);w===null&&(w=Ai(),l=l.insert(x.largestBatchId,w)),w.set(x.getKey(),x)}}const p=Ai(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((x,w)=>p.set(x,w))),!(p.size()>=o)););return K.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dI(t,s));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Qr=new At(jt.$r),this.Ur=new At(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new jt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new xe(new et([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),l.push(d.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new et([])),s=new jt(t,e),o=new jt(t,e+1);let l=Be();return this.Ur.forEachInRange([s,o],(d=>{l=l.add(d.key)})),l}containsKey(e){const t=new jt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new At(jt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uI(l,t,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new jt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);l.push(p)})),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new At(ze);return t.forEach((o=>{const l=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,d],(p=>{s=s.add(p.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;xe.isDocumentKey(l)||(l=l.child(""));const d=new jt(new xe(l),0);let p=new At(ze);return this.Zr.forEachWhile((m=>{const x=m.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(p=p.add(m.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(t.mutations,(o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new jt(t,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.ri=e,this.docs=(function(){return new at(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let s=Yr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Yr();const d=t.path,p=new xe(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:x,value:{document:w}}=m.getNext();if(!d.isPrefixOf(x.path))break;x.path.length>d.length+1||NT(ET(w),s)<=0||(o.has(w.key)||dd(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ne(9500)}ii(e,t){return K.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new XI(this)}getSize(e){return K.resolve(this.size)}}class XI extends $I{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.si=new Bi((t=>kp(t)),bp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Cp,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),K.waitFor(l).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((d=>{l.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new KI,this.referenceDelegate=e(this),this.Pi=new JI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(o){return new YI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DI(t),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new QI(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new ZI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class ZI extends IT{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Cp,this.Vi=null}static mi(e){return new Pp(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=xe.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bu{constructor(e,t){this.persistence=e,this.pi=new Bi((s=>CT(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BI(this,t)}static mi(e,t){return new Bu(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?K.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,t).next((p=>{p||(s++,l.removeEntry(d,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bu(e.data.value)),t}br(e,t,s){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Be(),o=Be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Rp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Pb()?8:ST(Qt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new e2;return this.Ss(e,t,d).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,d,p.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Oo()<=Fe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Oo()<=Fe.DEBUG&&ae("QueryEngine","Query:",Lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Oo()<=Fe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):K.resolve())}ys(e,t){if(ky(t))return K.resolve(null);let s=yr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Mf(t,null,"F"),s=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const d=Be(...l);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const x=this.Ds(t,p);return this.Cs(t,x,d,m.readTime)?this.ys(e,Mf(t,null,"F")):this.vs(e,x,t,m)}))))})))))}ws(e,t,s,o){return ky(t)||o.isEqual(Ae.min())?K.resolve(null):this.ps.getDocuments(e,s).next((l=>{const d=this.Ds(t,l);return this.Cs(t,d,s,o)?K.resolve(null):(Oo()<=Fe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(t)),this.vs(e,d,t,bT(o,bl)).next((p=>p)))}))}Ds(e,t){let s=new At($v(e));return t.forEach(((o,l)=>{dd(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Oo()<=Fe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ps.getDocumentsMatchingQuery(e,t,$s.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((d=>{l=l.insert(d.key,d)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",n2=3e8;class r2{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new at(ze),this.xs=new Bi((l=>kp(l)),bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function s2(n,e,t,s){return new r2(n,e,t,s)}async function f_(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const d=[],p=[];let m=Be();for(const x of o){d.push(x.batchId);for(const w of x.mutations)m=m.add(w.key)}for(const x of l){p.push(x.batchId);for(const w of x.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((x=>({Ls:x,removedBatchIds:d,addedBatchIds:p})))}))}))}function i2(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,x,w){const b=x.batch,N=b.keys();let O=K.resolve();return N.forEach((M=>{O=O.next((()=>w.getEntry(m,M))).next((q=>{const z=x.docVersions.get(M);Ye(z!==null,48541),q.version.compareTo(z)<0&&(b.applyToRemoteDocument(q,x),q.isValidDocument()&&(q.setReadTime(x.commitVersion),w.addEntry(q)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(m,b)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Be();for(let x=0;x<p.mutationResults.length;++x)p.mutationResults[x].transformResults.length>0&&(m=m.add(p.batch.mutations[x].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function p_(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function o2(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,b)=>{const N=o.get(b);if(!N)return;p.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,b))));let O=N.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),o=o.insert(b,O),(function(q,z,ne){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=n2?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(N,O,w)&&p.push(t.Pi.updateTargetData(l,O))}));let m=Yr(),x=Be();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),p.push(a2(l,d,e.documentUpdates).next((w=>{m=w.ks,x=w.qs}))),!s.isEqual(Ae.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(w)}return K.waitFor(p).next((()=>d.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,x))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function a2(n,e,t){let s=Be(),o=Be();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let d=Yr();return t.forEach(((p,m)=>{const x=l.get(p);m.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!x.isValidDocument()||m.version.compareTo(x.version)>0||m.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ae(jp,"Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",m.version)})),{ks:d,qs:o}}))}function l2(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function c2(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(s).next((d=>(o=new Os(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function $f(n,e,t){const s=Re(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ra(d))throw d;ae(jp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Vy(n,e,t){const s=Re(n);let o=Ae.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,x,w){const b=Re(m),N=b.xs.get(w);return N!==void 0?K.resolve(b.Ms.get(N)):b.Pi.getTargetData(x,w)})(s,d,yr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,t?o:Ae.min(),t?l:Be()))).next((p=>(u2(s,QT(e),p),{documents:p,Qs:l})))))}function u2(n,e,t){let s=n.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Oy{constructor(){this.activeTargetIds=tI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Mo=new Oy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Oy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="ConnectivityMonitor";class My{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Ly,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Ly,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function qf(){return hu===null?hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="RestConnection",f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const d=qf(),p=this.zo(e,t.toUriEncodedString());ae(pf,`Sending RPC '${e}' ${d}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:x}=new URL(p),w=Qs(x);return this.Jo(e,p,m,s,w).then((b=>(ae(pf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Go(pf,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,t,s,o,l,d){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=f2[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class g2 extends p2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const d=qf();return new Promise(((p,m)=>{const x=new gv;x.setWithCredentials(!0),x.listenOnce(yv.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case ku.NO_ERROR:const b=x.getResponseJson();ae(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case ku.TIMEOUT:ae(Wt,`RPC '${e}' ${d} timed out`),m(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const N=x.getStatus();if(ae(Wt,`RPC '${e}' ${d} failed with status:`,N,"response text:",x.getResponseText()),N>0){let O=x.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O?.error;if(M&&M.status&&M.message){const q=(function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(re)>=0?re:G.UNKNOWN})(M.status);m(new se(q,M.message))}else m(new se(G.UNKNOWN,"Server responded with status "+x.getStatus()))}else m(new se(G.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:d,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{ae(Wt,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ae(Wt,`RPC '${e}' ${d} sending request:`,o),x.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=qf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_v(),p=vv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(m.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const w=l.join("");ae(Wt,`Creating RPC '${e}' stream ${o}: ${w}`,m);const b=d.createWebChannel(w,m);this.I_(b);let N=!1,O=!1;const M=new m2({Yo:z=>{O?ae(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(N||(ae(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),N=!0),ae(Wt,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Zo:()=>b.close()}),q=(z,ne,re)=>{z.listen(ne,(te=>{try{re(te)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return q(b,cl.EventType.OPEN,(()=>{O||(ae(Wt,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),q(b,cl.EventType.CLOSE,(()=>{O||(O=!0,ae(Wt,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(b))})),q(b,cl.EventType.ERROR,(z=>{O||(O=!0,Go(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),M.a_(new se(G.UNAVAILABLE,"The operation could not be completed")))})),q(b,cl.EventType.MESSAGE,(z=>{if(!O){const ne=z.data[0];Ye(!!ne,16349);const re=ne,te=re?.error||re[0]?.error;if(te){ae(Wt,`RPC '${e}' stream ${o} received error:`,te);const ce=te.status;let ke=(function(E){const S=bt[E];if(S!==void 0)return t_(S)})(ce),ve=te.message;ke===void 0&&(ke=G.INTERNAL,ve="Unknown error status: "+ce+" with message "+te.message),O=!0,M.a_(new se(ke,ve)),b.close()}else ae(Wt,`RPC '${e}' stream ${o} received:`,ne),M.u_(ne)}})),q(p,xv.STAT_EVENT,(z=>{z.stat===Pf.PROXY?ae(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Pf.NOPROXY&&ae(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new _I(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="PersistentStream";class g_{constructor(e,t,s,o,l,d,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ae(Uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class y2 extends g_{constructor(e,t,s,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bI(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?xr(d.readTime):Ae.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Bf(this.serializer),t.addTarget=(function(l,d){let p;const m=d.target;if(p=Of(m)?{documents:TI(l,m)}:{query:II(l,m).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=s_(l,d.resumeToken);const x=Uf(l,d.expectedCount);x!==null&&(p.expectedCount=x)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=zu(l,d.snapshotVersion.toTimestamp());const x=Uf(l,d.expectedCount);x!==null&&(p.expectedCount=x)}return p})(this.serializer,e);const s=AI(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Bf(this.serializer),t.removeTarget=e,this.q_(t)}}class x2 extends g_{constructor(e,t,s,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=NI(e.writeResults,e.commitTime),s=xr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Bf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>EI(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{}class _2 extends v2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Go(e,Ff(t,s),o,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(G.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Ff(t,s),o,d,p,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(G.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class k2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{$i(this)&&(ae(Li,"Restarting streams for network reachability change."),await(async function(m){const x=Re(m);x.Ea.add(4),await Fl(x),x.Ra.set("Unknown"),x.Ea.delete(4),await gd(x)})(this))}))})),this.Ra=new w2(s,o)}}async function gd(n){if($i(n))for(const e of n.da)await e(!0)}async function Fl(n){for(const e of n.da)await e(!1)}function y_(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Lp(t)?Op(t):ia(t).O_()&&Vp(t,e))}function Dp(n,e){const t=Re(n),s=ia(t);t.Ia.delete(e),s.O_()&&x_(t,e),t.Ia.size===0&&(s.O_()?s.L_():$i(t)&&t.Ra.set("Unknown"))}function Vp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).Y_(e)}function x_(n,e){n.Va.Ue(e),ia(n).Z_(e)}function Op(n){n.Va=new gI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.Ra.ua()}function Lp(n){return $i(n)&&!ia(n).x_()&&n.Ia.size>0}function $i(n){return Re(n).Ea.size===0}function v_(n){n.Va=void 0}async function b2(n){n.Ra.set("Online")}async function E2(n){n.Ia.forEach(((e,t)=>{Vp(n,e)}))}async function N2(n,e){v_(n),Lp(n)?(n.Ra.ha(e),Op(n)):n.Ra.set("Unknown")}async function T2(n,e,t){if(n.Ra.set("Online"),e instanceof r_&&e.state===2&&e.cause)try{await(async function(o,l){const d=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){ae(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $u(n,s)}else if(e instanceof Tu?n.Va.Ze(e):e instanceof n_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const s=await p_(n.localStore);t.compareTo(s)>=0&&await(function(l,d){const p=l.Va.Tt(d);return p.targetChanges.forEach(((m,x)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(x);w&&l.Ia.set(x,w.withResumeToken(m.resumeToken,d))}})),p.targetMismatches.forEach(((m,x)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(Ft.EMPTY_BYTE_STRING,w.snapshotVersion)),x_(l,m);const b=new Os(w.target,m,x,w.sequenceNumber);Vp(l,b)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){ae(Li,"Failed to raise snapshot:",s),await $u(n,s)}}async function $u(n,e,t){if(!ra(e))throw e;n.Ea.add(1),await Fl(n),n.Ra.set("Offline"),t||(t=()=>p_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ae(Li,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gd(n)}))}function __(n,e){return e().catch((t=>$u(n,t,e)))}async function yd(n){const e=Re(n),t=Gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vp;for(;I2(e);)try{const o=await l2(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,S2(e,o)}catch(o){await $u(e,o)}w_(e)&&k_(e)}function I2(n){return $i(n)&&n.Ta.length<10}function S2(n,e){n.Ta.push(e);const t=Gs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function w_(n){return $i(n)&&!Gs(n).x_()&&n.Ta.length>0}function k_(n){Gs(n).start()}async function A2(n){Gs(n).ra()}async function C2(n){const e=Gs(n);for(const t of n.Ta)e.ea(t.mutations)}async function P2(n,e,t){const s=n.Ta.shift(),o=Ip.from(s,e,t);await __(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await yd(n)}async function R2(n,e){e&&Gs(n).X_&&await(async function(s,o){if((function(d){return fI(d)&&d!==G.ABORTED})(o.code)){const l=s.Ta.shift();Gs(s).B_(),await __(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await yd(s)}})(n,e),w_(n)&&k_(n)}async function Fy(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ae(Li,"RemoteStore received new credentials");const s=$i(t);t.Ea.add(3),await Fl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gd(t)}async function j2(n,e){const t=Re(n);e?(t.Ea.delete(2),await gd(t)):e||(t.Ea.add(2),await Fl(t),t.Ra.set("Unknown"))}function ia(n){return n.ma||(n.ma=(function(t,s,o){const l=Re(t);return l.sa(),new y2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:b2.bind(null,n),t_:E2.bind(null,n),r_:N2.bind(null,n),H_:T2.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Lp(n)?Op(n):n.Ra.set("Unknown")):(await n.ma.stop(),v_(n))}))),n.ma}function Gs(n){return n.fa||(n.fa=(function(t,s,o){const l=Re(t);return l.sa(),new x2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:A2.bind(null,n),r_:R2.bind(null,n),ta:C2.bind(null,n),na:P2.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await yd(n)):(await n.fa.stop(),n.Ta.length>0&&(ae(Li,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const d=Date.now()+s,p=new Mp(e,t,d,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),ra(n))return new se(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||xe.comparator(t.key,s.key):(t,s)=>xe.comparator(t.key,s.key),this.keyedMap=ul(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.ga=new at(xe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Jo{constructor(e,t,s,o,l,d,p,m,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,o,l){const d=[];return t.forEach((p=>{d.push({type:0,doc:p})})),new Jo(e,t,Ho.emptySet(t),d,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class V2{constructor(){this.queries=By(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),l=o.queries;o.queries=By(),l.forEach(((d,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new se(G.ABORTED,"Firestore shutting down"))}}function By(){return new Bi((n=>Bv(n)),ud)}async function b_(n,e){const t=Re(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new D2,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=Up(d,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Fp(t)}async function E_(n,e){const t=Re(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const d=l.Sa.indexOf(e);d>=0&&(l.Sa.splice(d,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function O2(n,e){const t=Re(n);let s=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Fp(t)}function L2(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Fp(n){n.Ca.forEach((e=>{e.next()}))}var Hf,$y;($y=Hf||(Hf={})).Ma="default",$y.Cache="cache";class N_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.key=e}}class I_{constructor(e){this.key=e}}class M2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=$v(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new zy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,b)=>{const N=o.get(w),O=dd(this.query,b)?b:null,M=!!N&&this.mutatedKeys.has(N.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;N&&O?N.data.isEqual(O.data)?M!==q&&(s.track({type:3,doc:O}),z=!0):this.su(N,O)||(s.track({type:2,doc:O}),z=!0,(m&&this.eu(O,m)>0||x&&this.eu(O,x)<0)&&(p=!0)):!N&&O?(s.track({type:0,doc:O}),z=!0):N&&!O&&(s.track({type:1,doc:N}),z=!0,(m||x)&&(p=!0)),z&&(O?(d=d.add(O),l=q?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,b)=>(function(O,M){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:z})}};return q(O)-q(M)})(w.type,b.type)||this.eu(w.doc,b.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,x=m!==this.Za;return this.Za=m,d.length!==0||x?{snapshot:new Jo(this.query,e.tu,l,d,e.mutatedKeys,m===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new I_(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new T_(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class U2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class F2{constructor(e){this.key=e,this.hu=!1}}class z2{constructor(e,t,s,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Bi((p=>Bv(p)),ud),this.Iu=new Map,this.Eu=new Set,this.du=new at(xe.comparator),this.Au=new Map,this.Ru=new Cp,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B2(n,e,t=!0){const s=j_(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await S_(s,e,t,!0),o}async function $2(n,e){const t=j_(n);await S_(t,e,!0,!1)}async function S_(n,e,t,s){const o=await c2(n.localStore,yr(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await q2(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&y_(n.remoteStore,o),p}async function q2(n,e,t,s,o){n.pu=(b,N,O)=>(async function(q,z,ne,re){let te=z.view.ru(ne);te.Cs&&(te=await Vy(q.localStore,z.query,!1).then((({documents:P})=>z.view.ru(P,te))));const ce=re&&re.targetChanges.get(z.targetId),ke=re&&re.targetMismatches.get(z.targetId)!=null,ve=z.view.applyChanges(te,q.isPrimaryClient,ce,ke);return Hy(q,z.targetId,ve.au),ve.snapshot})(n,b,N,O);const l=await Vy(n.localStore,e,!0),d=new M2(e,l.Qs),p=d.ru(l.documents),m=Ul.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),x=d.applyChanges(p,n.isPrimaryClient,m);Hy(n,t,x.au);const w=new U2(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),x.snapshot}async function H2(n,e,t){const s=Re(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((d=>!ud(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $f(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Dp(s.remoteStore,o.targetId),Wf(s,o.targetId)})).catch(na)):(Wf(s,o.targetId),await $f(s.localStore,o.targetId,!0))}async function W2(n,e){const t=Re(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(t.remoteStore,s.targetId))}async function G2(n,e,t){const s=eS(n);try{const o=await(function(d,p){const m=Re(d),x=Ke.now(),w=p.reduce(((O,M)=>O.add(M.key)),Be());let b,N;return m.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let M=Yr(),q=Be();return m.Ns.getEntries(O,w).next((z=>{M=z,M.forEach(((ne,re)=>{re.isValidDocument()||(q=q.add(ne))}))})).next((()=>m.localDocuments.getOverlayedDocuments(O,M))).next((z=>{b=z;const ne=[];for(const re of p){const te=lI(re,b.get(re.key).overlayedDocument);te!=null&&ne.push(new Zs(re.key,te,Dv(te.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(O,x,ne,p)})).next((z=>{N=z;const ne=z.applyToLocalDocumentSet(b,q);return m.documentOverlayCache.saveOverlays(O,z.batchId,ne)}))})).then((()=>({batchId:N.batchId,changes:Hv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,m){let x=d.Vu[d.currentUser.toKey()];x||(x=new at(ze)),x=x.insert(p,m),d.Vu[d.currentUser.toKey()]=x})(s,o.batchId,t),await zl(s,o.changes),await yd(s.remoteStore)}catch(o){const l=Up(o,"Failed to persist write");t.reject(l)}}async function A_(n,e){const t=Re(n);try{const s=await o2(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const d=t.Au.get(l);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ye(d.hu,14607):o.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await zl(t,s,e)}catch(s){await na(s)}}function qy(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const m=Re(d);m.onlineState=p;let x=!1;m.queries.forEach(((w,b)=>{for(const N of b.Sa)N.va(p)&&(x=!0)})),x&&Fp(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function K2(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let d=new at(xe.comparator);d=d.insert(l,Kt.newNoDocument(l,Ae.min()));const p=Be().add(l),m=new pd(Ae.min(),new Map,new at(ze),d,p);await A_(s,m),s.du=s.du.remove(l),s.Au.delete(e),Bp(s)}else await $f(s.localStore,e,!1).then((()=>Wf(s,e,t))).catch(na)}async function Q2(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await i2(t.localStore,e);P_(t,s,null),C_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zl(t,o)}catch(o){await na(o)}}async function Y2(n,e,t){const s=Re(n);try{const o=await(function(d,p){const m=Re(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let w;return m.mutationQueue.lookupMutationBatch(x,p).next((b=>(Ye(b!==null,37113),w=b.keys(),m.mutationQueue.removeMutationBatch(x,b)))).next((()=>m.mutationQueue.performConsistencyCheck(x))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(x,w,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,w))).next((()=>m.localDocuments.getDocuments(x,w)))}))})(s.localStore,e);P_(s,e,t),C_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zl(s,o)}catch(o){await na(o)}}function C_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function P_(n,e,t){const s=Re(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||R_(n,s)}))}function R_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Dp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Bp(n))}function Hy(n,e,t){for(const s of t)s instanceof T_?(n.Ru.addReference(s.key,e),X2(n,s)):s instanceof I_?(ae(zp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||R_(n,s.key)):Ne(19791,{wu:s})}function X2(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ae(zp,"New document in limbo: "+t),n.Eu.add(s),Bp(n))}function Bp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(et.fromString(e)),s=n.fu.next();n.Au.set(s,new F2(t)),n.du=n.du.insert(t,s),y_(n.remoteStore,new Os(yr(Ep(t.path)),s,"TargetPurposeLimboResolution",ad.ce))}}async function zl(n,e,t){const s=Re(n),o=[],l=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{d.push(s.pu(m,e,t).then((x=>{if((x||t)&&s.isPrimaryClient){const w=x?!x.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(x){o.push(x);const w=Rp.As(m.targetId,x);l.push(w)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(m,x){const w=Re(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(x,(N=>K.forEach(N.Es,(O=>w.persistence.referenceDelegate.addReference(b,N.targetId,O))).next((()=>K.forEach(N.ds,(O=>w.persistence.referenceDelegate.removeReference(b,N.targetId,O)))))))))}catch(b){if(!ra(b))throw b;ae(jp,"Failed to update sequence numbers: "+b)}for(const b of x){const N=b.targetId;if(!b.fromCache){const O=w.Ms.get(N),M=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(M);w.Ms=w.Ms.insert(N,q)}}})(s.localStore,l))}async function J2(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ae(zp,"User change. New user:",e.toKey());const s=await f_(t.localStore,e);t.currentUser=e,(function(l,d){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new se(G.CANCELLED,d))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zl(t,s.Ls)}}function Z2(n,e){const t=Re(n),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const l=t.Iu.get(e);if(!l)return o;for(const d of l){const p=t.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function j_(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K2.bind(null,e),e.Pu.H_=O2.bind(null,e.eventManager),e.Pu.yu=L2.bind(null,e.eventManager),e}function eS(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,e),e}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return s2(this.persistence,new t2,e.initialUser,this.serializer)}Cu(e){return new h_(Pp.mi,this.serializer)}Du(e){return new d2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class tS extends qu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Bu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FI(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new h_((s=>Bu.mi(s,t)),this.serializer)}}class Gf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J2.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new V2})()}createDatastore(e){const t=md(e.databaseInfo.databaseId),s=(function(l){return new g2(l)})(e.databaseInfo);return(function(l,d,p,m){return new _2(l,d,p,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,d,p){return new k2(s,o,l,d,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>qy(this.syncEngine,t,0)),(function(){return My.v()?new My:new h2})())}createSyncEngine(e,t){return(function(o,l,d,p,m,x,w){const b=new z2(o,l,d,p,m,x);return w&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Re(t);ae(Li,"RemoteStore shutting down."),s.Ea.add(5),await Fl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gf.provider={build:()=>new Gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class nS{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async d=>{ae(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ae(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Up(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await f_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Wy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rS(n);ae(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Fy(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Fy(e.remoteStore,o))),n._onlineComponents=e}async function rS(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Ks,"Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new qu)}}else ae(Ks,"Using default OfflineComponentProvider"),await gf(n,new tS(void 0));return n._offlineComponents}async function V_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Ks,"Using user provided OnlineComponentProvider"),await Wy(n,n._uninitializedComponentsProvider._online)):(ae(Ks,"Using default OnlineComponentProvider"),await Wy(n,new Gf))),n._onlineComponents}function sS(n){return V_(n).then((e=>e.syncEngine))}async function O_(n){const e=await V_(n),t=e.eventManager;return t.onListen=B2.bind(null,e.syncEngine),t.onUnlisten=H2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W2.bind(null,e.syncEngine),t}function iS(n,e,t={}){const s=new Wr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,p,m,x){const w=new D_({next:N=>{w.Nu(),d.enqueueAndForget((()=>E_(l,b)));const O=N.docs.has(p);!O&&N.fromCache?x.reject(new se(G.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&N.fromCache&&m&&m.source==="server"?x.reject(new se(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(N)},error:N=>x.reject(N)}),b=new N_(Ep(p.path),w,{includeMetadataChanges:!0,qa:!0});return b_(l,b)})(await O_(n),n.asyncQueue,e,t,s))),s.promise}function oS(n,e,t={}){const s=new Wr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,d,p,m,x){const w=new D_({next:N=>{w.Nu(),d.enqueueAndForget((()=>E_(l,b))),N.fromCache&&m.source==="server"?x.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(N)},error:N=>x.reject(N)}),b=new N_(p,w,{includeMetadataChanges:!0,qa:!0});return b_(l,b)})(await O_(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firestore.googleapis.com",Ky=!0;class Qy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M_,this.ssl=Ky}else this.host=e.host,this.ssl=e.ssl??Ky;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MI)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hT;switch(s.type){case"firstParty":return new gT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Gy.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Gy.delete(t),s.terminate())})(this),Promise.resolve()}}function aS(n,e,t,s={}){n=$n(n,xd);const o=Qs(e),l=n._getSettings(),d={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(sp(`https://${p}`),ip("Firestore",!0)),l.host!==M_&&l.host!==p&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:o,emulatorOptions:s};if(!Ri(m,d)&&(n._setSettings(m),s.mockUserToken)){let x,w;if(typeof s.mockUserToken=="string")x=s.mockUserToken,w=Gt.MOCK_USER;else{x=Ax(s.mockUserToken,n._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(b)}n._authCredentials=new fT(new kv(x,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ll(t,xt._jsonSchema))return new xt(e,s||null,new xe(et.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Nt("string",xt._jsonSchemaVersion),referencePath:Nt("string")};class zs extends qi{constructor(e,t,s){super(e,t,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new xe(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function vd(n,e,...t){if(n=dt(n),bv("collection","path",e),n instanceof xd){const s=et.fromString(e,...t);return ly(s),new zs(n,null,s)}{if(!(n instanceof xt||n instanceof zs))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return ly(s),new zs(n.firestore,null,s)}}function oa(n,e,...t){if(n=dt(n),arguments.length===1&&(e=xp.newId()),bv("doc","path",e),n instanceof xd){const s=et.fromString(e,...t);return ay(s),new xt(n,null,new xe(s))}{if(!(n instanceof xt||n instanceof zs))throw new se(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return ay(s),new xt(n.firestore,n instanceof zs?n.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Xy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m_(this,"async_queue_retry"),this._c=()=>{const s=mf();s&&ae(Yy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ra(e))throw e;ae(Yy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",Jy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Mp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Jy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Jy(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Hi extends xd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Xy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,await e}}}function lS(n,e){const t=typeof n=="object"?n:lp(),s=typeof n=="string"?n:Lu,o=nd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Tx("firestore");l&&aS(o,...l)}return o}function $p(n){if(n._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cS(n),n._firestoreClient}function cS(n){const e=n._freezeSettings(),t=(function(o,l,d,p){return new jT(o,l,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,L_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new nS(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Ft.fromBase64String(e))}catch(t){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ll(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:Nt("string",Sn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Ll(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:Nt("string",vr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ll(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new _r(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:Nt("string",_r._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=/^__.*__$/;class dS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ml(e,this.data,t,this.fieldTransforms)}}class U_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function F_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class qp{constructor(e,t,s,o,l,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(F_(this.Ac)&&uS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||md(e)}Cc(e,t,s,o=!1){return new qp({Ac:e,methodName:t,Dc:s,path:Ut.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(n){const e=n._freezeSettings(),t=md(n._databaseId);return new hS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function z_(n,e,t,s,o,l={}){const d=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Wp("Data must be an object, but it was:",d,s);const p=B_(s,d);let m,x;if(l.merge)m=new xn(d.fieldMask),x=d.fieldTransforms;else if(l.mergeFields){const w=[];for(const b of l.mergeFields){const N=Kf(e,b,t);if(!d.contains(N))throw new se(G.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);q_(w,N)||w.push(N)}m=new xn(w),x=d.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,x=d.fieldTransforms;return new dS(new an(p),m,x)}class bd extends wd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class Hp extends wd{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Cl(e.serializer,Kv(e.serializer,this.Fc));return new sI(e.path,t)}isEqual(e){return e instanceof Hp&&this.Fc===e.Fc}}function fS(n,e,t,s){const o=n.Cc(1,e,t);Wp("Data must be an object, but it was:",o,s);const l=[],d=an.empty();Js(s,((m,x)=>{const w=Gp(e,m,t);x=dt(x);const b=o.yc(w);if(x instanceof bd)l.push(w);else{const N=Bl(x,b);N!=null&&(l.push(w),d.set(w,N))}}));const p=new xn(l);return new U_(d,p,o.fieldTransforms)}function pS(n,e,t,s,o,l){const d=n.Cc(1,e,t),p=[Kf(e,s,t)],m=[o];if(l.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<l.length;N+=2)p.push(Kf(e,l[N])),m.push(l[N+1]);const x=[],w=an.empty();for(let N=p.length-1;N>=0;--N)if(!q_(x,p[N])){const O=p[N];let M=m[N];M=dt(M);const q=d.yc(O);if(M instanceof bd)x.push(O);else{const z=Bl(M,q);z!=null&&(x.push(O),w.set(O,z))}}const b=new xn(x);return new U_(w,b,d.fieldTransforms)}function mS(n,e,t,s=!1){return Bl(t,n.Cc(s?4:3,e))}function Bl(n,e){if($_(n=dt(n)))return Wp("Unsupported field value:",e,n),B_(n,e);if(n instanceof wd)return(function(s,o){if(!F_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let d=0;for(const p of s){let m=Bl(p,o.wc(d));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),d++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Kv(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ke.fromDate(s);return{timestampValue:zu(o.serializer,l)}}if(s instanceof Ke){const l=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zu(o.serializer,l)}}if(s instanceof vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Sn)return{bytesValue:s_(o.serializer,s._byteString)};if(s instanceof xt){const l=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(l))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return(function(d,p){return{mapValue:{fields:{[Rv]:{stringValue:jv},[Mu]:{arrayValue:{values:d.toArray().map((x=>{if(typeof x!="number")throw p.Sc("VectorValues must only contain numeric values.");return Np(p.serializer,x)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${od(s)}`)})(n,e)}function B_(n,e){const t={};return Tv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,((s,o)=>{const l=Bl(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function $_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof vr||n instanceof Sn||n instanceof xt||n instanceof wd||n instanceof _r)}function Wp(n,e,t){if(!$_(t)||!Ev(t)){const s=od(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Kf(n,e,t){if((e=dt(e))instanceof _d)return e._internalPath;if(typeof e=="string")return Gp(n,e);throw Hu("Field path arguments must be of type string or ",n,!1,void 0,t)}const gS=new RegExp("[~\\*/\\[\\]]");function Gp(n,e,t){if(e.search(gS)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hu(n,e,t,s,o){const l=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||d)&&(m+=" (found",l&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new se(G.INVALID_ARGUMENT,p+n+m)}function q_(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yS extends H_{data(){return super.data()}}function Ed(n,e){return typeof e=="string"?Gp(n,e):e instanceof _d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class W_ extends Kp{}function Xr(n,e,...t){let s=[];e instanceof Kp&&s.push(e),s=s.concat(t),(function(l){const d=l.filter((m=>m instanceof Qp)).length,p=l.filter((m=>m instanceof Nd)).length;if(d>1||d>0&&p>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Nd extends W_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Nd(e,t,s)}_apply(e){const t=this._parse(e);return G_(e._query,t),new qi(e.firestore,e.converter,Lf(e._query,t))}_parse(e){const t=kd(e.firestore);return(function(l,d,p,m,x,w,b){let N;if(x.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){ex(b,w);const M=[];for(const q of b)M.push(Zy(m,l,q));N={arrayValue:{values:M}}}else N=Zy(m,l,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||ex(b,w),N=mS(p,d,b,w==="in"||w==="not-in");return Et.create(x,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hn(n,e,t){const s=e,o=Ed("where",n);return Nd._create(o,s,t)}class Qp extends Kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let d=o;const p=l.getFlattenedFilters();for(const m of p)G_(d,m),d=Lf(d,m)})(e._query,t),new qi(e.firestore,e.converter,Lf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends W_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yp(e,t)}_apply(e){const t=(function(o,l,d){if(o.startAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Il(l,d)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,(function(o,l){const d=o.explicitOrderBy.concat([l]);return new sa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function vS(n,e="asc"){const t=e,s=Ed("orderBy",n);return Yp._create(s,t)}function Zy(n,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(e)&&t.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!xe.isDocumentKey(s))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gy(n,new xe(s))}if(t instanceof xt)return gy(n,t._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(t)}.`)}function ex(n,e){if(!Array.isArray(n)||n.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G_(n,e){const t=(function(o,l){for(const d of o)for(const p of d.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _S{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Js(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Mu].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new _r(t)}convertGeoPoint(e){return new vr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ye(u_(s),9688,{name:e});const o=new Nl(s.get(1),s.get(3)),l=new xe(s.popFirst(5));return o.isEqual(t)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ci extends H_{constructor(e,t,s,o,l,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ed("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ci._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ci._jsonSchema={type:Nt("string",Ci._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Iu extends Ci{data(e={}){return super.data(e)}}class Wo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Iu(this._firestore,this._userDataWriter,s.key,s,new hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const m=new Iu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new Iu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,w=-1;return p.type!==0&&(x=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:wS(p.type),doc:m,oldIndex:x,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n){n=$n(n,xt);const e=$n(n.firestore,Hi);return iS($p(e),n._key).then((t=>NS(e,n,t)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Nt("string",Wo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Y_ extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function Jr(n){n=$n(n,qi);const e=$n(n.firestore,Hi),t=$p(e),s=new Y_(e);return xS(n._query),oS(t,n._query).then((o=>new Wo(e,s,n,o)))}function kS(n,e,t){n=$n(n,xt);const s=$n(n.firestore,Hi),o=K_(n.converter,e);return Td(s,[z_(kd(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,An.none())])}function bS(n,e,t,...s){n=$n(n,xt);const o=$n(n.firestore,Hi),l=kd(o);let d;return d=typeof(e=dt(e))=="string"||e instanceof _d?pS(l,"updateDoc",n._key,e,t,s):fS(l,"updateDoc",n._key,e),Td(o,[d.toMutation(n._key,An.exists(!0))])}function ES(n){return Td($n(n.firestore,Hi),[new Tp(n._key,An.none())])}function Xp(n,e){const t=$n(n.firestore,Hi),s=oa(n),o=K_(n.converter,e);return Td(t,[z_(kd(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,An.exists(!1))]).then((()=>s))}function Td(n,e){return(function(s,o){const l=new Wr;return s.asyncQueue.enqueueAndForget((async()=>G2(await sS(s),o,l))),l.promise})($p(n),e)}function NS(n,e,t){const s=t.docs.get(e._key),o=new Y_(n);return new Ci(n,o,e._key,s,new hl(t.hasPendingWrites,t.fromCache),e.converter)}function TS(n){return new Hp("increment",n)}(function(e,t=!0){(function(o){ta=o})(Fi),ji(new Bs("firestore",((s,{instanceIdentifier:o,options:l})=>{const d=s.getProvider("app").getImmediate(),p=new Hi(new pT(s.getProvider("auth-internal")),new yT(d,s.getProvider("app-check-internal")),(function(x,w){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(x.options.projectId,w)})(d,o),d);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),pr(ry,sy,e),pr(ry,sy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="firebasestorage.googleapis.com",J_="storageBucket",IS=120*1e3,SS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends br{constructor(e,t,s=0){super(yf(e),`Firebase Storage: ${t} (${yf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function yf(n){return"storage/"+n}function Jp(){const n="An unknown error occurred, please check the error payload for server response.";return new ft(ht.UNKNOWN,n)}function AS(n){return new ft(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function CS(n){return new ft(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PS(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ht.UNAUTHENTICATED,n)}function RS(){return new ft(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jS(n){return new ft(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function DS(){return new ft(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VS(){return new ft(ht.CANCELED,"User canceled the upload/download.")}function OS(n){return new ft(ht.INVALID_URL,"Invalid URL '"+n+"'.")}function LS(n){return new ft(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function MS(){return new ft(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J_+"' property when initializing the app?")}function US(){return new ft(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FS(){return new ft(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zS(n){return new ft(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qf(n){return new ft(ht.INVALID_ARGUMENT,n)}function Z_(){return new ft(ht.APP_DELETED,"The Firebase app was deleted.")}function BS(n){return new ft(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vl(n,e){return new ft(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function sl(n){throw new ft(ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=vn.makeFromUrl(e,t)}catch{return new vn(e,"")}if(s.path==="")return s;throw LS(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function x(ce){ce.path_=decodeURIComponent(ce.path)}const w="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${w}/b/${o}/o${N}`,"i"),M={bucket:1,path:3},q=t===X_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",ne=new RegExp(`^https?://${q}/${o}/${z}`,"i"),te=[{regex:p,indices:m,postModify:l},{regex:O,indices:M,postModify:x},{regex:ne,indices:{bucket:1,path:2},postModify:x}];for(let ce=0;ce<te.length;ce++){const ke=te[ce],ve=ke.regex.exec(e);if(ve){const P=ve[ke.indices.bucket];let E=ve[ke.indices.path];E||(E=""),s=new vn(P,E),ke.postModify(s);break}}if(s==null)throw OS(e);return s}}class $S{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n,e,t){let s=1,o=null,l=null,d=!1,p=0;function m(){return p===2}let x=!1;function w(...z){x||(x=!0,e.apply(null,z))}function b(z){o=setTimeout(()=>{o=null,n(O,m())},z)}function N(){l&&clearTimeout(l)}function O(z,...ne){if(x){N();return}if(z){N(),w.call(null,z,...ne);return}if(m()||d){N(),w.call(null,z,...ne);return}s<64&&(s*=2);let te;p===1?(p=2,te=0):te=(s+Math.random())*1e3,b(te)}let M=!1;function q(z){M||(M=!0,N(),!x&&(o!==null?(z||(p=2),clearTimeout(o),b(0)):z||(p=1)))}return b(0),l=setTimeout(()=>{d=!0,q(!0)},t),q}function HS(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){return n!==void 0}function GS(n){return typeof n=="object"&&!Array.isArray(n)}function Zp(n){return typeof n=="string"||n instanceof String}function tx(n){return em()&&n instanceof Blob}function em(){return typeof Blob<"u"}function nx(n,e,t,s){if(s<e)throw Qf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Qf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function ew(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Pi;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Pi||(Pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,s,o,l,d,p,m,x,w,b,N=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=x,this.progressCallback_=w,this.connectionFactory_=b,this.retry=N,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,q)=>{this.resolve_=M,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const d=p=>{const m=p.loaded,x=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,x)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const p=l.getErrorCode()===Pi.NO_ERROR,m=l.getStatus();if(!p||KS(m,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===Pi.ABORT;s(!1,new fu(!1,null,w));return}const x=this.successCodes_.indexOf(m)!==-1;s(!0,new fu(x,l))})},t=(s,o)=>{const l=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());WS(m)?l(m):l()}catch(m){d(m)}else if(p!==null){const m=Jp();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?Z_():VS();d(m)}else{const m=DS();d(m)}};this.canceled_?t(!1,new fu(!1,null,!0)):this.backoffId_=qS(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function YS(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XS(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JS(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZS(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function eA(n,e,t,s,o,l,d=!0,p=!1){const m=ew(n.urlParams),x=n.url+m,w=Object.assign({},n.headers);return JS(w,e),YS(w,t),XS(w,l),ZS(w,s),new QS(x,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nA(...n){const e=tA();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(em())return new Blob(n);throw new ft(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rA(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){if(typeof atob>"u")throw zS("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xf{constructor(e,t){this.data=e,this.contentType=t||null}}function iA(n,e){switch(n){case fr.RAW:return new xf(tw(e));case fr.BASE64:case fr.BASE64URL:return new xf(nw(n,e));case fr.DATA_URL:return new xf(aA(e),lA(e))}throw Jp()}function tw(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,d=n.charCodeAt(++t);s=65536|(l&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function oA(n){let e;try{e=decodeURIComponent(n)}catch{throw vl(fr.DATA_URL,"Malformed data URL.")}return tw(e)}function nw(n,e){switch(n){case fr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw vl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw vl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=sA(e)}catch(o){throw o.message.includes("polyfill")?o:vl(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class rw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw vl(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=cA(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function aA(n){const e=new rw(n);return e.base64?nw(fr.BASE64,e.rest):oA(e.rest)}function lA(n){return new rw(n).contentType}function cA(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){let s=0,o="";tx(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(tx(this.data_)){const s=this.data_,o=rA(s,e,t);return o===null?null:new Vs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Vs(s,!0)}}static getBlob(...e){if(em()){const t=e.map(s=>s instanceof Vs?s.data_:s);return new Vs(nA.apply(null,t))}else{const t=e.map(d=>Zp(d)?iA(fr.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)o[l++]=d[p]}),new Vs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){let e;try{e=JSON.parse(n)}catch{return null}return GS(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dA(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function iw(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n,e){return e}class Jt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||hA}}let pu=null;function fA(n){return!Zp(n)||n.length<2?n:iw(n)}function ow(){if(pu)return pu;const n=[];n.push(new Jt("bucket")),n.push(new Jt("generation")),n.push(new Jt("metageneration")),n.push(new Jt("name","fullPath",!0));function e(l,d){return fA(d)}const t=new Jt("name");t.xform=e,n.push(t);function s(l,d){return d!==void 0?Number(d):d}const o=new Jt("size");return o.xform=s,n.push(o),n.push(new Jt("timeCreated")),n.push(new Jt("updated")),n.push(new Jt("md5Hash",null,!0)),n.push(new Jt("cacheControl",null,!0)),n.push(new Jt("contentDisposition",null,!0)),n.push(new Jt("contentEncoding",null,!0)),n.push(new Jt("contentLanguage",null,!0)),n.push(new Jt("contentType",null,!0)),n.push(new Jt("metadata","customMetadata",!0)),pu=n,pu}function pA(n,e){function t(){const s=n.bucket,o=n.fullPath,l=new vn(s,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function mA(n,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const d=t[l];s[d.local]=d.xform(s,e[d.server])}return pA(s,n),s}function aw(n,e,t){const s=sw(e);return s===null?null:mA(n,s,t)}function gA(n,e,t,s){const o=sw(e);if(o===null||!Zp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const d=encodeURIComponent;return l.split(",").map(x=>{const w=n.bucket,b=n.fullPath,N="/b/"+d(w)+"/o/"+d(b),O=tm(N,t,s),M=ew({alt:"media",token:x});return O+M})[0]}function yA(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class lw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){if(!n)throw Jp()}function xA(n,e){function t(s,o){const l=aw(n,o,e);return cw(l!==null),l}return t}function vA(n,e){function t(s,o){const l=aw(n,o,e);return cw(l!==null),gA(l,o,n.host,n._protocol)}return t}function uw(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=RS():o=PS():t.getStatus()===402?o=CS(n.bucket):t.getStatus()===403?o=jS(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function _A(n){const e=uw(n);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=AS(n.path)),l.serverResponse=o.serverResponse,l}return t}function wA(n,e,t){const s=e.fullServerUrl(),o=tm(s,n.host,n._protocol),l="GET",d=n.maxOperationRetryTime,p=new lw(o,l,vA(n,t),d);return p.errorHandler=_A(e),p}function kA(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function bA(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=kA(null,e)),s}function EA(n,e,t,s,o){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let te="";for(let ce=0;ce<2;ce++)te=te+Math.random().toString().slice(2);return te}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const x=bA(e,s,o),w=yA(x,t),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+x.contentType+`\r
\r
`,N=`\r
--`+m+"--",O=Vs.getBlob(b,s,N);if(O===null)throw US();const M={name:x.fullPath},q=tm(l,n.host,n._protocol),z="POST",ne=n.maxUploadRetryTime,re=new lw(q,z,xA(n,t),ne);return re.urlParams=M,re.headers=d,re.body=O.uploadData(),re.errorHandler=uw(e),re}class NA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw sl("cannot .send() more than once");if(Qs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TA extends NA{initXhr(){this.xhr_.responseType="text"}}function dw(){return new TA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){this._service=e,t instanceof vn?this._location=t:this._location=vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mi(e,t)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iw(this._location.path)}get storage(){return this._service}get parent(){const e=uA(this._location.path);if(e===null)return null;const t=new vn(this._location.bucket,e);return new Mi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BS(e)}}function IA(n,e,t){n._throwIfRoot("uploadBytes");const s=EA(n.storage,n._location,ow(),new Vs(e,!0),t);return n.storage.makeRequestWithTokens(s,dw).then(o=>({metadata:o,ref:n}))}function SA(n){n._throwIfRoot("getDownloadURL");const e=wA(n.storage,n._location,ow());return n.storage.makeRequestWithTokens(e,dw).then(t=>{if(t===null)throw FS();return t})}function AA(n,e){const t=dA(n._location.path,e),s=new vn(n._location.bucket,t);return new Mi(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){return/^[A-Za-z]+:\/\//.test(n)}function PA(n,e){return new Mi(n,e)}function hw(n,e){if(n instanceof nm){const t=n;if(t._bucket==null)throw MS();const s=new Mi(t,t._bucket);return e!=null?hw(s,e):s}else return e!==void 0?AA(n,e):n}function RA(n,e){if(e&&CA(e)){if(n instanceof nm)return PA(n,e);throw Qf("To use ref(service, url), the first argument must be a Storage instance.")}else return hw(n,e)}function rx(n,e){const t=e?.[J_];return t==null?null:vn.makeFromBucketSpec(t,n)}function jA(n,e,t,s={}){n.host=`${e}:${t}`;const o=Qs(e);o&&(sp(`https://${n.host}/b`),ip("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:Ax(l,n.app.options.projectId))}class nm{constructor(e,t,s,o,l,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=X_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IS,this._maxUploadRetryTime=SS,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=rx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=rx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mi(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new $S(Z_());{const d=eA(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const sx="@firebase/storage",ix="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="storage";function pw(n,e,t){return n=dt(n),IA(n,e,t)}function mw(n){return n=dt(n),SA(n)}function gw(n,e){return n=dt(n),RA(n,e)}function DA(n=lp(),e){n=dt(n);const s=nd(n,fw).getImmediate({identifier:e}),o=Tx("storage");return o&&VA(s,...o),s}function VA(n,e,t,s={}){jA(n,e,t,s)}function OA(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new nm(t,s,o,e,Fi)}function LA(){ji(new Bs(fw,OA,"PUBLIC").setMultipleInstances(!0)),pr(sx,ix,""),pr(sx,ix,"esm2020")}LA();const MA={apiKey:"AIzaSyCI5qUXSrau6XMBNMyHnUtgyGFS3rfJknU",authDomain:"notzy-83166.firebaseapp.com",projectId:"notzy-83166",storageBucket:"notzy-83166.firebasestorage.app",messagingSenderId:"471992545792",appId:"1:471992545792:web:e6e7712f07facc9bda1ee5",measurementId:"G-CL4XNKKH8X"},rm=Rx(MA),mu=lT(rm),Id=lS(rm),yw=DA(rm),xw=vd(Id,"users"),$l=vd(Id,"notes"),Wu=vd(Id,"purchases"),Zo=vd(Id,"bookmarks");async function UA(n,e){await kS(oa(xw,n),{name:e.name,email:e.email,avatarUrl:e.avatarUrl||"",totalEarnings:0,createdAt:Ke.now()})}async function vf(n){const e=await Q_(oa(xw,n));if(!e.exists())return null;const t=e.data(),s=await BA(n);return{id:n,name:t.name,email:t.email,avatarUrl:t.avatarUrl||"",totalEarnings:t.totalEarnings||0,uploadedNotes:s}}async function FA(){const n=Xr($l,vS("uploadDate","desc"));return(await Jr(n)).docs.map(t=>{const s=t.data();return{id:t.id,title:s.title,description:s.description,category:s.category,price:s.price,rating:s.rating||0,reviewCount:s.reviewCount||0,salesCount:s.salesCount||0,previewPages:s.previewPages||[],thumbnailUrl:s.thumbnailUrl||"",pdfUrls:s.pdfUrls||[],uploaderId:s.uploaderId,uploaderName:s.uploaderName,uploadDate:s.uploadDate instanceof Ke?s.uploadDate.toDate().toISOString().split("T")[0]:s.uploadDate}})}async function vw(n){const e=await Q_(oa($l,n));if(!e.exists())return null;const t=e.data();return{id:e.id,title:t.title,description:t.description,category:t.category,price:t.price,rating:t.rating||0,reviewCount:t.reviewCount||0,salesCount:t.salesCount||0,previewPages:t.previewPages||[],thumbnailUrl:t.thumbnailUrl||"",pdfUrls:t.pdfUrls||[],uploaderId:t.uploaderId,uploaderName:t.uploaderName,uploadDate:t.uploadDate instanceof Ke?t.uploadDate.toDate().toISOString().split("T")[0]:t.uploadDate}}async function zA(n){return(await Xp($l,{...n,rating:0,reviewCount:0,salesCount:0,uploadDate:Ke.now()})).id}async function BA(n){const e=Xr($l,Hn("uploaderId","==",n));return(await Jr(e)).docs.map(s=>{const o=s.data();return{id:s.id,title:o.title,description:o.description,category:o.category,price:o.price,rating:o.rating||0,reviewCount:o.reviewCount||0,salesCount:o.salesCount||0,previewPages:o.previewPages||[],thumbnailUrl:o.thumbnailUrl||"",pdfUrls:o.pdfUrls||[],uploaderId:o.uploaderId,uploaderName:o.uploaderName,uploadDate:o.uploadDate instanceof Ke?o.uploadDate.toDate().toISOString().split("T")[0]:o.uploadDate}})}async function $A(n){await bS(oa($l,n),{salesCount:TS(1)})}async function qA(n){const e=Xr(Wu,Hn("userId","==",n)),s=(await Jr(e)).docs.map(l=>l.data().noteId);if(s.length===0)return[];const o=[];for(const l of s){const d=await vw(l);d&&o.push(d)}return o}async function HA(n,e){const t=Xr(Wu,Hn("userId","==",n),Hn("noteId","==",e));(await Jr(t)).empty&&(await Xp(Wu,{userId:n,noteId:e,purchasedAt:Ke.now()}),await $A(e))}async function WA(n){const e=Xr(Zo,Hn("userId","==",n)),s=(await Jr(e)).docs.map(l=>l.data().noteId);if(s.length===0)return[];const o=[];for(const l of s){const d=await vw(l);d&&o.push(d)}return o}async function GA(n,e){const t=Xr(Zo,Hn("userId","==",n),Hn("noteId","==",e));(await Jr(t)).empty&&await Xp(Zo,{userId:n,noteId:e,createdAt:Ke.now()})}async function KA(n,e){const t=Xr(Zo,Hn("userId","==",n),Hn("noteId","==",e)),s=await Jr(t);for(const o of s.docs)await ES(oa(Zo,o.id))}async function QA(n){const e=Xr(Zo,Hn("userId","==",n));return(await Jr(e)).docs.map(s=>s.data().noteId)}async function YA(n){const e=Xr(Wu,Hn("userId","==",n));return(await Jr(e)).docs.map(s=>s.data().noteId)}const _w=W.createContext(void 0);function XA({children:n}){const[e,t]=W.useState(null),[s,o]=W.useState(null),[l,d]=W.useState(!0);W.useEffect(()=>{const b=YE(mu,async N=>{if(t(N),N){const O=await vf(N.uid);o(O)}else o(null);d(!1)});return()=>b()},[]);const p=async()=>{if(e){const b=await vf(e.uid);o(b)}},m=async(b,N)=>{try{return await GE(mu,b,N),{success:!0}}catch(O){let M="Failed to sign in";return O.code==="auth/user-not-found"?M="No account found with this email":O.code==="auth/wrong-password"?M="Incorrect password":O.code==="auth/invalid-email"?M="Invalid email address":O.code==="auth/invalid-credential"&&(M="Invalid email or password"),{success:!1,error:M}}},x=async(b,N,O)=>{try{const M=await WE(mu,N,O);await UA(M.user.uid,{name:b,email:N});const q=await vf(M.user.uid);return o(q),{success:!0}}catch(M){let q="Failed to create account";return M.code==="auth/email-already-in-use"?q="An account with this email already exists":M.code==="auth/weak-password"?q="Password should be at least 6 characters":M.code==="auth/invalid-email"&&(q="Invalid email address"),{success:!1,error:q}}},w=async()=>{await XE(mu),t(null),o(null)};return c.jsx(_w.Provider,{value:{user:e,userProfile:s,isAuthenticated:!!e,isLoading:l,login:m,signup:x,logout:w,refreshUserProfile:p},children:n})}function aa(){const n=W.useContext(_w);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),ox=n=>{const e=ZA(n);return e.charAt(0).toUpperCase()+e.slice(1)},ww=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=W.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d,...p},m)=>W.createElement("svg",{ref:m,...eC,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:ww("lucide",o),...p},[...d.map(([x,w])=>W.createElement(x,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(n,e)=>{const t=W.forwardRef(({className:s,...o},l)=>W.createElement(tC,{ref:l,iconNode:e,className:ww(`lucide-${JA(ox(n))}`,`lucide-${n}`,s),...o}));return t.displayName=ox(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wi=De("arrow-left",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kw=De("bell",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bw=De("book-open",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Gu=De("bookmark",iC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aC=De("calendar",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yf=De("chevron-left",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xf=De("chevron-right",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dC=De("circle-alert",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],il=De("circle-check-big",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pC=De("clock",fC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ui=De("dollar-sign",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ls=De("download",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ew=De("eye-off",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sm=De("eye",xC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Nw=De("file-check",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kr=De("file-text",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Jf=De("file",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Zf=De("graduation-cap",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],EC=De("house",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TC=De("image",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],SC=De("info",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],CC=De("library",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ax=De("log-out",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ep=De("mail",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Tw=De("menu",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ku=De("moon",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qu=De("search",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lx=De("settings",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yu=De("shield",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],UC=De("shopping-bag",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zC=De("shopping-cart",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$C=De("square-pen",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tp=De("star",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xu=De("sun",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],GC=De("tag",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],QC=De("trending-up",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],im=De("truck",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],zn=De("upload",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ql=De("user",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sd=De("x",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tP=De("zoom-in",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],rP=De("zoom-out",nP);function sP({currentPage:n,onNavigate:e}){const[t,s]=W.useState(!1),{isDark:o,toggleTheme:l}=wx(),d=[{id:"home",label:"Home",icon:EC},{id:"downloads",label:"Downloads",icon:Ls},{id:"bookmarks",label:"Bookmarks",icon:Gu},{id:"earnings",label:"Earnings",icon:Ui},{id:"profile",label:"My Profile",icon:ql},{id:"upload",label:"Upload Notes",icon:zn},{id:"settings",label:"Settings",icon:lx}];return c.jsxs(c.Fragment,{children:[c.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 h-screen w-64 bg-white dark:bg-slate-900 border-r border-gray-200 dark:border-slate-700 z-40",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(zn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notezy"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Knowledge Marketplace"})]})]})}),c.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:d.map(p=>{const m=p.icon,x=n===p.id;return c.jsxs("button",{onClick:()=>e(p.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${x?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[c.jsx(m,{className:"w-5 h-5"}),c.jsx("span",{children:p.label})]},p.id)})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:c.jsx("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:o?c.jsxs(c.Fragment,{children:[c.jsx(Xu,{className:"w-5 h-5"}),c.jsx("span",{children:"Light Mode"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ku,{className:"w-5 h-5"}),c.jsx("span",{children:"Dark Mode"})]})})})]}),c.jsxs("nav",{className:"lg:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 sticky top-0 z-50 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:c.jsx(zn,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>e("upload"),className:"p-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md",children:c.jsx(zn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",children:o?c.jsx(Xu,{className:"w-5 h-5"}):c.jsx(Ku,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",children:t?c.jsx(Sd,{className:"w-6 h-6"}):c.jsx(Tw,{className:"w-6 h-6"})})]})]}),t&&c.jsx("div",{className:"absolute top-full left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow-lg",children:c.jsx("div",{className:"flex flex-col py-2",children:d.slice(0,5).map(p=>{const m=p.icon;return c.jsxs("button",{onClick:()=>{e(p.id),s(!1)},className:`flex items-center gap-3 px-4 py-3 transition-colors ${n===p.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[c.jsx(m,{className:"w-5 h-5"}),c.jsx("span",{children:p.label})]},p.id)})})})]}),c.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg z-50",children:c.jsx("div",{className:"grid grid-cols-5 py-2",children:[...d.slice(0,4),{id:"settings",label:"Settings",icon:lx}].map(p=>{const m=p.icon,x=n===p.id;return c.jsxs("button",{onClick:()=>e(p.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-colors ${x?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[c.jsx(m,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs",children:p.label})]},p.id)})})})]})}function iP({searchQuery:n,onSearchChange:e,showSearch:t=!0}){const{userProfile:s}=aa();return c.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 lg:ml-64",children:c.jsxs("div",{className:"flex items-center gap-4 px-4 lg:px-8 py-4",children:[t&&c.jsx("div",{className:"flex-1 max-w-2xl",children:c.jsxs("div",{className:"relative",children:[c.jsx(Qu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),c.jsx("input",{type:"text",placeholder:"Search for notes, assignments, books...",value:n,onChange:o=>e(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),c.jsxs("div",{className:"hidden lg:flex items-center gap-3 ml-auto",children:[c.jsxs("button",{className:"relative p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:[c.jsx(kw,{className:"w-5 h-5"}),c.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:s?.name||"User"}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s?.uploadedNotes&&s.uploadedNotes.length>0?"Seller":"Member"})]}),c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:c.jsx(ql,{className:"w-5 h-5 text-white"})})]})]})]})})}function om({note:n,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:l=!1,isPurchased:d=!1}){return c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all border border-gray-200 dark:border-slate-800 group",children:[c.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-slate-800 cursor-pointer overflow-hidden",onClick:()=>e(n),children:[c.jsx("img",{src:n.thumbnailUrl,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center",children:c.jsx(sm,{className:"w-12 h-12 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform"})}),c.jsx("div",{className:"absolute top-3 right-3",children:t&&c.jsx("button",{onClick:p=>{p.stopPropagation(),t(n.id)},className:`p-2.5 rounded-xl ${l?"bg-yellow-500 text-white shadow-lg":"bg-white/90 dark:bg-slate-900/90 text-gray-700 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-900 backdrop-blur-sm"} transition-all`,children:c.jsx(Gu,{className:`w-4 h-4 ${l?"fill-current":""}`})})})]}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[c.jsx("h3",{className:"text-gray-900 dark:text-white line-clamp-2 flex-1",children:n.title}),c.jsxs("span",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent whitespace-nowrap",children:["$",n.price]})]}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:n.description}),c.jsxs("div",{className:"flex items-center gap-3 mb-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(tp,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),c.jsx("span",{className:"text-gray-900 dark:text-white",children:n.rating})]}),c.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["(",n.reviewCount,")"]}),c.jsx("span",{className:"text-gray-400 dark:text-slate-600",children:""}),c.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[n.salesCount," sales"]})]}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:["by ",n.uploaderName]}),!d&&s&&c.jsxs("button",{onClick:()=>s(n.id),className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[c.jsx(zC,{className:"w-4 h-4"}),"Purchase Now"]}),d&&c.jsxs("button",{onClick:()=>o?o(n.id):e(n),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[c.jsx(kr,{className:"w-4 h-4"}),"View Notes"]})]})]})}function oP({notes:n,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,bookmarkedIds:l,purchasedIds:d,searchQuery:p,onSearchChange:m}){const[x,w]=W.useState(null),b=[{id:"assignment",label:"Assignments",icon:kr,color:"from-blue-500 to-blue-600"},{id:"pyq",label:"PYQ Papers",icon:bw,color:"from-green-500 to-green-600"},{id:"book",label:"Books",icon:CC,color:"from-purple-500 to-purple-600"}],N=n.filter(M=>{const q=M.title.toLowerCase().includes(p.toLowerCase())||M.description.toLowerCase().includes(p.toLowerCase()),z=!x||M.category===x;return q&&z}),O=[...n].sort((M,q)=>q.salesCount-M.salesCount).slice(0,8);return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[m&&c.jsx("div",{className:"lg:hidden mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Qu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-500"}),c.jsx("input",{type:"text",placeholder:"Search for notes, assignments, books...",value:p,onChange:M=>m(M.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:b.map(M=>{const q=M.icon,z=x===M.id;return c.jsxs("button",{onClick:()=>w(z?null:M.id),className:`bg-gradient-to-br ${M.color} ${z?"ring-4 ring-offset-2 dark:ring-offset-gray-950 ring-gray-400 dark:ring-gray-600":""} text-white p-6 rounded-2xl hover:shadow-2xl transition-all flex items-center gap-4 shadow-lg`,children:[c.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl backdrop-blur-sm",children:c.jsx(q,{className:"w-8 h-8"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-white",children:M.label}),c.jsxs("div",{className:"text-white text-opacity-90 text-sm",children:[n.filter(ne=>ne.category===M.id).length," items"]})]})]},M.id)})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-gray-900 dark:text-white mb-6",children:x?`${b.find(M=>M.id===x)?.label}`:"Top Purchased Notes"}),N.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(x?N:O).map(M=>c.jsx(om,{note:M,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:l.includes(M.id),isPurchased:d.includes(M.id)},M.id))}):c.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[c.jsx(Qu,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),c.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No notes found matching your search"})]})]})]})})}function aP({purchasedNotes:n}){const e=(s,o)=>{window.open(s,"_blank")},t=s=>{s.pdfUrls&&s.pdfUrls.length>0&&s.pdfUrls.forEach((o,l)=>{setTimeout(()=>{window.open(o,"_blank")},l*500)})};return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(Ls,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Downloads"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Download your purchased notes"})]})]}),n.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-xl p-4 mb-6",children:c.jsxs("p",{className:"text-blue-900 dark:text-blue-200",children:["You have purchased ",n.length," notes"]})}),c.jsx("div",{className:"space-y-4",children:n.map(s=>c.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-lg",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:c.jsx(kr,{className:"w-8 h-8 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-1",children:s.title}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2",children:s.description}),c.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-slate-500",children:[c.jsx("span",{className:"capitalize",children:s.category}),c.jsx("span",{children:""}),c.jsxs("span",{children:["By ",s.uploaderName]}),s.pdfUrls&&s.pdfUrls.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsxs("span",{children:[s.pdfUrls.length," PDF file(s)"]})]})]})]}),c.jsx("div",{className:"px-3 py-1 bg-green-500 text-white text-xs rounded-full flex-shrink-0",children:"Purchased"})]}),s.pdfUrls&&s.pdfUrls.length>0?c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[s.pdfUrls.length," PDF file(s) available"]}),s.pdfUrls.length>1&&c.jsxs("button",{onClick:()=>t(s),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm rounded-lg hover:shadow-lg transition-all",children:[c.jsx(Ls,{className:"w-4 h-4"}),"Download All"]})]}),c.jsx("div",{className:"space-y-2",children:s.pdfUrls.map((o,l)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Jf,{className:"w-5 h-5 text-red-500"}),c.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[s.title," - File ",l+1,".pdf"]})]}),c.jsxs("button",{onClick:()=>e(o,`${s.title}_${l+1}.pdf`),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:[c.jsx(Ls,{className:"w-4 h-4"}),"Download"]})]},l))})]}):c.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4 text-center",children:c.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No PDF files available for this note"})})]})},s.id))})]}):c.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[c.jsx(Ls,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),c.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Downloads Yet"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Purchase some notes to see them here"})]})]})})}function lP({bookmarkedNotes:n,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,purchasedIds:l}){return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(Gu,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Bookmarks"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Your saved notes collection"})]})]}),n.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-xl p-4 mb-6",children:c.jsxs("p",{className:"text-yellow-900 dark:text-yellow-200",children:["You have ",n.length," bookmarked notes"]})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(d=>c.jsx(om,{note:d,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:!0,isPurchased:l.includes(d.id)},d.id))})]}):c.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[c.jsx(Gu,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),c.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Bookmarks Yet"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Bookmark notes to save them for later"})]})]})})}function cP({totalEarnings:n,uploadedNotes:e}){const t=e.reduce((o,l)=>o+l.salesCount,0),s=e.map(o=>({...o,earnings:o.price*o.salesCount})).sort((o,l)=>l.earnings-o.earnings);return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl flex items-center justify-center",children:c.jsx(Ui,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Earnings"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track your sales performance"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Ui,{className:"w-8 h-8"}),c.jsx("span",{className:"text-white text-opacity-90",children:"Total Earnings"})]}),c.jsxs("div",{className:"text-white text-3xl",children:["$",n.toFixed(2)]}),c.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"All time revenue"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(UC,{className:"w-8 h-8"}),c.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),c.jsx("div",{className:"text-white text-3xl",children:t}),c.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Notes sold"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(kr,{className:"w-8 h-8"}),c.jsx("span",{className:"text-white text-opacity-90",children:"Active Listings"})]}),c.jsx("div",{className:"text-white text-3xl",children:e.length}),c.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Available for sale"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:c.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Earnings Breakdown"})}),s.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note Title"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Rating"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Earnings"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:s.map(o=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:o.title}),c.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["$",o.price]}),c.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:o.salesCount}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:o.rating}),c.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["(",o.reviewCount,")"]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["$",o.earnings.toFixed(2)]})})]},o.id))})]})}):c.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[c.jsx(QC,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),c.jsx("p",{children:"No earnings yet. Start uploading notes to earn!"})]})]})]})})}function uP({user:n,onPreview:e}){const[t,s]=W.useState(!1),[o,l]=W.useState(n.name),[d,p]=W.useState(n.email),m=()=>{s(!1)};return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[c.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-8 shadow-lg",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl",children:c.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-full h-full rounded-2xl object-cover"})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-lg border-4 border-white dark:border-gray-900"})]}),c.jsx("div",{className:"flex-1",children:t?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Name"}),c.jsx("input",{type:"text",value:o,onChange:x=>l(x.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Email"}),c.jsx("input",{type:"email",value:d,onChange:x=>p(x.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:m,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Save Changes"}),c.jsx("button",{onClick:()=>{s(!1),l(n.name),p(n.email)},className:"px-6 py-2.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white mb-3",children:n.name}),c.jsxs("div",{className:"flex flex-col gap-2 text-gray-600 dark:text-gray-400 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ep,{className:"w-4 h-4"}),c.jsx("span",{children:n.email})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(aC,{className:"w-4 h-4"}),c.jsx("span",{children:"Member since 2024"})]})]}),c.jsxs("button",{onClick:()=>s(!0),className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2",children:[c.jsx($C,{className:"w-4 h-4"}),"Edit Profile"]})]})}),c.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-center shadow-xl",children:[c.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Total Earnings"}),c.jsxs("div",{className:"text-white text-3xl",children:["$",n.totalEarnings.toFixed(2)]})]})]})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-gray-900 dark:text-white mb-6",children:["My Uploaded Notes (",n.uploadedNotes.length,")"]}),n.uploadedNotes.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.uploadedNotes.map(x=>c.jsx(om,{note:x,onPreview:e,isPurchased:!0},x.id))}):c.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[c.jsx(ql,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),c.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Uploaded Notes"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start uploading notes to build your collection"})]})]})]})})}async function dP(n,e,t){const s=n.name.split(".").pop()||"jpg",o=`notes/${e}/preview_${t}.${s}`,l=gw(yw,o);return await pw(l,n),await mw(l)}async function hP(n,e){const t=n.name.split(".").pop()||"pdf",s=`notes/${e}/document.${t}`,o=gw(yw,s);return await pw(o,n),await mw(o)}function fP(){const{user:n,userProfile:e}=aa(),[t,s]=W.useState(""),[o,l]=W.useState(""),[d,p]=W.useState(""),[m,x]=W.useState("assignment"),[w,b]=W.useState([]),[N,O]=W.useState([]),[M,q]=W.useState(!1),[z,ne]=W.useState(!1),[re,te]=W.useState(""),[ce,ke]=W.useState(""),ve=async A=>{if(A.preventDefault(),!n||!e){ke("You must be logged in to upload notes");return}if(N.length===0){ke("Please upload at least one PDF file");return}if(w.length===0){ke("Please upload at least one preview image");return}ke(""),ne(!0);try{const C=`note_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;te(`Uploading ${N.length} PDF file(s)...`);const D=[];for(let je=0;je<N.length;je++){te(`Uploading PDF ${je+1} of ${N.length}...`);const Te=await hP(N[je],`${C}_${je}`);D.push(Te)}te("Uploading preview images...");const I=[];for(let je=0;je<w.length;je++){const Te=await dP(w[je],C,je);I.push(Te)}te("Creating note..."),await zA({title:t,description:o,category:m,price:parseFloat(d),previewPages:I,thumbnailUrl:I[0]||"",pdfUrls:D,uploaderId:n.uid,uploaderName:e.name}),q(!0),te(""),setTimeout(()=>{q(!1),s(""),l(""),p(""),x("assignment"),b([]),O([])},3e3)}catch(C){console.error("Error uploading note:",C),ke("Failed to upload note. Please try again."),te("")}finally{ne(!1)}},P=A=>{A.target.files&&b(Array.from(A.target.files))},E=A=>{A.target.files&&O(Array.from(A.target.files))},S=()=>(N.reduce((C,D)=>C+D.size,0)/1024/1024).toFixed(2);return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-20 lg:pb-8 lg:ml-64",children:c.jsxs("div",{className:"max-w-3xl mx-auto px-4 lg:px-8 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:c.jsx(zn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Upload Notes"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share your knowledge and earn"})]})]}),M?c.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-8 text-center shadow-xl",children:[c.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(zn,{className:"w-8 h-8 text-white"})}),c.jsx("h3",{className:"text-white mb-2",children:"Notes Uploaded Successfully!"}),c.jsx("p",{className:"text-white text-opacity-90",children:"Your notes are now live and available for purchase."})]}):c.jsxs("form",{onSubmit:ve,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 space-y-6 shadow-lg",children:[ce&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:ce}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(kr,{className:"w-4 h-4"}),c.jsx("span",{children:"Note Title *"})]}),c.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),placeholder:"e.g., Advanced Mathematics Assignment Solutions",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(kr,{className:"w-4 h-4"}),c.jsx("span",{children:"Description *"})]}),c.jsx("textarea",{value:o,onChange:A=>l(A.target.value),placeholder:"Describe what's included in your notes...",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(GC,{className:"w-4 h-4"}),c.jsx("span",{children:"Category *"})]}),c.jsxs("select",{value:m,onChange:A=>x(A.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[c.jsx("option",{value:"assignment",children:"Assignment"}),c.jsx("option",{value:"pyq",children:"PYQ Paper"}),c.jsx("option",{value:"book",children:"Book"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(Ui,{className:"w-4 h-4"}),c.jsx("span",{children:"Price (USD) *"})]}),c.jsx("input",{type:"number",value:d,onChange:A=>p(A.target.value),placeholder:"9.99",step:"0.01",min:"0",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(Jf,{className:"w-4 h-4"}),c.jsx("span",{children:"PDF Files *"})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload one or more PDF files (these are the files buyers will download)"}),c.jsx("input",{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:E,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 text-gray-900 dark:text-white"}),N.length>0&&c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[N.length," PDF file(s) selected (",S()," MB total)"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((A,C)=>c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400",children:[c.jsx(Jf,{className:"w-3 h-3"}),c.jsx("span",{className:"max-w-[150px] truncate",children:A.name})]},C))})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(TC,{className:"w-4 h-4"}),c.jsx("span",{children:"Preview Images *"})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload 1-3 preview images (screenshots of your notes) to show potential buyers"}),c.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 text-gray-900 dark:text-white"}),w.length>0&&c.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:[w.length," preview image(s) selected"]})]}),c.jsx("button",{type:"submit",disabled:z,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3.5 rounded-xl hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:z?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),re||"Uploading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(zn,{className:"w-5 h-5"}),"Upload Notes"]})})]}),c.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-blue-900 dark:text-blue-200 mb-3",children:"Upload Guidelines"}),c.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-300 text-sm",children:[c.jsx("li",{children:" Ensure your notes are original or you have permission to sell them"}),c.jsx("li",{children:" You can upload multiple PDF files for a single note listing"}),c.jsx("li",{children:" Provide 1-3 preview images showing sample pages from your notes"}),c.jsx("li",{children:" Write an accurate description of what's included"}),c.jsx("li",{children:" Price your notes fairly based on content quality and length"})]})]})]})})}function pP({note:n,onClose:e}){const[t,s]=W.useState(0),o=[],l=()=>{t<n.previewPages.length-1&&s(t+1)},d=()=>{t>0&&s(t-1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[c.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 lg:p-6 flex items-center justify-between z-10 rounded-t-2xl",children:[c.jsx("h2",{className:"text-gray-900 dark:text-white pr-8",children:n.title}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors flex-shrink-0",children:c.jsx(Sd,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),c.jsxs("div",{className:"p-4 lg:p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-gray-900 dark:text-white mb-3",children:["Preview Pages (",n.previewPages.length," pages)"]}),c.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden",children:[c.jsx("img",{src:n.previewPages[t],alt:`Page ${t+1}`,className:"w-full h-auto"}),n.previewPages.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:d,disabled:t===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:c.jsx(Yf,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),c.jsx("button",{onClick:l,disabled:t===n.previewPages.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:c.jsx(Xf,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),c.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-xl text-sm backdrop-blur-sm",children:[t+1," / ",n.previewPages.length]})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"Description"}),c.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:n.description})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-xl shadow-lg",children:[c.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Price"}),c.jsxs("div",{className:"text-white text-xl",children:["$",n.price]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 p-4 rounded-xl shadow-lg",children:[c.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Rating"}),c.jsxs("div",{className:"flex items-center gap-1 text-white",children:[c.jsx(tp,{className:"w-4 h-4 fill-current"}),c.jsx("span",{className:"text-xl",children:n.rating})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 rounded-xl shadow-lg",children:[c.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Sales"}),c.jsx("div",{className:"text-white text-xl",children:n.salesCount})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-4 rounded-xl shadow-lg",children:[c.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Category"}),c.jsx("div",{className:"text-white text-xl capitalize",children:n.category})]})]}),c.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-2xl border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:c.jsx(ql,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Uploaded by"}),c.jsx("div",{className:"text-gray-900 dark:text-white",children:n.uploaderName})]})]})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-gray-900 dark:text-white mb-4",children:["Reviews (",n.reviewCount,")"]}),o.length>0?c.jsx("div",{className:"space-y-4",children:o.map(p=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:p.userName}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(tp,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),c.jsx("span",{className:"text-gray-900 dark:text-white",children:p.rating})]})]}),c.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:p.comment}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:p.date})]},p.id))}):c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No reviews yet"})]})]})]})})}function cx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function am(...n){return e=>{let t=!1;const s=n.map(o=>{const l=cx(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():cx(n[o],null)}}}}function Iw(...n){return W.useCallback(am(...n),n)}var mP=Symbol.for("react.lazy"),Ju=vx[" use ".trim().toString()];function gP(n){return typeof n=="object"&&n!==null&&"then"in n}function Sw(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===mP&&"_payload"in n&&gP(n._payload)}function yP(n){const e=vP(n),t=W.forwardRef((s,o)=>{let{children:l,...d}=s;Sw(l)&&typeof Ju=="function"&&(l=Ju(l._payload));const p=W.Children.toArray(l),m=p.find(wP);if(m){const x=m.props.children,w=p.map(b=>b===m?W.Children.count(x)>1?W.Children.only(null):W.isValidElement(x)?x.props.children:null:b);return c.jsx(e,{...d,ref:o,children:W.isValidElement(x)?W.cloneElement(x,void 0,w):null})}return c.jsx(e,{...d,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}var xP=yP("Slot");function vP(n){const e=W.forwardRef((t,s)=>{let{children:o,...l}=t;if(Sw(o)&&typeof Ju=="function"&&(o=Ju(o._payload)),W.isValidElement(o)){const d=bP(o),p=kP(l,o.props);return o.type!==W.Fragment&&(p.ref=s?am(s,d):d),W.cloneElement(o,p)}return W.Children.count(o)>1?W.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _P=Symbol("radix.slottable");function wP(n){return W.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_P}function kP(n,e){const t={...e};for(const s in e){const o=n[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...p)=>{const m=l(...p);return o(...p),m}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function bP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Aw(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Aw(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Cw(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Aw(n))&&(s&&(s+=" "),s+=e);return s}const ux=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,dx=Cw,EP=(n,e)=>t=>{var s;if(e?.variants==null)return dx(n,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,d=Object.keys(o).map(x=>{const w=t?.[x],b=l?.[x];if(w===null)return null;const N=ux(w)||ux(b);return o[x][N]}),p=t&&Object.entries(t).reduce((x,w)=>{let[b,N]=w;return N===void 0||(x[b]=N),x},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((x,w)=>{let{class:b,className:N,...O}=w;return Object.entries(O).every(M=>{let[q,z]=M;return Array.isArray(z)?z.includes({...l,...p}[q]):{...l,...p}[q]===z})?[...x,b,N]:x},[]);return dx(n,d,m,t?.class,t?.className)},NP=(n,e)=>{const t=new Array(n.length+e.length);for(let s=0;s<n.length;s++)t[s]=n[s];for(let s=0;s<e.length;s++)t[n.length+s]=e[s];return t},TP=(n,e)=>({classGroupId:n,validator:e}),Pw=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Zu="-",hx=[],IP="arbitrary..",SP=n=>{const e=CP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return AP(d);const p=d.split(Zu),m=p[0]===""&&p.length>1?1:0;return Rw(p,m,e)},getConflictingClassGroupIds:(d,p)=>{if(p){const m=s[d],x=t[d];return m?x?NP(x,m):m:x||hx}return t[d]||hx}}},Rw=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],l=t.nextPart.get(o);if(l){const x=Rw(n,e+1,l);if(x)return x}const d=t.validators;if(d===null)return;const p=e===0?n.join(Zu):n.slice(e).join(Zu),m=d.length;for(let x=0;x<m;x++){const w=d[x];if(w.validator(p))return w.classGroupId}},AP=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?IP+s:void 0})(),CP=n=>{const{theme:e,classGroups:t}=n;return PP(t,e)},PP=(n,e)=>{const t=Pw();for(const s in n){const o=n[s];lm(o,t,s,e)}return t},lm=(n,e,t,s)=>{const o=n.length;for(let l=0;l<o;l++){const d=n[l];RP(d,e,t,s)}},RP=(n,e,t,s)=>{if(typeof n=="string"){jP(n,e,t);return}if(typeof n=="function"){DP(n,e,t,s);return}VP(n,e,t,s)},jP=(n,e,t)=>{const s=n===""?e:jw(e,n);s.classGroupId=t},DP=(n,e,t,s)=>{if(OP(n)){lm(n(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(TP(t,n))},VP=(n,e,t,s)=>{const o=Object.entries(n),l=o.length;for(let d=0;d<l;d++){const[p,m]=o[d];lm(m,jw(e,p),t,s)}},jw=(n,e)=>{let t=n;const s=e.split(Zu),o=s.length;for(let l=0;l<o;l++){const d=s[l];let p=t.nextPart.get(d);p||(p=Pw(),t.nextPart.set(d,p)),t=p}return t},OP=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,LP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const o=(l,d)=>{t[l]=d,e++,e>n&&(e=0,s=t,t=Object.create(null))};return{get(l){let d=t[l];if(d!==void 0)return d;if((d=s[l])!==void 0)return o(l,d),d},set(l,d){l in t?t[l]=d:o(l,d)}}},np="!",fx=":",MP=[],px=(n,e,t,s,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:o}),UP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=o=>{const l=[];let d=0,p=0,m=0,x;const w=o.length;for(let q=0;q<w;q++){const z=o[q];if(d===0&&p===0){if(z===fx){l.push(o.slice(m,q)),m=q+1;continue}if(z==="/"){x=q;continue}}z==="["?d++:z==="]"?d--:z==="("?p++:z===")"&&p--}const b=l.length===0?o:o.slice(m);let N=b,O=!1;b.endsWith(np)?(N=b.slice(0,-1),O=!0):b.startsWith(np)&&(N=b.slice(1),O=!0);const M=x&&x>m?x-m:void 0;return px(l,O,N,M)};if(e){const o=e+fx,l=s;s=d=>d.startsWith(o)?l(d.slice(o.length)):px(MP,!1,d,void 0,!0)}if(t){const o=s;s=l=>t({className:l,parseClassName:o})}return s},FP=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let o=[];for(let l=0;l<t.length;l++){const d=t[l],p=d[0]==="[",m=e.has(d);p||m?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(d)):o.push(d)}return o.length>0&&(o.sort(),s.push(...o)),s}},zP=n=>({cache:LP(n.cacheSize),parseClassName:UP(n),sortModifiers:FP(n),...SP(n)}),BP=/\s+/,$P=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=e,d=[],p=n.trim().split(BP);let m="";for(let x=p.length-1;x>=0;x-=1){const w=p[x],{isExternal:b,modifiers:N,hasImportantModifier:O,baseClassName:M,maybePostfixModifierPosition:q}=t(w);if(b){m=w+(m.length>0?" "+m:m);continue}let z=!!q,ne=s(z?M.substring(0,q):M);if(!ne){if(!z){m=w+(m.length>0?" "+m:m);continue}if(ne=s(M),!ne){m=w+(m.length>0?" "+m:m);continue}z=!1}const re=N.length===0?"":N.length===1?N[0]:l(N).join(":"),te=O?re+np:re,ce=te+ne;if(d.indexOf(ce)>-1)continue;d.push(ce);const ke=o(ne,z);for(let ve=0;ve<ke.length;++ve){const P=ke[ve];d.push(te+P)}m=w+(m.length>0?" "+m:m)}return m},qP=(...n)=>{let e=0,t,s,o="";for(;e<n.length;)(t=n[e++])&&(s=Dw(t))&&(o&&(o+=" "),o+=s);return o},Dw=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=Dw(n[s]))&&(t&&(t+=" "),t+=e);return t},HP=(n,...e)=>{let t,s,o,l;const d=m=>{const x=e.reduce((w,b)=>b(w),n());return t=zP(x),s=t.cache.get,o=t.cache.set,l=p,p(m)},p=m=>{const x=s(m);if(x)return x;const w=$P(m,t);return o(m,w),w};return l=d,(...m)=>l(qP(...m))},WP=[],St=n=>{const e=t=>t[n]||WP;return e.isThemeGetter=!0,e},Vw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ow=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GP=/^\d+\/\d+$/,KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vo=n=>GP.test(n),Le=n=>!!n&&!Number.isNaN(Number(n)),Cs=n=>!!n&&Number.isInteger(Number(n)),_f=n=>n.endsWith("%")&&Le(n.slice(0,-1)),Br=n=>KP.test(n),ZP=()=>!0,eR=n=>QP.test(n)&&!YP.test(n),Lw=()=>!1,tR=n=>XP.test(n),nR=n=>JP.test(n),rR=n=>!de(n)&&!he(n),sR=n=>la(n,Fw,Lw),de=n=>Vw.test(n),Ii=n=>la(n,zw,eR),wf=n=>la(n,cR,Le),mx=n=>la(n,Mw,Lw),iR=n=>la(n,Uw,nR),gu=n=>la(n,Bw,tR),he=n=>Ow.test(n),ol=n=>ca(n,zw),oR=n=>ca(n,uR),gx=n=>ca(n,Mw),aR=n=>ca(n,Fw),lR=n=>ca(n,Uw),yu=n=>ca(n,Bw,!0),la=(n,e,t)=>{const s=Vw.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},ca=(n,e,t=!1)=>{const s=Ow.exec(n);return s?s[1]?e(s[1]):t:!1},Mw=n=>n==="position"||n==="percentage",Uw=n=>n==="image"||n==="url",Fw=n=>n==="length"||n==="size"||n==="bg-size",zw=n=>n==="length",cR=n=>n==="number",uR=n=>n==="family-name",Bw=n=>n==="shadow",dR=()=>{const n=St("color"),e=St("font"),t=St("text"),s=St("font-weight"),o=St("tracking"),l=St("leading"),d=St("breakpoint"),p=St("container"),m=St("spacing"),x=St("radius"),w=St("shadow"),b=St("inset-shadow"),N=St("text-shadow"),O=St("drop-shadow"),M=St("blur"),q=St("perspective"),z=St("aspect"),ne=St("ease"),re=St("animate"),te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ke=()=>[...ce(),he,de],ve=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],E=()=>[he,de,m],S=()=>[Vo,"full","auto",...E()],A=()=>[Cs,"none","subgrid",he,de],C=()=>["auto",{span:["full",Cs,he,de]},Cs,he,de],D=()=>[Cs,"auto",he,de],I=()=>["auto","min","max","fr",he,de],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],Se=()=>["auto",...E()],Ce=()=>[Vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],H=()=>[n,he,de],me=()=>[...ce(),gx,mx,{position:[he,de]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",aR,sR,{size:[he,de]}],Q=()=>[_f,ol,Ii],ge=()=>["","none","full",x,he,de],ye=()=>["",Le,ol,Ii],Ve=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[Le,_f,gx,mx],Ue=()=>["","none",M,he,de],We=()=>["none",Le,he,de],vt=()=>["none",Le,he,de],Wn=()=>[Le,he,de],Gn=()=>[Vo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Br],breakpoint:[Br],color:[ZP],container:[Br],"drop-shadow":[Br],ease:["in","out","in-out"],font:[rR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Br],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Br],shadow:[Br],spacing:["px",Le],text:[Br],"text-shadow":[Br],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vo,de,he,z]}],container:["container"],columns:[{columns:[Le,de,he,p]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ke()}],overflow:[{overflow:ve()}],"overflow-x":[{"overflow-x":ve()}],"overflow-y":[{"overflow-y":ve()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[Cs,"auto",he,de]}],basis:[{basis:[Vo,"full","auto",p,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Vo,"auto","initial","none",de]}],grow:[{grow:["",Le,he,de]}],shrink:[{shrink:["",Le,he,de]}],order:[{order:[Cs,"first","last","none",he,de]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Se()}],mx:[{mx:Se()}],my:[{my:Se()}],ms:[{ms:Se()}],me:[{me:Se()}],mt:[{mt:Se()}],mr:[{mr:Se()}],mb:[{mb:Se()}],ml:[{ml:Se()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[p,"screen",...Ce()]}],"min-w":[{"min-w":[p,"screen","none",...Ce()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...Ce()]}],h:[{h:["screen","lh",...Ce()]}],"min-h":[{"min-h":["screen","lh","none",...Ce()]}],"max-h":[{"max-h":["screen","lh",...Ce()]}],"font-size":[{text:["base",t,ol,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,he,wf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_f,de]}],"font-family":[{font:[oR,de,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,he,de]}],"line-clamp":[{"line-clamp":[Le,"none",he,wf]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",he,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",he,Ii]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Le,"auto",he,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cs,he,de],radial:["",he,de],conic:[Cs,he,de]},lR,iR]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,he,de]}],"outline-w":[{outline:["",Le,ol,Ii]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",w,yu,gu]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",b,yu,gu]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Le,Ii]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,yu,gu]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Le,he,de]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[he,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,de]}],filter:[{filter:["","none",he,de]}],blur:[{blur:Ue()}],brightness:[{brightness:[Le,he,de]}],contrast:[{contrast:[Le,he,de]}],"drop-shadow":[{"drop-shadow":["","none",O,yu,gu]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Le,he,de]}],"hue-rotate":[{"hue-rotate":[Le,he,de]}],invert:[{invert:["",Le,he,de]}],saturate:[{saturate:[Le,he,de]}],sepia:[{sepia:["",Le,he,de]}],"backdrop-filter":[{"backdrop-filter":["","none",he,de]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Le,he,de]}],"backdrop-contrast":[{"backdrop-contrast":[Le,he,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,he,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,he,de]}],"backdrop-invert":[{"backdrop-invert":["",Le,he,de]}],"backdrop-opacity":[{"backdrop-opacity":[Le,he,de]}],"backdrop-saturate":[{"backdrop-saturate":[Le,he,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,he,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",he,de]}],ease:[{ease:["linear","initial",ne,he,de]}],delay:[{delay:[Le,he,de]}],animate:[{animate:["none",re,he,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[q,he,de]}],"perspective-origin":[{"perspective-origin":ke()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:vt()}],"scale-x":[{"scale-x":vt()}],"scale-y":[{"scale-y":vt()}],"scale-z":[{"scale-z":vt()}],"scale-3d":["scale-3d"],skew:[{skew:Wn()}],"skew-x":[{"skew-x":Wn()}],"skew-y":[{"skew-y":Wn()}],transform:[{transform:[he,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:ke()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Gn()}],"translate-x":[{"translate-x":Gn()}],"translate-y":[{"translate-y":Gn()}],"translate-z":[{"translate-z":Gn()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,de]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Le,ol,Ii,wf]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hR=HP(dR);function ed(...n){return hR(Cw(n))}const fR=EP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ut({className:n,variant:e,size:t,asChild:s=!1,...o}){const l=s?xP:"button";return c.jsx(l,{"data-slot":"button",className:ed(fR({variant:e,size:t,className:n})),...o})}function pR({onNavigateToLogin:n,onNavigateToSignup:e}){const[t,s]=W.useState(!1),[o,l]=W.useState(""),{isDark:d,toggleTheme:p}=wx(),m=w=>{const b=document.getElementById(w);b&&(b.scrollIntoView({behavior:"smooth"}),s(!1))},x=[{icon:kr,title:"Assignments",description:"Access high-quality assignment solutions from top students across various subjects and courses."},{icon:bw,title:"PYQ Papers",description:"Download previous year question papers with detailed solutions to ace your exams."},{icon:Zf,title:"Lecture Notes",description:"Comprehensive lecture notes prepared by experienced students and educators."},{icon:Ui,title:"Earn Money",description:"Upload your notes and earn from every download. Turn your knowledge into income."}];return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[c.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(zn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notezy"}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[c.jsx("button",{onClick:()=>m("about"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),c.jsx("button",{onClick:()=>m("features"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),c.jsx("button",{onClick:()=>m("contact"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"}),c.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors",children:d?c.jsx(Xu,{className:"w-5 h-5"}):c.jsx(Ku,{className:"w-5 h-5"})}),c.jsx(ut,{onClick:n,variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),c.jsx(ut,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg",children:"Sign Up"})]}),c.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[c.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:d?c.jsx(Xu,{className:"w-5 h-5"}):c.jsx(Ku,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:t?c.jsx(Sd,{className:"w-6 h-6"}):c.jsx(Tw,{className:"w-6 h-6"})})]})]}),t&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-slate-800",children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>m("about"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"About Us"}),c.jsx("button",{onClick:()=>m("features"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Features"}),c.jsx("button",{onClick:()=>m("contact"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Contact"}),c.jsxs("div",{className:"flex gap-2 px-4 pt-2",children:[c.jsx(ut,{onClick:n,variant:"outline",className:"flex-1 border-gray-300 dark:border-slate-700 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),c.jsx(ut,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Sign Up"})]})]})})]})}),c.jsxs("section",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 via-purple-100/50 to-pink-100/50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20"}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-slate-800/50 border border-green-200 dark:border-slate-700 rounded-full mb-8",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm text-green-700 dark:text-slate-300",children:"New Platform  Just Launched"})]}),c.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl text-gray-900 dark:text-white mb-6",children:["Your Academic Success",c.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Starts Here"})]}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Access quality assignments, PYQs, and lecture notes. Share your knowledge and earn from your notes."}),c.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx(Qu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQ papers...",value:o,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800/50 border border-gray-300 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(ut,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-xl text-lg px-8 py-6",children:"Get Started Free"}),c.jsx(ut,{onClick:()=>m("features"),variant:"outline",className:"border-gray-300 dark:border-slate-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-800 text-lg px-8 py-6",children:"Learn More"})]})]})})]}),c.jsx("section",{id:"features",className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 dark:text-white mb-4",children:"What We Offer"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Everything you need to excel in your studies and earn from your knowledge"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((w,b)=>{const N=w.icon;return c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all group hover:shadow-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(N,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),c.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:w.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:w.description})]},b)})})]})}),c.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-950",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 shadow-lg",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx(Zf,{className:"w-6 h-6 text-white"})}),c.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white",children:"About Us"})]}),c.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[c.jsxs("p",{children:["Welcome to ",c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),c.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),c.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),c.jsx("div",{className:"pt-4",children:c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[c.jsx(Ui,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})})]})]})})}),c.jsx("section",{className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Yu,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Privacy Policy"})]}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"All user data is encrypted and stored securely"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"We never share your personal information with third parties"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Payment information is processed through secure gateways"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"You have full control over your data and can request deletion anytime"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Nw,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"By using Notezy, you agree to our terms of service designed to ensure a fair and transparent marketplace."}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"All uploaded content must be original or properly authorized"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:c.jsx("span",{className:"text-amber-600 dark:text-yellow-400",children:"Notes once purchased cannot be returned or refunded"})})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Sellers are responsible for the accuracy of their content"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Platform fees apply to all transactions"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(kr,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg",children:c.jsx("p",{className:"text-red-700 dark:text-red-400",children:c.jsx("span",{children:"No Refunds  No Cancellations"})})}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"Due to the digital nature of our products, all sales are final. Once you purchase and download notes, they cannot be returned or refunded."}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We encourage users to carefully review note previews, ratings, and reviews before making a purchase. If you encounter any issues with downloaded content, please contact our support team."})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(im,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Shipping & Delivery"})]}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"All notes are delivered digitally - no physical shipping required!"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"Instant access after payment confirmation"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:'Download your purchased notes from the "Downloads" section'})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"Access your notes anytime, anywhere"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"No delivery charges or waiting time"})]})]})]})]})})}),c.jsx("section",{id:"contact",className:"py-20 bg-white dark:bg-slate-950",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/50 dark:to-slate-800/30 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 text-center shadow-lg",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6",children:c.jsx(ep,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white mb-4",children:"Get in Touch"}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-6 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."}),c.jsxs("a",{href:"mailto:notzy2026@gmail.com",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700/50 dark:hover:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white transition-colors",children:[c.jsx(ep,{className:"w-5 h-5"}),c.jsx("span",{children:"notzy2026@gmail.com"})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-700",children:c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})})}),c.jsx("footer",{className:"bg-gray-100 dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800 py-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx(zn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Notezy"}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Knowledge Marketplace"})]})]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[c.jsx("button",{onClick:()=>m("about"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),c.jsx("button",{onClick:()=>m("features"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),c.jsx("button",{onClick:()=>m("contact"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"})]})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-800 text-center text-sm text-gray-500 dark:text-slate-500",children:c.jsx("p",{children:" 2025 Notezy. All rights reserved. Built for students, by students."})})]})})]})}function zo({className:n,type:e,...t}){return c.jsx("input",{type:e,"data-slot":"input",className:ed("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function mR({onNavigateToSignup:n,onNavigateToLanding:e}){const[t,s]=W.useState(""),[o,l]=W.useState(""),[d,p]=W.useState(!1),[m,x]=W.useState(""),[w,b]=W.useState(!1),{login:N}=aa(),O=async M=>{if(M.preventDefault(),x(""),b(!0),!t||!o){x("Please fill in all fields"),b(!1);return}const q=await N(t,o);q.success||x(q.error||"Invalid email or password"),b(!1)};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-4 py-8",children:[e&&c.jsxs("button",{onClick:e,className:"fixed top-4 left-4 flex items-center gap-2 px-4 py-2 bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:text-white transition-colors z-50",children:[c.jsx(Wi,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:c.jsx(zn,{className:"w-8 h-8 text-white"})})}),c.jsx("h1",{className:"text-3xl text-white mb-2",children:"Welcome Back"}),c.jsx("p",{className:"text-slate-400",children:"Sign in to access your notes marketplace"})]}),c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[c.jsxs("form",{onSubmit:O,className:"space-y-6",children:[m&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:m}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"block text-sm text-slate-300",children:"Email Address"}),c.jsx(zo,{id:"email",type:"email",value:t,onChange:M=>s(M.target.value),placeholder:"Enter your email",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"block text-sm text-slate-300",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(zo,{id:"password",type:d?"text":"password",value:o,onChange:M=>l(M.target.value),placeholder:"Enter your password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20 pr-10"}),c.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:d?c.jsx(Ew,{className:"w-5 h-5"}):c.jsx(sm,{className:"w-5 h-5"})})]})]}),c.jsx(ut,{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:w?"Signing in...":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-slate-400",children:["Don't have an account?"," ",c.jsx("button",{onClick:n,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign Up"})]})})]}),c.jsx("p",{className:"text-center text-xs text-slate-500 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}function gR({onNavigateToLogin:n,onNavigateToLanding:e}){const[t,s]=W.useState(""),[o,l]=W.useState(""),[d,p]=W.useState(""),[m,x]=W.useState(""),[w,b]=W.useState(!1),[N,O]=W.useState(""),[M,q]=W.useState(!1),{signup:z}=aa(),ne=async re=>{if(re.preventDefault(),O(""),q(!0),!t||!o||!d||!m){O("Please fill in all fields"),q(!1);return}if(d!==m){O("Passwords do not match"),q(!1);return}if(d.length<6){O("Password must be at least 6 characters"),q(!1);return}const te=await z(t,o,d);te.success||O(te.error||"Failed to create account"),q(!1)};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-4 py-8",children:[e&&c.jsxs("button",{onClick:e,className:"fixed top-4 left-4 flex items-center gap-2 px-4 py-2 bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:text-white transition-colors z-50",children:[c.jsx(Wi,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:c.jsx(zn,{className:"w-8 h-8 text-white"})})}),c.jsx("h1",{className:"text-3xl text-white mb-2",children:"Create Account"}),c.jsx("p",{className:"text-slate-400",children:"Join the knowledge marketplace"})]}),c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[c.jsxs("form",{onSubmit:ne,className:"space-y-5",children:[N&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:N}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"name",className:"block text-sm text-slate-300",children:"Full Name"}),c.jsx(zo,{id:"name",type:"text",value:t,onChange:re=>s(re.target.value),placeholder:"Enter your full name",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"block text-sm text-slate-300",children:"Email Address"}),c.jsx(zo,{id:"email",type:"email",value:o,onChange:re=>l(re.target.value),placeholder:"Enter your email",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"block text-sm text-slate-300",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(zo,{id:"password",type:w?"text":"password",value:d,onChange:re=>p(re.target.value),placeholder:"Create a password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20 pr-10"}),c.jsx("button",{type:"button",onClick:()=>b(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:w?c.jsx(Ew,{className:"w-5 h-5"}):c.jsx(sm,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm text-slate-300",children:"Confirm Password"}),c.jsx(zo,{id:"confirmPassword",type:w?"text":"password",value:m,onChange:re=>x(re.target.value),placeholder:"Confirm your password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),c.jsx(ut,{type:"submit",disabled:M,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:M?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-slate-400",children:["Already have an account?"," ",c.jsx("button",{onClick:n,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign In"})]})})]}),c.jsx("p",{className:"text-center text-xs text-slate-500 mt-6",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})}function yR(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function xR(n,e=[]){let t=[];function s(l,d){const p=W.createContext(d),m=t.length;t=[...t,d];const x=b=>{const{scope:N,children:O,...M}=b,q=N?.[n]?.[m]||p,z=W.useMemo(()=>M,Object.values(M));return c.jsx(q.Provider,{value:z,children:O})};x.displayName=l+"Provider";function w(b,N){const O=N?.[n]?.[m]||p,M=W.useContext(O);if(M)return M;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[x,w]}const o=()=>{const l=t.map(d=>W.createContext(d));return function(p){const m=p?.[n]||l;return W.useMemo(()=>({[`__scope${n}`]:{...p,[n]:m}}),[p,m])}};return o.scopeName=n,[s,vR(o,...e)]}function vR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=s.reduce((p,{useScope:m,scopeName:x})=>{const b=m(l)[`__scope${x}`];return{...p,...b}},{});return W.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return t.scopeName=e.scopeName,t}var $w=globalThis?.document?W.useLayoutEffect:()=>{},_R=vx[" useInsertionEffect ".trim().toString()]||$w;function wR({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[o,l,d]=kR({defaultProp:e,onChange:t}),p=n!==void 0,m=p?n:o;{const w=W.useRef(n!==void 0);W.useEffect(()=>{const b=w.current;b!==p&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=p},[p,s])}const x=W.useCallback(w=>{if(p){const b=bR(w)?w(n):w;b!==n&&d.current?.(b)}else l(w)},[p,n,l,d]);return[m,x]}function kR({defaultProp:n,onChange:e}){const[t,s]=W.useState(n),o=W.useRef(t),l=W.useRef(e);return _R(()=>{l.current=e},[e]),W.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,s,l]}function bR(n){return typeof n=="function"}function ER(n){const e=W.useRef({value:n,previous:n});return W.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function NR(n){const[e,t]=W.useState(void 0);return $w(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,p;if("borderBoxSize"in l){const m=l.borderBoxSize,x=Array.isArray(m)?m[0]:m;d=x.inlineSize,p=x.blockSize}else d=n.offsetWidth,p=n.offsetHeight;t({width:d,height:p})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}xx();function TR(n){const e=IR(n),t=W.forwardRef((s,o)=>{const{children:l,...d}=s,p=W.Children.toArray(l),m=p.find(AR);if(m){const x=m.props.children,w=p.map(b=>b===m?W.Children.count(x)>1?W.Children.only(null):W.isValidElement(x)?x.props.children:null:b);return c.jsx(e,{...d,ref:o,children:W.isValidElement(x)?W.cloneElement(x,void 0,w):null})}return c.jsx(e,{...d,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function IR(n){const e=W.forwardRef((t,s)=>{const{children:o,...l}=t;if(W.isValidElement(o)){const d=PR(o),p=CR(l,o.props);return o.type!==W.Fragment&&(p.ref=s?am(s,d):d),W.cloneElement(o,p)}return W.Children.count(o)>1?W.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var SR=Symbol("radix.slottable");function AR(n){return W.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===SR}function CR(n,e){const t={...e};for(const s in e){const o=n[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...p)=>{const m=l(...p);return o(...p),m}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function PR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qw=RR.reduce((n,e)=>{const t=TR(`Primitive.${e}`),s=W.forwardRef((o,l)=>{const{asChild:d,...p}=o,m=d?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(m,{...p,ref:l})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),Ad="Switch",[jR]=xR(Ad),[DR,VR]=jR(Ad),Hw=W.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:o,defaultChecked:l,required:d,disabled:p,value:m="on",onCheckedChange:x,form:w,...b}=n,[N,O]=W.useState(null),M=Iw(e,te=>O(te)),q=W.useRef(!1),z=N?w||!!N.closest("form"):!0,[ne,re]=wR({prop:o,defaultProp:l??!1,onChange:x,caller:Ad});return c.jsxs(DR,{scope:t,checked:ne,disabled:p,children:[c.jsx(qw.button,{type:"button",role:"switch","aria-checked":ne,"aria-required":d,"data-state":Qw(ne),"data-disabled":p?"":void 0,disabled:p,value:m,...b,ref:M,onClick:yR(n.onClick,te=>{re(ce=>!ce),z&&(q.current=te.isPropagationStopped(),q.current||te.stopPropagation())})}),z&&c.jsx(Kw,{control:N,bubbles:!q.current,name:s,value:m,checked:ne,required:d,disabled:p,form:w,style:{transform:"translateX(-100%)"}})]})});Hw.displayName=Ad;var Ww="SwitchThumb",Gw=W.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,o=VR(Ww,t);return c.jsx(qw.span,{"data-state":Qw(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});Gw.displayName=Ww;var OR="SwitchBubbleInput",Kw=W.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...o},l)=>{const d=W.useRef(null),p=Iw(d,l),m=ER(t),x=NR(e);return W.useEffect(()=>{const w=d.current;if(!w)return;const b=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==t&&O){const M=new Event("click",{bubbles:s});O.call(w,t),w.dispatchEvent(M)}},[m,t,s]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:p,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kw.displayName=OR;function Qw(n){return n?"checked":"unchecked"}var LR=Hw,MR=Gw;function yx({className:n,...e}){return c.jsx(LR,{"data-slot":"switch",className:ed("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:c.jsx(MR,{"data-slot":"switch-thumb",className:ed("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function UR({onNavigateToTerms:n,onNavigateToAbout:e,onNavigateToPrivacy:t,onNavigateToRefund:s,onNavigateToShipping:o}){const{user:l,logout:d}=aa(),[p,m]=W.useState(!0),[x,w]=W.useState(!1),b=()=>{window.confirm("Are you sure you want to log out?")&&d()};return c.jsx("div",{className:"min-h-screen bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-2xl lg:text-3xl text-white mb-2",children:"Settings"}),c.jsx("p",{className:"text-slate-400",children:"Manage your account preferences and security"})]}),c.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:c.jsx(ql,{className:"w-5 h-5 text-white"})}),c.jsx("h2",{className:"text-xl text-white",children:"Account"})]}),c.jsx("div",{className:"space-y-4",children:c.jsx("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:l?.name}),c.jsx("p",{className:"text-sm text-slate-400",children:l?.email})]})})})]}),c.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:c.jsx(kw,{className:"w-5 h-5 text-white"})}),c.jsx("h2",{className:"text-xl text-white",children:"Notifications"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-slate-400",children:"Receive notifications about your activity"})]}),c.jsx(yx,{checked:p,onCheckedChange:m})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:"Email Updates"}),c.jsx("p",{className:"text-sm text-slate-400",children:"Get email updates about new notes"})]}),c.jsx(yx,{checked:x,onCheckedChange:w})]})]})]}),c.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:c.jsx(Yu,{className:"w-5 h-5 text-white"})}),c.jsx("h2",{className:"text-xl text-white",children:"Legal"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:bg-slate-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(kr,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"text-white",children:"Terms & Conditions"})]}),c.jsx("span",{className:"text-slate-400",children:""})]}),c.jsxs("button",{onClick:t,className:"w-full flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:bg-slate-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Yu,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"text-white",children:"Privacy Policy"})]}),c.jsx("span",{className:"text-slate-400",children:""})]}),c.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:bg-slate-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nw,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"text-white",children:"Refund Policy"})]}),c.jsx("span",{className:"text-slate-400",children:""})]}),c.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:bg-slate-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(im,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"text-white",children:"Shipping Policy"})]}),c.jsx("span",{className:"text-slate-400",children:""})]}),c.jsxs("button",{onClick:e,className:"w-full flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:bg-slate-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(SC,{className:"w-5 h-5 text-slate-400"}),c.jsx("span",{className:"text-white",children:"About Us"})]}),c.jsx("span",{className:"text-slate-400",children:""})]})]})]}),c.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-red-900/30 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-500 rounded-lg flex items-center justify-center",children:c.jsx(ax,{className:"w-5 h-5 text-white"})}),c.jsx("h2",{className:"text-xl text-white",children:"Danger Zone"})]}),c.jsxs(ut,{onClick:b,className:"w-full bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white",children:[c.jsx(ax,{className:"w-5 h-5 mr-2"}),"Log Out"]})]})]})})}function FR({onBack:n}){return c.jsx("div",{className:"min-h-screen bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs(ut,{onClick:n,variant:"ghost",className:"mb-6 text-slate-400 hover:text-white",children:[c.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),c.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 lg:p-8",children:[c.jsx("h1",{className:"text-3xl text-white mb-6",children:"Terms & Conditions"}),c.jsxs("div",{className:"space-y-6 text-slate-300",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"1. Acceptance of Terms"}),c.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"2. User Accounts"}),c.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[c.jsx("li",{children:"Provide accurate and complete information"}),c.jsx("li",{children:"Maintain the security of your password"}),c.jsx("li",{children:"Accept responsibility for all activities under your account"}),c.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"3. Content Guidelines"}),c.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[c.jsx("li",{children:"You own the copyright or have permission to share the content"}),c.jsx("li",{children:"The content does not violate any intellectual property rights"}),c.jsx("li",{children:"The material is accurate and not misleading"}),c.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"4. Purchases and Payments"}),c.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"5. Intellectual Property"}),c.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"6. Prohibited Activities"}),c.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[c.jsx("li",{children:"Uploading copyrighted material without permission"}),c.jsx("li",{children:"Engaging in fraudulent activities"}),c.jsx("li",{children:"Harassing or threatening other users"}),c.jsx("li",{children:"Attempting to compromise platform security"}),c.jsx("li",{children:"Using automated tools to scrape content"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"7. Termination"}),c.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"8. Limitation of Liability"}),c.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"9. Changes to Terms"}),c.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl text-white mb-3",children:"10. Contact Information"}),c.jsx("p",{className:"leading-relaxed",children:"For questions about these terms, please contact us at legal@noteshub.com"})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:c.jsx("p",{className:"text-sm text-slate-400",children:"Last updated: December 16, 2024"})})]})]})]})})}function zR({onBack:n}){return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(ut,{onClick:n,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),c.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"About Us"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Learn more about Notezy"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx(Zf,{className:"w-6 h-6 text-white"})}),c.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Welcome to Notezy"})]}),c.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[c.jsxs("p",{children:["Welcome to ",c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),c.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),c.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"What We Provide"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Assignments:"})," High-quality assignment solutions from top students across various subjects and courses"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"PYQ Papers:"})," Previous year question papers with detailed solutions to help you ace your exams"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Lecture Notes:"})," Comprehensive lecture notes prepared by experienced students and educators"]})]})]})]}),c.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[c.jsx(Ui,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Contact Us"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-2",children:"Have questions or feedback? We'd love to hear from you!"}),c.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]})]})]})})}function BR({onBack:n}){return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(ut,{onClick:n,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),c.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:c.jsx(Yu,{className:"w-6 h-6 text-white"})}),c.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Your Privacy Matters"})]}),c.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[c.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Account information (name, email address)"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Transaction history and purchase records"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Uploaded content and notes"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"To provide and improve our services"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"To process transactions and payments"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"To send important account updates (with your permission)"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),c.jsx("p",{className:"mb-3",children:"You have the right to:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),c.jsx("span",{children:"Access your personal data"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),c.jsx("span",{children:"Request correction of inaccurate data"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),c.jsx("span",{children:"Request deletion of your account and data"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),c.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),c.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",c.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})]})})}function $R({onBack:n}){return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(ut,{onClick:n,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),c.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Refund & Cancellation Policy"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:c.jsx(kr,{className:"w-6 h-6 text-white"})}),c.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),c.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dC,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),c.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),c.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),c.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),c.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),c.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),c.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:c.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),c.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Download problems or corrupted files"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Payment processed but content not accessible"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Missing pages or incomplete content"})]})]}),c.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",c.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),c.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),c.jsxs("ul",{className:"space-y-2 mb-4",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Significantly different from the description"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Plagiarized or violate copyright"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Completely unreadable or unusable"})]})]}),c.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})]})})}function qR({onBack:n}){return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-20 lg:pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs(ut,{onClick:n,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[c.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),c.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Shipping & Delivery Policy"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx(im,{className:"w-6 h-6 text-white"})}),c.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Digital Delivery"})]}),c.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ls,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),c.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"1"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Purchase Notes"}),c.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"2"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Instant Access"}),c.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"3"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:'Download from "Downloads" Section'}),c.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(pC,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Processing Time"})]}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ls,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),c.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Download Speed"})]}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(il,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(il,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(il,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(il,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(il,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Accessing Your Notes"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 rounded-lg p-4 space-y-3",children:[c.jsx("p",{className:"text-sm",children:"To access your purchased notes:"}),c.jsxs("ol",{className:"space-y-2 text-sm",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"1."}),c.jsxs("span",{children:["Navigate to the ",c.jsx("span",{className:"text-gray-900 dark:text-white",children:'"Downloads"'})," section from the main menu"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"2."}),c.jsx("span",{children:"Find the notes you want to view"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"3."}),c.jsxs("span",{children:["Click ",c.jsx("span",{className:"text-gray-900 dark:text-white",children:'"View Notes"'})," to open them in our built-in PDF viewer"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"4."}),c.jsx("span",{children:"You can view, zoom, and navigate through the notes at your convenience"})]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Internet connection for downloading"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),c.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),c.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),c.jsxs("ul",{className:"space-y-2 mb-4",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Check your internet connection"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Ensure your payment was successfully processed"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Try refreshing the Downloads page"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),c.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),c.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",c.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),c.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[c.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),c.jsx("div",{className:"pt-4",children:c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})]})})}function HR({note:n,onClose:e}){const[t,s]=W.useState(1),[o,l]=W.useState(100),d=n.previewPages.length,p=()=>{s(N=>Math.max(1,N-1))},m=()=>{s(N=>Math.min(d,N+1))},x=()=>{l(N=>Math.min(200,N+25))},w=()=>{l(N=>Math.max(50,N-25))},b=()=>{alert(`Downloading ${n.title}...`)};return c.jsxs("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-sm z-50 flex flex-col",children:[c.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ut,{onClick:e,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:c.jsx(Sd,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-white",children:n.title}),c.jsxs("p",{className:"text-sm text-slate-400",children:["by ",n.uploaderName]})]})]}),c.jsxs(ut,{onClick:b,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:[c.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),c.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ut,{onClick:p,disabled:t===1,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:c.jsx(Yf,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-lg",children:[c.jsx("span",{className:"text-white",children:t}),c.jsx("span",{className:"text-slate-500",children:"/"}),c.jsx("span",{className:"text-slate-400",children:d})]}),c.jsx(ut,{onClick:m,disabled:t===d,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:c.jsx(Xf,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ut,{onClick:w,disabled:o===50,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:c.jsx(rP,{className:"w-5 h-5"})}),c.jsx("div",{className:"px-4 py-2 bg-slate-800/50 rounded-lg",children:c.jsxs("span",{className:"text-white",children:[o,"%"]})}),c.jsx(ut,{onClick:x,disabled:o===200,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:c.jsx(tP,{className:"w-5 h-5"})})]})]})}),c.jsx("div",{className:"flex-1 overflow-auto bg-slate-900 p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden transition-transform",style:{transform:`scale(${o/100})`,transformOrigin:"top center"},children:c.jsxs("div",{className:"aspect-[8.5/11] relative",children:[c.jsx("img",{src:n.previewPages[t-1],alt:`Page ${t}`,className:"w-full h-full object-contain"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsx("div",{className:"transform -rotate-45 text-6xl font-bold text-black/5 select-none",children:"PREVIEW"})})]})}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-slate-400",children:["Page ",t," of ",d]})})]})}),c.jsx("div",{className:"lg:hidden bg-slate-900/80 backdrop-blur-xl border-t border-slate-800 px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ut,{onClick:p,disabled:t===1,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:[c.jsx(Yf,{className:"w-5 h-5 mr-1"}),"Previous"]}),c.jsxs("span",{className:"text-white",children:[t," / ",d]}),c.jsxs(ut,{onClick:m,disabled:t===d,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:["Next",c.jsx(Xf,{className:"w-5 h-5 ml-1"})]})]})})]})}function WR(){const{isAuthenticated:n,isLoading:e,user:t,userProfile:s}=aa(),[o,l]=W.useState("landing"),[d,p]=W.useState("home"),[m,x]=W.useState(""),[w,b]=W.useState(null),[N,O]=W.useState(null),[M,q]=W.useState([]),[z,ne]=W.useState([]),[re,te]=W.useState([]),[ce,ke]=W.useState([]),[ve,P]=W.useState([]),[E,S]=W.useState(!0);if(W.useEffect(()=>{async function Te(){try{const Se=await FA();q(Se)}catch(Se){console.error("Error fetching notes:",Se)}}Te()},[]),W.useEffect(()=>{async function Te(){if(!t){ne([]),te([]),ke([]),P([]),S(!1);return}try{S(!0);const[Se,Ce,H,me]=await Promise.all([qA(t.uid),WA(t.uid),QA(t.uid),YA(t.uid)]);ne(Se),te(Ce),ke(H),P(me)}catch(Se){console.error("Error fetching user data:",Se)}finally{S(!1)}}Te()},[t]),e)return c.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!n)return o==="login"?c.jsx(mR,{onNavigateToSignup:()=>l("signup"),onNavigateToLanding:()=>l("landing")}):o==="signup"?c.jsx(gR,{onNavigateToLogin:()=>l("login"),onNavigateToLanding:()=>l("landing")}):c.jsx(pR,{onNavigateToLogin:()=>l("login"),onNavigateToSignup:()=>l("signup")});const A=async Te=>{if(!t)return;const Se=M.find(Ce=>Ce.id===Te);if(Se&&!ve.includes(Te))try{await HA(t.uid,Te),ne([...z,Se]),P([...ve,Te]),alert(`Successfully purchased "${Se.title}" for $${Se.price}`)}catch(Ce){console.error("Error purchasing note:",Ce),alert("Failed to purchase note. Please try again.")}},C=async Te=>{if(!t)return;const Se=M.find(Ce=>Ce.id===Te);if(Se){const Ce=ce.includes(Te);try{Ce?(await KA(t.uid,Te),te(re.filter(H=>H.id!==Te)),ke(ce.filter(H=>H!==Te))):(await GA(t.uid,Te),te([...re,Se]),ke([...ce,Te]))}catch(H){console.error("Error updating bookmark:",H)}}},D=async Te=>{const Se=[...z,...M].find(Ce=>Ce.id===Te);Se&&O(Se)},I=s||{id:t?.uid||"",name:t?.displayName||"User",email:t?.email||"",avatarUrl:"",totalEarnings:0,uploadedNotes:[]},je=d==="home";return c.jsxs("div",{className:"min-h-screen bg-slate-950",children:[c.jsx(sP,{currentPage:d,onNavigate:p}),c.jsx("div",{className:"hidden lg:block",children:c.jsx(iP,{searchQuery:m,onSearchChange:x,showSearch:je})}),d==="home"&&c.jsx(oP,{notes:M,onPreview:b,onBookmark:C,onPurchase:A,onViewNotes:D,bookmarkedIds:ce,purchasedIds:ve,searchQuery:m,onSearchChange:x}),d==="downloads"&&c.jsx(aP,{purchasedNotes:z,onPreview:b,onViewNotes:D}),d==="bookmarks"&&c.jsx(lP,{bookmarkedNotes:re,onPreview:b,onBookmark:C,onPurchase:A,onViewNotes:D,purchasedIds:ve}),d==="earnings"&&c.jsx(cP,{totalEarnings:I.totalEarnings,uploadedNotes:I.uploadedNotes}),d==="profile"&&c.jsx(uP,{user:I,onPreview:b}),d==="upload"&&c.jsx(fP,{}),d==="settings"&&c.jsx(UR,{onNavigateToTerms:()=>p("terms"),onNavigateToAbout:()=>p("about"),onNavigateToPrivacy:()=>p("privacy"),onNavigateToRefund:()=>p("refund"),onNavigateToShipping:()=>p("shipping")}),d==="terms"&&c.jsx(FR,{onBack:()=>p("settings")}),d==="about"&&c.jsx(zR,{onBack:()=>p("settings")}),d==="privacy"&&c.jsx(BR,{onBack:()=>p("settings")}),d==="refund"&&c.jsx($R,{onBack:()=>p("settings")}),d==="shipping"&&c.jsx(qR,{onBack:()=>p("settings")}),w&&c.jsx(pP,{note:w,onClose:()=>b(null)}),N&&c.jsx(HR,{note:N,onClose:()=>O(null)})]})}function GR(){return c.jsx(fb,{children:c.jsx(XA,{children:c.jsx(WR,{})})})}db.createRoot(document.getElementById("root")).render(c.jsx(GR,{}));
