function $N(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function qN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yf={exports:{}},Ml={},Xf={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function HN(){if(Px)return Ue;Px=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,V={};function E(q,ee,ge){this.props=q,this.context=ee,this.refs=V,this.updater=ge||C}E.prototype.isReactComponent={},E.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},E.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=E.prototype;function O(q,ee,ge){this.props=q,this.context=ee,this.refs=V,this.updater=ge||C}var $=O.prototype=new L;$.constructor=O,I($,E.prototype),$.isPureReactComponent=!0;var P=Array.isArray,J=Object.prototype.hasOwnProperty,Y={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function j(q,ee,ge){var ye,Re={},Le=null,Ne=null;if(ee!=null)for(ye in ee.ref!==void 0&&(Ne=ee.ref),ee.key!==void 0&&(Le=""+ee.key),ee)J.call(ee,ye)&&!D.hasOwnProperty(ye)&&(Re[ye]=ee[ye]);var Me=arguments.length-2;if(Me===1)Re.children=ge;else if(1<Me){for(var je=Array(Me),Oe=0;Oe<Me;Oe++)je[Oe]=arguments[Oe+2];Re.children=je}if(q&&q.defaultProps)for(ye in Me=q.defaultProps,Me)Re[ye]===void 0&&(Re[ye]=Me[ye]);return{$$typeof:r,type:q,key:Le,ref:Ne,props:Re,_owner:Y.current}}function R(q,ee){return{$$typeof:r,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function U(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return ee[ge]})}var B=/\/+/g;function S(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ee.toString(36)}function _e(q,ee,ge,ye,Re){var Le=typeof q;(Le==="undefined"||Le==="boolean")&&(q=null);var Ne=!1;if(q===null)Ne=!0;else switch(Le){case"string":case"number":Ne=!0;break;case"object":switch(q.$$typeof){case r:case e:Ne=!0}}if(Ne)return Ne=q,Re=Re(Ne),q=ye===""?"."+S(Ne,0):ye,P(Re)?(ge="",q!=null&&(ge=q.replace(B,"$&/")+"/"),_e(Re,ee,ge,"",function(Oe){return Oe})):Re!=null&&(M(Re)&&(Re=R(Re,ge+(!Re.key||Ne&&Ne.key===Re.key?"":(""+Re.key).replace(B,"$&/")+"/")+q)),ee.push(Re)),1;if(Ne=0,ye=ye===""?".":ye+":",P(q))for(var Me=0;Me<q.length;Me++){Le=q[Me];var je=ye+S(Le,Me);Ne+=_e(Le,ee,ge,je,Re)}else if(je=_(q),typeof je=="function")for(q=je.call(q),Me=0;!(Le=q.next()).done;)Le=Le.value,je=ye+S(Le,Me++),Ne+=_e(Le,ee,ge,je,Re);else if(Le==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ne}function He(q,ee,ge){if(q==null)return q;var ye=[],Re=0;return _e(q,ye,"","",function(Le){return ee.call(ge,Le,Re++)}),ye}function Qe(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var Fe={current:null},X={transition:null},ve={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:X,ReactCurrentOwner:Y};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:He,forEach:function(q,ee,ge){He(q,function(){ee.apply(this,arguments)},ge)},count:function(q){var ee=0;return He(q,function(){ee++}),ee},toArray:function(q){return He(q,function(ee){return ee})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ue.Component=E,Ue.Fragment=t,Ue.Profiler=o,Ue.PureComponent=O,Ue.StrictMode=n,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ue.act=oe,Ue.cloneElement=function(q,ee,ge){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ye=I({},q.props),Re=q.key,Le=q.ref,Ne=q._owner;if(ee!=null){if(ee.ref!==void 0&&(Le=ee.ref,Ne=Y.current),ee.key!==void 0&&(Re=""+ee.key),q.type&&q.type.defaultProps)var Me=q.type.defaultProps;for(je in ee)J.call(ee,je)&&!D.hasOwnProperty(je)&&(ye[je]=ee[je]===void 0&&Me!==void 0?Me[je]:ee[je])}var je=arguments.length-2;if(je===1)ye.children=ge;else if(1<je){Me=Array(je);for(var Oe=0;Oe<je;Oe++)Me[Oe]=arguments[Oe+2];ye.children=Me}return{$$typeof:r,type:q.type,key:Re,ref:Le,props:ye,_owner:Ne}},Ue.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:l,_context:q},q.Consumer=q},Ue.createElement=j,Ue.createFactory=function(q){var ee=j.bind(null,q);return ee.type=q,ee},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(q){return{$$typeof:f,render:q}},Ue.isValidElement=M,Ue.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:Qe}},Ue.memo=function(q,ee){return{$$typeof:g,type:q,compare:ee===void 0?null:ee}},Ue.startTransition=function(q){var ee=X.transition;X.transition={};try{q()}finally{X.transition=ee}},Ue.unstable_act=oe,Ue.useCallback=function(q,ee){return Fe.current.useCallback(q,ee)},Ue.useContext=function(q){return Fe.current.useContext(q)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(q){return Fe.current.useDeferredValue(q)},Ue.useEffect=function(q,ee){return Fe.current.useEffect(q,ee)},Ue.useId=function(){return Fe.current.useId()},Ue.useImperativeHandle=function(q,ee,ge){return Fe.current.useImperativeHandle(q,ee,ge)},Ue.useInsertionEffect=function(q,ee){return Fe.current.useInsertionEffect(q,ee)},Ue.useLayoutEffect=function(q,ee){return Fe.current.useLayoutEffect(q,ee)},Ue.useMemo=function(q,ee){return Fe.current.useMemo(q,ee)},Ue.useReducer=function(q,ee,ge){return Fe.current.useReducer(q,ee,ge)},Ue.useRef=function(q){return Fe.current.useRef(q)},Ue.useState=function(q){return Fe.current.useState(q)},Ue.useSyncExternalStore=function(q,ee,ge){return Fe.current.useSyncExternalStore(q,ee,ge)},Ue.useTransition=function(){return Fe.current.useTransition()},Ue.version="18.3.1",Ue}var Dx;function lm(){return Dx||(Dx=1,Xf.exports=HN()),Xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function WN(){if(Lx)return Ml;Lx=1;var r=lm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var v,b={},_=null,C=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)n.call(p,v)&&!l.hasOwnProperty(v)&&(b[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)b[v]===void 0&&(b[v]=p[v]);return{$$typeof:e,type:f,key:_,ref:C,props:b,_owner:o.current}}return Ml.Fragment=t,Ml.jsx=u,Ml.jsxs=u,Ml}var Ox;function GN(){return Ox||(Ox=1,Yf.exports=WN()),Yf.exports}var i=GN(),Qu={},Jf={exports:{}},yr={},Zf={exports:{}},ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function KN(){return Vx||(Vx=1,(function(r){function e(X,ve){var oe=X.length;X.push(ve);e:for(;0<oe;){var q=oe-1>>>1,ee=X[q];if(0<o(ee,ve))X[q]=ve,X[oe]=ee,oe=q;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ve=X[0],oe=X.pop();if(oe!==ve){X[0]=oe;e:for(var q=0,ee=X.length,ge=ee>>>1;q<ge;){var ye=2*(q+1)-1,Re=X[ye],Le=ye+1,Ne=X[Le];if(0>o(Re,oe))Le<ee&&0>o(Ne,Re)?(X[q]=Ne,X[Le]=oe,q=Le):(X[q]=Re,X[ye]=oe,q=ye);else if(Le<ee&&0>o(Ne,oe))X[q]=Ne,X[Le]=oe,q=Le;else break e}}return ve}function o(X,ve){var oe=X.sortIndex-ve.sortIndex;return oe!==0?oe:X.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,b=null,_=3,C=!1,I=!1,V=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(X){for(var ve=t(g);ve!==null;){if(ve.callback===null)n(g);else if(ve.startTime<=X)n(g),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=t(g)}}function P(X){if(V=!1,$(X),!I)if(t(p)!==null)I=!0,Qe(J);else{var ve=t(g);ve!==null&&Fe(P,ve.startTime-X)}}function J(X,ve){I=!1,V&&(V=!1,L(j),j=-1),C=!0;var oe=_;try{for($(ve),b=t(p);b!==null&&(!(b.expirationTime>ve)||X&&!U());){var q=b.callback;if(typeof q=="function"){b.callback=null,_=b.priorityLevel;var ee=q(b.expirationTime<=ve);ve=r.unstable_now(),typeof ee=="function"?b.callback=ee:b===t(p)&&n(p),$(ve)}else n(p);b=t(p)}if(b!==null)var ge=!0;else{var ye=t(g);ye!==null&&Fe(P,ye.startTime-ve),ge=!1}return ge}finally{b=null,_=oe,C=!1}}var Y=!1,D=null,j=-1,R=5,M=-1;function U(){return!(r.unstable_now()-M<R)}function B(){if(D!==null){var X=r.unstable_now();M=X;var ve=!0;try{ve=D(!0,X)}finally{ve?S():(Y=!1,D=null)}}else Y=!1}var S;if(typeof O=="function")S=function(){O(B)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,He=_e.port2;_e.port1.onmessage=B,S=function(){He.postMessage(null)}}else S=function(){E(B,0)};function Qe(X){D=X,Y||(Y=!0,S())}function Fe(X,ve){j=E(function(){X(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){I||C||(I=!0,Qe(J))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ve=3;break;default:ve=_}var oe=_;_=ve;try{return X()}finally{_=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,ve){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=_;_=X;try{return ve()}finally{_=oe}},r.unstable_scheduleCallback=function(X,ve,oe){var q=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?q+oe:q):oe=q,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,X={id:v++,callback:ve,priorityLevel:X,startTime:oe,expirationTime:ee,sortIndex:-1},oe>q?(X.sortIndex=oe,e(g,X),t(p)===null&&X===t(g)&&(V?(L(j),j=-1):V=!0,Fe(P,oe-q))):(X.sortIndex=ee,e(p,X),I||C||(I=!0,Qe(J))),X},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(X){var ve=_;return function(){var oe=_;_=ve;try{return X.apply(this,arguments)}finally{_=oe}}}})(ep)),ep}var Mx;function QN(){return Mx||(Mx=1,Zf.exports=KN()),Zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function YN(){if(Ux)return yr;Ux=1;var r=lm(),e=QN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function _(s){return p.call(b,s)?!0:p.call(v,s)?!1:g.test(s)?b[s]=!0:(v[s]=!0,!1)}function C(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,h){if(a===null||typeof a>"u"||C(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function V(s,a,c,h,m,x,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=k}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new V(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];E[a]=new V(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new V(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new V(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new V(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new V(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new V(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new V(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new V(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,O);E[a]=new V(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,O);E[a]=new V(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,O);E[a]=new V(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new V(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new V(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,a,c,h){var m=E.hasOwnProperty(a)?E[a]:null;(m!==null?m.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,m,h)&&(c=null),h||m===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),X=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,q;function ee(s){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var ge=!1;function ye(s,a){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var h=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){h=K}s.call(a.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),x=h.stack.split(`
`),k=m.length-1,A=x.length-1;1<=k&&0<=A&&m[k]!==x[A];)A--;for(;1<=k&&0<=A;k--,A--)if(m[k]!==x[A]){if(k!==1||A!==1)do if(k--,A--,0>A||m[k]!==x[A]){var F=`
`+m[k].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=k&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ee(s):""}function Re(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Y:return"Portal";case R:return"Profiler";case j:return"StrictMode";case S:return"Suspense";case _e:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case He:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case Qe:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function Ne(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(s){var a=je(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(k){h=""+k,x.call(this,k)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Je(s){s._valueTracker||(s._valueTracker=Oe(s))}function Mt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=je(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function mn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Na(s,a){var c=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Dc(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Me(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ja(s,a){a=a.checked,a!=null&&$(s,"checked",a,!1)}function Si(s,a){ja(s,a);var c=Me(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Tt(s,a.type,c):a.hasOwnProperty("defaultValue")&&Tt(s,a.type,Me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ho(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Tt(s,a,c){(a!=="number"||mn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var vt=Array.isArray;function Yr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Wo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Go(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Me(c)}}function Lc(s,a){var c=Me(a.value),h=Me(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Es(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ko(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ko(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ts,Oc=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ts.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ci(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vc=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(s){Vc.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Is[a]=Is[s]})});function Ss(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Is.hasOwnProperty(s)&&Is[s]?(""+a).trim():a+"px"}function Ta(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Ss(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var Qo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xr(s,a){if(a){if(Qo[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ia(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function Sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qn=null,Hn=null,pt=null;function Yo(s){if(s=_l(s)){if(typeof qn!="function")throw Error(t(280));var a=s.stateNode;a&&(a=uu(a),qn(s.stateNode,s.type,a))}}function As(s){Hn?pt?pt.push(s):pt=[s]:Hn=s}function Rs(){if(Hn){var s=Hn,a=pt;if(pt=Hn=null,Yo(s),a)for(s=0;s<a.length;s++)Yo(a[s])}}function Mc(s,a){return s(a)}function Uc(){}var gn=!1;function Fc(s,a,c){if(gn)return s(a,c);gn=!0;try{return Mc(s,a,c)}finally{gn=!1,(Hn!==null||pt!==null)&&(Uc(),Rs())}}function Ai(s,a){var c=s.stateNode;if(c===null)return null;var h=uu(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Ps=!1;if(f)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Ps=!1}function zc(s,a,c,h,m,x,k,A,F){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(ne){this.onError(ne)}}var Wn=!1,xn=null,Ca=!1,Vr=null,Bc={onError:function(s){Wn=!0,xn=s}};function $c(s,a,c,h,m,x,k,A,F){Wn=!1,xn=null,zc.apply(Bc,arguments)}function Xo(s,a,c,h,m,x,k,A,F){if($c.apply(this,arguments),Wn){if(Wn){var K=xn;Wn=!1,xn=null}else throw Error(t(198));Ca||(Ca=!0,Vr=K)}}function Jr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Jo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function qc(s){if(Jr(s)!==s)throw Error(t(188))}function Hc(s){var a=s.alternate;if(!a){if(a=Jr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var x=m.alternate;if(x===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===c)return qc(m),s;if(x===h)return qc(m),a;x=x.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=x;else{for(var k=!1,A=m.child;A;){if(A===c){k=!0,c=m,h=x;break}if(A===h){k=!0,h=m,c=x;break}A=A.sibling}if(!k){for(A=x.child;A;){if(A===c){k=!0,c=x,h=m;break}if(A===h){k=!0,h=x,c=m;break}A=A.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Wc(s){return s=Hc(s),s!==null?Ri(s):null}function Ri(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ri(s);if(a!==null)return a;s=s.sibling}return null}var Zo=e.unstable_scheduleCallback,Aa=e.unstable_cancelCallback,Pi=e.unstable_shouldYield,Gn=e.unstable_requestPaint,st=e.unstable_now,Eh=e.unstable_getCurrentPriorityLevel,Ra=e.unstable_ImmediatePriority,el=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,tl=e.unstable_LowPriority,Pa=e.unstable_IdlePriority,Li=null,Nr=null;function Gc(s){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Li,s,void 0,(s.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Oi,yn=Math.log,Mr=Math.LN2;function Oi(s){return s>>>=0,s===0?32:31-(yn(s)/Mr|0)|0}var vn=64,Ls=4194304;function Ye(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Kn(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,x=s.pingedLanes,k=c&268435455;if(k!==0){var A=k&~m;A!==0?h=Ye(A):(x&=k,x!==0&&(h=Ye(x)))}else k=c&~m,k!==0?h=Ye(k):x!==0&&(h=Ye(x));if(h===0)return 0;if(a!==0&&a!==h&&(a&m)===0&&(m=h&-h,x=a&-a,m>=x||m===16&&(x&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-jr(a),m=1<<c,h|=s[c],a&=~m;return h}function Vi(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var k=31-jr(x),A=1<<k,F=m[k];F===-1?((A&c)===0||(A&h)!==0)&&(m[k]=Vi(A,a)):F<=a&&(s.expiredLanes|=A),x&=~A}}function rl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function nl(){var s=vn;return vn<<=1,(vn&4194240)===0&&(vn=64),s}function sl(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ui(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-jr(a),s[a]=c}function Th(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-jr(c),x=1<<m;a[m]=0,h[m]=-1,s[m]=-1,c&=~x}}function il(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-jr(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}var qe=0;function wn(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var al,Da,ol,ll,cl,bn=!1,La=[],kn=null,_n=null,$t=null,Fi=new Map,Qn=new Map,Er=[],Kc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Os(s,a){switch(s){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Fi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(a.pointerId)}}function Zr(s,a,c,h,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[m]},a!==null&&(a=_l(a),a!==null&&Da(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Qc(s,a,c,h,m){switch(a){case"focusin":return kn=Zr(kn,s,a,c,h,m),!0;case"dragenter":return _n=Zr(_n,s,a,c,h,m),!0;case"mouseover":return $t=Zr($t,s,a,c,h,m),!0;case"pointerover":var x=m.pointerId;return Fi.set(x,Zr(Fi.get(x)||null,s,a,c,h,m)),!0;case"gotpointercapture":return x=m.pointerId,Qn.set(x,Zr(Qn.get(x)||null,s,a,c,h,m)),!0}return!1}function Oa(s){var a=qi(s.target);if(a!==null){var c=Jr(a);if(c!==null){if(a=c.tag,a===13){if(a=Jo(c),a!==null){s.blockedOn=a,cl(s.priority,function(){ol(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function et(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Va(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Cs=h,c.target.dispatchEvent(h),Cs=null}else return a=_l(c),a!==null&&Da(a),s.blockedOn=c,!1;a.shift()}return!0}function Yc(s,a,c){et(s)&&c.delete(a)}function Ih(){bn=!1,kn!==null&&et(kn)&&(kn=null),_n!==null&&et(_n)&&(_n=null),$t!==null&&et($t)&&($t=null),Fi.forEach(Yc),Qn.forEach(Yc)}function Vs(s,a){s.blockedOn===a&&(s.blockedOn=null,bn||(bn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ih)))}function Ms(s){function a(m){return Vs(m,s)}if(0<La.length){Vs(La[0],s);for(var c=1;c<La.length;c++){var h=La[c];h.blockedOn===s&&(h.blockedOn=null)}}for(kn!==null&&Vs(kn,s),_n!==null&&Vs(_n,s),$t!==null&&Vs($t,s),Fi.forEach(a),Qn.forEach(a),c=0;c<Er.length;c++)h=Er[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Er.length&&(c=Er[0],c.blockedOn===null);)Oa(c),c.blockedOn===null&&Er.shift()}var Yn=P.ReactCurrentBatchConfig,Xn=!0;function Nn(s,a,c,h){var m=qe,x=Yn.transition;Yn.transition=null;try{qe=1,ul(s,a,c,h)}finally{qe=m,Yn.transition=x}}function Xc(s,a,c,h){var m=qe,x=Yn.transition;Yn.transition=null;try{qe=4,ul(s,a,c,h)}finally{qe=m,Yn.transition=x}}function ul(s,a,c,h){if(Xn){var m=Va(s,a,c,h);if(m===null)Uh(s,a,h,jn,c),Os(s,h);else if(Qc(m,s,a,c,h))h.stopPropagation();else if(Os(s,h),a&4&&-1<Kc.indexOf(s)){for(;m!==null;){var x=_l(m);if(x!==null&&al(x),x=Va(s,a,c,h),x===null&&Uh(s,a,h,jn,c),x===m)break;m=x}m!==null&&h.stopPropagation()}else Uh(s,a,h,null,c)}}var jn=null;function Va(s,a,c,h){if(jn=null,s=Sa(h),s=qi(s),s!==null)if(a=Jr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Jo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return jn=s,null}function Ma(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eh()){case Ra:return 1;case el:return 4;case Di:case tl:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var Tr=null,Ua=null,Jn=null;function Jc(){if(Jn)return Jn;var s,a=Ua,c=a.length,h,m="value"in Tr?Tr.value:Tr.textContent,x=m.length;for(s=0;s<c&&a[s]===m[s];s++);var k=c-s;for(h=1;h<=k&&a[c-h]===m[x-h];h++);return Jn=m.slice(s,1<h?1-h:void 0)}function zi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function En(){return!0}function dl(){return!1}function Yt(s){function a(c,h,m,x,k){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(c=s[A],this[A]=c?c(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?En:dl,this.isPropagationStopped=dl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),a}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Yt(Tn),Us=oe({},Tn,{view:0,detail:0}),Fa=Yt(Us),za,Ba,Ir,$i=oe({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ir&&(Ir&&s.type==="mousemove"?(za=s.screenX-Ir.screenX,Ba=s.screenY-Ir.screenY):Ba=za=0,Ir=s),za)},movementY:function(s){return"movementY"in s?s.movementY:Ba}}),hl=Yt($i),Zc=oe({},$i,{dataTransfer:0}),eu=Yt(Zc),$a=oe({},Us,{relatedTarget:0}),qt=Yt($a),tu=oe({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Yt(tu),Fs=oe({},Tn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Yt(Fs),y=oe({},Tn,{data:0}),w=Yt(y),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Q[s])?!!a[s]:!1}function Pe(){return ae}var wt=oe({},Us,{key:function(s){if(s.key){var a=N[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(s){return s.type==="keypress"?zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ze=Yt(wt),It=oe({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=Yt(It),Zn=oe({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),In=Yt(Zn),Sn=oe({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qa=Yt(Sn),fl=oe({},$i,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),V_=Yt(fl),M_=[9,13,27,32],Sh=f&&"CompositionEvent"in window,pl=null;f&&"documentMode"in document&&(pl=document.documentMode);var U_=f&&"TextEvent"in window&&!pl,jg=f&&(!Sh||pl&&8<pl&&11>=pl),Eg=" ",Tg=!1;function Ig(s,a){switch(s){case"keyup":return M_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ha=!1;function F_(s,a){switch(s){case"compositionend":return Sg(a);case"keypress":return a.which!==32?null:(Tg=!0,Eg);case"textInput":return s=a.data,s===Eg&&Tg?null:s;default:return null}}function z_(s,a){if(Ha)return s==="compositionend"||!Sh&&Ig(s,a)?(s=Jc(),Jn=Ua=Tr=null,Ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return jg&&a.locale!=="ko"?null:a.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!B_[s.type]:a==="textarea"}function Ag(s,a,c,h){As(h),a=ou(a,"onChange"),0<a.length&&(c=new Bi("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var ml=null,gl=null;function $_(s){Qg(s,0)}function nu(s){var a=Ya(s);if(Mt(a))return s}function q_(s,a){if(s==="change")return a}var Rg=!1;if(f){var Ch;if(f){var Ah="oninput"in document;if(!Ah){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Ah=typeof Pg.oninput=="function"}Ch=Ah}else Ch=!1;Rg=Ch&&(!document.documentMode||9<document.documentMode)}function Dg(){ml&&(ml.detachEvent("onpropertychange",Lg),gl=ml=null)}function Lg(s){if(s.propertyName==="value"&&nu(gl)){var a=[];Ag(a,gl,s,Sa(s)),Fc($_,a)}}function H_(s,a,c){s==="focusin"?(Dg(),ml=a,gl=c,ml.attachEvent("onpropertychange",Lg)):s==="focusout"&&Dg()}function W_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nu(gl)}function G_(s,a){if(s==="click")return nu(a)}function K_(s,a){if(s==="input"||s==="change")return nu(a)}function Q_(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var en=typeof Object.is=="function"?Object.is:Q_;function xl(s,a){if(en(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!p.call(a,m)||!en(s[m],a[m]))return!1}return!0}function Og(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vg(s,a){var c=Og(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Og(c)}}function Mg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Mg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ug(){for(var s=window,a=mn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=mn(s.document)}return a}function Rh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Y_(s){var a=Ug(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Mg(c.ownerDocument.documentElement,c)){if(h!==null&&Rh(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,x=Math.min(h.start,m);h=h.end===void 0?x:Math.min(h.end,m),!s.extend&&x>h&&(m=h,h=x,x=m),m=Vg(c,x);var k=Vg(c,h);m&&k&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),x>h?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var X_=f&&"documentMode"in document&&11>=document.documentMode,Wa=null,Ph=null,yl=null,Dh=!1;function Fg(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Dh||Wa==null||Wa!==mn(h)||(h=Wa,"selectionStart"in h&&Rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yl&&xl(yl,h)||(yl=h,h=ou(Ph,"onSelect"),0<h.length&&(a=new Bi("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Wa)))}function su(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ga={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},Lh={},zg={};f&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function iu(s){if(Lh[s])return Lh[s];if(!Ga[s])return s;var a=Ga[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in zg)return Lh[s]=a[c];return s}var Bg=iu("animationend"),$g=iu("animationiteration"),qg=iu("animationstart"),Hg=iu("transitionend"),Wg=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(s,a){Wg.set(s,a),l(a,[s])}for(var Oh=0;Oh<Gg.length;Oh++){var Vh=Gg[Oh],J_=Vh.toLowerCase(),Z_=Vh[0].toUpperCase()+Vh.slice(1);zs(J_,"on"+Z_)}zs(Bg,"onAnimationEnd"),zs($g,"onAnimationIteration"),zs(qg,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(Hg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Kg(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Xo(h,a,void 0,s),s.currentTarget=null}function Qg(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var k=h.length-1;0<=k;k--){var A=h[k],F=A.instance,K=A.currentTarget;if(A=A.listener,F!==x&&m.isPropagationStopped())break e;Kg(m,A,K),x=F}else for(k=0;k<h.length;k++){if(A=h[k],F=A.instance,K=A.currentTarget,A=A.listener,F!==x&&m.isPropagationStopped())break e;Kg(m,A,K),x=F}}}if(Ca)throw s=Vr,Ca=!1,Vr=null,s}function it(s,a){var c=a[Hh];c===void 0&&(c=a[Hh]=new Set);var h=s+"__bubble";c.has(h)||(Yg(a,s,2,!1),c.add(h))}function Mh(s,a,c){var h=0;a&&(h|=4),Yg(c,s,h,a)}var au="_reactListening"+Math.random().toString(36).slice(2);function wl(s){if(!s[au]){s[au]=!0,n.forEach(function(c){c!=="selectionchange"&&(eN.has(c)||Mh(c,!1,s),Mh(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[au]||(a[au]=!0,Mh("selectionchange",!1,a))}}function Yg(s,a,c,h){switch(Ma(a)){case 1:var m=Nn;break;case 4:m=Xc;break;default:m=ul}c=m.bind(null,a,c,s),m=void 0,!Ps||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Uh(s,a,c,h,m){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var A=h.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(k===4)for(k=h.return;k!==null;){var F=k.tag;if((F===3||F===4)&&(F=k.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;k=k.return}for(;A!==null;){if(k=qi(A),k===null)return;if(F=k.tag,F===5||F===6){h=x=k;continue e}A=A.parentNode}}h=h.return}Fc(function(){var K=x,ne=Sa(c),se=[];e:{var re=Wg.get(s);if(re!==void 0){var ce=Bi,he=s;switch(s){case"keypress":if(zi(c)===0)break e;case"keydown":case"keyup":ce=Ze;break;case"focusin":he="focus",ce=qt;break;case"focusout":he="blur",ce=qt;break;case"beforeblur":case"afterblur":ce=qt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=In;break;case Bg:case $g:case qg:ce=ru;break;case Hg:ce=qa;break;case"scroll":ce=Fa;break;case"wheel":ce=V_;break;case"copy":case"cut":case"paste":ce=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Sr}var me=(a&4)!==0,bt=!me&&s==="scroll",H=me?re!==null?re+"Capture":null:re;me=[];for(var z=K,G;z!==null;){G=z;var ie=G.stateNode;if(G.tag===5&&ie!==null&&(G=ie,H!==null&&(ie=Ai(z,H),ie!=null&&me.push(bl(z,ie,G)))),bt)break;z=z.return}0<me.length&&(re=new ce(re,he,null,c,ne),se.push({event:re,listeners:me}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",re&&c!==Cs&&(he=c.relatedTarget||c.fromElement)&&(qi(he)||he[es]))break e;if((ce||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(he=c.relatedTarget||c.toElement,ce=K,he=he?qi(he):null,he!==null&&(bt=Jr(he),he!==bt||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=K),ce!==he)){if(me=hl,ie="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(me=Sr,ie="onPointerLeave",H="onPointerEnter",z="pointer"),bt=ce==null?re:Ya(ce),G=he==null?re:Ya(he),re=new me(ie,z+"leave",ce,c,ne),re.target=bt,re.relatedTarget=G,ie=null,qi(ne)===K&&(me=new me(H,z+"enter",he,c,ne),me.target=G,me.relatedTarget=bt,ie=me),bt=ie,ce&&he)t:{for(me=ce,H=he,z=0,G=me;G;G=Ka(G))z++;for(G=0,ie=H;ie;ie=Ka(ie))G++;for(;0<z-G;)me=Ka(me),z--;for(;0<G-z;)H=Ka(H),G--;for(;z--;){if(me===H||H!==null&&me===H.alternate)break t;me=Ka(me),H=Ka(H)}me=null}else me=null;ce!==null&&Xg(se,re,ce,me,!1),he!==null&&bt!==null&&Xg(se,bt,he,me,!0)}}e:{if(re=K?Ya(K):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var xe=q_;else if(Cg(re))if(Rg)xe=K_;else{xe=W_;var Ee=H_}else(ce=re.nodeName)&&ce.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(xe=G_);if(xe&&(xe=xe(s,K))){Ag(se,xe,c,ne);break e}Ee&&Ee(s,re,K),s==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&Tt(re,"number",re.value)}switch(Ee=K?Ya(K):window,s){case"focusin":(Cg(Ee)||Ee.contentEditable==="true")&&(Wa=Ee,Ph=K,yl=null);break;case"focusout":yl=Ph=Wa=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Fg(se,c,ne);break;case"selectionchange":if(X_)break;case"keydown":case"keyup":Fg(se,c,ne)}var Te;if(Sh)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ha?Ig(s,c)&&(Ce="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ce="onCompositionStart");Ce&&(jg&&c.locale!=="ko"&&(Ha||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ha&&(Te=Jc()):(Tr=ne,Ua="value"in Tr?Tr.value:Tr.textContent,Ha=!0)),Ee=ou(K,Ce),0<Ee.length&&(Ce=new w(Ce,s,null,c,ne),se.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Sg(c),Te!==null&&(Ce.data=Te)))),(Te=U_?F_(s,c):z_(s,c))&&(K=ou(K,"onBeforeInput"),0<K.length&&(ne=new w("onBeforeInput","beforeinput",null,c,ne),se.push({event:ne,listeners:K}),ne.data=Te))}Qg(se,a)})}function bl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function ou(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Ai(s,c),x!=null&&h.unshift(bl(s,x,m)),x=Ai(s,a),x!=null&&h.push(bl(s,x,m))),s=s.return}return h}function Ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Xg(s,a,c,h,m){for(var x=a._reactName,k=[];c!==null&&c!==h;){var A=c,F=A.alternate,K=A.stateNode;if(F!==null&&F===h)break;A.tag===5&&K!==null&&(A=K,m?(F=Ai(c,x),F!=null&&k.unshift(bl(c,F,A))):m||(F=Ai(c,x),F!=null&&k.push(bl(c,F,A)))),c=c.return}k.length!==0&&s.push({event:a,listeners:k})}var tN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Jg(s){return(typeof s=="string"?s:""+s).replace(tN,`
`).replace(rN,"")}function lu(s,a,c){if(a=Jg(a),Jg(s)!==a&&c)throw Error(t(425))}function cu(){}var Fh=null,zh=null;function Bh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(s){return Zg.resolve(null).then(s).catch(iN)}:$h;function iN(s){setTimeout(function(){throw s})}function qh(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),Ms(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Ms(a)}function Bs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function e0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Qa,kl="__reactProps$"+Qa,es="__reactContainer$"+Qa,Hh="__reactEvents$"+Qa,aN="__reactListeners$"+Qa,oN="__reactHandles$"+Qa;function qi(s){var a=s[Cn];if(a)return a;for(var c=s.parentNode;c;){if(a=c[es]||c[Cn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=e0(s);s!==null;){if(c=s[Cn])return c;s=e0(s)}return a}s=c,c=s.parentNode}return null}function _l(s){return s=s[Cn]||s[es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ya(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function uu(s){return s[kl]||null}var Wh=[],Xa=-1;function $s(s){return{current:s}}function at(s){0>Xa||(s.current=Wh[Xa],Wh[Xa]=null,Xa--)}function rt(s,a){Xa++,Wh[Xa]=s.current,s.current=a}var qs={},Xt=$s(qs),fr=$s(!1),Hi=qs;function Ja(s,a){var c=s.type.contextTypes;if(!c)return qs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in c)m[x]=a[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function pr(s){return s=s.childContextTypes,s!=null}function du(){at(fr),at(Xt)}function t0(s,a,c){if(Xt.current!==qs)throw Error(t(168));rt(Xt,a),rt(fr,c)}function r0(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(t(108,Ne(s)||"Unknown",m));return oe({},c,h)}function hu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||qs,Hi=Xt.current,rt(Xt,s),rt(fr,fr.current),!0}function n0(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=r0(s,a,Hi),h.__reactInternalMemoizedMergedChildContext=s,at(fr),at(Xt),rt(Xt,s)):at(fr),rt(fr,c)}var ts=null,fu=!1,Gh=!1;function s0(s){ts===null?ts=[s]:ts.push(s)}function lN(s){fu=!0,s0(s)}function Hs(){if(!Gh&&ts!==null){Gh=!0;var s=0,a=qe;try{var c=ts;for(qe=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ts=null,fu=!1}catch(m){throw ts!==null&&(ts=ts.slice(s+1)),Zo(Ra,Hs),m}finally{qe=a,Gh=!1}}return null}var Za=[],eo=0,pu=null,mu=0,Ur=[],Fr=0,Wi=null,rs=1,ns="";function Gi(s,a){Za[eo++]=mu,Za[eo++]=pu,pu=s,mu=a}function i0(s,a,c){Ur[Fr++]=rs,Ur[Fr++]=ns,Ur[Fr++]=Wi,Wi=s;var h=rs;s=ns;var m=32-jr(h)-1;h&=~(1<<m),c+=1;var x=32-jr(a)+m;if(30<x){var k=m-m%5;x=(h&(1<<k)-1).toString(32),h>>=k,m-=k,rs=1<<32-jr(a)+m|c<<m|h,ns=x+s}else rs=1<<x|c<<m|h,ns=s}function Kh(s){s.return!==null&&(Gi(s,1),i0(s,1,0))}function Qh(s){for(;s===pu;)pu=Za[--eo],Za[eo]=null,mu=Za[--eo],Za[eo]=null;for(;s===Wi;)Wi=Ur[--Fr],Ur[Fr]=null,ns=Ur[--Fr],Ur[Fr]=null,rs=Ur[--Fr],Ur[Fr]=null}var Cr=null,Ar=null,lt=!1,tn=null;function a0(s,a){var c=qr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function o0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Cr=s,Ar=Bs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Cr=s,Ar=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Wi!==null?{id:rs,overflow:ns}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=qr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Cr=s,Ar=null,!0):!1;default:return!1}}function Yh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xh(s){if(lt){var a=Ar;if(a){var c=a;if(!o0(s,a)){if(Yh(s))throw Error(t(418));a=Bs(c.nextSibling);var h=Cr;a&&o0(s,a)?a0(h,c):(s.flags=s.flags&-4097|2,lt=!1,Cr=s)}}else{if(Yh(s))throw Error(t(418));s.flags=s.flags&-4097|2,lt=!1,Cr=s}}}function l0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cr=s}function gu(s){if(s!==Cr)return!1;if(!lt)return l0(s),lt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Bh(s.type,s.memoizedProps)),a&&(a=Ar)){if(Yh(s))throw c0(),Error(t(418));for(;a;)a0(s,a),a=Bs(a.nextSibling)}if(l0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Ar=Bs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Ar=null}}else Ar=Cr?Bs(s.stateNode.nextSibling):null;return!0}function c0(){for(var s=Ar;s;)s=Bs(s.nextSibling)}function to(){Ar=Cr=null,lt=!1}function Jh(s){tn===null?tn=[s]:tn.push(s)}var cN=P.ReactCurrentBatchConfig;function Nl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(k){var A=m.refs;k===null?delete A[x]:A[x]=k},a._stringRef=x,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function xu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function u0(s){var a=s._init;return a(s._payload)}function d0(s){function a(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function c(H,z){if(!s)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function h(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=Zs(H,z),H.index=0,H.sibling=null,H}function x(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=2,z):G):(H.flags|=2,z)):(H.flags|=1048576,z)}function k(H){return s&&H.alternate===null&&(H.flags|=2),H}function A(H,z,G,ie){return z===null||z.tag!==6?(z=qf(G,H.mode,ie),z.return=H,z):(z=m(z,G),z.return=H,z)}function F(H,z,G,ie){var xe=G.type;return xe===D?ne(H,z,G.props.children,ie,G.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Qe&&u0(xe)===z.type)?(ie=m(z,G.props),ie.ref=Nl(H,z,G),ie.return=H,ie):(ie=zu(G.type,G.key,G.props,null,H.mode,ie),ie.ref=Nl(H,z,G),ie.return=H,ie)}function K(H,z,G,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Hf(G,H.mode,ie),z.return=H,z):(z=m(z,G.children||[]),z.return=H,z)}function ne(H,z,G,ie,xe){return z===null||z.tag!==7?(z=ta(G,H.mode,ie,xe),z.return=H,z):(z=m(z,G),z.return=H,z)}function se(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=qf(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case J:return G=zu(z.type,z.key,z.props,null,H.mode,G),G.ref=Nl(H,null,z),G.return=H,G;case Y:return z=Hf(z,H.mode,G),z.return=H,z;case Qe:var ie=z._init;return se(H,ie(z._payload),G)}if(vt(z)||ve(z))return z=ta(z,H.mode,G,null),z.return=H,z;xu(H,z)}return null}function re(H,z,G,ie){var xe=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:A(H,z,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J:return G.key===xe?F(H,z,G,ie):null;case Y:return G.key===xe?K(H,z,G,ie):null;case Qe:return xe=G._init,re(H,z,xe(G._payload),ie)}if(vt(G)||ve(G))return xe!==null?null:ne(H,z,G,ie,null);xu(H,G)}return null}function ce(H,z,G,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(G)||null,A(z,H,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return H=H.get(ie.key===null?G:ie.key)||null,F(z,H,ie,xe);case Y:return H=H.get(ie.key===null?G:ie.key)||null,K(z,H,ie,xe);case Qe:var Ee=ie._init;return ce(H,z,G,Ee(ie._payload),xe)}if(vt(ie)||ve(ie))return H=H.get(G)||null,ne(z,H,ie,xe,null);xu(z,ie)}return null}function he(H,z,G,ie){for(var xe=null,Ee=null,Te=z,Ce=z=0,zt=null;Te!==null&&Ce<G.length;Ce++){Te.index>Ce?(zt=Te,Te=null):zt=Te.sibling;var Ke=re(H,Te,G[Ce],ie);if(Ke===null){Te===null&&(Te=zt);break}s&&Te&&Ke.alternate===null&&a(H,Te),z=x(Ke,z,Ce),Ee===null?xe=Ke:Ee.sibling=Ke,Ee=Ke,Te=zt}if(Ce===G.length)return c(H,Te),lt&&Gi(H,Ce),xe;if(Te===null){for(;Ce<G.length;Ce++)Te=se(H,G[Ce],ie),Te!==null&&(z=x(Te,z,Ce),Ee===null?xe=Te:Ee.sibling=Te,Ee=Te);return lt&&Gi(H,Ce),xe}for(Te=h(H,Te);Ce<G.length;Ce++)zt=ce(Te,H,Ce,G[Ce],ie),zt!==null&&(s&&zt.alternate!==null&&Te.delete(zt.key===null?Ce:zt.key),z=x(zt,z,Ce),Ee===null?xe=zt:Ee.sibling=zt,Ee=zt);return s&&Te.forEach(function(ei){return a(H,ei)}),lt&&Gi(H,Ce),xe}function me(H,z,G,ie){var xe=ve(G);if(typeof xe!="function")throw Error(t(150));if(G=xe.call(G),G==null)throw Error(t(151));for(var Ee=xe=null,Te=z,Ce=z=0,zt=null,Ke=G.next();Te!==null&&!Ke.done;Ce++,Ke=G.next()){Te.index>Ce?(zt=Te,Te=null):zt=Te.sibling;var ei=re(H,Te,Ke.value,ie);if(ei===null){Te===null&&(Te=zt);break}s&&Te&&ei.alternate===null&&a(H,Te),z=x(ei,z,Ce),Ee===null?xe=ei:Ee.sibling=ei,Ee=ei,Te=zt}if(Ke.done)return c(H,Te),lt&&Gi(H,Ce),xe;if(Te===null){for(;!Ke.done;Ce++,Ke=G.next())Ke=se(H,Ke.value,ie),Ke!==null&&(z=x(Ke,z,Ce),Ee===null?xe=Ke:Ee.sibling=Ke,Ee=Ke);return lt&&Gi(H,Ce),xe}for(Te=h(H,Te);!Ke.done;Ce++,Ke=G.next())Ke=ce(Te,H,Ce,Ke.value,ie),Ke!==null&&(s&&Ke.alternate!==null&&Te.delete(Ke.key===null?Ce:Ke.key),z=x(Ke,z,Ce),Ee===null?xe=Ke:Ee.sibling=Ke,Ee=Ke);return s&&Te.forEach(function(BN){return a(H,BN)}),lt&&Gi(H,Ce),xe}function bt(H,z,G,ie){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case J:e:{for(var xe=G.key,Ee=z;Ee!==null;){if(Ee.key===xe){if(xe=G.type,xe===D){if(Ee.tag===7){c(H,Ee.sibling),z=m(Ee,G.props.children),z.return=H,H=z;break e}}else if(Ee.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Qe&&u0(xe)===Ee.type){c(H,Ee.sibling),z=m(Ee,G.props),z.ref=Nl(H,Ee,G),z.return=H,H=z;break e}c(H,Ee);break}else a(H,Ee);Ee=Ee.sibling}G.type===D?(z=ta(G.props.children,H.mode,ie,G.key),z.return=H,H=z):(ie=zu(G.type,G.key,G.props,null,H.mode,ie),ie.ref=Nl(H,z,G),ie.return=H,H=ie)}return k(H);case Y:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){c(H,z.sibling),z=m(z,G.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else a(H,z);z=z.sibling}z=Hf(G,H.mode,ie),z.return=H,H=z}return k(H);case Qe:return Ee=G._init,bt(H,z,Ee(G._payload),ie)}if(vt(G))return he(H,z,G,ie);if(ve(G))return me(H,z,G,ie);xu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(c(H,z.sibling),z=m(z,G),z.return=H,H=z):(c(H,z),z=qf(G,H.mode,ie),z.return=H,H=z),k(H)):c(H,z)}return bt}var ro=d0(!0),h0=d0(!1),yu=$s(null),vu=null,no=null,Zh=null;function ef(){Zh=no=vu=null}function tf(s){var a=yu.current;at(yu),s._currentValue=a}function rf(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function so(s,a){vu=s,Zh=no=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(mr=!0),s.firstContext=null)}function zr(s){var a=s._currentValue;if(Zh!==s)if(s={context:s,memoizedValue:a,next:null},no===null){if(vu===null)throw Error(t(308));no=s,vu.dependencies={lanes:0,firstContext:s}}else no=no.next=s;return a}var Ki=null;function nf(s){Ki===null?Ki=[s]:Ki.push(s)}function f0(s,a,c,h){var m=a.interleaved;return m===null?(c.next=c,nf(a)):(c.next=m.next,m.next=c),a.interleaved=c,ss(s,h)}function ss(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ws=!1;function sf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function is(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Gs(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ge&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,ss(s,c)}return m=h.interleaved,m===null?(a.next=a,nf(h)):(a.next=m.next,m.next=a),h.interleaved=a,ss(s,c)}function wu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,il(s,c)}}function m0(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?m=x=k:x=x.next=k,c=c.next}while(c!==null);x===null?m=x=a:x=x.next=a}else m=x=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function bu(s,a,c,h){var m=s.updateQueue;Ws=!1;var x=m.firstBaseUpdate,k=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var F=A,K=F.next;F.next=null,k===null?x=K:k.next=K,k=F;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==k&&(A===null?ne.firstBaseUpdate=K:A.next=K,ne.lastBaseUpdate=F))}if(x!==null){var se=m.baseState;k=0,ne=K=F=null,A=x;do{var re=A.lane,ce=A.eventTime;if((h&re)===re){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=s,me=A;switch(re=a,ce=c,me.tag){case 1:if(he=me.payload,typeof he=="function"){se=he.call(ce,se,re);break e}se=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,re=typeof he=="function"?he.call(ce,se,re):he,re==null)break e;se=oe({},se,re);break e;case 2:Ws=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[A]:re.push(A))}else ce={eventTime:ce,lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(K=ne=ce,F=se):ne=ne.next=ce,k|=re;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;re=A,A=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ne===null&&(F=se),m.baseState=F,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do k|=m.lane,m=m.next;while(m!==a)}else x===null&&(m.shared.lanes=0);Xi|=k,s.lanes=k,s.memoizedState=se}}function g0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var jl={},An=$s(jl),El=$s(jl),Tl=$s(jl);function Qi(s){if(s===jl)throw Error(t(174));return s}function af(s,a){switch(rt(Tl,a),rt(El,s),rt(An,jl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ea(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ea(a,s)}at(An),rt(An,a)}function io(){at(An),at(El),at(Tl)}function x0(s){Qi(Tl.current);var a=Qi(An.current),c=Ea(a,s.type);a!==c&&(rt(El,s),rt(An,c))}function of(s){El.current===s&&(at(An),at(El))}var ct=$s(0);function ku(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var lf=[];function cf(){for(var s=0;s<lf.length;s++)lf[s]._workInProgressVersionPrimary=null;lf.length=0}var _u=P.ReactCurrentDispatcher,uf=P.ReactCurrentBatchConfig,Yi=0,ut=null,Dt=null,Ut=null,Nu=!1,Il=!1,Sl=0,uN=0;function Jt(){throw Error(t(321))}function df(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!en(s[c],a[c]))return!1;return!0}function hf(s,a,c,h,m,x){if(Yi=x,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_u.current=s===null||s.memoizedState===null?pN:mN,s=c(h,m),Il){x=0;do{if(Il=!1,Sl=0,25<=x)throw Error(t(301));x+=1,Ut=Dt=null,a.updateQueue=null,_u.current=gN,s=c(h,m)}while(Il)}if(_u.current=Tu,a=Dt!==null&&Dt.next!==null,Yi=0,Ut=Dt=ut=null,Nu=!1,a)throw Error(t(300));return s}function ff(){var s=Sl!==0;return Sl=0,s}function Rn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ut.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function Br(){if(Dt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var a=Ut===null?ut.memoizedState:Ut.next;if(a!==null)Ut=a,Dt=s;else{if(s===null)throw Error(t(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?ut.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function Cl(s,a){return typeof a=="function"?a(s):a}function pf(s){var a=Br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Dt,m=h.baseQueue,x=c.pending;if(x!==null){if(m!==null){var k=m.next;m.next=x.next,x.next=k}h.baseQueue=m=x,c.pending=null}if(m!==null){x=m.next,h=h.baseState;var A=k=null,F=null,K=x;do{var ne=K.lane;if((Yi&ne)===ne)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(A=F=se,k=h):F=F.next=se,ut.lanes|=ne,Xi|=ne}K=K.next}while(K!==null&&K!==x);F===null?k=h:F.next=A,en(h,a.memoizedState)||(mr=!0),a.memoizedState=h,a.baseState=k,a.baseQueue=F,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do x=m.lane,ut.lanes|=x,Xi|=x,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function mf(s){var a=Br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,x=a.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do x=s(x,k.action),k=k.next;while(k!==m);en(x,a.memoizedState)||(mr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function y0(){}function v0(s,a){var c=ut,h=Br(),m=a(),x=!en(h.memoizedState,m);if(x&&(h.memoizedState=m,mr=!0),h=h.queue,gf(k0.bind(null,c,h,s),[s]),h.getSnapshot!==a||x||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Al(9,b0.bind(null,c,h,m,a),void 0,null),Ft===null)throw Error(t(349));(Yi&30)!==0||w0(c,a,m)}return m}function w0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function b0(s,a,c,h){a.value=c,a.getSnapshot=h,_0(a)&&N0(s)}function k0(s,a,c){return c(function(){_0(a)&&N0(s)})}function _0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!en(s,c)}catch{return!0}}function N0(s){var a=ss(s,1);a!==null&&an(a,s,1,-1)}function j0(s){var a=Rn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:s},a.queue=s,s=s.dispatch=fN.bind(null,ut,s),[a.memoizedState,s]}function Al(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function E0(){return Br().memoizedState}function ju(s,a,c,h){var m=Rn();ut.flags|=s,m.memoizedState=Al(1|a,c,void 0,h===void 0?null:h)}function Eu(s,a,c,h){var m=Br();h=h===void 0?null:h;var x=void 0;if(Dt!==null){var k=Dt.memoizedState;if(x=k.destroy,h!==null&&df(h,k.deps)){m.memoizedState=Al(a,c,x,h);return}}ut.flags|=s,m.memoizedState=Al(1|a,c,x,h)}function T0(s,a){return ju(8390656,8,s,a)}function gf(s,a){return Eu(2048,8,s,a)}function I0(s,a){return Eu(4,2,s,a)}function S0(s,a){return Eu(4,4,s,a)}function C0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function A0(s,a,c){return c=c!=null?c.concat([s]):null,Eu(4,4,C0.bind(null,a,s),c)}function xf(){}function R0(s,a){var c=Br();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&df(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function P0(s,a){var c=Br();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&df(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function D0(s,a,c){return(Yi&21)===0?(s.baseState&&(s.baseState=!1,mr=!0),s.memoizedState=c):(en(c,a)||(c=nl(),ut.lanes|=c,Xi|=c,s.baseState=!0),a)}function dN(s,a){var c=qe;qe=c!==0&&4>c?c:4,s(!0);var h=uf.transition;uf.transition={};try{s(!1),a()}finally{qe=c,uf.transition=h}}function L0(){return Br().memoizedState}function hN(s,a,c){var h=Xs(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},O0(s))V0(a,c);else if(c=f0(s,a,c,h),c!==null){var m=lr();an(c,s,h,m),M0(c,a,h)}}function fN(s,a,c){var h=Xs(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(O0(s))V0(a,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var k=a.lastRenderedState,A=x(k,c);if(m.hasEagerState=!0,m.eagerState=A,en(A,k)){var F=a.interleaved;F===null?(m.next=m,nf(a)):(m.next=F.next,F.next=m),a.interleaved=m;return}}catch{}finally{}c=f0(s,a,m,h),c!==null&&(m=lr(),an(c,s,h,m),M0(c,a,h))}}function O0(s){var a=s.alternate;return s===ut||a!==null&&a===ut}function V0(s,a){Il=Nu=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function M0(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,il(s,c)}}var Tu={readContext:zr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},pN={readContext:zr,useCallback:function(s,a){return Rn().memoizedState=[s,a===void 0?null:a],s},useContext:zr,useEffect:T0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,ju(4194308,4,C0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return ju(4194308,4,s,a)},useInsertionEffect:function(s,a){return ju(4,2,s,a)},useMemo:function(s,a){var c=Rn();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=Rn();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=hN.bind(null,ut,s),[h.memoizedState,s]},useRef:function(s){var a=Rn();return s={current:s},a.memoizedState=s},useState:j0,useDebugValue:xf,useDeferredValue:function(s){return Rn().memoizedState=s},useTransition:function(){var s=j0(!1),a=s[0];return s=dN.bind(null,s[1]),Rn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=ut,m=Rn();if(lt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Ft===null)throw Error(t(349));(Yi&30)!==0||w0(h,a,c)}m.memoizedState=c;var x={value:c,getSnapshot:a};return m.queue=x,T0(k0.bind(null,h,x,s),[s]),h.flags|=2048,Al(9,b0.bind(null,h,x,c,a),void 0,null),c},useId:function(){var s=Rn(),a=Ft.identifierPrefix;if(lt){var c=ns,h=rs;c=(h&~(1<<32-jr(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=Sl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=uN++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},mN={readContext:zr,useCallback:R0,useContext:zr,useEffect:gf,useImperativeHandle:A0,useInsertionEffect:I0,useLayoutEffect:S0,useMemo:P0,useReducer:pf,useRef:E0,useState:function(){return pf(Cl)},useDebugValue:xf,useDeferredValue:function(s){var a=Br();return D0(a,Dt.memoizedState,s)},useTransition:function(){var s=pf(Cl)[0],a=Br().memoizedState;return[s,a]},useMutableSource:y0,useSyncExternalStore:v0,useId:L0,unstable_isNewReconciler:!1},gN={readContext:zr,useCallback:R0,useContext:zr,useEffect:gf,useImperativeHandle:A0,useInsertionEffect:I0,useLayoutEffect:S0,useMemo:P0,useReducer:mf,useRef:E0,useState:function(){return mf(Cl)},useDebugValue:xf,useDeferredValue:function(s){var a=Br();return Dt===null?a.memoizedState=s:D0(a,Dt.memoizedState,s)},useTransition:function(){var s=mf(Cl)[0],a=Br().memoizedState;return[s,a]},useMutableSource:y0,useSyncExternalStore:v0,useId:L0,unstable_isNewReconciler:!1};function rn(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function yf(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:oe({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Iu={isMounted:function(s){return(s=s._reactInternals)?Jr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=lr(),m=Xs(s),x=is(h,m);x.payload=a,c!=null&&(x.callback=c),a=Gs(s,x,m),a!==null&&(an(a,s,m,h),wu(a,s,m))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=lr(),m=Xs(s),x=is(h,m);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Gs(s,x,m),a!==null&&(an(a,s,m,h),wu(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=lr(),h=Xs(s),m=is(c,h);m.tag=2,a!=null&&(m.callback=a),a=Gs(s,m,h),a!==null&&(an(a,s,h,c),wu(a,s,h))}};function U0(s,a,c,h,m,x,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,k):a.prototype&&a.prototype.isPureReactComponent?!xl(c,h)||!xl(m,x):!0}function F0(s,a,c){var h=!1,m=qs,x=a.contextType;return typeof x=="object"&&x!==null?x=zr(x):(m=pr(a)?Hi:Xt.current,h=a.contextTypes,x=(h=h!=null)?Ja(s,m):qs),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Iu,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),a}function z0(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Iu.enqueueReplaceState(a,a.state,null)}function vf(s,a,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},sf(s);var x=a.contextType;typeof x=="object"&&x!==null?m.context=zr(x):(x=pr(a)?Hi:Xt.current,m.context=Ja(s,x)),m.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(yf(s,a,x,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Iu.enqueueReplaceState(m,m.state,null),bu(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ao(s,a){try{var c="",h=a;do c+=Re(h),h=h.return;while(h);var m=c}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:m,digest:null}}function wf(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function bf(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var xN=typeof WeakMap=="function"?WeakMap:Map;function B0(s,a,c){c=is(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Lu||(Lu=!0,Of=h),bf(s,a)},c}function $0(s,a,c){c=is(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;c.payload=function(){return h(m)},c.callback=function(){bf(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){bf(s,a),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function q0(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new xN;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(m.add(c),s=AN.bind(null,s,a,c),a.then(s,s))}function H0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function W0(s,a,c,h,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=is(-1,1),a.tag=2,Gs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var yN=P.ReactCurrentOwner,mr=!1;function or(s,a,c,h){a.child=s===null?h0(a,null,c,h):ro(a,s.child,c,h)}function G0(s,a,c,h,m){c=c.render;var x=a.ref;return so(a,m),h=hf(s,a,c,h,x,m),c=ff(),s!==null&&!mr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,as(s,a,m)):(lt&&c&&Kh(a),a.flags|=1,or(s,a,h,m),a.child)}function K0(s,a,c,h,m){if(s===null){var x=c.type;return typeof x=="function"&&!$f(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,Q0(s,a,x,h,m)):(s=zu(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&m)===0){var k=x.memoizedProps;if(c=c.compare,c=c!==null?c:xl,c(k,h)&&s.ref===a.ref)return as(s,a,m)}return a.flags|=1,s=Zs(x,h),s.ref=a.ref,s.return=a,a.child=s}function Q0(s,a,c,h,m){if(s!==null){var x=s.memoizedProps;if(xl(x,h)&&s.ref===a.ref)if(mr=!1,a.pendingProps=h=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(mr=!0);else return a.lanes=s.lanes,as(s,a,m)}return kf(s,a,c,h,m)}function Y0(s,a,c){var h=a.pendingProps,m=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(lo,Rr),Rr|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,rt(lo,Rr),Rr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,rt(lo,Rr),Rr|=h}else x!==null?(h=x.baseLanes|c,a.memoizedState=null):h=c,rt(lo,Rr),Rr|=h;return or(s,a,m,c),a.child}function X0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function kf(s,a,c,h,m){var x=pr(c)?Hi:Xt.current;return x=Ja(a,x),so(a,m),c=hf(s,a,c,h,x,m),h=ff(),s!==null&&!mr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,as(s,a,m)):(lt&&h&&Kh(a),a.flags|=1,or(s,a,c,m),a.child)}function J0(s,a,c,h,m){if(pr(c)){var x=!0;hu(a)}else x=!1;if(so(a,m),a.stateNode===null)Cu(s,a),F0(a,c,h),vf(a,c,h,m),h=!0;else if(s===null){var k=a.stateNode,A=a.memoizedProps;k.props=A;var F=k.context,K=c.contextType;typeof K=="object"&&K!==null?K=zr(K):(K=pr(c)?Hi:Xt.current,K=Ja(a,K));var ne=c.getDerivedStateFromProps,se=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==h||F!==K)&&z0(a,k,h,K),Ws=!1;var re=a.memoizedState;k.state=re,bu(a,h,k,m),F=a.memoizedState,A!==h||re!==F||fr.current||Ws?(typeof ne=="function"&&(yf(a,c,ne,h),F=a.memoizedState),(A=Ws||U0(a,c,A,h,re,F,K))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=F),k.props=h,k.state=F,k.context=K,h=A):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{k=a.stateNode,p0(s,a),A=a.memoizedProps,K=a.type===a.elementType?A:rn(a.type,A),k.props=K,se=a.pendingProps,re=k.context,F=c.contextType,typeof F=="object"&&F!==null?F=zr(F):(F=pr(c)?Hi:Xt.current,F=Ja(a,F));var ce=c.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==se||re!==F)&&z0(a,k,h,F),Ws=!1,re=a.memoizedState,k.state=re,bu(a,h,k,m);var he=a.memoizedState;A!==se||re!==he||fr.current||Ws?(typeof ce=="function"&&(yf(a,c,ce,h),he=a.memoizedState),(K=Ws||U0(a,c,K,h,re,he,F)||!1)?(ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,he,F),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,he,F)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=he),k.props=h,k.state=he,k.context=F,h=K):(typeof k.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),h=!1)}return _f(s,a,c,h,x,m)}function _f(s,a,c,h,m,x){X0(s,a);var k=(a.flags&128)!==0;if(!h&&!k)return m&&n0(a,c,!1),as(s,a,x);h=a.stateNode,yN.current=a;var A=k&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&k?(a.child=ro(a,s.child,null,x),a.child=ro(a,null,A,x)):or(s,a,A,x),a.memoizedState=h.state,m&&n0(a,c,!0),a.child}function Z0(s){var a=s.stateNode;a.pendingContext?t0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&t0(s,a.context,!1),af(s,a.containerInfo)}function ex(s,a,c,h,m){return to(),Jh(m),a.flags|=256,or(s,a,c,h),a.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function jf(s){return{baseLanes:s,cachePool:null,transitions:null}}function tx(s,a,c){var h=a.pendingProps,m=ct.current,x=!1,k=(a.flags&128)!==0,A;if((A=k)||(A=s!==null&&s.memoizedState===null?!1:(m&2)!==0),A?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),rt(ct,m&1),s===null)return Xh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=h.children,s=h.fallback,x?(h=a.mode,x=a.child,k={mode:"hidden",children:k},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=k):x=Bu(k,h,0,null),s=ta(s,h,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=jf(c),a.memoizedState=Nf,s):Ef(a,k));if(m=s.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return vN(s,a,k,h,A,m,c);if(x){x=h.fallback,k=a.mode,m=s.child,A=m.sibling;var F={mode:"hidden",children:h.children};return(k&1)===0&&a.child!==m?(h=a.child,h.childLanes=0,h.pendingProps=F,a.deletions=null):(h=Zs(m,F),h.subtreeFlags=m.subtreeFlags&14680064),A!==null?x=Zs(A,x):(x=ta(x,k,c,null),x.flags|=2),x.return=a,h.return=a,h.sibling=x,a.child=h,h=x,x=a.child,k=s.child.memoizedState,k=k===null?jf(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},x.memoizedState=k,x.childLanes=s.childLanes&~c,a.memoizedState=Nf,h}return x=s.child,s=x.sibling,h=Zs(x,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function Ef(s,a){return a=Bu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Su(s,a,c,h){return h!==null&&Jh(h),ro(a,s.child,null,c),s=Ef(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function vN(s,a,c,h,m,x,k){if(c)return a.flags&256?(a.flags&=-257,h=wf(Error(t(422))),Su(s,a,k,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=h.fallback,m=a.mode,h=Bu({mode:"visible",children:h.children},m,0,null),x=ta(x,m,k,null),x.flags|=2,h.return=a,x.return=a,h.sibling=x,a.child=h,(a.mode&1)!==0&&ro(a,s.child,null,k),a.child.memoizedState=jf(k),a.memoizedState=Nf,x);if((a.mode&1)===0)return Su(s,a,k,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var A=h.dgst;return h=A,x=Error(t(419)),h=wf(x,h,void 0),Su(s,a,k,h)}if(A=(k&s.childLanes)!==0,mr||A){if(h=Ft,h!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|k))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,ss(s,m),an(h,s,m,-1))}return Bf(),h=wf(Error(t(421))),Su(s,a,k,h)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=RN.bind(null,s),m._reactRetry=a,null):(s=x.treeContext,Ar=Bs(m.nextSibling),Cr=a,lt=!0,tn=null,s!==null&&(Ur[Fr++]=rs,Ur[Fr++]=ns,Ur[Fr++]=Wi,rs=s.id,ns=s.overflow,Wi=a),a=Ef(a,h.children),a.flags|=4096,a)}function rx(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),rf(s.return,a,c)}function Tf(s,a,c,h,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m)}function nx(s,a,c){var h=a.pendingProps,m=h.revealOrder,x=h.tail;if(or(s,a,h.children,c),h=ct.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rx(s,c,a);else if(s.tag===19)rx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(rt(ct,h),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&ku(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Tf(a,!1,m,c,x);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&ku(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Tf(a,!0,c,null,x);break;case"together":Tf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function as(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Xi|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Zs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Zs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function wN(s,a,c){switch(a.tag){case 3:Z0(a),to();break;case 5:x0(a);break;case 1:pr(a.type)&&hu(a);break;case 4:af(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,m=a.memoizedProps.value;rt(yu,h._currentValue),h._currentValue=m;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(rt(ct,ct.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?tx(s,a,c):(rt(ct,ct.current&1),s=as(s,a,c),s!==null?s.sibling:null);rt(ct,ct.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return nx(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ct,ct.current),h)break;return null;case 22:case 23:return a.lanes=0,Y0(s,a,c)}return as(s,a,c)}var sx,If,ix,ax;sx=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},If=function(){},ix=function(s,a,c,h){var m=s.memoizedProps;if(m!==h){s=a.stateNode,Qi(An.current);var x=null;switch(c){case"input":m=Na(s,m),h=Na(s,h),x=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),x=[];break;case"textarea":m=Wo(s,m),h=Wo(s,h),x=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=cu)}Xr(c,h);var k;c=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var A=m[K];for(k in A)A.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in h){var F=h[K];if(A=m?.[K],h.hasOwnProperty(K)&&F!==A&&(F!=null||A!=null))if(K==="style")if(A){for(k in A)!A.hasOwnProperty(k)||F&&F.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in F)F.hasOwnProperty(k)&&A[k]!==F[k]&&(c||(c={}),c[k]=F[k])}else c||(x||(x=[]),x.push(K,c)),c=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,A=A?A.__html:void 0,F!=null&&A!==F&&(x=x||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&it("scroll",s),x||A===F||(x=[])):(x=x||[]).push(K,F))}c&&(x=x||[]).push("style",c);var K=x;(a.updateQueue=K)&&(a.flags|=4)}},ax=function(s,a,c,h){c!==h&&(a.flags|=4)};function Rl(s,a){if(!lt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Zt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function bN(s,a,c){var h=a.pendingProps;switch(Qh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return pr(a.type)&&du(),Zt(a),null;case 3:return h=a.stateNode,io(),at(fr),at(Xt),cf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(gu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tn!==null&&(Uf(tn),tn=null))),If(s,a),Zt(a),null;case 5:of(a);var m=Qi(Tl.current);if(c=a.type,s!==null&&a.stateNode!=null)ix(s,a,c,h,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return Zt(a),null}if(s=Qi(An.current),gu(a)){h=a.stateNode,c=a.type;var x=a.memoizedProps;switch(h[Cn]=a,h[kl]=x,s=(a.mode&1)!==0,c){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(m=0;m<vl.length;m++)it(vl[m],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":Dc(h,x),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},it("invalid",h);break;case"textarea":Go(h,x),it("invalid",h)}Xr(c,x),m=null;for(var k in x)if(x.hasOwnProperty(k)){var A=x[k];k==="children"?typeof A=="string"?h.textContent!==A&&(x.suppressHydrationWarning!==!0&&lu(h.textContent,A,s),m=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&lu(h.textContent,A,s),m=["children",""+A]):o.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&it("scroll",h)}switch(c){case"input":Je(h),Ho(h,x,!0);break;case"textarea":Je(h),Es(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=cu)}h=m,a.updateQueue=h,h!==null&&(a.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ko(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=k.createElement(c,{is:h.is}):(s=k.createElement(c),c==="select"&&(k=s,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):s=k.createElementNS(s,c),s[Cn]=a,s[kl]=h,sx(s,a,!1,!1),a.stateNode=s;e:{switch(k=Ia(c,h),c){case"dialog":it("cancel",s),it("close",s),m=h;break;case"iframe":case"object":case"embed":it("load",s),m=h;break;case"video":case"audio":for(m=0;m<vl.length;m++)it(vl[m],s);m=h;break;case"source":it("error",s),m=h;break;case"img":case"image":case"link":it("error",s),it("load",s),m=h;break;case"details":it("toggle",s),m=h;break;case"input":Dc(s,h),m=Na(s,h),it("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),it("invalid",s);break;case"textarea":Go(s,h),m=Wo(s,h),it("invalid",s);break;default:m=h}Xr(c,m),A=m;for(x in A)if(A.hasOwnProperty(x)){var F=A[x];x==="style"?Ta(s,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Oc(s,F)):x==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&Ci(s,F):typeof F=="number"&&Ci(s,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?F!=null&&x==="onScroll"&&it("scroll",s):F!=null&&$(s,x,F,k))}switch(c){case"input":Je(s),Ho(s,h,!1);break;case"textarea":Je(s),Es(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?Yr(s,!!h.multiple,x,!1):h.defaultValue!=null&&Yr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=cu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zt(a),null;case 6:if(s&&a.stateNode!=null)ax(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=Qi(Tl.current),Qi(An.current),gu(a)){if(h=a.stateNode,c=a.memoizedProps,h[Cn]=a,(x=h.nodeValue!==c)&&(s=Cr,s!==null))switch(s.tag){case 3:lu(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&lu(h.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Cn]=a,a.stateNode=h}return Zt(a),null;case 13:if(at(ct),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&Ar!==null&&(a.mode&1)!==0&&(a.flags&128)===0)c0(),to(),a.flags|=98560,x=!1;else if(x=gu(a),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Cn]=a}else to(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),x=!1}else tn!==null&&(Uf(tn),tn=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ct.current&1)!==0?Lt===0&&(Lt=3):Bf())),a.updateQueue!==null&&(a.flags|=4),Zt(a),null);case 4:return io(),If(s,a),s===null&&wl(a.stateNode.containerInfo),Zt(a),null;case 10:return tf(a.type._context),Zt(a),null;case 17:return pr(a.type)&&du(),Zt(a),null;case 19:if(at(ct),x=a.memoizedState,x===null)return Zt(a),null;if(h=(a.flags&128)!==0,k=x.rendering,k===null)if(h)Rl(x,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=ku(s),k!==null){for(a.flags|=128,Rl(x,!1),h=k.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)x=c,s=h,x.flags&=14680066,k=x.alternate,k===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=k.childLanes,x.lanes=k.lanes,x.child=k.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=k.memoizedProps,x.memoizedState=k.memoizedState,x.updateQueue=k.updateQueue,x.type=k.type,s=k.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return rt(ct,ct.current&1|2),a.child}s=s.sibling}x.tail!==null&&st()>co&&(a.flags|=128,h=!0,Rl(x,!1),a.lanes=4194304)}else{if(!h)if(s=ku(k),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Rl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!lt)return Zt(a),null}else 2*st()-x.renderingStartTime>co&&c!==1073741824&&(a.flags|=128,h=!0,Rl(x,!1),a.lanes=4194304);x.isBackwards?(k.sibling=a.child,a.child=k):(c=x.last,c!==null?c.sibling=k:a.child=k,x.last=k)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=st(),a.sibling=null,c=ct.current,rt(ct,h?c&1|2:c&1),a):(Zt(a),null);case 22:case 23:return zf(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Rr&1073741824)!==0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function kN(s,a){switch(Qh(a),a.tag){case 1:return pr(a.type)&&du(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return io(),at(fr),at(Xt),cf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return of(a),null;case 13:if(at(ct),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));to()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return at(ct),null;case 4:return io(),null;case 10:return tf(a.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var Au=!1,er=!1,_N=typeof WeakSet=="function"?WeakSet:Set,de=null;function oo(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){mt(s,a,h)}else c.current=null}function Sf(s,a,c){try{c()}catch(h){mt(s,a,h)}}var ox=!1;function NN(s,a){if(Fh=Xn,s=Ug(),Rh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var k=0,A=-1,F=-1,K=0,ne=0,se=s,re=null;t:for(;;){for(var ce;se!==c||m!==0&&se.nodeType!==3||(A=k+m),se!==x||h!==0&&se.nodeType!==3||(F=k+h),se.nodeType===3&&(k+=se.nodeValue.length),(ce=se.firstChild)!==null;)re=se,se=ce;for(;;){if(se===s)break t;if(re===c&&++K===m&&(A=k),re===x&&++ne===h&&(F=k),(ce=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=ce}c=A===-1||F===-1?null:{start:A,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(zh={focusedElem:s,selectionRange:c},Xn=!1,de=a;de!==null;)if(a=de,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,de=s;else for(;de!==null;){a=de;try{var he=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var me=he.memoizedProps,bt=he.memoizedState,H=a.stateNode,z=H.getSnapshotBeforeUpdate(a.elementType===a.type?me:rn(a.type,me),bt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=a.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){mt(a,a.return,ie)}if(s=a.sibling,s!==null){s.return=a.return,de=s;break}de=a.return}return he=ox,ox=!1,he}function Pl(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&Sf(a,c,x)}m=m.next}while(m!==h)}}function Ru(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function Cf(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function lx(s){var a=s.alternate;a!==null&&(s.alternate=null,lx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Cn],delete a[kl],delete a[Hh],delete a[aN],delete a[oN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function cx(s){return s.tag===5||s.tag===3||s.tag===4}function ux(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Af(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=cu));else if(h!==4&&(s=s.child,s!==null))for(Af(s,a,c),s=s.sibling;s!==null;)Af(s,a,c),s=s.sibling}function Rf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Rf(s,a,c),s=s.sibling;s!==null;)Rf(s,a,c),s=s.sibling}var Ht=null,nn=!1;function Ks(s,a,c){for(c=c.child;c!==null;)dx(s,a,c),c=c.sibling}function dx(s,a,c){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 5:er||oo(c,a);case 6:var h=Ht,m=nn;Ht=null,Ks(s,a,c),Ht=h,nn=m,Ht!==null&&(nn?(s=Ht,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Ht.removeChild(c.stateNode));break;case 18:Ht!==null&&(nn?(s=Ht,c=c.stateNode,s.nodeType===8?qh(s.parentNode,c):s.nodeType===1&&qh(s,c),Ms(s)):qh(Ht,c.stateNode));break;case 4:h=Ht,m=nn,Ht=c.stateNode.containerInfo,nn=!0,Ks(s,a,c),Ht=h,nn=m;break;case 0:case 11:case 14:case 15:if(!er&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var x=m,k=x.destroy;x=x.tag,k!==void 0&&((x&2)!==0||(x&4)!==0)&&Sf(c,a,k),m=m.next}while(m!==h)}Ks(s,a,c);break;case 1:if(!er&&(oo(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(A){mt(c,a,A)}Ks(s,a,c);break;case 21:Ks(s,a,c);break;case 22:c.mode&1?(er=(h=er)||c.memoizedState!==null,Ks(s,a,c),er=h):Ks(s,a,c);break;default:Ks(s,a,c)}}function hx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new _N),a.forEach(function(h){var m=PN.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function sn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var x=s,k=a,A=k;e:for(;A!==null;){switch(A.tag){case 5:Ht=A.stateNode,nn=!1;break e;case 3:Ht=A.stateNode.containerInfo,nn=!0;break e;case 4:Ht=A.stateNode.containerInfo,nn=!0;break e}A=A.return}if(Ht===null)throw Error(t(160));dx(x,k,m),Ht=null,nn=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(K){mt(m,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)fx(a,s),a=a.sibling}function fx(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(sn(a,s),Pn(s),h&4){try{Pl(3,s,s.return),Ru(3,s)}catch(me){mt(s,s.return,me)}try{Pl(5,s,s.return)}catch(me){mt(s,s.return,me)}}break;case 1:sn(a,s),Pn(s),h&512&&c!==null&&oo(c,c.return);break;case 5:if(sn(a,s),Pn(s),h&512&&c!==null&&oo(c,c.return),s.flags&32){var m=s.stateNode;try{Ci(m,"")}catch(me){mt(s,s.return,me)}}if(h&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,k=c!==null?c.memoizedProps:x,A=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&ja(m,x),Ia(A,k);var K=Ia(A,x);for(k=0;k<F.length;k+=2){var ne=F[k],se=F[k+1];ne==="style"?Ta(m,se):ne==="dangerouslySetInnerHTML"?Oc(m,se):ne==="children"?Ci(m,se):$(m,ne,se,K)}switch(A){case"input":Si(m,x);break;case"textarea":Lc(m,x);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var ce=x.value;ce!=null?Yr(m,!!x.multiple,ce,!1):re!==!!x.multiple&&(x.defaultValue!=null?Yr(m,!!x.multiple,x.defaultValue,!0):Yr(m,!!x.multiple,x.multiple?[]:"",!1))}m[kl]=x}catch(me){mt(s,s.return,me)}}break;case 6:if(sn(a,s),Pn(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(me){mt(s,s.return,me)}}break;case 3:if(sn(a,s),Pn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ms(a.containerInfo)}catch(me){mt(s,s.return,me)}break;case 4:sn(a,s),Pn(s);break;case 13:sn(a,s),Pn(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(Lf=st())),h&4&&hx(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(er=(K=er)||ne,sn(a,s),er=K):sn(a,s),Pn(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ne&&(s.mode&1)!==0)for(de=s,ne=s.child;ne!==null;){for(se=de=ne;de!==null;){switch(re=de,ce=re.child,re.tag){case 0:case 11:case 14:case 15:Pl(4,re,re.return);break;case 1:oo(re,re.return);var he=re.stateNode;if(typeof he.componentWillUnmount=="function"){h=re,c=re.return;try{a=h,he.props=a.memoizedProps,he.state=a.memoizedState,he.componentWillUnmount()}catch(me){mt(h,c,me)}}break;case 5:oo(re,re.return);break;case 22:if(re.memoizedState!==null){gx(se);continue}}ce!==null?(ce.return=re,de=ce):gx(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,K?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=se.stateNode,F=se.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null,A.style.display=Ss("display",k))}catch(me){mt(s,s.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(me){mt(s,s.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:sn(a,s),Pn(s),h&4&&hx(s);break;case 21:break;default:sn(a,s),Pn(s)}}function Pn(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(cx(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Ci(m,""),h.flags&=-33);var x=ux(s);Rf(s,x,m);break;case 3:case 4:var k=h.stateNode.containerInfo,A=ux(s);Af(s,A,k);break;default:throw Error(t(161))}}catch(F){mt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function jN(s,a,c){de=s,px(s)}function px(s,a,c){for(var h=(s.mode&1)!==0;de!==null;){var m=de,x=m.child;if(m.tag===22&&h){var k=m.memoizedState!==null||Au;if(!k){var A=m.alternate,F=A!==null&&A.memoizedState!==null||er;A=Au;var K=er;if(Au=k,(er=F)&&!K)for(de=m;de!==null;)k=de,F=k.child,k.tag===22&&k.memoizedState!==null?xx(m):F!==null?(F.return=k,de=F):xx(m);for(;x!==null;)de=x,px(x),x=x.sibling;de=m,Au=A,er=K}mx(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,de=x):mx(s)}}function mx(s){for(;de!==null;){var a=de;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:er||Ru(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!er)if(c===null)h.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:rn(a.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&g0(a,x,h);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}g0(a,k,c)}break;case 5:var A=a.stateNode;if(c===null&&a.flags&4){c=A;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Ms(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}er||a.flags&512&&Cf(a)}catch(re){mt(a,a.return,re)}}if(a===s){de=null;break}if(c=a.sibling,c!==null){c.return=a.return,de=c;break}de=a.return}}function gx(s){for(;de!==null;){var a=de;if(a===s){de=null;break}var c=a.sibling;if(c!==null){c.return=a.return,de=c;break}de=a.return}}function xx(s){for(;de!==null;){var a=de;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ru(4,a)}catch(F){mt(a,c,F)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(F){mt(a,m,F)}}var x=a.return;try{Cf(a)}catch(F){mt(a,x,F)}break;case 5:var k=a.return;try{Cf(a)}catch(F){mt(a,k,F)}}}catch(F){mt(a,a.return,F)}if(a===s){de=null;break}var A=a.sibling;if(A!==null){A.return=a.return,de=A;break}de=a.return}}var EN=Math.ceil,Pu=P.ReactCurrentDispatcher,Pf=P.ReactCurrentOwner,$r=P.ReactCurrentBatchConfig,Ge=0,Ft=null,St=null,Wt=0,Rr=0,lo=$s(0),Lt=0,Dl=null,Xi=0,Du=0,Df=0,Ll=null,gr=null,Lf=0,co=1/0,os=null,Lu=!1,Of=null,Qs=null,Ou=!1,Ys=null,Vu=0,Ol=0,Vf=null,Mu=-1,Uu=0;function lr(){return(Ge&6)!==0?st():Mu!==-1?Mu:Mu=st()}function Xs(s){return(s.mode&1)===0?1:(Ge&2)!==0&&Wt!==0?Wt&-Wt:cN.transition!==null?(Uu===0&&(Uu=nl()),Uu):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Ma(s.type)),s)}function an(s,a,c,h){if(50<Ol)throw Ol=0,Vf=null,Error(t(185));Ui(s,c,h),((Ge&2)===0||s!==Ft)&&(s===Ft&&((Ge&2)===0&&(Du|=c),Lt===4&&Js(s,Wt)),xr(s,h),c===1&&Ge===0&&(a.mode&1)===0&&(co=st()+500,fu&&Hs()))}function xr(s,a){var c=s.callbackNode;Mi(s,a);var h=Kn(s,s===Ft?Wt:0);if(h===0)c!==null&&Aa(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Aa(c),a===1)s.tag===0?lN(vx.bind(null,s)):s0(vx.bind(null,s)),sN(function(){(Ge&6)===0&&Hs()}),c=null;else{switch(wn(h)){case 1:c=Ra;break;case 4:c=el;break;case 16:c=Di;break;case 536870912:c=Pa;break;default:c=Di}c=Tx(c,yx.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function yx(s,a){if(Mu=-1,Uu=0,(Ge&6)!==0)throw Error(t(327));var c=s.callbackNode;if(uo()&&s.callbackNode!==c)return null;var h=Kn(s,s===Ft?Wt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=Fu(s,h);else{a=h;var m=Ge;Ge|=2;var x=bx();(Ft!==s||Wt!==a)&&(os=null,co=st()+500,Zi(s,a));do try{SN();break}catch(A){wx(s,A)}while(!0);ef(),Pu.current=x,Ge=m,St!==null?a=0:(Ft=null,Wt=0,a=Lt)}if(a!==0){if(a===2&&(m=rl(s),m!==0&&(h=m,a=Mf(s,m))),a===1)throw c=Dl,Zi(s,0),Js(s,h),xr(s,st()),c;if(a===6)Js(s,h);else{if(m=s.current.alternate,(h&30)===0&&!TN(m)&&(a=Fu(s,h),a===2&&(x=rl(s),x!==0&&(h=x,a=Mf(s,x))),a===1))throw c=Dl,Zi(s,0),Js(s,h),xr(s,st()),c;switch(s.finishedWork=m,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:ea(s,gr,os);break;case 3:if(Js(s,h),(h&130023424)===h&&(a=Lf+500-st(),10<a)){if(Kn(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){lr(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=$h(ea.bind(null,s,gr,os),a);break}ea(s,gr,os);break;case 4:if(Js(s,h),(h&4194240)===h)break;for(a=s.eventTimes,m=-1;0<h;){var k=31-jr(h);x=1<<k,k=a[k],k>m&&(m=k),h&=~x}if(h=m,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*EN(h/1960))-h,10<h){s.timeoutHandle=$h(ea.bind(null,s,gr,os),h);break}ea(s,gr,os);break;case 5:ea(s,gr,os);break;default:throw Error(t(329))}}}return xr(s,st()),s.callbackNode===c?yx.bind(null,s):null}function Mf(s,a){var c=Ll;return s.current.memoizedState.isDehydrated&&(Zi(s,a).flags|=256),s=Fu(s,a),s!==2&&(a=gr,gr=c,a!==null&&Uf(a)),s}function Uf(s){gr===null?gr=s:gr.push.apply(gr,s)}function TN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],x=m.getSnapshot;m=m.value;try{if(!en(x(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(s,a){for(a&=~Df,a&=~Du,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-jr(a),h=1<<c;s[c]=-1,a&=~h}}function vx(s){if((Ge&6)!==0)throw Error(t(327));uo();var a=Kn(s,0);if((a&1)===0)return xr(s,st()),null;var c=Fu(s,a);if(s.tag!==0&&c===2){var h=rl(s);h!==0&&(a=h,c=Mf(s,h))}if(c===1)throw c=Dl,Zi(s,0),Js(s,a),xr(s,st()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ea(s,gr,os),xr(s,st()),null}function Ff(s,a){var c=Ge;Ge|=1;try{return s(a)}finally{Ge=c,Ge===0&&(co=st()+500,fu&&Hs())}}function Ji(s){Ys!==null&&Ys.tag===0&&(Ge&6)===0&&uo();var a=Ge;Ge|=1;var c=$r.transition,h=qe;try{if($r.transition=null,qe=1,s)return s()}finally{qe=h,$r.transition=c,Ge=a,(Ge&6)===0&&Hs()}}function zf(){Rr=lo.current,at(lo)}function Zi(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,nN(c)),St!==null)for(c=St.return;c!==null;){var h=c;switch(Qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&du();break;case 3:io(),at(fr),at(Xt),cf();break;case 5:of(h);break;case 4:io();break;case 13:at(ct);break;case 19:at(ct);break;case 10:tf(h.type._context);break;case 22:case 23:zf()}c=c.return}if(Ft=s,St=s=Zs(s.current,null),Wt=Rr=a,Lt=0,Dl=null,Df=Du=Xi=0,gr=Ll=null,Ki!==null){for(a=0;a<Ki.length;a++)if(c=Ki[a],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,x=c.pending;if(x!==null){var k=x.next;x.next=m,h.next=k}c.pending=h}Ki=null}return s}function wx(s,a){do{var c=St;try{if(ef(),_u.current=Tu,Nu){for(var h=ut.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Nu=!1}if(Yi=0,Ut=Dt=ut=null,Il=!1,Sl=0,Pf.current=null,c===null||c.return===null){Lt=1,Dl=a,St=null;break}e:{var x=s,k=c.return,A=c,F=a;if(a=Wt,A.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,ne=A,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=H0(k);if(ce!==null){ce.flags&=-257,W0(ce,k,A,x,a),ce.mode&1&&q0(x,K,a),a=ce,F=K;var he=a.updateQueue;if(he===null){var me=new Set;me.add(F),a.updateQueue=me}else he.add(F);break e}else{if((a&1)===0){q0(x,K,a),Bf();break e}F=Error(t(426))}}else if(lt&&A.mode&1){var bt=H0(k);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),W0(bt,k,A,x,a),Jh(ao(F,A));break e}}x=F=ao(F,A),Lt!==4&&(Lt=2),Ll===null?Ll=[x]:Ll.push(x),x=k;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var H=B0(x,F,a);m0(x,H);break e;case 1:A=F;var z=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Qs===null||!Qs.has(G)))){x.flags|=65536,a&=-a,x.lanes|=a;var ie=$0(x,A,a);m0(x,ie);break e}}x=x.return}while(x!==null)}_x(c)}catch(xe){a=xe,St===c&&c!==null&&(St=c=c.return);continue}break}while(!0)}function bx(){var s=Pu.current;return Pu.current=Tu,s===null?Tu:s}function Bf(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ft===null||(Xi&268435455)===0&&(Du&268435455)===0||Js(Ft,Wt)}function Fu(s,a){var c=Ge;Ge|=2;var h=bx();(Ft!==s||Wt!==a)&&(os=null,Zi(s,a));do try{IN();break}catch(m){wx(s,m)}while(!0);if(ef(),Ge=c,Pu.current=h,St!==null)throw Error(t(261));return Ft=null,Wt=0,Lt}function IN(){for(;St!==null;)kx(St)}function SN(){for(;St!==null&&!Pi();)kx(St)}function kx(s){var a=Ex(s.alternate,s,Rr);s.memoizedProps=s.pendingProps,a===null?_x(s):St=a,Pf.current=null}function _x(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=bN(c,a,Rr),c!==null){St=c;return}}else{if(c=kN(c,a),c!==null){c.flags&=32767,St=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Lt=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);Lt===0&&(Lt=5)}function ea(s,a,c){var h=qe,m=$r.transition;try{$r.transition=null,qe=1,CN(s,a,c,h)}finally{$r.transition=m,qe=h}return null}function CN(s,a,c,h){do uo();while(Ys!==null);if((Ge&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Th(s,x),s===Ft&&(St=Ft=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ou||(Ou=!0,Tx(Di,function(){return uo(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=$r.transition,$r.transition=null;var k=qe;qe=1;var A=Ge;Ge|=4,Pf.current=null,NN(s,c),fx(c,s),Y_(zh),Xn=!!Fh,zh=Fh=null,s.current=c,jN(c),Gn(),Ge=A,qe=k,$r.transition=x}else s.current=c;if(Ou&&(Ou=!1,Ys=s,Vu=m),x=s.pendingLanes,x===0&&(Qs=null),Gc(c.stateNode),xr(s,st()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)m=a[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Lu)throw Lu=!1,s=Of,Of=null,s;return(Vu&1)!==0&&s.tag!==0&&uo(),x=s.pendingLanes,(x&1)!==0?s===Vf?Ol++:(Ol=0,Vf=s):Ol=0,Hs(),null}function uo(){if(Ys!==null){var s=wn(Vu),a=$r.transition,c=qe;try{if($r.transition=null,qe=16>s?16:s,Ys===null)var h=!1;else{if(s=Ys,Ys=null,Vu=0,(Ge&6)!==0)throw Error(t(331));var m=Ge;for(Ge|=4,de=s.current;de!==null;){var x=de,k=x.child;if((de.flags&16)!==0){var A=x.deletions;if(A!==null){for(var F=0;F<A.length;F++){var K=A[F];for(de=K;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Pl(8,ne,x)}var se=ne.child;if(se!==null)se.return=ne,de=se;else for(;de!==null;){ne=de;var re=ne.sibling,ce=ne.return;if(lx(ne),ne===K){de=null;break}if(re!==null){re.return=ce,de=re;break}de=ce}}}var he=x.alternate;if(he!==null){var me=he.child;if(me!==null){he.child=null;do{var bt=me.sibling;me.sibling=null,me=bt}while(me!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&k!==null)k.return=x,de=k;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Pl(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,de=H;break e}de=x.return}}var z=s.current;for(de=z;de!==null;){k=de;var G=k.child;if((k.subtreeFlags&2064)!==0&&G!==null)G.return=k,de=G;else e:for(k=z;de!==null;){if(A=de,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ru(9,A)}}catch(xe){mt(A,A.return,xe)}if(A===k){de=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,de=ie;break e}de=A.return}}if(Ge=m,Hs(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Li,s)}catch{}h=!0}return h}finally{qe=c,$r.transition=a}}return!1}function Nx(s,a,c){a=ao(c,a),a=B0(s,a,1),s=Gs(s,a,1),a=lr(),s!==null&&(Ui(s,1,a),xr(s,a))}function mt(s,a,c){if(s.tag===3)Nx(s,s,c);else for(;a!==null;){if(a.tag===3){Nx(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qs===null||!Qs.has(h))){s=ao(c,s),s=$0(a,s,1),a=Gs(a,s,1),s=lr(),a!==null&&(Ui(a,1,s),xr(a,s));break}}a=a.return}}function AN(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=lr(),s.pingedLanes|=s.suspendedLanes&c,Ft===s&&(Wt&c)===c&&(Lt===4||Lt===3&&(Wt&130023424)===Wt&&500>st()-Lf?Zi(s,0):Df|=c),xr(s,a)}function jx(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ls,Ls<<=1,(Ls&130023424)===0&&(Ls=4194304)));var c=lr();s=ss(s,a),s!==null&&(Ui(s,a,c),xr(s,c))}function RN(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),jx(s,c)}function PN(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),jx(s,c)}var Ex;Ex=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||fr.current)mr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return mr=!1,wN(s,a,c);mr=(s.flags&131072)!==0}else mr=!1,lt&&(a.flags&1048576)!==0&&i0(a,mu,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Cu(s,a),s=a.pendingProps;var m=Ja(a,Xt.current);so(a,c),m=hf(null,a,h,s,m,c);var x=ff();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,pr(h)?(x=!0,hu(a)):x=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,sf(a),m.updater=Iu,a.stateNode=m,m._reactInternals=a,vf(a,h,s,c),a=_f(null,a,h,!0,x,c)):(a.tag=0,lt&&x&&Kh(a),or(null,a,m,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Cu(s,a),s=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=LN(h),s=rn(h,s),m){case 0:a=kf(null,a,h,s,c);break e;case 1:a=J0(null,a,h,s,c);break e;case 11:a=G0(null,a,h,s,c);break e;case 14:a=K0(null,a,h,rn(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:rn(h,m),kf(s,a,h,m,c);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:rn(h,m),J0(s,a,h,m,c);case 3:e:{if(Z0(a),s===null)throw Error(t(387));h=a.pendingProps,x=a.memoizedState,m=x.element,p0(s,a),bu(a,h,null,c);var k=a.memoizedState;if(h=k.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){m=ao(Error(t(423)),a),a=ex(s,a,h,c,m);break e}else if(h!==m){m=ao(Error(t(424)),a),a=ex(s,a,h,c,m);break e}else for(Ar=Bs(a.stateNode.containerInfo.firstChild),Cr=a,lt=!0,tn=null,c=h0(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(to(),h===m){a=as(s,a,c);break e}or(s,a,h,c)}a=a.child}return a;case 5:return x0(a),s===null&&Xh(a),h=a.type,m=a.pendingProps,x=s!==null?s.memoizedProps:null,k=m.children,Bh(h,m)?k=null:x!==null&&Bh(h,x)&&(a.flags|=32),X0(s,a),or(s,a,k,c),a.child;case 6:return s===null&&Xh(a),null;case 13:return tx(s,a,c);case 4:return af(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ro(a,null,h,c):or(s,a,h,c),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:rn(h,m),G0(s,a,h,m,c);case 7:return or(s,a,a.pendingProps,c),a.child;case 8:return or(s,a,a.pendingProps.children,c),a.child;case 12:return or(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,x=a.memoizedProps,k=m.value,rt(yu,h._currentValue),h._currentValue=k,x!==null)if(en(x.value,k)){if(x.children===m.children&&!fr.current){a=as(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var A=x.dependencies;if(A!==null){k=x.child;for(var F=A.firstContext;F!==null;){if(F.context===h){if(x.tag===1){F=is(-1,c&-c),F.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),K.pending=F}}x.lanes|=c,F=x.alternate,F!==null&&(F.lanes|=c),rf(x.return,c,a),A.lanes|=c;break}F=F.next}}else if(x.tag===10)k=x.type===a.type?null:x.child;else if(x.tag===18){if(k=x.return,k===null)throw Error(t(341));k.lanes|=c,A=k.alternate,A!==null&&(A.lanes|=c),rf(k,c,a),k=x.sibling}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===a){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}or(s,a,m.children,c),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,so(a,c),m=zr(m),h=h(m),a.flags|=1,or(s,a,h,c),a.child;case 14:return h=a.type,m=rn(h,a.pendingProps),m=rn(h.type,m),K0(s,a,h,m,c);case 15:return Q0(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:rn(h,m),Cu(s,a),a.tag=1,pr(h)?(s=!0,hu(a)):s=!1,so(a,c),F0(a,h,m),vf(a,h,m,c),_f(null,a,h,!0,s,c);case 19:return nx(s,a,c);case 22:return Y0(s,a,c)}throw Error(t(156,a.tag))};function Tx(s,a){return Zo(s,a)}function DN(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(s,a,c,h){return new DN(s,a,c,h)}function $f(s){return s=s.prototype,!(!s||!s.isReactComponent)}function LN(s){if(typeof s=="function")return $f(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===He)return 14}return 2}function Zs(s,a){var c=s.alternate;return c===null?(c=qr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function zu(s,a,c,h,m,x){var k=2;if(h=s,typeof s=="function")$f(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case D:return ta(c.children,m,x,a);case j:k=8,m|=8;break;case R:return s=qr(12,c,a,m|2),s.elementType=R,s.lanes=x,s;case S:return s=qr(13,c,a,m),s.elementType=S,s.lanes=x,s;case _e:return s=qr(19,c,a,m),s.elementType=_e,s.lanes=x,s;case Fe:return Bu(c,m,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:k=10;break e;case U:k=9;break e;case B:k=11;break e;case He:k=14;break e;case Qe:k=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=qr(k,c,a,m),a.elementType=s,a.type=h,a.lanes=x,a}function ta(s,a,c,h){return s=qr(7,s,h,a),s.lanes=c,s}function Bu(s,a,c,h){return s=qr(22,s,h,a),s.elementType=Fe,s.lanes=c,s.stateNode={isHidden:!1},s}function qf(s,a,c){return s=qr(6,s,null,a),s.lanes=c,s}function Hf(s,a,c){return a=qr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function ON(s,a,c,h,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Wf(s,a,c,h,m,x,k,A,F){return s=new ON(s,a,c,A,F),a===1?(a=1,x===!0&&(a|=8)):a=0,x=qr(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},sf(x),s}function VN(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function Ix(s){if(!s)return qs;s=s._reactInternals;e:{if(Jr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(pr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(pr(c))return r0(s,c,a)}return a}function Sx(s,a,c,h,m,x,k,A,F){return s=Wf(c,h,!0,s,m,x,k,A,F),s.context=Ix(null),c=s.current,h=lr(),m=Xs(c),x=is(h,m),x.callback=a??null,Gs(c,x,m),s.current.lanes=m,Ui(s,m,h),xr(s,h),s}function $u(s,a,c,h){var m=a.current,x=lr(),k=Xs(m);return c=Ix(c),a.context===null?a.context=c:a.pendingContext=c,a=is(x,k),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Gs(m,a,k),s!==null&&(an(s,m,k,x),wu(s,m,k)),k}function qu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Gf(s,a){Cx(s,a),(s=s.alternate)&&Cx(s,a)}function MN(){return null}var Ax=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kf(s){this._internalRoot=s}Hu.prototype.render=Kf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));$u(s,a,null,null)},Hu.prototype.unmount=Kf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ji(function(){$u(null,s,null,null)}),a[es]=null}};function Hu(s){this._internalRoot=s}Hu.prototype.unstable_scheduleHydration=function(s){if(s){var a=ll();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Er.length&&a!==0&&a<Er[c].priority;c++);Er.splice(c,0,s),c===0&&Oa(s)}};function Qf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function UN(s,a,c,h,m){if(m){if(typeof h=="function"){var x=h;h=function(){var K=qu(k);x.call(K)}}var k=Sx(a,h,s,0,null,!1,!1,"",Rx);return s._reactRootContainer=k,s[es]=k.current,wl(s.nodeType===8?s.parentNode:s),Ji(),k}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var A=h;h=function(){var K=qu(F);A.call(K)}}var F=Wf(s,0,!1,null,null,!1,!1,"",Rx);return s._reactRootContainer=F,s[es]=F.current,wl(s.nodeType===8?s.parentNode:s),Ji(function(){$u(a,F,c,h)}),F}function Gu(s,a,c,h,m){var x=c._reactRootContainer;if(x){var k=x;if(typeof m=="function"){var A=m;m=function(){var F=qu(k);A.call(F)}}$u(a,k,s,m)}else k=UN(c,a,s,m,h);return qu(k)}al=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ye(a.pendingLanes);c!==0&&(il(a,c|1),xr(a,st()),(Ge&6)===0&&(co=st()+500,Hs()))}break;case 13:Ji(function(){var h=ss(s,1);if(h!==null){var m=lr();an(h,s,1,m)}}),Gf(s,1)}},Da=function(s){if(s.tag===13){var a=ss(s,134217728);if(a!==null){var c=lr();an(a,s,134217728,c)}Gf(s,134217728)}},ol=function(s){if(s.tag===13){var a=Xs(s),c=ss(s,a);if(c!==null){var h=lr();an(c,s,a,h)}Gf(s,a)}},ll=function(){return qe},cl=function(s,a){var c=qe;try{return qe=s,a()}finally{qe=c}},qn=function(s,a,c){switch(a){case"input":if(Si(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=uu(h);if(!m)throw Error(t(90));Mt(h),Si(h,m)}}}break;case"textarea":Lc(s,c);break;case"select":a=c.value,a!=null&&Yr(s,!!c.multiple,a,!1)}},Mc=Ff,Uc=Ji;var FN={usingClientEntryPoint:!1,Events:[_l,Ya,uu,As,Rs,Ff]},Vl={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zN={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wc(s),s===null?null:s.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||MN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Li=Ku.inject(zN),Nr=Ku}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN,yr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qf(a))throw Error(t(200));return VN(s,a,null,c)},yr.createRoot=function(s,a){if(!Qf(s))throw Error(t(299));var c=!1,h="",m=Ax;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Wf(s,1,!1,null,null,c,!1,h,m),s[es]=a.current,wl(s.nodeType===8?s.parentNode:s),new Kf(a)},yr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Wc(a),s=s===null?null:s.stateNode,s},yr.flushSync=function(s){return Ji(s)},yr.hydrate=function(s,a,c){if(!Wu(a))throw Error(t(200));return Gu(null,s,a,!0,c)},yr.hydrateRoot=function(s,a,c){if(!Qf(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,x="",k=Ax;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=Sx(a,null,s,1,c??null,m,!1,x,k),s[es]=a.current,wl(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new Hu(a)},yr.render=function(s,a,c){if(!Wu(a))throw Error(t(200));return Gu(null,s,a,!1,c)},yr.unmountComponentAtNode=function(s){if(!Wu(s))throw Error(t(40));return s._reactRootContainer?(Ji(function(){Gu(null,null,s,!1,function(){s._reactRootContainer=null,s[es]=null})}),!0):!1},yr.unstable_batchedUpdates=Ff,yr.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!Wu(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Gu(s,a,c,!1,h)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var Fx;function XN(){if(Fx)return Jf.exports;Fx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=YN(),Jf.exports}var zx;function JN(){if(zx)return Qu;zx=1;var r=XN();return Qu.createRoot=r.createRoot,Qu.hydrateRoot=r.hydrateRoot,Qu}var ZN=JN(),T=lm();const e1=qN(T),t1=$N({__proto__:null,default:e1},[T]);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bx="popstate";function r1(r={}){function e(n,o){let{pathname:l,search:u,hash:f}=n.location;return kp("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(n,o){return typeof o=="string"?o:tc(o)}return s1(e,t,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function $x(r,e){return{usr:r.state,key:r.key,idx:e}}function kp(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:t,key:e&&e.key||n||n1()}}function tc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Do(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function s1(r,e,t,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,u=o.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let E=v(),L=E==null?null:E-g;g=E,p&&p({action:f,location:V.location,delta:L})}function _(E,L){f="PUSH";let O=kp(V.location,E,L);g=v()+1;let $=$x(O,g),P=V.createHref(O);try{u.pushState($,"",P)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(P)}l&&p&&p({action:f,location:V.location,delta:1})}function C(E,L){f="REPLACE";let O=kp(V.location,E,L);g=v();let $=$x(O,g),P=V.createHref(O);u.replaceState($,"",P),l&&p&&p({action:f,location:V.location,delta:0})}function I(E){return i1(E)}let V={get action(){return f},get location(){return r(o,u)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bx,b),p=E,()=>{o.removeEventListener(Bx,b),p=null}},createHref(E){return e(o,E)},createURL:I,encodeLocation(E){let L=I(E);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:C,go(E){return u.go(E)}};return V}function i1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:tc(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Hv(r,e,t="/"){return a1(r,e,t,!1)}function a1(r,e,t,n){let o=typeof e=="string"?Do(e):e,l=ps(o.pathname||"/",t);if(l==null)return null;let u=Wv(r);o1(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=y1(l);f=g1(u[p],g,n)}return f}function Wv(r,e=[],t=[],n="",o=!1){let l=(u,f,p=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&p)return;dt(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let b=ds([n,v.relativePath]),_=t.concat(v);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Wv(u.children,e,_,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:p1(b,u.index),routesMeta:_})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of Gv(u.path))l(u,f,!0,p)}),e}function Gv(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let u=Gv(n.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function o1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:m1(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var l1=/^:[\w-]+$/,c1=3,u1=2,d1=1,h1=10,f1=-2,qx=r=>r==="*";function p1(r,e){let t=r.split("/"),n=t.length;return t.some(qx)&&(n+=f1),e&&(n+=u1),t.filter(o=>!qx(o)).reduce((o,l)=>o+(l1.test(l)?c1:l===""?d1:h1),n)}function m1(r,e){return r.length===e.length&&r.slice(0,-1).every((n,o)=>n===e[o])?r[r.length-1]-e[e.length-1]:0}function g1(r,e,t=!1){let{routesMeta:n}=r,o={},l="/",u=[];for(let f=0;f<n.length;++f){let p=n[f],g=f===n.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=bd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),_=p.route;if(!b&&g&&t&&!n[n.length-1].route.index&&(b=bd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:ds([l,b.pathname]),pathnameBase:k1(ds([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=ds([l,b.pathnameBase]))}return u}function bd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=x1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:n.reduce((g,{paramName:v,isOptional:b},_)=>{if(v==="*"){let I=f[_]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=f[_];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function x1(r,e=!1,t=!0){un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function y1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ps(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var Kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v1=r=>Kv.test(r);function w1(r,e="/"){let{pathname:t,search:n="",hash:o=""}=typeof r=="string"?Do(r):r,l;if(t)if(v1(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),un(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Hx(t.substring(1),"/"):l=Hx(t,e)}else l=e;return{pathname:l,search:_1(n),hash:N1(o)}}function Hx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function tp(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qv(r){let e=b1(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Yv(r,e,t,n=!1){let o;typeof r=="string"?o=Do(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),tp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),tp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),tp("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!n&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}f=b>=0?e[b]:"/"}let p=w1(o,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ds=r=>r.join("/").replace(/\/\/+/g,"/"),k1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,N1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,j1=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function E1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function T1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jv(r,e){let t=r;if(typeof t!="string"||!Kv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,o=!1;if(Xv)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=ps(u.pathname,e);u.origin===l.origin&&f!=null?t=f+u.search+u.hash:o=!0}catch{un(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var I1=["GET",...Zv];new Set(I1);var Lo=T.createContext(null);Lo.displayName="DataRouter";var Gd=T.createContext(null);Gd.displayName="DataRouterState";var S1=T.createContext(!1),ew=T.createContext({isTransitioning:!1});ew.displayName="ViewTransition";var C1=T.createContext(new Map);C1.displayName="Fetchers";var A1=T.createContext(null);A1.displayName="Await";var Kr=T.createContext(null);Kr.displayName="Navigation";var mc=T.createContext(null);mc.displayName="Location";var _s=T.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var cm=T.createContext(null);cm.displayName="RouteError";var tw="REACT_ROUTER_ERROR",R1="REDIRECT",P1="ROUTE_ERROR_RESPONSE";function D1(r){if(r.startsWith(`${tw}:${R1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function L1(r){if(r.startsWith(`${tw}:${P1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new j1(e.status,e.statusText,e.data)}catch{}}function O1(r,{relative:e}={}){dt(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(Kr),{hash:o,pathname:l,search:u}=xc(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ds([t,l])),n.createHref({pathname:f,search:u,hash:o})}function gc(){return T.useContext(mc)!=null}function xa(){return dt(gc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(mc).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nw(r){T.useContext(Kr).static||T.useLayoutEffect(r)}function Oo(){let{isDataRoute:r}=T.useContext(_s);return r?Q1():V1()}function V1(){dt(gc(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Lo),{basename:e,navigator:t}=T.useContext(Kr),{matches:n}=T.useContext(_s),{pathname:o}=xa(),l=JSON.stringify(Qv(n)),u=T.useRef(!1);return nw(()=>{u.current=!0}),T.useCallback((p,g={})=>{if(un(u.current,rw),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Yv(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ds([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}T.createContext(null);function xc(r,{relative:e}={}){let{matches:t}=T.useContext(_s),{pathname:n}=xa(),o=JSON.stringify(Qv(t));return T.useMemo(()=>Yv(r,JSON.parse(o),n,e==="path"),[r,o,n,e])}function M1(r,e){return sw(r,e)}function sw(r,e,t,n,o){dt(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=T.useContext(Kr),{matches:u}=T.useContext(_s),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let O=b&&b.path||"";aw(g,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=xa(),C;if(e){let O=typeof e=="string"?Do(e):e;dt(v==="/"||O.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),C=O}else C=_;let I=C.pathname||"/",V=I;if(v!=="/"){let O=v.replace(/^\//,"").split("/");V="/"+I.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=Hv(r,{pathname:V});un(b||E!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),un(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=$1(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:ds([v,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:ds([v,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,t,n,o);return e&&L?T.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},L):L}function U1(){let r=K1(),e=E1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,u)}var F1=T.createElement(U1,null),iw=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=L1(r.digest);t&&(r=t)}let e=r!==void 0?T.createElement(_s.Provider,{value:this.props.routeContext},T.createElement(cm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?T.createElement(z1,{error:r},e):e}};iw.contextType=S1;var rp=new WeakMap;function z1({children:r,error:e}){let{basename:t}=T.useContext(Kr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=D1(e.digest);if(n){let o=rp.get(e);if(o)throw o;let l=Jv(n.location,t);if(Xv&&!rp.get(e))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw rp.set(e,u),u}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function B1({routeContext:r,match:e,children:t}){let n=T.useContext(Lo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(_s.Provider,{value:r},t)}function $1(r,e=[],t=null,n=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=t?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:_,errors:C}=t,I=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||I){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&n?(v,b)=>{n(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:T1(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let C,I=!1,V=null,E=null;t&&(C=u&&b.route.id?u[b.route.id]:void 0,V=b.route.errorElement||F1,f&&(p<0&&_===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,E=null):p===_&&(I=!0,E=b.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,_+1)),O=()=>{let $;return C?$=V:I?$=E:b.route.Component?$=T.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=v,T.createElement(B1,{match:b,routeContext:{outlet:v,matches:L,isDataRoute:t!=null},children:$})};return t&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?T.createElement(iw,{location:t.location,revalidation:t.revalidation,component:V,error:C,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):O()},null)}function um(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(r){let e=T.useContext(Lo);return dt(e,um(r)),e}function H1(r){let e=T.useContext(Gd);return dt(e,um(r)),e}function W1(r){let e=T.useContext(_s);return dt(e,um(r)),e}function dm(r){let e=W1(r),t=e.matches[e.matches.length-1];return dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function G1(){return dm("useRouteId")}function K1(){let r=T.useContext(cm),e=H1("useRouteError"),t=dm("useRouteError");return r!==void 0?r:e.errors?.[t]}function Q1(){let{router:r}=q1("useNavigate"),e=dm("useNavigate"),t=T.useRef(!1);return nw(()=>{t.current=!0}),T.useCallback(async(o,l={})=>{un(t.current,rw),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Wx={};function aw(r,e,t){!e&&!Wx[r]&&(Wx[r]=!0,un(!1,t))}T.memo(Y1);function Y1({routes:r,future:e,state:t,onError:n}){return sw(r,void 0,t,n,e)}function na(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X1({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){dt(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[f,o,l,u]);typeof t=="string"&&(t=Do(t));let{pathname:g="/",search:v="",hash:b="",state:_=null,key:C="default"}=t,I=T.useMemo(()=>{let V=ps(g,f);return V==null?null:{location:{pathname:V,search:v,hash:b,state:_,key:C},navigationType:n}},[f,g,v,b,_,C,n]);return un(I!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:T.createElement(Kr.Provider,{value:p},T.createElement(mc.Provider,{children:e,value:I}))}function J1({children:r,location:e}){return M1(_p(r),e)}function _p(r,e=[]){let t=[];return T.Children.forEach(r,(n,o)=>{if(!T.isValidElement(n))return;let l=[...e,o];if(n.type===T.Fragment){t.push.apply(t,_p(n.props.children,l));return}dt(n.type===na,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=_p(n.props.children,l)),t.push(u)}),t}var cd="get",ud="application/x-www-form-urlencoded";function Kd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Z1(r){return Kd(r)&&r.tagName.toLowerCase()==="button"}function e2(r){return Kd(r)&&r.tagName.toLowerCase()==="form"}function t2(r){return Kd(r)&&r.tagName.toLowerCase()==="input"}function r2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function n2(r,e){return r.button===0&&(!e||e==="_self")&&!r2(r)}var Yu=null;function s2(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var i2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(r){return r!=null&&!i2.has(r)?(un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ud}"`),null):r}function a2(r,e){let t,n,o,l,u;if(e2(r)){let f=r.getAttribute("action");n=f?ps(f,e):null,t=r.getAttribute("method")||cd,o=np(r.getAttribute("enctype"))||ud,l=new FormData(r)}else if(Z1(r)||t2(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(n=p?ps(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||cd,o=np(r.getAttribute("formenctype"))||np(f.getAttribute("enctype"))||ud,l=new FormData(f,r),!s2()){let{name:g,type:v,value:b}=r;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,b)}}else{if(Kd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,n=null,o=ud,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:n,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function o2(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&ps(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function l2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function u2(r,e,t){let n=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await l2(l,t);return u.links?u.links():[]}return[]}));return p2(n.flat(1).filter(c2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gx(r,e,t,n,o,l){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function d2(r,e,{includeHydrateFallback:t}={}){return h2(r.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function h2(r){return[...new Set(r)]}function f2(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function p2(r,e){let t=new Set;return new Set(e),r.reduce((n,o)=>{let l=JSON.stringify(f2(o));return t.has(l)||(t.add(l),n.push({key:l,link:o})),n},[])}function ow(){let r=T.useContext(Lo);return hm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function m2(){let r=T.useContext(Gd);return hm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fm=T.createContext(void 0);fm.displayName="FrameworkContext";function lw(){let r=T.useContext(fm);return hm(r,"You must render this element inside a <HydratedRouter> element"),r}function g2(r,e){let t=T.useContext(fm),[n,o]=T.useState(!1),[l,u]=T.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,_=T.useRef(null);T.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let V=L=>{L.forEach(O=>{u(O.isIntersecting)})},E=new IntersectionObserver(V,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[r]),T.useEffect(()=>{if(n){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[n]);let C=()=>{o(!0)},I=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,_,{}]:[l,_,{onFocus:Ul(f,C),onBlur:Ul(p,I),onMouseEnter:Ul(g,C),onMouseLeave:Ul(v,I),onTouchStart:Ul(b,C)}]:[!1,_,{}]}function Ul(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function x2({page:r,...e}){let{router:t}=ow(),n=T.useMemo(()=>Hv(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?T.createElement(v2,{page:r,matches:n,...e}):null}function y2(r){let{manifest:e,routeModules:t}=lw(),[n,o]=T.useState([]);return T.useEffect(()=>{let l=!1;return u2(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),n}function v2({page:r,matches:e,...t}){let n=xa(),{manifest:o,routeModules:l}=lw(),{basename:u}=ow(),{loaderData:f,matches:p}=m2(),g=T.useMemo(()=>Gx(r,e,p,o,n,"data"),[r,e,p,o,n]),v=T.useMemo(()=>Gx(r,e,p,o,n,"assets"),[r,e,p,o,n]),b=T.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let I=new Set,V=!1;if(e.forEach(L=>{let O=o.routes[L.route.id];!O||!O.hasLoader||(!g.some($=>$.route.id===L.route.id)&&L.route.id in f&&l[L.route.id]?.shouldRevalidate||O.hasClientLoader?V=!0:I.add(L.route.id))}),I.size===0)return[];let E=o2(r,u,"data");return V&&I.size>0&&E.searchParams.set("_routes",e.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[E.pathname+E.search]},[u,f,n,o,g,e,r,l]),_=T.useMemo(()=>d2(v,o),[v,o]),C=y2(v);return T.createElement(T.Fragment,null,b.map(I=>T.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),_.map(I=>T.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),C.map(({key:I,link:V})=>T.createElement("link",{key:I,nonce:t.nonce,...V})))}function w2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b2&&(window.__reactRouterVersion="7.11.0")}catch{}function k2({basename:r,children:e,unstable_useTransitions:t,window:n}){let o=T.useRef();o.current==null&&(o.current=r1({window:n,v5Compat:!0}));let l=o.current,[u,f]=T.useState({action:l.action,location:l.location}),p=T.useCallback(g=>{t===!1?f(g):T.startTransition(()=>f(g))},[t]);return T.useLayoutEffect(()=>l.listen(p),[l,p]),T.createElement(X1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=T.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:o,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...C},I){let{basename:V,unstable_useTransitions:E}=T.useContext(Kr),L=typeof g=="string"&&cw.test(g),O=Jv(g,V);g=O.to;let $=O1(g,{relative:o}),[P,J,Y]=g2(n,C),D=E2(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:E});function j(M){e&&e(M),M.defaultPrevented||D(M)}let R=T.createElement("a",{...C,...Y,href:O.absoluteURL||$,onClick:O.isExternal||l?e:j,ref:w2(I,J),target:p,"data-discover":!L&&t==="render"?"true":void 0});return P&&!L?T.createElement(T.Fragment,null,R,T.createElement(x2,{page:$})):R});sr.displayName="Link";var _2=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:o=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let b=xc(u,{relative:g.relative}),_=xa(),C=T.useContext(Gd),{navigator:I,basename:V}=T.useContext(Kr),E=C!=null&&A2(b)&&f===!0,L=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,O=_.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(O=O.toLowerCase(),$=$?$.toLowerCase():null,L=L.toLowerCase()),$&&V&&($=ps($,V)||$);const P=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=O===L||!o&&O.startsWith(L)&&O.charAt(P)==="/",Y=$!=null&&($===L||!o&&$.startsWith(L)&&$.charAt(L.length)==="/"),D={isActive:J,isPending:Y,isTransitioning:E},j=J?e:void 0,R;typeof n=="function"?R=n(D):R=[n,J?"active":null,Y?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return T.createElement(sr,{...g,"aria-current":j,className:R,ref:v,style:M,to:u,viewTransition:f},typeof p=="function"?p(D):p)});_2.displayName="NavLink";var N2=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:o,state:l,method:u=cd,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...C},I)=>{let{unstable_useTransitions:V}=T.useContext(Kr),E=S2(),L=C2(f,{relative:g}),O=u.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&cw.test(f),P=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let Y=J.nativeEvent.submitter,D=Y?.getAttribute("formmethod")||u,j=()=>E(Y||J.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});V&&t!==!1?T.startTransition(()=>j()):j()};return T.createElement("form",{ref:I,method:O,action:L,onSubmit:n?p:P,...C,"data-discover":!$&&r==="render"?"true":void 0})});N2.displayName="Form";function j2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(r){let e=T.useContext(Lo);return dt(e,j2(r)),e}function E2(r,{target:e,replace:t,state:n,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=Oo(),v=xa(),b=xc(r,{relative:l});return T.useCallback(_=>{if(n2(_,e)){_.preventDefault();let C=t!==void 0?t:tc(v)===tc(b),I=()=>g(r,{replace:C,state:n,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?T.startTransition(()=>I()):I()}},[v,g,b,t,n,e,r,o,l,u,f,p])}var T2=0,I2=()=>`__${String(++T2)}__`;function S2(){let{router:r}=uw("useSubmit"),{basename:e}=T.useContext(Kr),t=G1(),n=r.fetch,o=r.navigate;return T.useCallback(async(l,u={})=>{let{action:f,method:p,encType:g,formData:v,body:b}=a2(l,e);if(u.navigate===!1){let _=u.fetcherKey||I2();await n(_,t,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,o,e,t])}function C2(r,{relative:e}={}){let{basename:t}=T.useContext(Kr),n=T.useContext(_s);dt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...xc(r||".",{relative:e})},u=xa();if(r==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ds([t,l.pathname])),tc(l)}function A2(r,{relative:e}={}){let t=T.useContext(ew);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=uw("useViewTransitionState"),o=xc(r,{relative:e});if(!t.isTransitioning)return!1;let l=ps(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=ps(t.nextLocation.pathname,n)||t.nextLocation.pathname;return bd(o.pathname,u)!=null||bd(o.pathname,l)!=null}const dw=T.createContext(void 0);function R2({children:r}){const[e,t]=T.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o===null});T.useEffect(()=>{e?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")},[e]);const n=()=>{t(!e)};return i.jsx(dw.Provider,{value:{isDark:e,toggleTheme:n},children:i.jsx("div",{className:e?"dark":"",children:r})})}function yc(){const r=T.useContext(dw);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}const P2=()=>{};var Kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},D2=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,f=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let _=(f&15)<<2|g>>6,C=g&63;p||(C=64,u||(_=64)),n.push(t[v],t[b],t[_],t[C])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):D2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||g==null||b==null)throw new L2;const _=l<<2|f>>4;if(n.push(_),g!==64){const C=f<<4&240|g>>2;if(n.push(C),b!==64){const I=g<<6&192|b;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class L2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(r){const e=hw(r);return fw.encodeByteArray(e,!0)},kd=function(r){return O2(r).replace(/\./g,"")},pw=function(r){try{return fw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=()=>V2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof Kx>"u")return;const r=Kx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pw(r[1]);return e&&JSON.parse(e)},Qd=()=>{try{return P2()||M2()||U2()||F2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mw=r=>Qd()?.emulatorHosts?.[r],pm=r=>{const e=mw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},gw=()=>Qd()?.config,xw=r=>Qd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yd(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kd(JSON.stringify(t)),kd(JSON.stringify(u)),""].join(".")}const Kl={};function B2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function $2(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Qx=!1;function Xd(r,e){if(typeof window>"u"||typeof document>"u"||!$n(window.location.host)||Kl[r]===e||Kl[r]||Qx)return;Kl[r]=e;function t(_){return`__firebase__banner__${_}`}const n="__firebase__banner",l=B2().prod.length>0;function u(){const _=document.getElementById(n);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function p(_,C){_.setAttribute("width","24"),_.setAttribute("id",C),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Qx=!0,u()},_}function v(_,C){_.setAttribute("id",C),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=$2(n),C=t("text"),I=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),E=document.getElementById(V)||document.createElement("a"),L=t("preprendIcon"),O=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;f($),v(E,V);const P=g();p(O,L),$.append(O,I,E,P),document.body.appendChild($)}l?(I.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function H2(){const r=Qd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function K2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q2(){const r=ar();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Y2(){return!H2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X2(){try{return typeof indexedDB=="object"}catch{return!1}}function J2(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="FirebaseError";class pn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Z2,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?ej(l,n):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new pn(o,f,n)}}function ej(r,e){return r.replace(tj,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const tj=/\{\$([^}]+)}/g;function rj(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function da(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],u=e[o];if(Yx(l)&&Yx(u)){if(!da(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function Yx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Bl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function nj(r,e){const t=new sj(r,e);return t.subscribe.bind(t)}class sj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");ij(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=sp),o.error===void 0&&(o.error=sp),o.complete===void 0&&(o.complete=sp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ij(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(r){return r&&r._delegate?r._delegate:r}class ms{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new z2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lj(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);n===f&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oj(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oj(r){return r===sa?void 0:r}function lj(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const uj={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},dj=ze.INFO,hj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},fj=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=hj[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=dj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const pj=(r,e)=>e.some(t=>r instanceof t);let Xx,Jx;function mj(){return Xx||(Xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return Jx||(Jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,Np=new WeakMap,ww=new WeakMap,ip=new WeakMap,gm=new WeakMap;function xj(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(ci(r.result)),o()},u=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vw.set(t,r)}).catch(()=>{}),gm.set(e,r),e}function yj(r){if(Np.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});Np.set(r,e)}let jp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ww.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vj(r){jp=r(jp)}function wj(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(ap(this),e,...t);return ww.set(n,e.sort?e.sort():[e]),ci(n)}:gj().includes(r)?function(...e){return r.apply(ap(this),e),ci(vw.get(this))}:function(...e){return ci(r.apply(ap(this),e))}}function bj(r){return typeof r=="function"?wj(r):(r instanceof IDBTransaction&&yj(r),pj(r,mj())?new Proxy(r,jp):r)}function ci(r){if(r instanceof IDBRequest)return xj(r);if(ip.has(r))return ip.get(r);const e=bj(r);return e!==r&&(ip.set(r,e),gm.set(e,r)),e}const ap=r=>gm.get(r);function kj(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),f=ci(u);return n&&u.addEventListener("upgradeneeded",p=>{n(ci(u.result),p.oldVersion,p.newVersion,ci(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const _j=["get","getKey","getAll","getAllKeys","count"],Nj=["put","add","delete","clear"],op=new Map;function Zx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=Nj.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||_j.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return n&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return op.set(e,l),l}vj(r=>({...r,get:(e,t,n)=>Zx(e,t)||r.get(e,t,n),has:(e,t)=>!!Zx(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ej(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Ej(r){return r.getComponent()?.type==="VERSION"}const Ep="@firebase/app",ey="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new mm("@firebase/app"),Tj="@firebase/app-compat",Ij="@firebase/analytics-compat",Sj="@firebase/analytics",Cj="@firebase/app-check-compat",Aj="@firebase/app-check",Rj="@firebase/auth",Pj="@firebase/auth-compat",Dj="@firebase/database",Lj="@firebase/data-connect",Oj="@firebase/database-compat",Vj="@firebase/functions",Mj="@firebase/functions-compat",Uj="@firebase/installations",Fj="@firebase/installations-compat",zj="@firebase/messaging",Bj="@firebase/messaging-compat",$j="@firebase/performance",qj="@firebase/performance-compat",Hj="@firebase/remote-config",Wj="@firebase/remote-config-compat",Gj="@firebase/storage",Kj="@firebase/storage-compat",Qj="@firebase/firestore",Yj="@firebase/ai",Xj="@firebase/firestore-compat",Jj="firebase",Zj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",eE={[Ep]:"fire-core",[Tj]:"fire-core-compat",[Sj]:"fire-analytics",[Ij]:"fire-analytics-compat",[Aj]:"fire-app-check",[Cj]:"fire-app-check-compat",[Rj]:"fire-auth",[Pj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Lj]:"fire-data-connect",[Oj]:"fire-rtdb-compat",[Vj]:"fire-fn",[Mj]:"fire-fn-compat",[Uj]:"fire-iid",[Fj]:"fire-iid-compat",[zj]:"fire-fcm",[Bj]:"fire-fcm-compat",[$j]:"fire-perf",[qj]:"fire-perf-compat",[Hj]:"fire-rc",[Wj]:"fire-rc-compat",[Gj]:"fire-gcs",[Kj]:"fire-gcs-compat",[Qj]:"fire-fst",[Xj]:"fire-fst-compat",[Yj]:"fire-vertex","fire-js":"fire-js",[Jj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,tE=new Map,Ip=new Map;function ty(r,e){try{r.container.addComponent(e)}catch(t){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function fi(r){const e=r.name;if(Ip.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,r);for(const t of _d.values())ty(t,r);for(const t of tE.values())ty(t,r);return!0}function bc(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function wr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new vc("app","Firebase",rE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=Zj;function bw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Tp,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(t||(t=gw()),!t)throw ui.create("no-options");const l=_d.get(o);if(l){if(da(t,l.options)&&da(n,l.config))return l;throw ui.create("duplicate-app",{appName:o})}const u=new cj(o);for(const p of Ip.values())u.addComponent(p);const f=new nE(t,n,u);return _d.set(o,f),f}function Jd(r=Tp){const e=_d.get(r);if(!e&&r===Tp&&gw())return bw();if(!e)throw ui.create("no-app",{appName:r});return e}function Wr(r,e,t){let n=eE[r]??r;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(u.join(" "));return}fi(new ms(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebase-heartbeat-database",iE=1,rc="firebase-heartbeat-store";let lp=null;function kw(){return lp||(lp=kj(sE,iE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(r=>{throw ui.create("idb-open",{originalErrorMessage:r.message})})),lp}async function aE(r){try{const t=(await kw()).transaction(rc),n=await t.objectStore(rc).get(_w(r));return await t.done,n}catch(e){if(e instanceof pn)gs.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e?.message});gs.warn(t.message)}}}async function ry(r,e){try{const n=(await kw()).transaction(rc,"readwrite");await n.objectStore(rc).put(e,_w(r)),await n.done}catch(t){if(t instanceof pn)gs.warn(t.message);else{const n=ui.create("idb-set",{originalErrorMessage:t?.message});gs.warn(n.message)}}}function _w(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=1024,lE=30;class cE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dE(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ny();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>lE){const o=hE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ny(),{heartbeatsToSend:t,unsentEntries:n}=uE(this._heartbeatsCache.heartbeats),o=kd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gs.warn(e),""}}}function ny(){return new Date().toISOString().substring(0,10)}function uE(r,e=oE){const t=[];let n=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),sy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X2()?J2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ry(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ry(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function sy(r){return kd(JSON.stringify({version:2,heartbeats:r})).length}function hE(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){fi(new ms("platform-logger",e=>new jj(e),"PRIVATE")),fi(new ms("heartbeat",e=>new cE(e),"PRIVATE")),Wr(Ep,ey,r),Wr(Ep,ey,"esm2020"),Wr("fire-js","")}fE("");function Nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pE=Nw,jw=new vc("auth","Firebase",Nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new mm("@firebase/auth");function mE(r,...e){Nd.logLevel<=ze.WARN&&Nd.warn(`Auth (${ya}): ${r}`,...e)}function dd(r,...e){Nd.logLevel<=ze.ERROR&&Nd.error(`Auth (${ya}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r,...e){throw xm(r,...e)}function On(r,...e){return xm(r,...e)}function Ew(r,e,t){const n={...pE(),[e]:t};return new vc("auth","Firebase",n).create(e,{appName:r.name})}function hs(r){return Ew(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return jw.create(r,...e)}function Ie(r,e,...t){if(!r)throw xm(e,...t)}function cs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dd(e),new Error(e)}function xs(r,e){r||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return typeof self<"u"&&self.location?.href||""}function gE(){return iy()==="http:"||iy()==="https:"}function iy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gE()||G2()||"connection"in navigator)?navigator.onLine:!0}function yE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xs(t>e,"Short delay should be less than long delay!"),this.isMobile=q2()||K2()}get(){return xE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,e){xs(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bE=new kc(3e4,6e4);function Ni(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ji(r,e,t,n,o={}){return Iw(r,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const f=wc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return W2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&$n(r.emulatorConfig.host)&&(g.credentials="include"),Tw.fetch()(await Sw(r,r.config.apiHost,t,f),g)})}async function Iw(r,e,t){r._canInitEmulator=!1;const n={...vE,...e};try{const o=new _E(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Xu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Xu(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Xu(r,"user-disabled",u);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ew(r,v,g);dn(r,v)}}catch(o){if(o instanceof pn)throw o;dn(r,"network-request-failed",{message:String(o)})}}async function _c(r,e,t,n,o={}){const l=await ji(r,e,t,n,o);return"mfaPendingCredential"in l&&dn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Sw(r,e,t,n){const o=`${e}${t}?${n}`,l=r,u=l.config.emulator?ym(r.config,o):`${r.config.apiScheme}://${o}`;return wE.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function kE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _E{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(On(this.auth,"network-request-failed")),bE.get())})}}function Xu(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=On(r,e,n);return o.customData._tokenResponse=t,o}function ay(r){return r!==void 0&&r.enterprise!==void 0}class NE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jE(r,e){return ji(r,"GET","/v2/recaptchaConfig",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(r,e){return ji(r,"POST","/v1/accounts:delete",e)}async function jd(r,e){return ji(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TE(r,e=!1){const t=ot(r),n=await t.getIdToken(e),o=vm(n);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:Ql(cp(o.auth_time)),issuedAtTime:Ql(cp(o.iat)),expirationTime:Ql(cp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function cp(r){return Number(r)*1e3}function vm(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const o=pw(t);return o?JSON.parse(o):(dd("Failed to decode base64 JWT payload"),null)}catch(o){return dd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function oy(r){const e=vm(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof pn&&IE(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function IE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(r){const e=r.auth,t=await r.getIdToken(),n=await nc(r,jd(e,{idToken:t}));Ie(n?.users.length,e,"internal-error");const o=n.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?Cw(o.providerUserInfo):[],u=AE(r.providerData,l),f=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,g=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function CE(r){const e=ot(r);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AE(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function Cw(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(r,e){const t=await Iw(r,{},async()=>{const n=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await Sw(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:n};return r.emulatorConfig&&$n(r.emulatorConfig.host)&&(p.credentials="include"),Tw.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PE(r,e){return ji(r,"POST","/v2/accounts:revokeToken",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=oy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await RE(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new vo;return n&&(Ie(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class on{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new SE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TE(this,e)}reload(){return CE(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new on({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ed(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await nc(this,EE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:C,providerData:I,stsTokenManager:V}=t;Ie(b&&V,e,"internal-error");const E=vo.fromJSON(this.name,V);Ie(typeof b=="string",e,"internal-error"),ti(n,e.name),ti(o,e.name),Ie(typeof _=="boolean",e,"internal-error"),Ie(typeof C=="boolean",e,"internal-error"),ti(l,e.name),ti(u,e.name),ti(f,e.name),ti(p,e.name),ti(g,e.name),ti(v,e.name);const L=new on({uid:b,auth:e,email:o,emailVerified:_,displayName:n,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(L.providerData=I.map(O=>({...O}))),p&&(L._redirectEventId=p),L}static async _fromIdTokenResponse(e,t,n=!1){const o=new vo;o.updateFromServerResponse(t);const l=new on({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await Ed(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Cw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,f=new vo;f.updateFromIdToken(n);const p=new on({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function us(r){xs(r instanceof Function,"Expected a class definition");let e=ly.get(r);return e?(xs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ly.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Aw.type="NONE";const cy=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(r,e,t){return`firebase:${r}:${e}:${t}`}class wo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=hd(this.userKey,o.apiKey,l),this.fullPersistenceKey=hd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jd(this.auth,{idToken:e}).catch(()=>{});return t?on._fromGetAccountInfoResponse(this.auth,t,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new wo(us(cy),e,n);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||us(cy);const u=hd(n,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const _=await jd(e,{idToken:v}).catch(()=>{});if(!_)break;b=await on._fromGetAccountInfoResponse(e,_,v)}else b=on._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new wo(l,e,n):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new wo(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(Mw(e))return"Webos";if(Pw(e))return"Safari";if((e.includes("chrome/")||Dw(e))&&!e.includes("edge/"))return"Chrome";if(Ow(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function Rw(r=ar()){return/firefox\//i.test(r)}function Pw(r=ar()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dw(r=ar()){return/crios\//i.test(r)}function Lw(r=ar()){return/iemobile/i.test(r)}function Ow(r=ar()){return/android/i.test(r)}function Vw(r=ar()){return/blackberry/i.test(r)}function Mw(r=ar()){return/webos/i.test(r)}function wm(r=ar()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DE(r=ar()){return wm(r)&&!!window.navigator?.standalone}function LE(){return Q2()&&document.documentMode===10}function Uw(r=ar()){return wm(r)||Ow(r)||Mw(r)||Vw(r)||/windows phone/i.test(r)||Lw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r,e=[]){let t;switch(r){case"Browser":t=uy(ar());break;case"Worker":t=`${uy(ar())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(r,e={}){return ji(r,"GET","/v2/passwordPolicy",Ni(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=6;class UE{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ME,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new OE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jd(this,{idToken:e}),n=await on._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(n=f.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(hs(this));const t=e?ot(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VE(this),t=new UE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await PE(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mE(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(r){return ot(r)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=nj(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zE(r){Zd=r}function zw(r){return Zd.loadJS(r)}function BE(){return Zd.recaptchaEnterpriseScript}function $E(){return Zd.gapiScript}function qE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HE{constructor(){this.enterprise=new WE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GE="recaptcha-enterprise",Bw="NO_RECAPTCHA";class KE{constructor(e){this.type=GE,this.auth=va(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{jE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new NE(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function o(l,u,f){const p=window.grecaptcha;ay(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Bw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HE().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(f=>{if(!t&&ay(window.grecaptcha))o(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BE();p.length!==0&&(p+=f),zw(p).then(()=>{o(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function hy(r,e,t,n=!1,o=!1){const l=new KE(r);let u;if(o)u=Bw;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ap(r,e,t,n,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await hy(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await hy(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,e){const t=bc(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(da(l,e??{}))return o;dn(o,"already-initialized")}return t.initialize({options:e})}function YE(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(us);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function XE(r,e,t){const n=va(r);Ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=$w(e),{host:u,port:f}=JE(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Ie(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ie(da(g,n.config.emulator)&&da(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,$n(u)?(Yd(`${l}//${u}${p}`),Xd("Auth",!0)):ZE()}function $w(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JE(r){const e=$w(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:fy(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:fy(u)}}}function fy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZE(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,t){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function eT(r,e){return ji(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(r,e){return _c(r,"POST","/v1/accounts:signInWithPassword",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ni(r,e))}async function nT(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends bm{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new sc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new sc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,t,"signInWithPassword",tT);case"emailLink":return rT(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,n,"signUpPassword",eT);case"emailLink":return nT(e,{idToken:t,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,e){return _c(r,"POST","/v1/accounts:signInWithIdp",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="http://localhost";class ha extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new ha(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:sT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aT(r){const e=Bl($l(r)).link,t=e?Bl($l(e)).deep_link_id:null,n=Bl($l(r)).deep_link_id;return(n?Bl($l(n)).link:null)||n||t||e||r}class km{constructor(e){const t=Bl($l(e)),n=t.apiKey??null,o=t.oobCode??null,l=iT(t.mode??null);Ie(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aT(e);try{return new km(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return sc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=km.parseLink(t);return Ie(n,"argument-error"),sc._fromEmailAndCode(e,n.code,n.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Nc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return si.credential(t,n)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Nc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Nc{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ai.credential(t,n)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(r,e){return _c(r,"POST","/v1/accounts:signUp",Ni(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await on._fromIdTokenResponse(e,n,o),u=py(n);return new fa({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=py(n);return new fa({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function py(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends pn{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new Td(e,t,n,o)}}function Hw(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(r,l,e,n):l})}async function lT(r,e,t=!1){const n=await nc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return fa._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(r,e,t=!1){const{auth:n}=r;if(wr(n.app))return Promise.reject(hs(n));const o="reauthenticate";try{const l=await nc(r,Hw(n,o,e,r),t);Ie(l.idToken,n,"internal-error");const u=vm(l.idToken);Ie(u,n,"internal-error");const{sub:f}=u;return Ie(r.uid===f,n,"user-mismatch"),fa._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&dn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(r,e,t=!1){if(wr(r.app))return Promise.reject(hs(r));const n="signIn",o=await Hw(r,n,e),l=await fa._fromIdTokenResponse(r,n,o);return t||await r._updateCurrentUser(l.user),l}async function uT(r,e){return Ww(va(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(r){const e=va(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dT(r,e,t){if(wr(r.app))return Promise.reject(hs(r));const n=va(r),u=await Ap(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oT).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Gw(r),p}),f=await fa._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(f.user),f}function hT(r,e,t){return wr(r.app)?Promise.reject(hs(r)):uT(ot(r),Vo.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Gw(r),n})}function fT(r,e,t,n){return ot(r).onIdTokenChanged(e,t,n)}function pT(r,e,t){return ot(r).beforeAuthStateChanged(e,t)}function mT(r,e,t,n){return ot(r).onAuthStateChanged(e,t,n)}function gT(r){return ot(r).signOut()}const Id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1e3,yT=10;class Qw extends Kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);LE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yT):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},xT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qw.type="LOCAL";const vT=Qw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yw.type="SESSION";const Xw=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new eh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const f=Array.from(u).map(async g=>g(t.origin,l)),p=await wT(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=_m("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(b){const _=b;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function kT(r){Vn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function _T(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NT(){return navigator?.serviceWorker?.controller||null}function jT(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="firebaseLocalStorageDb",ET=1,Sd="firebaseLocalStorage",eb="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function th(r,e){return r.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function TT(){const r=indexedDB.deleteDatabase(Zw);return new jc(r).toPromise()}function Rp(){const r=indexedDB.open(Zw,ET);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Sd,{keyPath:eb})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Sd)?e(n):(n.close(),await TT(),e(await Rp()))})})}async function my(r,e,t){const n=th(r,!0).put({[eb]:e,value:t});return new jc(n).toPromise()}async function IT(r,e){const t=th(r,!1).get(e),n=await new jc(t).toPromise();return n===void 0?null:n.value}function gy(r,e){const t=th(r,!0).delete(e);return new jc(t).toPromise()}const ST=800,CT=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>CT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(jT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _T(),!this.activeServiceWorker)return;this.sender=new bT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await my(e,Id,"1"),await gy(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>my(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>IT(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=th(o,!1).getAll();return new jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ST)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const AT=tb;new kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,e){return e?us(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PT(r){return Ww(r.auth,new Nm(r),r.bypassAuthState)}function DT(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),cT(t,new Nm(r),r.bypassAuthState)}async function LT(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),lT(t,new Nm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PT;case"linkViaPopup":case"linkViaRedirect":return LT;case"reauthViaPopup":case"reauthViaRedirect":return DT;default:dn(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new kc(2e3,1e4);class xo extends rb{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=_m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OT.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="pendingRedirect",fd=new Map;class MT extends rb{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const n=await UT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UT(r,e){const t=BT(e),n=zT(r);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function FT(r,e){fd.set(r._key(),e)}function zT(r){return us(r._redirectPersistence)}function BT(r){return hd(VT,r.config.apiKey,r.name)}async function $T(r,e,t=!1){if(wr(r.app))return Promise.reject(hs(r));const n=va(r),o=RT(n,e),u=await new MT(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=600*1e3;class HT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nb(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(On(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qT&&this.cachedEventUids.clear(),this.cachedEventUids.has(xy(e))}saveEventToCache(e){this.cachedEventUids.add(xy(e)),this.lastProcessedEventTime=Date.now()}}function xy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function WT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(r,e={}){return ji(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QT=/^https?/;async function YT(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GT(r);for(const t of e)try{if(XT(t))return}catch{}dn(r,"unauthorized-domain")}function XT(r){const e=Sp(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!QT.test(t))return!1;if(KT.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new kc(3e4,6e4);function yy(){const r=Vn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function ZT(r){return new Promise((e,t)=>{function n(){yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yy(),t(On(r,"network-request-failed"))},timeout:JT.get()})}if(Vn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vn().gapi?.load)n();else{const o=qE("iframefcb");return Vn()[o]=()=>{gapi.load?n():t(On(r,"network-request-failed"))},zw(`${$E()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw pd=null,e})}let pd=null;function eI(r){return pd=pd||ZT(r),pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new kc(5e3,15e3),rI="__/auth/iframe",nI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ym(e,nI):`https://${r.config.authDomain}/${rI}`,n={apiKey:e.apiKey,appName:r.name,v:ya},o=iI.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${wc(n).slice(1)}`}async function oI(r){const e=await eI(r),t=Vn().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:aI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=On(r,"network-request-failed"),f=Vn().setTimeout(()=>{l(u)},tI.get());function p(){Vn().clearTimeout(f),o(n)}n.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,uI=600,dI="_blank",hI="http://localhost";class vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(r,e,t,n=cI,o=uI){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p={...lI,width:n.toString(),height:o.toString(),top:l,left:u},g=ar().toLowerCase();t&&(f=Dw(g)?dI:t),Rw(g)&&(e=e||hI,p.scrollbars="yes");const v=Object.entries(p).reduce((_,[C,I])=>`${_}${C}=${I},`,"");if(DE(g)&&f!=="_self")return pI(e||"",f),new vy(null);const b=window.open(e||"",f,v);Ie(b,r,"popup-blocked");try{b.focus()}catch{}return new vy(b)}function pI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__/auth/handler",gI="emulator/auth/handler",xI=encodeURIComponent("fac");async function wy(r,e,t,n,o,l){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ya,eventId:o};if(e instanceof qw){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",rj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Nc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),g=p?`#${xI}=${encodeURIComponent(p)}`:"";return`${yI(r)}?${wc(f).slice(1)}${g}`}function yI({config:r}){return r.emulator?ym(r,gI):`https://${r.authDomain}/${mI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=$T,this._overrideRedirectResult=FT}async _openPopup(e,t,n,o){xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await wy(e,t,n,Sp(),o);return fI(e,l,_m())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await wy(e,t,n,Sp(),o);return kT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(xs(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await oI(e),n=new HT(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(up,{type:up},o=>{const l=o?.[0]?.[up];l!==void 0&&t(!!l),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uw()||Pw()||wm()}}const wI=vI;var by="@firebase/auth",ky="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(r){fi(new ms("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=n.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(r)},g=new FE(n,o,l,p);return YE(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),fi(new ms("auth-internal",e=>{const t=va(e.getProvider("auth").getImmediate());return(n=>new bI(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(by,ky,kI(r)),Wr(by,ky,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=300,jI=xw("authIdTokenMaxAge")||NI;let _y=null;const EI=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jI)return;const o=t?.token;_y!==o&&(_y=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TI(r=Jd()){const e=bc(r,"auth");if(e.isInitialized())return e.getImmediate();const t=QE(r,{popupRedirectResolver:wI,persistence:[AT,vT,Xw]}),n=xw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=EI(l.toString());pT(t,u,()=>u(t.currentUser)),fT(t,f=>u(f))}}const o=mw("auth");return o&&XE(t,`http://${o}`),t}function II(){return document.getElementsByTagName("head")?.[0]??document}zE({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=On("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",II().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var SI="firebase",CI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(SI,CI,"app");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,sb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,j){function R(){}R.prototype=j.prototype,D.F=j.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,U,B){for(var S=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)S[_e-2]=arguments[_e];return j.prototype[U].apply(M,S)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,j,R){R||(R=0);const M=Array(16);if(typeof j=="string")for(var U=0;U<16;++U)M[U]=j.charCodeAt(R++)|j.charCodeAt(R++)<<8|j.charCodeAt(R++)<<16|j.charCodeAt(R++)<<24;else for(U=0;U<16;++U)M[U]=j[R++]|j[R++]<<8|j[R++]<<16|j[R++]<<24;j=D.g[0],R=D.g[1],U=D.g[2];let B=D.g[3],S;S=j+(B^R&(U^B))+M[0]+3614090360&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(U^j&(R^U))+M[1]+3905402710&4294967295,B=j+(S<<12&4294967295|S>>>20),S=U+(R^B&(j^R))+M[2]+606105819&4294967295,U=B+(S<<17&4294967295|S>>>15),S=R+(j^U&(B^j))+M[3]+3250441966&4294967295,R=U+(S<<22&4294967295|S>>>10),S=j+(B^R&(U^B))+M[4]+4118548399&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(U^j&(R^U))+M[5]+1200080426&4294967295,B=j+(S<<12&4294967295|S>>>20),S=U+(R^B&(j^R))+M[6]+2821735955&4294967295,U=B+(S<<17&4294967295|S>>>15),S=R+(j^U&(B^j))+M[7]+4249261313&4294967295,R=U+(S<<22&4294967295|S>>>10),S=j+(B^R&(U^B))+M[8]+1770035416&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(U^j&(R^U))+M[9]+2336552879&4294967295,B=j+(S<<12&4294967295|S>>>20),S=U+(R^B&(j^R))+M[10]+4294925233&4294967295,U=B+(S<<17&4294967295|S>>>15),S=R+(j^U&(B^j))+M[11]+2304563134&4294967295,R=U+(S<<22&4294967295|S>>>10),S=j+(B^R&(U^B))+M[12]+1804603682&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(U^j&(R^U))+M[13]+4254626195&4294967295,B=j+(S<<12&4294967295|S>>>20),S=U+(R^B&(j^R))+M[14]+2792965006&4294967295,U=B+(S<<17&4294967295|S>>>15),S=R+(j^U&(B^j))+M[15]+1236535329&4294967295,R=U+(S<<22&4294967295|S>>>10),S=j+(U^B&(R^U))+M[1]+4129170786&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^U&(j^R))+M[6]+3225465664&4294967295,B=j+(S<<9&4294967295|S>>>23),S=U+(j^R&(B^j))+M[11]+643717713&4294967295,U=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(U^B))+M[0]+3921069994&4294967295,R=U+(S<<20&4294967295|S>>>12),S=j+(U^B&(R^U))+M[5]+3593408605&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^U&(j^R))+M[10]+38016083&4294967295,B=j+(S<<9&4294967295|S>>>23),S=U+(j^R&(B^j))+M[15]+3634488961&4294967295,U=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(U^B))+M[4]+3889429448&4294967295,R=U+(S<<20&4294967295|S>>>12),S=j+(U^B&(R^U))+M[9]+568446438&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^U&(j^R))+M[14]+3275163606&4294967295,B=j+(S<<9&4294967295|S>>>23),S=U+(j^R&(B^j))+M[3]+4107603335&4294967295,U=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(U^B))+M[8]+1163531501&4294967295,R=U+(S<<20&4294967295|S>>>12),S=j+(U^B&(R^U))+M[13]+2850285829&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^U&(j^R))+M[2]+4243563512&4294967295,B=j+(S<<9&4294967295|S>>>23),S=U+(j^R&(B^j))+M[7]+1735328473&4294967295,U=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(U^B))+M[12]+2368359562&4294967295,R=U+(S<<20&4294967295|S>>>12),S=j+(R^U^B)+M[5]+4294588738&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^U)+M[8]+2272392833&4294967295,B=j+(S<<11&4294967295|S>>>21),S=U+(B^j^R)+M[11]+1839030562&4294967295,U=B+(S<<16&4294967295|S>>>16),S=R+(U^B^j)+M[14]+4259657740&4294967295,R=U+(S<<23&4294967295|S>>>9),S=j+(R^U^B)+M[1]+2763975236&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^U)+M[4]+1272893353&4294967295,B=j+(S<<11&4294967295|S>>>21),S=U+(B^j^R)+M[7]+4139469664&4294967295,U=B+(S<<16&4294967295|S>>>16),S=R+(U^B^j)+M[10]+3200236656&4294967295,R=U+(S<<23&4294967295|S>>>9),S=j+(R^U^B)+M[13]+681279174&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^U)+M[0]+3936430074&4294967295,B=j+(S<<11&4294967295|S>>>21),S=U+(B^j^R)+M[3]+3572445317&4294967295,U=B+(S<<16&4294967295|S>>>16),S=R+(U^B^j)+M[6]+76029189&4294967295,R=U+(S<<23&4294967295|S>>>9),S=j+(R^U^B)+M[9]+3654602809&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^U)+M[12]+3873151461&4294967295,B=j+(S<<11&4294967295|S>>>21),S=U+(B^j^R)+M[15]+530742520&4294967295,U=B+(S<<16&4294967295|S>>>16),S=R+(U^B^j)+M[2]+3299628645&4294967295,R=U+(S<<23&4294967295|S>>>9),S=j+(U^(R|~B))+M[0]+4096336452&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~U))+M[7]+1126891415&4294967295,B=j+(S<<10&4294967295|S>>>22),S=U+(j^(B|~R))+M[14]+2878612391&4294967295,U=B+(S<<15&4294967295|S>>>17),S=R+(B^(U|~j))+M[5]+4237533241&4294967295,R=U+(S<<21&4294967295|S>>>11),S=j+(U^(R|~B))+M[12]+1700485571&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~U))+M[3]+2399980690&4294967295,B=j+(S<<10&4294967295|S>>>22),S=U+(j^(B|~R))+M[10]+4293915773&4294967295,U=B+(S<<15&4294967295|S>>>17),S=R+(B^(U|~j))+M[1]+2240044497&4294967295,R=U+(S<<21&4294967295|S>>>11),S=j+(U^(R|~B))+M[8]+1873313359&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~U))+M[15]+4264355552&4294967295,B=j+(S<<10&4294967295|S>>>22),S=U+(j^(B|~R))+M[6]+2734768916&4294967295,U=B+(S<<15&4294967295|S>>>17),S=R+(B^(U|~j))+M[13]+1309151649&4294967295,R=U+(S<<21&4294967295|S>>>11),S=j+(U^(R|~B))+M[4]+4149444226&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~U))+M[11]+3174756917&4294967295,B=j+(S<<10&4294967295|S>>>22),S=U+(j^(B|~R))+M[2]+718787259&4294967295,U=B+(S<<15&4294967295|S>>>17),S=R+(B^(U|~j))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+j&4294967295,D.g[1]=D.g[1]+(U+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+B&4294967295}n.prototype.v=function(D,j){j===void 0&&(j=D.length);const R=j-this.blockSize,M=this.C;let U=this.h,B=0;for(;B<j;){if(U==0)for(;B<=R;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<j;)if(M[U++]=D.charCodeAt(B++),U==this.blockSize){o(this,M),U=0;break}}else for(;B<j;)if(M[U++]=D[B++],U==this.blockSize){o(this,M),U=0;break}}this.h=U,this.o+=j},n.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var j=1;j<D.length-8;++j)D[j]=0;j=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=j&255,j/=256;for(this.v(D),D=Array(16),j=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[j++]=this.g[R]>>>M&255;return D};function l(D,j){var R=f;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=j(D)}function u(D,j){this.h=j;const R=[];let M=!0;for(let U=D.length-1;U>=0;U--){const B=D[U]|0;M&&B==j||(R[U]=B,M=!1)}this.g=R}var f={};function p(D){return-128<=D&&D<128?l(D,function(j){return new u([j|0],j<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return E(g(-D));const j=[];let R=1;for(let M=0;D>=R;M++)j[M]=D/R|0,R*=4294967296;return new u(j,0)}function v(D,j){if(D.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(D.charAt(0)=="-")return E(v(D.substring(1),j));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(j,8));let M=b;for(let B=0;B<D.length;B+=8){var U=Math.min(8,D.length-B);const S=parseInt(D.substring(B,B+U),j);U<8?(U=g(Math.pow(j,U)),M=M.j(U).add(g(S))):(M=M.j(R),M=M.add(g(S)))}return M}var b=p(0),_=p(1),C=p(16777216);r=u.prototype,r.m=function(){if(V(this))return-E(this).m();let D=0,j=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*j,j*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(V(this))return"-"+E(this).toString(D);const j=g(Math.pow(D,6));var R=this;let M="";for(;;){const U=P(R,j).g;R=L(R,U.j(j));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=U,I(R))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let j=0;j<D.g.length;j++)if(D.g[j]!=0)return!1;return!0}function V(D){return D.h==-1}r.l=function(D){return D=L(this,D),V(D)?-1:I(D)?0:1};function E(D){const j=D.g.length,R=[];for(let M=0;M<j;M++)R[M]=~D.g[M];return new u(R,~D.h).add(_)}r.abs=function(){return V(this)?E(this):this},r.add=function(D){const j=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let U=0;U<=j;U++){let B=M+(this.i(U)&65535)+(D.i(U)&65535),S=(B>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);M=S>>>16,B&=65535,S&=65535,R[U]=S<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(D,j){return D.add(E(j))}r.j=function(D){if(I(this)||I(D))return b;if(V(this))return V(D)?E(this).j(E(D)):E(E(this).j(D));if(V(D))return E(this.j(E(D)));if(this.l(C)<0&&D.l(C)<0)return g(this.m()*D.m());const j=this.g.length+D.g.length,R=[];for(var M=0;M<2*j;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let U=0;U<D.g.length;U++){const B=this.i(M)>>>16,S=this.i(M)&65535,_e=D.i(U)>>>16,He=D.i(U)&65535;R[2*M+2*U]+=S*He,O(R,2*M+2*U),R[2*M+2*U+1]+=B*He,O(R,2*M+2*U+1),R[2*M+2*U+1]+=S*_e,O(R,2*M+2*U+1),R[2*M+2*U+2]+=B*_e,O(R,2*M+2*U+2)}for(D=0;D<j;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=j;D<2*j;D++)R[D]=0;return new u(R,0)};function O(D,j){for(;(D[j]&65535)!=D[j];)D[j+1]+=D[j]>>>16,D[j]&=65535,j++}function $(D,j){this.g=D,this.h=j}function P(D,j){if(I(j))throw Error("division by zero");if(I(D))return new $(b,b);if(V(D))return j=P(E(D),j),new $(E(j.g),E(j.h));if(V(j))return j=P(D,E(j)),new $(E(j.g),j.h);if(D.g.length>30){if(V(D)||V(j))throw Error("slowDivide_ only works with positive integers.");for(var R=_,M=j;M.l(D)<=0;)R=J(R),M=J(M);var U=Y(R,1),B=Y(M,1);for(M=Y(M,2),R=Y(R,2);!I(M);){var S=B.add(M);S.l(D)<=0&&(U=U.add(R),B=S),M=Y(M,1),R=Y(R,1)}return j=L(D,U.j(j)),new $(U,j)}for(U=b;D.l(j)>=0;){for(R=Math.max(1,Math.floor(D.m()/j.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=g(R),S=B.j(j);V(S)||S.l(D)>0;)R-=M,B=g(R),S=B.j(j);I(B)&&(B=_),U=U.add(B),D=L(D,S)}return new $(U,D)}r.B=function(D){return P(this,D).h},r.and=function(D){const j=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<j;M++)R[M]=this.i(M)&D.i(M);return new u(R,this.h&D.h)},r.or=function(D){const j=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<j;M++)R[M]=this.i(M)|D.i(M);return new u(R,this.h|D.h)},r.xor=function(D){const j=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<j;M++)R[M]=this.i(M)^D.i(M);return new u(R,this.h^D.h)};function J(D){const j=D.g.length+1,R=[];for(let M=0;M<j;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new u(R,D.h)}function Y(D,j){const R=j>>5;j%=32;const M=D.g.length-R,U=[];for(let B=0;B<M;B++)U[B]=j>0?D.i(B+R)>>>j|D.i(B+R+1)<<32-j:D.i(B+R);return new u(U,D.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,sb=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,di=u}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,ql,ab,md,Pp,ob,lb,cb;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function o(d,y){if(y)e:{var w=n;d=d.split(".");for(var N=0;N<d.length-1;N++){var W=d[N];if(!(W in w))break e;w=w[W]}d=d[d.length-1],N=w[d],y=y(N),y!=N&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(y){var w=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&w.push([N,y[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,w){return d.call.apply(d.bind,arguments)}function g(d,y,w){return g=p,g.apply(null,arguments)}function v(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function b(d,y){function w(){}w.prototype=y.prototype,d.Z=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,W,Q){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[W].apply(N,ae)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const y=d.length;if(y>0){const w=Array(y);for(let N=0;N<y;N++)w[N]=d[N];return w}return[]}function I(d,y){for(let N=1;N<arguments.length;N++){const W=arguments[N];var w=typeof W;if(w=w!="object"?w:W?Array.isArray(W)?"array":w:"null",w=="array"||w=="object"&&typeof W.length=="number"){w=d.length||0;const Q=W.length||0;d.length=w+Q;for(let ae=0;ae<Q;ae++)d[w+ae]=W[ae]}else d.push(W)}}class V{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(d){u.setTimeout(()=>{throw d},0)}function L(){var d=D;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class O{constructor(){this.h=this.g=null}add(y,w){const N=$.get();N.set(y,w),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new V(()=>new P,d=>d.reset());class P{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Y=!1,D=new O,j=()=>{const d=Promise.resolve(void 0);J=()=>{d.then(R)}};function R(){for(var d;d=L();){try{d.h.call(d.g)}catch(w){E(w)}var y=$;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}Y=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return d})();function S(d){return/^[\s\xa0]*$/.test(d)}function _e(d,y){U.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}b(_e,U),_e.prototype.init=function(d,y){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),Qe=0;function Fe(d,y,w,N,W){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!N,this.ha=W,this.key=++Qe,this.da=this.fa=!1}function X(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ve(d,y,w){for(const N in d)y.call(w,d[N],N,d)}function oe(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function q(d){const y={};for(const w in d)y[w]=d[w];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(d,y){let w,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(w in N)d[w]=N[w];for(let Q=0;Q<ee.length;Q++)w=ee[Q],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,y,w,N,W){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ae=Le(d,y,N,W);return ae>-1?(y=d[ae],w||(y.fa=!1)):(y=new Fe(y,this.src,Q,!!N,W),y.fa=w,d.push(y)),y};function Re(d,y){const w=y.type;if(w in d.g){var N=d.g[w],W=Array.prototype.indexOf.call(N,y,void 0),Q;(Q=W>=0)&&Array.prototype.splice.call(N,W,1),Q&&(X(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Le(d,y,w,N){for(let W=0;W<d.length;++W){const Q=d[W];if(!Q.da&&Q.listener==y&&Q.capture==!!w&&Q.ha==N)return W}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Me={};function je(d,y,w,N,W){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)je(d,y[Q],w,N,W);return null}return w=Ho(w),d&&d[He]?d.J(y,w,f(N)?!!N.capture:!1,W):Oe(d,y,w,!1,N,W)}function Oe(d,y,w,N,W,Q){if(!y)throw Error("Invalid event type");const ae=f(W)?!!W.capture:!!W;let Pe=ja(d);if(Pe||(d[Ne]=Pe=new ye(d)),w=Pe.add(y,w,N,ae,Q),w.proxy)return w;if(N=Je(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)B||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),N,W);else if(d.attachEvent)d.attachEvent(Na(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Je(){function d(w){return y.call(d.src,d.listener,w)}const y=Dc;return d}function Mt(d,y,w,N,W){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Mt(d,y[Q],w,N,W);else N=f(N)?!!N.capture:!!N,w=Ho(w),d&&d[He]?(d=d.i,Q=String(y).toString(),Q in d.g&&(y=d.g[Q],w=Le(y,w,N,W),w>-1&&(X(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete d.g[Q],d.h--)))):d&&(d=ja(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Le(y,w,N,W)),(w=d>-1?y[d]:null)&&mn(w))}function mn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[He])Re(y.i,d);else{var w=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(w,N,d.capture):y.detachEvent?y.detachEvent(Na(w),N):y.addListener&&y.removeListener&&y.removeListener(N),(w=ja(y))?(Re(w,d),w.h==0&&(w.src=null,y[Ne]=null)):X(d)}}}function Na(d){return d in Me?Me[d]:Me[d]="on"+d}function Dc(d,y){if(d.da)d=!0;else{y=new _e(y,this);const w=d.listener,N=d.ha||d.src;d.fa&&mn(d),d=w.call(N,y)}return d}function ja(d){return d=d[Ne],d instanceof ye?d:null}var Si="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(d){return typeof d=="function"?d:(d[Si]||(d[Si]=function(y){return d.handleEvent(y)}),d[Si])}function Tt(){M.call(this),this.i=new ye(this),this.M=this,this.G=null}b(Tt,M),Tt.prototype[He]=!0,Tt.prototype.removeEventListener=function(d,y,w,N){Mt(this,d,y,w,N)};function vt(d,y){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new U(y,d);else if(y instanceof U)y.target=y.target||d;else{var W=y;y=new U(N,d),ge(y,W)}W=!0;let Q,ae;if(w)for(ae=w.length-1;ae>=0;ae--)Q=y.g=w[ae],W=Yr(Q,N,!0,y)&&W;if(Q=y.g=d,W=Yr(Q,N,!0,y)&&W,W=Yr(Q,N,!1,y)&&W,w)for(ae=0;ae<w.length;ae++)Q=y.g=w[ae],W=Yr(Q,N,!1,y)&&W}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const w=d.g[y];for(let N=0;N<w.length;N++)X(w[N]);delete d.g[y],d.h--}}this.G=null},Tt.prototype.J=function(d,y,w,N){return this.i.add(String(d),y,!1,w,N)},Tt.prototype.K=function(d,y,w,N){return this.i.add(String(d),y,!0,w,N)};function Yr(d,y,w,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let W=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==w){const Pe=ae.listener,wt=ae.ha||ae.src;ae.fa&&Re(d.i,ae),W=Pe.call(wt,N)!==!1&&W}}return W&&!N.defaultPrevented}function Wo(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(d,y||0)}function Go(d){d.g=Wo(()=>{d.g=null,d.i&&(d.i=!1,Go(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Lc extends M{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(d){M.call(this),this.h=d,this.g={}}b(Es,M);var Ko=[];function Ea(d){ve(d.g,function(y,w){this.g.hasOwnProperty(w)&&mn(y)},d),d.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Ea(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=u.JSON.stringify,Oc=u.JSON.parse,Ci=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Is(){}function Vc(){}var Ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ta(){U.call(this,"d")}b(Ta,U);function Qo(){U.call(this,"c")}b(Qo,U);var Xr={},Ia=null;function Cs(){return Ia=Ia||new Tt}Xr.Ia="serverreachability";function Sa(d){U.call(this,Xr.Ia,d)}b(Sa,U);function qn(d){const y=Cs();vt(y,new Sa(y))}Xr.STAT_EVENT="statevent";function Hn(d,y){U.call(this,Xr.STAT_EVENT,d),this.stat=y}b(Hn,U);function pt(d){const y=Cs();vt(y,new Hn(y,d))}Xr.Ja="timingevent";function Yo(d,y){U.call(this,Xr.Ja,d),this.size=y}b(Yo,U);function As(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function Rs(){this.g=!0}Rs.prototype.ua=function(){this.g=!1};function Mc(d,y,w,N,W,Q){d.info(function(){if(d.g)if(Q){var ae="",Pe=Q.split("&");for(let Ze=0;Ze<Pe.length;Ze++){var wt=Pe[Ze].split("=");if(wt.length>1){const It=wt[0];wt=wt[1];const Sr=It.split("_");ae=Sr.length>=2&&Sr[1]=="type"?ae+(It+"="+wt+"&"):ae+(It+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+y+`
`+w+`
`+ae})}function Uc(d,y,w,N,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+y+`
`+w+`
`+Q+" "+ae})}function gn(d,y,w,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ai(d,w)+(N?" "+N:"")})}function Fc(d,y){d.info(function(){return"TIMEOUT: "+y})}Rs.prototype.info=function(){};function Ai(d,y){if(!d.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var w=Q[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ae=1;ae<N.length;ae++)N[ae]=""}}}}return Ts(Q)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ds={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zc;function Wn(){}b(Wn,Is),Wn.prototype.g=function(){return new XMLHttpRequest},zc=new Wn;function xn(d){return encodeURIComponent(String(d))}function Ca(d){var y=1;d=d.split(":");const w=[];for(;y>0&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function Vr(d,y,w,N){this.j=d,this.i=y,this.l=w,this.S=N||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bc}function Bc(){this.i=null,this.g="",this.h=!1}var $c={},Xo={};function Jr(d,y,w){d.M=1,d.A=Kn(Mr(y)),d.u=w,d.R=!0,Jo(d,null)}function Jo(d,y){d.F=Date.now(),Ri(d),d.B=Mr(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),ll(w.i,"t",N),d.C=0,w=d.j.L,d.h=new Bc,d.g=Zc(d.j,w?y:null,!d.u),d.P>0&&(d.O=new Lc(g(d.Y,d,d.g),d.P)),y=d.V,w=d.g,N=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ko[0]=W.toString()),W=Ko);for(let Q=0;Q<W.length;Q++){const ae=je(w,W[Q],N||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),qn(),Mc(d.i,d.v,d.B,d.l,d.S,d.u)}Vr.prototype.ba=function(d){d=d.target;const y=this.O;y&&Nn(d)==3?y.j():this.Y(d)},Vr.prototype.Y=function(d){try{if(d==this.g)e:{const Pe=Nn(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Xc(this.g)))){this.K||Pe!=4||wt==7||(wt==8||Ze<=0?qn(3):qn(2)),Aa(this);var y=this.g.ca();this.X=y;var w=qc(this);if(this.o=y==200,Uc(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(N)){var Q=N;break t}}Q=null}if(d=Q)gn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,st(this,d);else{this.o=!1,this.m=3,pt(12),Gn(this),Pi(this);break e}}if(this.R){d=!0;let It;for(;!this.K&&this.C<w.length;)if(It=Wc(this,w),It==Xo){Pe==4&&(this.m=4,pt(14),d=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(It==$c){this.m=4,pt(15),gn(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else gn(this.i,this.l,It,null),st(this,It);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,pt(16),d=!1),this.o=this.o&&d,!d)gn(this.i,this.l,w,"[Invalid Chunked Response]"),Gn(this),Pi(this);else if(w.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Bi(ae),ae.P=!0,pt(11))}}else gn(this.i,this.l,w,null),st(this,w);Pe==4&&Gn(this),this.o&&!this.K&&(Pe==4?za(this.j,this):(this.o=!1,Ri(this)))}else ul(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Gn(this),Pi(this)}}}catch{}finally{}};function qc(d){if(!Hc(d))return d.g.la();const y=Xc(d.g);if(y==="")return"";let w="";const N=y.length,W=Nn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Gn(d),Pi(d),"";d.h.i=new u.TextDecoder}for(let Q=0;Q<N;Q++)d.h.h=!0,w+=d.h.i.decode(y[Q],{stream:!(W&&Q==N-1)});return y.length=0,d.h.g+=w,d.C=0,d.h.g}function Hc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Wc(d,y){var w=d.C,N=y.indexOf(`
`,w);return N==-1?Xo:(w=Number(y.substring(w,N)),isNaN(w)?$c:(N+=1,N+w>y.length?Xo:(y=y.slice(N,N+w),d.C=N+w,y)))}Vr.prototype.cancel=function(){this.K=!0,Gn(this)};function Ri(d){d.T=Date.now()+d.H,Zo(d,d.H)}function Zo(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=As(g(d.aa,d),y)}function Aa(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Vr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Fc(this.i,this.B),this.M!=2&&(qn(),pt(17)),Gn(this),this.m=2,Pi(this)):Zo(this,this.T-d)};function Pi(d){d.j.I==0||d.K||za(d.j,d)}function Gn(d){Aa(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,Ea(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function st(d,y){try{var w=d.j;if(w.I!=0&&(w.g==d||tl(w.h,d))){if(!d.L&&tl(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Fa(w),Tr(w);else break e;Tn(w),pt(18)}}else w.xa=W[1],0<w.xa-w.K&&W[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=As(g(w.Va,w),6e3));Di(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ir(w,11)}else if((d.L||w.g==d)&&Fa(w),!S(y))for(W=w.Ba.g.parse(y),y=0;y<W.length;y++){let Ze=W[y];const It=Ze[0];if(!(It<=w.K))if(w.K=It,Ze=Ze[1],w.I==2)if(Ze[0]=="c"){w.M=Ze[1],w.ba=Ze[2];const Sr=Ze[3];Sr!=null&&(w.ka=Sr,w.j.info("VER="+w.ka));const Zn=Ze[4];Zn!=null&&(w.za=Zn,w.j.info("SVER="+w.za));const In=Ze[5];In!=null&&typeof In=="number"&&In>0&&(N=1.5*In,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Sn=d.g;if(Sn){const qa=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var Q=N.h;Q.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Pa(Q,Q.h),Q.h=null))}if(N.G){const fl=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(N.wa=fl,Ye(N.J,N.G,fl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var ae=d;if(N.na=hl(N,N.L?N.ba:null,N.W),ae.L){Li(N.h,ae);var Pe=ae,wt=N.O;wt&&(Pe.H=wt),Pe.D&&(Aa(Pe),Ri(Pe)),N.g=ae}else Yt(N);w.i.length>0&&Jn(w)}else Ze[0]!="stop"&&Ze[0]!="close"||Ir(w,7);else w.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ir(w,7):Ma(w):Ze[0]!="noop"&&w.l&&w.l.qa(Ze),w.A=0)}}qn(4)}catch{}}var Eh=class{constructor(d,y){this.g=d,this.map=y}};function Ra(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Di(d){return d.h?1:d.g?d.g.size:0}function tl(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Pa(d,y){d.g?d.g.add(y):d.h=y}function Li(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ra.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Nr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.G);return y}return C(d.i)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(d,y){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let W,Q=null;N>=0?(W=d[w].substring(0,N),Q=d[w].substring(N+1)):W=d[w],y(W,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function yn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof yn?(this.l=d.l,Oi(this,d.j),this.o=d.o,this.g=d.g,vn(this,d.u),this.h=d.h,Ls(this,cl(d.i)),this.m=d.m):d&&(y=String(d).match(Gc))?(this.l=!1,Oi(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),vn(this,y[4]),this.h=Vi(y[5]||"",!0),Ls(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new qe(null,this.l))}yn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Mi(y,nl,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Mi(y,nl,!0),"@"),d.push(xn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Mi(w,w.charAt(0)=="/"?Ui:sl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Mi(w,il)),d.join("")},yn.prototype.resolve=function(d){const y=Mr(this);let w=!!d.j;w?Oi(y,d.j):w=!!d.o,w?y.o=d.o:w=!!d.g,w?y.g=d.g:w=d.u!=null;var N=d.h;if(w)vn(y,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=y.h.lastIndexOf("/");W!=-1&&(N=y.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const Q=[];for(let ae=0;ae<W.length;){const Pe=W[ae++];Pe=="."?N&&ae==W.length&&Q.push(""):Pe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),N&&ae==W.length&&Q.push("")):(Q.push(Pe),N=!0)}N=Q.join("/")}else N=W}return w?y.h=N:w=d.i.toString()!=="",w?Ls(y,cl(d.i)):w=!!d.m,w&&(y.m=d.m),y};function Mr(d){return new yn(d)}function Oi(d,y,w){d.j=w?Vi(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function vn(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Ls(d,y,w){y instanceof qe?(d.i=y,La(d.i,d.l)):(w||(y=Mi(y,Th)),d.i=new qe(y,d.l))}function Ye(d,y,w){d.i.set(y,w)}function Kn(d){return Ye(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vi(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mi(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,rl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function rl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var nl=/[#\/\?@]/g,sl=/[#\?:]/g,Ui=/[#\?]/g,Th=/[#\?@]/g,il=/#/g;function qe(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function wn(d){d.g||(d.g=new Map,d.h=0,d.i&&jr(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}r=qe.prototype,r.add=function(d,y){wn(this),this.i=null,d=bn(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function al(d,y){wn(d),y=bn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Da(d,y){return wn(d),y=bn(d,y),d.g.has(y)}r.forEach=function(d,y){wn(this),this.g.forEach(function(w,N){w.forEach(function(W){d.call(y,W,N,this)},this)},this)};function ol(d,y){wn(d);let w=[];if(typeof y=="string")Da(d,y)&&(w=w.concat(d.g.get(bn(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)w=w.concat(d[y]);return w}r.set=function(d,y){return wn(this),this.i=null,d=bn(this,d),Da(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=ol(this,d),d.length>0?String(d[0]):y):y};function ll(d,y,w){al(d,y),w.length>0&&(d.i=null,d.g.set(bn(d,y),C(w)),d.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var w=y[N];const W=xn(w);w=ol(this,w);for(let Q=0;Q<w.length;Q++){let ae=W;w[Q]!==""&&(ae+="="+xn(w[Q])),d.push(ae)}}return this.i=d.join("&")};function cl(d){const y=new qe;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function bn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function La(d,y){y&&!d.j&&(wn(d),d.i=null,d.g.forEach(function(w,N){const W=N.toLowerCase();N!=W&&(al(this,N),ll(this,W,w))},d)),d.j=y}function kn(d,y){const w=new Rs;if(u.Image){const N=new Image;N.onload=v($t,w,"TestLoadImage: loaded",!0,y,N),N.onerror=v($t,w,"TestLoadImage: error",!1,y,N),N.onabort=v($t,w,"TestLoadImage: abort",!1,y,N),N.ontimeout=v($t,w,"TestLoadImage: timeout",!1,y,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function _n(d,y){const w=new Rs,N=new AbortController,W=setTimeout(()=>{N.abort(),$t(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(Q=>{clearTimeout(W),Q.ok?$t(w,"TestPingServer: ok",!0,y):$t(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),$t(w,"TestPingServer: error",!1,y)})}function $t(d,y,w,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(w)}catch{}}function Fi(){this.g=new Ci}function Qn(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Qn,Is),Qn.prototype.g=function(){return new Er(this.i,this.h)};function Er(d,y){Tt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Er,Tt),r=Er.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Zr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kc(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kc(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Os(this):Zr(this),this.readyState==3&&Kc(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Os(this))},r.Na=function(d){this.g&&(this.response=d,Os(this))},r.ga=function(){this.g&&Os(this)};function Os(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Zr(d)}r.setRequestHeader=function(d,y){this.A.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Zr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qc(d){let y="";return ve(d,function(w,N){y+=N,y+=":",y+=w,y+=`\r
`}),y}function Oa(d,y,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Qc(w),typeof d=="string"?w!=null&&xn(w):Ye(d,y,w))}function et(d){Tt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,Tt);var Yc=/^https?$/i,Ih=["POST","PUT"];r=et.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,y,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zc.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){Vs(this,Q);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)w.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Q of N.keys())w.set(Q,N.get(Q));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Ih,y,void 0)>=0)||N||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of w)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Vs(this,Q)}};function Vs(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Ms(d),Xn(d)}function Ms(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,vt(this,"complete"),vt(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Yn(this):this.Xa())},r.Xa=function(){Yn(this)};function Yn(d){if(d.h&&typeof l<"u"){if(d.v&&Nn(d)==4)setTimeout(d.Ca.bind(d),0);else if(vt(d,"readystatechange"),Nn(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var N;if(N=Q===0){let ae=String(d.D).match(Gc)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),N=!Yc.test(ae?ae.toLowerCase():"")}w=N}if(w)vt(d,"complete"),vt(d,"success");else{d.o=6;try{var W=Nn(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",Ms(d)}}finally{Xn(d)}}}}function Xn(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,y||vt(d,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Nn(d){return d.g?d.g.readyState:0}r.ca=function(){try{return Nn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Oc(y)}};function Xc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(d){const y={};d=(d.g&&Nn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(S(d[N]))continue;var w=Ca(d[N]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=y[W]||[];y[W]=Q,Q.push(w)}oe(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Va(d){this.za=0,this.i=[],this.j=new Rs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jn("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jn("baseRetryDelayMs",5e3,d),this.Za=jn("retryDelaySeedMs",1e4,d),this.Ta=jn("forwardChannelMaxRetries",2,d),this.va=jn("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ra(d&&d.concurrentRequestLimit),this.Ba=new Fi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Va.prototype,r.ka=8,r.I=1,r.connect=function(d,y,w,N){pt(0),this.W=d,this.H=y||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=hl(this,null,this.W),Jn(this)};function Ma(d){if(Ua(d),d.I==3){var y=d.V++,w=Mr(d.J);if(Ye(w,"SID",d.M),Ye(w,"RID",y),Ye(w,"TYPE","terminate"),En(d,w),y=new Vr(d,d.j,y),y.M=2,y.A=Kn(Mr(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=Zc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}$i(d)}function Tr(d){d.g&&(Bi(d),d.g.cancel(),d.g=null)}function Ua(d){Tr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Fa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Jn(d){if(!el(d.h)&&!d.m){d.m=!0;var y=d.Ea;J||j(),Y||(J(),Y=!0),D.add(y,d),d.D=0}}function Jc(d,y){return Di(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=As(g(d.Ea,d,y),Ba(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new Vr(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=q(Q),ge(Q,this.U)):Q=this.U),this.u!==null||this.R||(W.J=Q,Q=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=dl(this,W,y),w=Mr(this.J),Ye(w,"RID",d),Ye(w,"CVER",22),this.G&&Ye(w,"X-HTTP-Session-Id",this.G),En(this,w),Q&&(this.R?y="headers="+xn(Qc(Q))+"&"+y:this.u&&Oa(w,this.u,Q)),Pa(this.h,W),this.Ra&&Ye(w,"TYPE","init"),this.S?(Ye(w,"$req",y),Ye(w,"SID","null"),W.U=!0,Jr(W,w,null)):Jr(W,w,y),this.I=2}}else this.I==3&&(d?zi(this,d):this.i.length==0||el(this.h)||zi(this))};function zi(d,y){var w;y?w=y.l:w=d.V++;const N=Mr(d.J);Ye(N,"SID",d.M),Ye(N,"RID",w),Ye(N,"AID",d.K),En(d,N),d.u&&d.o&&Oa(N,d.u,d.o),w=new Vr(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),y&&(d.i=y.G.concat(d.i)),y=dl(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Pa(d.h,w),Jr(w,N,y)}function En(d,y){d.H&&ve(d.H,function(w,N){Ye(y,N,w)}),d.l&&ve({},function(w,N){Ye(y,N,w)})}function dl(d,y,w){w=Math.min(d.i.length,w);const N=d.l?g(d.l.Ka,d.l,d):null;e:{var W=d.i;let Pe=-1;for(;;){const wt=["count="+w];Pe==-1?w>0?(Pe=W[0].g,wt.push("ofs="+Pe)):Pe=0:wt.push("ofs="+Pe);let Ze=!0;for(let It=0;It<w;It++){var Q=W[It].g;const Sr=W[It].map;if(Q-=Pe,Q<0)Pe=Math.max(0,W[It].g-100),Ze=!1;else try{Q="req"+Q+"_"||"";try{var ae=Sr instanceof Map?Sr:Object.entries(Sr);for(const[Zn,In]of ae){let Sn=In;f(In)&&(Sn=Ts(In)),wt.push(Q+Zn+"="+encodeURIComponent(Sn))}}catch(Zn){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),Zn}}catch{N&&N(Sr)}}if(Ze){ae=wt.join("&");break e}}ae=void 0}return d=d.i.splice(0,w),y.G=d,ae}function Yt(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;J||j(),Y||(J(),Y=!0),D.add(y,d),d.A=0}}function Tn(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=As(g(d.Da,d),Ba(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Us(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=As(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Tr(this),Us(this))};function Bi(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Us(d){d.g=new Vr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Mr(d.na);Ye(y,"RID","rpc"),Ye(y,"SID",d.M),Ye(y,"AID",d.K),Ye(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ye(y,"TO",d.ia),Ye(y,"TYPE","xmlhttp"),En(d,y),d.u&&d.o&&Oa(y,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Kn(Mr(y)),w.u=null,w.R=!0,Jo(w,d)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Tn(this),pt(19))};function Fa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function za(d,y){var w=null;if(d.g==y){Fa(d),Bi(d),d.g=null;var N=2}else if(tl(d.h,y))w=y.G,Li(d.h,y),N=1;else return;if(d.I!=0){if(y.o)if(N==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var W=d.D;N=Cs(),vt(N,new Yo(N,w)),Jn(d)}else Yt(d);else if(W=y.m,W==3||W==0&&y.X>0||!(N==1&&Jc(d,y)||N==2&&Tn(d)))switch(w&&w.length>0&&(y=d.h,y.i=y.i.concat(w)),W){case 1:Ir(d,5);break;case 4:Ir(d,10);break;case 3:Ir(d,6);break;default:Ir(d,2)}}}function Ba(d,y){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*y}function Ir(d,y){if(d.j.info("Error code "+y),y==2){var w=g(d.bb,d),N=d.Ua;const W=!N;N=new yn(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oi(N,"https"),Kn(N),W?kn(N.toString(),w):_n(N.toString(),w)}else pt(2);d.I=0,d.l&&d.l.pa(y),$i(d),Ua(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function $i(d){if(d.I=0,d.ja=[],d.l){const y=Nr(d.h);(y.length!=0||d.i.length!=0)&&(I(d.ja,y),I(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function hl(d,y,w){var N=w instanceof yn?Mr(w):new yn(w);if(N.g!="")y&&(N.g=y+"."+N.g),vn(N,N.u);else{var W=u.location;N=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;const Q=new yn(null);N&&Oi(Q,N),y&&(Q.g=y),W&&vn(Q,W),w&&(Q.h=w),N=Q}return w=d.G,y=d.wa,w&&y&&Ye(N,w,y),Ye(N,"VER",d.ka),En(d,N),N}function Zc(d,y,w){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new et(new Qn({ab:w})):new et(d.ma),y.Fa(d.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function $a(){}$a.prototype.g=function(d,y){return new qt(d,y)};function qt(d,y){Tt.call(this),this.g=new Va(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!S(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Fs(this)}b(qt,Tt),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Ma(this.g)},qt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=Ts(d),d=w);y.i.push(new Eh(y.Ya++,d)),y.I==3&&Jn(y)},qt.prototype.N=function(){this.g.l=null,delete this.j,Ma(this.g),delete this.g,qt.Z.N.call(this)};function tu(d){Ta.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}b(tu,Ta);function ru(){Qo.call(this),this.status=1}b(ru,Qo);function Fs(d){this.g=d}b(Fs,eu),Fs.prototype.ra=function(){vt(this.g,"a")},Fs.prototype.qa=function(d){vt(this.g,new tu(d))},Fs.prototype.pa=function(d){vt(this.g,new ru)},Fs.prototype.oa=function(){vt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,cb=function(){return new $a},lb=function(){return Cs()},ob=Xr,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,md=Ps,Ds.COMPLETE="complete",ab=Ds,Vc.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,ql=Vc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,ib=et}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore",Ey="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new mm("@firebase/firestore");function fo(){return pa.logLevel}function ue(r,...e){if(pa.logLevel<=ze.DEBUG){const t=e.map(jm);pa.debug(`Firestore (${Mo}): ${r}`,...t)}}function ys(r,...e){if(pa.logLevel<=ze.ERROR){const t=e.map(jm);pa.error(`Firestore (${Mo}): ${r}`,...t)}}function No(r,...e){if(pa.logLevel<=ze.WARN){const t=e.map(jm);pa.warn(`Firestore (${Mo}): ${r}`,...t)}}function jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ub(r,n,t)}function ub(r,e,t){let n=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ys(n),new Error(n)}function Xe(r,e,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,r||ub(e,o,n)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rr.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let n=this.i;const o=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xe(typeof n.accessToken=="string",31837,{l:n}),new db(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class DI{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LI{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new DI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const n=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ty(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=VI(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+=e.charAt(o[l]%62))}return n}}function Be(r,e){return r<e?-1:r>e?1:0}function Dp(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const o=r.charAt(n),l=e.charAt(n);if(o!==l)return dp(o)===dp(l)?Be(o,l):dp(o)?1:-1}return Be(r.length,e.length)}const MI=55296,UI=57343;function dp(r){const e=r.charCodeAt(0);return e>=MI&&e<=UI}function jo(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="__name__";class Dn{constructor(e,t,n){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Se(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Dn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dn?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=Dn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const n=Dn.isNumericId(e),o=Dn.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?Dn.extractNumericId(e).compare(Dn.extractNumericId(t)):Dp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class nt extends Dn{construct(e,t,n){return new nt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Dn{construct(e,t,n){return new Kt(e,t,n)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iy}static keyField(){return new Kt([Iy])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(n.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(n+=f,o++):(l(),o++)}if(l(),u)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(nt.fromString(e))}static fromName(e){return new ke(nt.fromString(e).popFirst(5))}static empty(){return new ke(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r,e,t){if(!t)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zI(r,e,t,n){if(e===!0&&n===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Sy(r){if(!ke.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cy(r){if(ke.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function hn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ec(r,e){if(!fb(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const o=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(o&&typeof u!==o){t=`JSON field '${n}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new le(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-62135596800,Ry=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ry);return new be(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ay)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,be._jsonSchema))return new be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ay;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Rt("string",be._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new be(0,0))}static max(){return new Ae(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function BI(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(n===1e9?new be(t+1,0):new be(t,n));return new pi(o,ke.empty(),e)}function $I(r){return new pi(r.readTime,r.key,ic)}class pi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pi(Ae.min(),ke.empty(),ic)}static max(){return new pi(Ae.max(),ke.empty(),ic)}}function qI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(r.documentKey,e.documentKey),t!==0?t:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==HI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,n)=>{t(e)}))}static reject(e){return new te(((t,n)=>{n(e)}))}static waitFor(e){return new te(((t,n)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&t()}),(p=>n(p)))})),u=!0,l===o&&t()}))}static or(e){let t=te.resolve(!1);for(const n of e)t=t.next((o=>o?te.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,l)=>{n.push(t.call(this,o,l))})),this.waitFor(n)}static mapArray(e,t){return new te(((n,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{u[g]=v,++f,f===l&&n(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((n,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):n()};l()}))}}function GI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function sh(r){return r==null}function Cd(r){return r===0&&1/r==-1/0}function KI(r){return typeof r=="number"&&Number.isInteger(r)&&!Cd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="";function QI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Py(e)),e=YI(r.get(t),e);return Py(e)}function YI(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case pb:t+="";break;default:t+=l}}return t}function Py(r){return r+pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ei(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function mb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new Gt(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Vt(Kt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gb("Invalid base64 string: "+l):l}})(e);return new Qt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const t=XI.exec(r);if(Xe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gi(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="server_timestamp",yb="__type__",vb="__previous_value__",wb="__local_write_time__";function Im(r){return(r?.mapValue?.fields||{})[yb]?.stringValue===xb}function ih(r){const e=r.mapValue.fields[vb];return Im(e)?ih(e):e}function ac(r){const e=mi(r.mapValue.fields[wb].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,n,o,l,u,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ad="(default)";class oc{constructor(e,t){this.projectId=e,this.database=t||Ad}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__type__",ZI="__max__",ed={mapValue:{}},kb="__vector__",Rd="value";function xi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:tS(r)?9007199254740991:eS(r)?10:11:Se(28295,{value:r})}function Bn(r,e){if(r===e)return!0;const t=xi(r);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ac(r).isEqual(ac(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=mi(o.timestampValue),f=mi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return gi(o.bytesValue).isEqual(gi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=kt(o.doubleValue),f=kt(l.doubleValue);return u===f?Cd(u)===Cd(f):isNaN(u)&&isNaN(f)}return!1})(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Dy(u)!==Dy(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Bn(u[p],f[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function lc(r,e){return(r.values||[]).find((t=>Bn(t,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const t=xi(r),n=xi(e);if(t!==n)return Be(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=kt(l.integerValue||l.doubleValue),p=kt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return Oy(r.timestampValue,e.timestampValue);case 4:return Oy(ac(r),ac(e));case 5:return Dp(r.stringValue,e.stringValue);case 6:return(function(l,u){const f=gi(l),p=gi(u);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Be(f[g],p[g]);if(v!==0)return v}return Be(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Be(kt(l.latitude),kt(u.latitude));return f!==0?f:Be(kt(l.longitude),kt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Vy(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[Rd]?.arrayValue,v=p[Rd]?.arrayValue,b=Be(g?.values?.length||0,v?.values?.length||0);return b!==0?b:Vy(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ed.mapValue&&u===ed.mapValue)return 0;if(l===ed.mapValue)return 1;if(u===ed.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const _=Dp(p[b],v[b]);if(_!==0)return _;const C=Eo(f[p[b]],g[v[b]]);if(C!==0)return C}return Be(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Oy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const t=mi(r),n=mi(e),o=Be(t.seconds,n.seconds);return o!==0?o:Be(t.nanos,n.nanos)}function Vy(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=Eo(t[o],n[o]);if(l)return l}return Be(t.length,n.length)}function To(r){return Lp(r)}function Lp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=mi(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return gi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ke.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=Lp(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of n)l?l=!1:o+=",",o+=`${u}:${Lp(t.fields[u])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function gd(r){switch(xi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(r);return e?16+gd(e):16;case 5:return 2*r.stringValue.length;case 6:return gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,l)=>o+gd(l)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return Ei(n.fields,((l,u)=>{o+=l.length+gd(u)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function My(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Op(r){return!!r&&"integerValue"in r}function Sm(r){return!!r&&"arrayValue"in r}function Uy(r){return!!r&&"nullValue"in r}function Fy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xd(r){return!!r&&"mapValue"in r}function eS(r){return(r?.mapValue?.fields||{})[bb]?.stringValue===kb}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ei(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Yl(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(r.arrayValue.values[t]);return e}return{...r}}function tS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=Kt.emptyPath(),n={},o=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,o),n={},o=[],t=f.popLast()}u?n[f.lastSegment()]=Yl(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){Ei(t,((o,l)=>e[o]=l));for(const o of n)delete e[o]}clone(){return new br(Yl(this.value))}}function _b(r){const e=[];return Ei(r.fields,((t,n)=>{const o=new Kt([t]);if(xd(n)){const l=_b(n.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t,n,o,l,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new nr(e,0,Ae.min(),Ae.min(),Ae.min(),br.empty(),0)}static newFoundDocument(e,t,n,o){return new nr(e,1,t,Ae.min(),n,o,0)}static newNoDocument(e,t){return new nr(e,2,t,Ae.min(),Ae.min(),br.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Ae.min(),Ae.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.position=e,this.inclusive=t}}function zy(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?n=ke.comparator(ke.fromName(u.referenceValue),t.key):n=Eo(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function By(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Bn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{}class At extends Nb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new sS(e,t,n):t==="array-contains"?new oS(e,n):t==="in"?new lS(e,n):t==="not-in"?new cS(e,n):t==="array-contains-any"?new uS(e,n):new At(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new iS(e,n):new aS(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Eo(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends Nb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fn(e,t)}matches(e){return jb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jb(r){return r.op==="and"}function Eb(r){return nS(r)&&jb(r)}function nS(r){for(const e of r.filters)if(e instanceof fn)return!1;return!0}function Vp(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+To(r.value);if(Eb(r))return r.filters.map((e=>Vp(e))).join(",");{const e=r.filters.map((t=>Vp(t))).join(",");return`${r.op}(${e})`}}function Tb(r,e){return r instanceof At?(function(n,o){return o instanceof At&&n.op===o.op&&n.field.isEqual(o.field)&&Bn(n.value,o.value)})(r,e):r instanceof fn?(function(n,o){return o instanceof fn&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((l,u,f)=>l&&Tb(u,o.filters[f])),!0):!1})(r,e):void Se(19439)}function Ib(r){return r instanceof At?(function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`})(r):r instanceof fn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ib).join(" ,")+"}"})(r):"Filter"}class sS extends At{constructor(e,t,n){super(e,t,n),this.key=ke.fromName(n.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class iS extends At{constructor(e,t){super(e,"in",t),this.keys=Sb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aS extends At{constructor(e,t){super(e,"not-in",t),this.keys=Sb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Sb(r,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class oS extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sm(t)&&lc(t.arrayValue,this.value)}}class lS extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lc(this.value.arrayValue,t)}}class cS extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lc(this.value.arrayValue,t)}}class uS extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>lc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t=null,n=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function $y(r,e=null,t=[],n=[],o=null,l=null,u=null){return new dS(r,e,t,n,o,l,u)}function Cm(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Vp(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>To(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>To(n))).join(",")),e.Te=t}return e.Te}function Am(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Tb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!By(r.startAt,e.startAt)&&By(r.endAt,e.endAt)}function Mp(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t=null,n=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hS(r,e,t,n,o,l,u,f){return new zo(r,e,t,n,o,l,u,f)}function Rm(r){return new zo(r)}function qy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cb(r){return r.collectionGroup!==null}function Xl(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Vt(Kt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cc(l,n))})),t.has(Kt.keyField().canonicalString())||e.Ie.push(new cc(Kt.keyField(),n))}return e.Ie}function Mn(r){const e=De(r);return e.Ee||(e.Ee=fS(e,Xl(r))),e.Ee}function fS(r,e){if(r.limitType==="F")return $y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new cc(o.field,l)}));const t=r.endAt?new Pd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Pd(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Up(r,e){const t=r.filters.concat([e]);return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Fp(r,e,t){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ah(r,e){return Am(Mn(r),Mn(e))&&r.limitType===e.limitType}function Ab(r){return`${Cm(Mn(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>Ib(o))).join(", ")}]`),sh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>To(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>To(o))).join(",")),`Target(${n})`})(Mn(r))}; limitType=${r.limitType})`}function oh(r,e){return e.isFoundDocument()&&(function(n,o){const l=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):ke.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,o){for(const l of Xl(n))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(u,f,p){const g=zy(u,f,p);return u.inclusive?g<=0:g<0})(n.startAt,Xl(n),o)||n.endAt&&!(function(u,f,p){const g=zy(u,f,p);return u.inclusive?g>=0:g>0})(n.endAt,Xl(n),o))})(r,e)}function pS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Rb(r){return(e,t)=>{let n=!1;for(const o of Xl(r)){const l=mS(o,e,t);if(l!==0)return l;n=n||o.field.isKeyField()}return 0}}function mS(r,e,t){const n=r.field.isKeyField()?ke.comparator(e.key,t.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Eo(p,g):Se(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,l]of n)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((t,n)=>{for(const[o,l]of n)e(o,l)}))}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new ft(ke.comparator);function vs(){return gS}const Pb=new ft(ke.comparator);function Hl(...r){let e=Pb;for(const t of r)e=e.insert(t.key,t);return e}function Db(r){let e=Pb;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ia(){return Jl()}function Lb(){return Jl()}function Jl(){return new wa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xS=new ft(ke.comparator),yS=new Vt(ke.comparator);function $e(...r){let e=yS;for(const t of r)e=e.add(t);return e}const vS=new Vt(Be);function wS(){return vS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function Ob(r){return{integerValue:""+r}}function bS(r,e){return KI(e)?Ob(e):Pm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function kS(r,e,t){return r instanceof Dd?(function(o,l){const u={fields:{[yb]:{stringValue:xb},[wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Im(l)&&(l=ih(l)),l&&(u.fields[vb]=l),{mapValue:u}})(t,e):r instanceof uc?Mb(r,e):r instanceof dc?Ub(r,e):(function(o,l){const u=Vb(o,l),f=Hy(u)+Hy(o.Ae);return Op(u)&&Op(o.Ae)?Ob(f):Pm(o.serializer,f)})(r,e)}function _S(r,e,t){return r instanceof uc?Mb(r,e):r instanceof dc?Ub(r,e):t}function Vb(r,e){return r instanceof Ld?(function(n){return Op(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Dd extends lh{}class uc extends lh{constructor(e){super(),this.elements=e}}function Mb(r,e){const t=Fb(e);for(const n of r.elements)t.some((o=>Bn(o,n)))||t.push(n);return{arrayValue:{values:t}}}class dc extends lh{constructor(e){super(),this.elements=e}}function Ub(r,e){let t=Fb(e);for(const n of r.elements)t=t.filter((o=>!Bn(o,n)));return{arrayValue:{values:t}}}class Ld extends lh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Hy(r){return kt(r.integerValue||r.doubleValue)}function Fb(r){return Sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function NS(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof uc&&o instanceof uc||n instanceof dc&&o instanceof dc?jo(n.elements,o.elements,Bn):n instanceof Ld&&o instanceof Ld?Bn(n.Ae,o.Ae):n instanceof Dd&&o instanceof Dd})(r.transform,e.transform)}class jS{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ch{}function zb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dm(r.key,Gr.none()):new Tc(r.key,r.data,Gr.none());{const t=r.data,n=br.empty();let o=new Vt(Kt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),o=o.add(l)}return new Ti(r.key,n,new Pr(o.toArray()),Gr.none())}}function ES(r,e,t){r instanceof Tc?(function(o,l,u){const f=o.value.clone(),p=Gy(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ti?(function(o,l,u){if(!yd(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Gy(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Bb(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Zl(r,e,t,n){return r instanceof Tc?(function(l,u,f,p){if(!yd(l.precondition,u))return f;const g=l.value.clone(),v=Ky(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,t,n):r instanceof Ti?(function(l,u,f,p){if(!yd(l.precondition,u))return f;const g=Ky(l.fieldTransforms,p,u),v=u.data;return v.setAll(Bb(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,n):(function(l,u,f){return yd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(r,e,t)}function TS(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=Vb(n.transform,o||null);l!=null&&(t===null&&(t=br.empty()),t.set(n.field,l))}return t||null}function Wy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&jo(n,o,((l,u)=>NS(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tc extends ch{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ti extends ch{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Gy(r,e,t){const n=new Map;Xe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,f=e.data.field(l.field);n.set(l.field,_S(u,f,t[o]))}return n}function Ky(r,e,t){const n=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);n.set(o.field,kS(l,u,e))}return n}class Dm extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IS extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ES(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lb();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=zb(u,f);p!==null&&n.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((t,n)=>Wy(t,n)))&&jo(this.baseMutations,e.baseMutations,((t,n)=>Wy(t,n)))}}class Lm{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){Xe(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=(function(){return xS})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,n[u].version);return new Lm(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,We;function RS(r){switch(r){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function $b(r){if(r===void 0)return ys("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:r})}}(We=Ct||(Ct={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new di([4294967295,4294967295],0);function Qy(r){const e=PS().encode(r),t=new sb;return t.update(e),new Uint8Array(t.digest())}function Yy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new di([t,n],0),new di([o,l],0)]}class Om{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(n<0)throw new Wl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=di.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(di.fromNumber(n)));return o.compare(DS)===1&&(o=new di([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Qy(e),[n,o]=Yy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);if(!this.we(u))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Om(l,o,t);return n.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=Qy(e),[n,o]=Yy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new uh(Ae.min(),o,new ft(Be),vs(),$e())}}class Ic{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ic(n,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,n,o){this.be=e,this.removedTargetIds=t,this.key=n,this.De=o}}class qb{constructor(e,t){this.targetId=e,this.Ce=t}}class Hb{constructor(e,t,n=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class Xy{constructor(){this.ve=0,this.Fe=Jy(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),n=$e();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Se(38017,{changeType:l})}})),new Ic(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Jy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LS{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=td(),this.He=td(),this.Ye=new ft(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,n=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Mp(l))if(n===0){const u=new ke(l.path);this.et(t,u,nr.newNoDocument(u,Ae.min()))}else Xe(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=gi(n).toUint8Array()}catch(p){if(p instanceof gb)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Om(u,o,l)}catch(p){return No(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let o=0;return n.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Mp(f.target)){const p=new ke(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,nr.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let n=$e();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(n=n.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new uh(e,t,this.Ye,this.je,n);return this.je=vs(),this.Je=td(),this.He=td(),this.Ye=new ft(Be),o}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function td(){return new ft(ke.comparator)}function Jy(){return new ft(ke.comparator)}const OS={asc:"ASCENDING",desc:"DESCENDING"},VS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MS={and:"AND",or:"OR"};class US{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zp(r,e){return r.useProto3Json||sh(e)?e:{value:e}}function Od(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function FS(r,e){return Od(r,e.toTimestamp())}function Un(r){return Xe(!!r,49232),Ae.fromTimestamp((function(t){const n=mi(t);return new be(n.seconds,n.nanos)})(r))}function Vm(r,e){return Bp(r,e).canonicalString()}function Bp(r,e){const t=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Gb(r){const e=nt.fromString(r);return Xe(Jb(e),10190,{key:e.toString()}),e}function $p(r,e){return Vm(r.databaseId,e.path)}function hp(r,e){const t=Gb(e);if(t.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ke(Qb(t))}function Kb(r,e){return Vm(r.databaseId,e)}function zS(r){const e=Gb(r);return e.length===4?nt.emptyPath():Qb(e)}function qp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qb(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Zy(r,e,t){return{name:$p(r,e),fields:t.value.mapValue.fields}}function BS(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?Z.UNKNOWN:$b(g.code);return new le(v,g.message||"")})(u);t=new Hb(n,o,l,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=hp(r,n.document.name),l=Un(n.document.updateTime),u=n.document.createTime?Un(n.document.createTime):Ae.min(),f=new br({mapValue:{fields:n.document.fields}}),p=nr.newFoundDocument(o,l,u,f),g=n.targetIds||[],v=n.removedTargetIds||[];t=new vd(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=hp(r,n.document),l=n.readTime?Un(n.readTime):Ae.min(),u=nr.newNoDocument(o,l),f=n.removedTargetIds||[];t=new vd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=hp(r,n.document),l=n.removedTargetIds||[];t=new vd([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:l}=n,u=new AS(o,l),f=n.targetId;t=new qb(f,u)}}return t}function $S(r,e){let t;if(e instanceof Tc)t={update:Zy(r,e.key,e.value)};else if(e instanceof Dm)t={delete:$p(r,e.key)};else if(e instanceof Ti)t={update:Zy(r,e.key,e.data),updateMask:JS(e.fieldMask)};else{if(!(e instanceof IS))return Se(16599,{Vt:e.type});t={verify:$p(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const f=u.transform;if(f instanceof Dd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Se(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:FS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(r,e.precondition)),t}function qS(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?Un(o.updateTime):Un(l);return u.isEqual(Ae.min())&&(u=Un(l)),new jS(u,o.transformResults||[])})(t,e)))):[]}function HS(r,e){return{documents:[Kb(r,e.path)]}}function WS(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Kb(r,o);const l=(function(g){if(g.length!==0)return Xb(fn.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:mo(_.field),direction:QS(_.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=zp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function GS(r){let e=zS(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){Xe(n===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const _=Yb(b);return _ instanceof fn&&Eb(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((_=>(function(I){return new cc(go(I.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let _;return _=typeof b=="object"?b.value:b,sh(_)?null:_})(t.limit));let p=null;t.startAt&&(p=(function(b){const _=!!b.before,C=b.values||[];return new Pd(C,_)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const _=!b.before,C=b.values||[];return new Pd(C,_)})(t.endAt)),hS(e,o,u,l,f,"F",p,g)}function KS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Yb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=go(t.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(t.unaryFilter.field);return At.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=go(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(t){return At.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return fn.create(t.compositeFilter.filters.map((n=>Yb(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(r):Se(30097,{filter:r})}function QS(r){return OS[r]}function YS(r){return VS[r]}function XS(r){return MS[r]}function mo(r){return{fieldPath:r.canonicalString()}}function go(r){return Kt.fromServerFormat(r.fieldPath)}function Xb(r){return r instanceof At?(function(t){if(t.op==="=="){if(Fy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(Uy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(Uy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:YS(t.op),value:t.value}}})(r):r instanceof fn?(function(t){const n=t.getFilters().map((o=>Xb(o)));return n.length===1?n[0]:{compositeFilter:{op:XS(t.op),filters:n}}})(r):Se(54877,{filter:r})}function JS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Jb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t,n,o,l=Ae.min(),u=Ae.min(),f=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.yt=e}}function eC(r){const e=GS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.Cn=new rC}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(pi.min())}updateCollectionGroup(e,t,n){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class rC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Vt(nt.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(Zb,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",nC=1048576;function rv([r,e],[t,n]){const o=Be(r,t);return o===0?Be(e,n):o}class sC{constructor(e){this.Ir=e,this.buffer=new Vt(rv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();rv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?ue(tv,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Vr(3e5)}))}}class aC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(nh.ce);const n=new sC(t);return this.mr.forEachTarget(e,(o=>n.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>n.Ar(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(ev)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,o,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(n=b,f=Date.now(),this.removeTargets(e,n,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((b=>(g=Date.now(),fo()<=ze.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b}))))}}function oC(r,e){return new aC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.changes=new wa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?te.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Zl(n.mutation,o,Pr.empty(),be.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,$e()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=$e()){const o=ia();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((l=>{let u=Hl();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=ia();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,$e())))}populateOverlays(e,t,n){const o=[];return n.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,n,o){let l=vs();const u=Jl(),f=(function(){return Jl()})();return t.forEach(((p,g)=>{const v=n.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ti)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Zl(v.mutation,g,v.mutation.getFieldMask(),be.now())):u.set(g.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>f.set(g,new cC(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const n=Jl();let o=new ft(((u,f)=>u-f)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=n.get(p)||Pr.empty();v=f.applyToLocalView(g,v),n.set(p,v);const b=(o.get(f.batchId)||$e()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=Lb();v.forEach((_=>{if(!l.has(_)){const C=zb(t.get(_),n.get(_));C!==null&&b.set(_,C),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):te.resolve(ia());let f=ic,p=l;return u.next((g=>te.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{p=p.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,$e()))).next((v=>({batchId:f,changes:Db(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((n=>{let o=Hl();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let u=Hl();return this.indexManager.getCollectionParents(e,l).next((f=>te.forEach(f,(p=>{const g=(function(b,_){return new zo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,n,o).next((v=>{v.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,nr.newInvalidDocument(v)))}));let f=Hl();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Zl(v.mutation,g,Pr.empty(),be.now()),oh(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Un(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:eC(o.bundledQuery),readTime:Un(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.overlays=new ft(ke.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ia();return te.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&n.set(o,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,l)=>{this.St(e,t,l)})),te.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(n)),te.resolve()}getOverlaysForCollection(e,t,n){const o=ia(),l=t.length+1,u=new ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>n&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new ft(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let v=l.get(g.largestBatchId);v===null&&(v=ia(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=ia(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=o)););return te.resolve(f)}St(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new CS(t,n));let l=this.qr.get(t);l===void 0&&(l=$e(),this.qr.set(t,l)),this.qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Qr=new Vt(Bt.$r),this.Ur=new Vt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Bt(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new ke(new nt([])),n=new Bt(t,e),o=new Bt(t,e+1),l=[];return this.Ur.forEachInRange([n,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new nt([])),n=new Bt(t,e),o=new Bt(t,e+1);let l=$e();return this.Ur.forEachInRange([n,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Bt(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Bt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new SS(l,t,n,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.ei(n),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vt(Be);return t.forEach((o=>{const l=new Bt(o,0),u=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{n=n.add(f.Yr)}))})),te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;ke.isDocumentKey(l)||(l=l.child(""));const u=new Bt(new ke(l),0);let f=new Vt(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!n.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),u),te.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((n=>{const o=this.Xr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return te.forEach(t.mutations,(o=>{const l=new Bt(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Bt(t,0),o=this.Zr.firstAfterOrEqual(n);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.ri=e,this.docs=(function(){return new ft(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return te.resolve(n?n.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let n=vs();return t.forEach((o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():nr.newInvalidDocument(o))})),te.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=vs();const u=t.path,f=new ke(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||qI($I(v),n)<=0||(o.has(v.key)||oh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,n,o){Se(9500)}ii(e,t){return te.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new gC(this)}getSize(e){return te.resolve(this.size)}}class gC extends lC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.persistence=e,this.si=new wa((t=>Cm(t)),Am),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,t){return this.si.forEach(((n,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),te.waitFor(l).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return te.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),te.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return te.resolve(n)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new fC,this.referenceDelegate=e(this),this.Pi=new xC(this),this.indexManager=new tC,this.remoteDocumentCache=(function(o){return new mC(o)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new ZS(t),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new pC(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ue("MemoryPersistence","Starting transaction:",e);const o=new yC(this.ci.next());return this.referenceDelegate.Ei(),n(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return te.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class yC extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class Um{constructor(e){this.persistence=e,this.Ri=new Mm,this.Vi=null}static mi(e){return new Um(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),te.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(n=>{const o=ke.fromPath(n);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vd{constructor(e,t){this.persistence=e,this.pi=new wa((n=>QI(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=oC(this,t)}static mi(e,t){return new Vd(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((n,o)=>this.br(e,n,o).next((l=>l?te.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((f=>{f||(n++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gd(e.data.value)),t}br(e,t,n){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=o}static As(e,t){let n=$e(),o=$e();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Fm(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Y2()?8:GI(ar())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new vC;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,n,o){return n.documentReadCount<this.fs?(fo()<=ze.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(fo()<=ze.DEBUG&&ue("QueryEngine","Query:",po(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(fo()<=ze.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):te.resolve())}ys(e,t){if(qy(t))return te.resolve(null);let n=Mn(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Fp(t,null,"F"),n=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=$e(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,n).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,u,p.readTime)?this.ys(e,Fp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,n,o){return qy(t)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,n).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,n,o)?te.resolve(null):(fo()<=ze.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.vs(e,u,t,BI(o,ic)).next((f=>f)))}))}Ds(e,t){let n=new Vt(Rb(e));return t.forEach(((o,l)=>{oh(e,l)&&(n=n.add(l))})),n}Cs(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,n){return fo()<=ze.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",po(t)),this.ps.getDocumentsMatchingQuery(e,t,pi.min(),n)}vs(e,t,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="LocalStore",bC=3e8;class kC{constructor(e,t,n,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Be),this.xs=new wa((l=>Cm(l)),Am),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function _C(r,e,t,n){return new kC(r,e,t,n)}async function tk(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],f=[];let p=$e();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function NC(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const b=g.batch,_=b.keys();let C=te.resolve();return _.forEach((I=>{C=C.next((()=>v.getEntry(p,I))).next((V=>{const E=g.docVersions.get(I);Xe(E!==null,48541),V.version.compareTo(E)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(f){let p=$e();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function rk(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jC(r,e){const t=De(r),n=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const _=o.get(b);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,b))));let C=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,n)),o=o.insert(b,C),(function(V,E,L){return V.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=bC?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,C,v)&&f.push(t.Pi.updateTargetData(l,C))}));let p=vs(),g=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(EC(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!n.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n)));f.push(v)}return te.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function EC(r,e,t){let n=$e(),o=$e();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=vs();return t.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):ue(zm,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function TC(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Tm),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function IC(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Pi.getTargetData(n,e).next((l=>l?(o=l,te.resolve(o)):t.Pi.allocateTargetId(n).next((u=>(o=new li(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Hp(r,e,t){const n=De(r),o=n.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Fo(u))throw u;ue(zm,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function nv(r,e,t){const n=De(r);let o=Ae.min(),l=$e();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const b=De(p),_=b.xs.get(v);return _!==void 0?te.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,v)})(n,u,Mn(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?l:$e()))).next((f=>(SC(n,pS(e),f),{documents:f,Qs:l})))))}function SC(r,e,t){let n=r.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.Os.set(e,n)}class sv{constructor(){this.activeTargetIds=wS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CC{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Wp(){return rd===null?rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===Ad?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,t,n,o,l){const u=Wp(),f=this.zo(e,t.toUriEncodedString());ue(fp,`Sending RPC '${e}' ${u}:`,f,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(f),v=$n(g);return this.Jo(e,f,p,n,v).then((b=>(ue(fp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw No(fp,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",n),b}))}Ho(e,t,n,o,l,u){return this.Go(e,t,n,o,l)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),n&&n.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const n=RC[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class LC extends PC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,o,l){const u=Wp();return new Promise(((f,p)=>{const g=new ib;g.setWithCredentials(!0),g.listenOnce(ab.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case md.NO_ERROR:const b=g.getResponseJson();ue(tr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case md.TIMEOUT:ue(tr,`RPC '${e}' ${u} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const _=g.getStatus();if(ue(tr,`RPC '${e}' ${u} failed with status:`,_,"response text:",g.getResponseText()),_>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C?.error;if(I&&I.status&&I.message){const V=(function(L){const O=L.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(O)>=0?O:Z.UNKNOWN})(I.status);p(new le(V,I.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(tr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ue(tr,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,n,15)}))}T_(e,t,n){const o=Wp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cb(),f=lb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(tr,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=u.createWebChannel(v,p);this.I_(b);let _=!1,C=!1;const I=new DC({Yo:E=>{C?ue(tr,`Not sending because RPC '${e}' stream ${o} is closed:`,E):(_||(ue(tr,`Opening RPC '${e}' stream ${o} transport.`),b.open(),_=!0),ue(tr,`RPC '${e}' stream ${o} sending:`,E),b.send(E))},Zo:()=>b.close()}),V=(E,L,O)=>{E.listen(L,($=>{try{O($)}catch(P){setTimeout((()=>{throw P}),0)}}))};return V(b,ql.EventType.OPEN,(()=>{C||(ue(tr,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),V(b,ql.EventType.CLOSE,(()=>{C||(C=!0,ue(tr,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(b))})),V(b,ql.EventType.ERROR,(E=>{C||(C=!0,No(tr,`RPC '${e}' stream ${o} transport errored. Name:`,E.name,"Message:",E.message),I.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),V(b,ql.EventType.MESSAGE,(E=>{if(!C){const L=E.data[0];Xe(!!L,16349);const O=L,$=O?.error||O[0]?.error;if($){ue(tr,`RPC '${e}' stream ${o} received error:`,$);const P=$.status;let J=(function(j){const R=Ct[j];if(R!==void 0)return $b(R)})(P),Y=$.message;J===void 0&&(J=Z.INTERNAL,Y="Unknown error status: "+P+" with message "+$.message),C=!0,I.a_(new le(J,Y)),b.close()}else ue(tr,`RPC '${e}' stream ${o} received:`,L),I.u_(L)}})),V(f,ob.STAT_EVENT,(E=>{E.stat===Pp.PROXY?ue(tr,`RPC '${e}' stream ${o} detected buffering proxy`):E.stat===Pp.NOPROXY&&ue(tr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new US(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,n=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-n);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class sk{constructor(e,t,n,o,l,u,f,p){this.Mi=e,this.S_=n,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nk(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ys(t.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.D_===t&&this.G_(n,o)}),(n=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{n((()=>this.z_(o)))})),this.stream.onMessage((o=>{n((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OC extends sk{constructor(e,t,n,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=BS(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Un(u.readTime):Ae.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=qp(this.serializer),t.addTarget=(function(l,u){let f;const p=u.target;if(f=Mp(p)?{documents:HS(l,p)}:{query:WS(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Wb(l,u.resumeToken);const g=zp(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Od(l,u.snapshotVersion.toTimestamp());const g=zp(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const n=KS(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.q_(t)}}class VC extends sk{constructor(e,t,n,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qS(e.writeResults,e.commitTime),n=Un(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=qp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>$S(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{}class UC extends MC{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Bp(t,n),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Z.UNKNOWN,l.toString())}))}Ho(e,t,n,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Bp(t,n),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class zC{constructor(e,t,n,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{ba(this)&&(ue(ma,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await Sc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hh(g)})(this))}))})),this.Ra=new FC(n,o)}}async function hh(r){if(ba(r))for(const e of r.da)await e(!0)}async function Sc(r){for(const e of r.da)await e(!1)}function ik(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Hm(t)?qm(t):Bo(t).O_()&&$m(t,e))}function Bm(r,e){const t=De(r),n=Bo(t);t.Ia.delete(e),n.O_()&&ak(t,e),t.Ia.size===0&&(n.O_()?n.L_():ba(t)&&t.Ra.set("Unknown"))}function $m(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(r).Y_(e)}function ak(r,e){r.Va.Ue(e),Bo(r).Z_(e)}function qm(r){r.Va=new LS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Ra.ua()}function Hm(r){return ba(r)&&!Bo(r).x_()&&r.Ia.size>0}function ba(r){return De(r).Ea.size===0}function ok(r){r.Va=void 0}async function BC(r){r.Ra.set("Online")}async function $C(r){r.Ia.forEach(((e,t)=>{$m(r,e)}))}async function qC(r,e){ok(r),Hm(r)?(r.Ra.ha(e),qm(r)):r.Ra.set("Unknown")}async function HC(r,e,t){if(r.Ra.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(n){ue(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Md(r,n)}else if(e instanceof vd?r.Va.Ze(e):e instanceof qb?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ae.min()))try{const n=await rk(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),ak(l,p);const b=new li(v.target,p,g,v.sequenceNumber);$m(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(n){ue(ma,"Failed to raise snapshot:",n),await Md(r,n)}}async function Md(r,e,t){if(!Fo(e))throw e;r.Ea.add(1),await Sc(r),r.Ra.set("Offline"),t||(t=()=>rk(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ma,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await hh(r)}))}function lk(r,e){return e().catch((t=>Md(r,t,e)))}async function fh(r){const e=De(r),t=yi(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tm;for(;WC(e);)try{const o=await TC(e.localStore,n);if(o===null){e.Ta.length===0&&t.L_();break}n=o.batchId,GC(e,o)}catch(o){await Md(e,o)}ck(e)&&uk(e)}function WC(r){return ba(r)&&r.Ta.length<10}function GC(r,e){r.Ta.push(e);const t=yi(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ck(r){return ba(r)&&!yi(r).x_()&&r.Ta.length>0}function uk(r){yi(r).start()}async function KC(r){yi(r).ra()}async function QC(r){const e=yi(r);for(const t of r.Ta)e.ea(t.mutations)}async function YC(r,e,t){const n=r.Ta.shift(),o=Lm.from(n,e,t);await lk(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await fh(r)}async function XC(r,e){e&&yi(r).X_&&await(async function(n,o){if((function(u){return RS(u)&&u!==Z.ABORTED})(o.code)){const l=n.Ta.shift();yi(n).B_(),await lk(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,o))),await fh(n)}})(r,e),ck(r)&&uk(r)}async function lv(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),ue(ma,"RemoteStore received new credentials");const n=ba(t);t.Ea.add(3),await Sc(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hh(t)}async function JC(r,e){const t=De(r);e?(t.Ea.delete(2),await hh(t)):e||(t.Ea.add(2),await Sc(t),t.Ra.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(t,n,o){const l=De(t);return l.sa(),new OC(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:BC.bind(null,r),t_:$C.bind(null,r),r_:qC.bind(null,r),H_:HC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hm(r)?qm(r):r.Ra.set("Unknown")):(await r.ma.stop(),ok(r))}))),r.ma}function yi(r){return r.fa||(r.fa=(function(t,n,o){const l=De(t);return l.sa(),new VC(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KC.bind(null,r),r_:XC.bind(null,r),ta:QC.bind(null,r),na:YC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await fh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ma,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const u=Date.now()+n,f=new Wm(e,t,u,o,l);return f.start(n),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(r,e){if(ys("AsyncQueue",`${e}: ${r}`),Fo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ke.comparator(t.key,n.key):(t,n)=>ke.comparator(t.key,n.key),this.keyedMap=Hl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ko;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ga=new ft(ke.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class So{constructor(e,t,n,o,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,o,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new So(e,t,ko.emptySet(t),u,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class e4{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const o=De(t),l=o.queries;o.queries=uv(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(n)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function uv(){return new wa((r=>Ab(r)),ah)}async function dk(r,e){const t=De(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(n=2):(l=new ZC,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Gm(u,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Km(t)}async function hk(r,e){const t=De(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function t4(r,e){const t=De(r);let n=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(n=!0);u.wa=o}}n&&Km(t)}function r4(r,e,t){const n=De(r),o=n.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);n.queries.delete(e)}function Km(r){r.Ca.forEach((e=>{e.next()}))}var Gp,dv;(dv=Gp||(Gp={})).Ma="default",dv.Cache="cache";class fk{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new So(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class n4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=Rb(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new cv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const _=o.get(v),C=oh(this.query,b)?b:null,I=!!_&&this.mutatedKeys.has(_.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let E=!1;_&&C?_.data.isEqual(C.data)?I!==V&&(n.track({type:3,doc:C}),E=!0):this.su(_,C)||(n.track({type:2,doc:C}),E=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(f=!0)):!_&&C?(n.track({type:0,doc:C}),E=!0):_&&!C&&(n.track({type:1,doc:_}),E=!0,(p||g)&&(f=!0)),E&&(C?(u=u.add(C),l=V?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),n.track({type:1,doc:v})}return{tu:u,iu:n,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(C,I){const V=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:E})}};return V(C)-V(I)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(n),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new So(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new mk(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new pk(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class s4{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class i4{constructor(e){this.key=e,this.hu=!1}}class a4{constructor(e,t,n,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wa((f=>Ab(f)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ke.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o4(r,e,t=!0){const n=bk(r);let o;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await gk(n,e,t,!0),o}async function l4(r,e){const t=bk(r);await gk(t,e,!0,!1)}async function gk(r,e,t,n){const o=await IC(r.localStore,Mn(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let f;return n&&(f=await c4(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&ik(r.remoteStore,o),f}async function c4(r,e,t,n,o){r.pu=(b,_,C)=>(async function(V,E,L,O){let $=E.view.ru(L);$.Cs&&($=await nv(V.localStore,E.query,!1).then((({documents:D})=>E.view.ru(D,$))));const P=O&&O.targetChanges.get(E.targetId),J=O&&O.targetMismatches.get(E.targetId)!=null,Y=E.view.applyChanges($,V.isPrimaryClient,P,J);return fv(V,E.targetId,Y.au),Y.snapshot})(r,b,_,C);const l=await nv(r.localStore,e,!0),u=new n4(e,l.Qs),f=u.ru(l.documents),p=Ic.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),g=u.applyChanges(f,r.isPrimaryClient,p);fv(r,t,g.au);const v=new s4(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function u4(r,e,t){const n=De(r),o=n.Tu.get(e),l=n.Iu.get(o.targetId);if(l.length>1)return n.Iu.set(o.targetId,l.filter((u=>!ah(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await Hp(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&Bm(n.remoteStore,o.targetId),Kp(n,o.targetId)})).catch(Uo)):(Kp(n,o.targetId),await Hp(n.localStore,o.targetId,!0))}async function d4(r,e){const t=De(r),n=t.Tu.get(e),o=t.Iu.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Bm(t.remoteStore,n.targetId))}async function h4(r,e,t){const n=v4(r);try{const o=await(function(u,f){const p=De(u),g=be.now(),v=f.reduce(((C,I)=>C.add(I.key)),$e());let b,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let I=vs(),V=$e();return p.Ns.getEntries(C,v).next((E=>{I=E,I.forEach(((L,O)=>{O.isValidDocument()||(V=V.add(L))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,I))).next((E=>{b=E;const L=[];for(const O of f){const $=TS(O,b.get(O.key).overlayedDocument);$!=null&&L.push(new Ti(O.key,$,_b($.value.mapValue),Gr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,L,f)})).next((E=>{_=E;const L=E.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(C,E.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:Db(b)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new ft(Be)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(n,o.batchId,t),await Cc(n,o.changes),await fh(n.remoteStore)}catch(o){const l=Gm(o,"Failed to persist write");t.reject(l)}}async function xk(r,e){const t=De(r);try{const n=await jC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Xe(u.hu,14607):o.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Cc(t,n,e)}catch(n){await Uo(n)}}function hv(r,e,t){const n=De(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=De(u);p.onlineState=f;let g=!1;p.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(f)&&(g=!0)})),g&&Km(p)})(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function f4(r,e,t){const n=De(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Au.get(e),l=o&&o.key;if(l){let u=new ft(ke.comparator);u=u.insert(l,nr.newNoDocument(l,Ae.min()));const f=$e().add(l),p=new uh(Ae.min(),new Map,new ft(Be),u,f);await xk(n,p),n.du=n.du.remove(l),n.Au.delete(e),Ym(n)}else await Hp(n.localStore,e,!1).then((()=>Kp(n,e,t))).catch(Uo)}async function p4(r,e){const t=De(r),n=e.batch.batchId;try{const o=await NC(t.localStore,e);vk(t,n,null),yk(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Cc(t,o)}catch(o){await Uo(o)}}async function m4(r,e,t){const n=De(r);try{const o=await(function(u,f){const p=De(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(Xe(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(n.localStore,e);vk(n,e,t),yk(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Cc(n,o)}catch(o){await Uo(o)}}function yk(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function vk(r,e,t){const n=De(r);let o=n.Vu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function Kp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||wk(r,n)}))}function wk(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Bm(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ym(r))}function fv(r,e,t){for(const n of t)n instanceof pk?(r.Ru.addReference(n.key,e),g4(r,n)):n instanceof mk?(ue(Qm,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||wk(r,n.key)):Se(19791,{wu:n})}function g4(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ue(Qm,"New document in limbo: "+t),r.Eu.add(n),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ke(nt.fromString(e)),n=r.fu.next();r.Au.set(n,new i4(t)),r.du=r.du.insert(t,n),ik(r.remoteStore,new li(Mn(Rm(t.path)),n,"TargetPurposeLimboResolution",nh.ce))}}async function Cc(r,e,t){const n=De(r),o=[],l=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((f,p)=>{u.push(n.pu(p,e,t).then((g=>{if((g||t)&&n.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Fm.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),n.Pu.H_(o),await(async function(p,g){const v=De(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(_=>te.forEach(_.Es,(C=>v.persistence.referenceDelegate.addReference(b,_.targetId,C))).next((()=>te.forEach(_.ds,(C=>v.persistence.referenceDelegate.removeReference(b,_.targetId,C)))))))))}catch(b){if(!Fo(b))throw b;ue(zm,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const C=v.Ms.get(_),I=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(_,V)}}})(n.localStore,l))}async function x4(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){ue(Qm,"User change. New user:",e.toKey());const n=await tk(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new le(Z.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Cc(t,n.Ls)}}function y4(r,e){const t=De(r),n=t.Au.get(e);if(n&&n.hu)return $e().add(n.key);{let o=$e();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const f=t.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function bk(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f4.bind(null,e),e.Pu.H_=t4.bind(null,e.eventManager),e.Pu.yu=r4.bind(null,e.eventManager),e}function v4(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _C(this.persistence,new wC,e.initialUser,this.serializer)}Cu(e){return new ek(Um.mi,this.serializer)}Du(e){return new CC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class w4 extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Vd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new iC(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new ek((n=>Vd.mi(n,t)),this.serializer)}}class Qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>hv(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new e4})()}createDatastore(e){const t=dh(e.databaseInfo.databaseId),n=(function(l){return new LC(l)})(e.databaseInfo);return(function(l,u,f,p){return new UC(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,l,u,f){return new zC(n,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>hv(this.syncEngine,t,0)),(function(){return av.v()?new av:new AC})())}createSyncEngine(e,t){return(function(o,l,u,f,p,g,v){const b=new a4(o,l,u,f,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=De(t);ue(ma,"RemoteStore shutting down."),n.Ea.add(5),await Sc(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qp.provider={build:()=>new Qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class b4{constructor(e,t,n,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=rr.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{ue(vi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(ue(vi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Gm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function mp(r,e){r.asyncQueue.verifyOperationInProgress(),ue(vi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await tk(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function pv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await k4(r);ue(vi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>lv(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>lv(e.remoteStore,o))),r._onlineComponents=e}async function k4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(vi,"Using user provided OfflineComponentProvider");try{await mp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await mp(r,new Ud)}}else ue(vi,"Using default OfflineComponentProvider"),await mp(r,new w4(void 0));return r._offlineComponents}async function _k(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(vi,"Using user provided OnlineComponentProvider"),await pv(r,r._uninitializedComponentsProvider._online)):(ue(vi,"Using default OnlineComponentProvider"),await pv(r,new Qp))),r._onlineComponents}function _4(r){return _k(r).then((e=>e.syncEngine))}async function Nk(r){const e=await _k(r),t=e.eventManager;return t.onListen=o4.bind(null,e.syncEngine),t.onUnlisten=u4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d4.bind(null,e.syncEngine),t}function N4(r,e,t={}){const n=new fs;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new kk({next:_=>{v.Nu(),u.enqueueAndForget((()=>hk(l,b)));const C=_.docs.has(f);!C&&_.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new fk(Rm(f.path),v,{includeMetadataChanges:!0,qa:!0});return dk(l,b)})(await Nk(r),r.asyncQueue,e,t,n))),n.promise}function j4(r,e,t={}){const n=new fs;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new kk({next:_=>{v.Nu(),u.enqueueAndForget((()=>hk(l,b))),_.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new fk(f,v,{includeMetadataChanges:!0,qa:!0});return dk(l,b)})(await Nk(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firestore.googleapis.com",gv=!0;class xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ek,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nC)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new AI;switch(n.type){case"firstParty":return new LI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=mv.get(t);n&&(ue("ComponentProvider","Removing Datastore"),mv.delete(t),n.terminate())})(this),Promise.resolve()}}function E4(r,e,t,n={}){r=hn(r,ph);const o=$n(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(Yd(`https://${f}`),Xd("Firestore",!0)),l.host!==Ek&&l.host!==f&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:n};if(!da(p,u)&&(r._setSettings(p),n.mockUserToken)){let g,v;if(typeof n.mockUserToken=="string")g=n.mockUserToken,v=rr.MOCK_USER;else{g=yw(n.mockUserToken,r._app?.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rr(b)}r._authCredentials=new RI(new db(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class Nt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ec(t,Nt._jsonSchema))return new Nt(e,n||null,new ke(nt.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Rt("string",Nt._jsonSchemaVersion),referencePath:Rt("string")};class hi extends ka{constructor(e,t,n){super(e,t,Rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ke(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Qr(r,e,...t){if(r=ot(r),hb("collection","path",e),r instanceof ph){const n=nt.fromString(e,...t);return Cy(n),new hi(r,null,n)}{if(!(r instanceof Nt||r instanceof hi))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nt.fromString(e,...t));return Cy(n),new hi(r.firestore,null,n)}}function ht(r,e,...t){if(r=ot(r),arguments.length===1&&(e=Em.newId()),hb("doc","path",e),r instanceof ph){const n=nt.fromString(e,...t);return Sy(n),new Nt(r,null,new ke(n))}{if(!(r instanceof Nt||r instanceof hi))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nt.fromString(e,...t));return Sy(n),new Nt(r.firestore,r instanceof hi?r.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nk(this,"async_queue_retry"),this._c=()=>{const n=pp();n&&ue(yv,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;ue(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",wv(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Wm.createAndSchedule(this,e,t,n,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _a extends ph{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function T4(r,e){const t=typeof r=="object"?r:Jd(),n=typeof r=="string"?r:Ad,o=bc(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const l=pm("firestore");l&&E4(o,...l)}return o}function Xm(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||I4(r),r._firestoreClient}function I4(r){const e=r._freezeSettings(),t=(function(o,l,u,f){return new JI(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,jk(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new b4(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Qt.fromBase64String(e))}catch(t){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hr(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:Rt("string",Hr._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:Rt("string",Fn._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zn(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:Rt("string",zn._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=/^__.*__$/;class C4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class Tk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ik(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Zm{constructor(e,t,n,o,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ik(this.Ac)&&S4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||dh(e)}Cc(e,t,n,o=!1){return new Zm({Ac:e,methodName:t,Dc:n,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(r){const e=r._freezeSettings(),t=dh(r._databaseId);return new A4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Sk(r,e,t,n,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);eg("Data must be an object, but it was:",u,n);const f=Ck(n,u);let p,g;if(l.merge)p=new Pr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=Yp(e,b,t);if(!u.contains(_))throw new le(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Rk(v,_)||v.push(_)}p=new Pr(v),g=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=u.fieldTransforms;return new C4(new br(f),p,g)}class xh extends Jm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function R4(r,e,t,n){const o=r.Cc(1,e,t);eg("Data must be an object, but it was:",o,n);const l=[],u=br.empty();Ei(n,((p,g)=>{const v=tg(e,p,t);g=ot(g);const b=o.yc(v);if(g instanceof xh)l.push(v);else{const _=Ac(g,b);_!=null&&(l.push(v),u.set(v,_))}}));const f=new Pr(l);return new Tk(u,f,o.fieldTransforms)}function P4(r,e,t,n,o,l){const u=r.Cc(1,e,t),f=[Yp(e,n,t)],p=[o];if(l.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(Yp(e,l[_])),p.push(l[_+1]);const g=[],v=br.empty();for(let _=f.length-1;_>=0;--_)if(!Rk(g,f[_])){const C=f[_];let I=p[_];I=ot(I);const V=u.yc(C);if(I instanceof xh)g.push(C);else{const E=Ac(I,V);E!=null&&(g.push(C),v.set(C,E))}}const b=new Pr(g);return new Tk(v,b,u.fieldTransforms)}function D4(r,e,t,n=!1){return Ac(t,r.Cc(n?4:3,e))}function Ac(r,e){if(Ak(r=ot(r)))return eg("Unsupported field value:",e,r),Ck(r,e);if(r instanceof Jm)return(function(n,o){if(!Ik(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,o){const l=[];let u=0;for(const f of n){let p=Ac(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,o){if((n=ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bS(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=be.fromDate(n);return{timestampValue:Od(o.serializer,l)}}if(n instanceof be){const l=new be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Od(o.serializer,l)}}if(n instanceof Fn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hr)return{bytesValue:Wb(o.serializer,n._byteString)};if(n instanceof Nt){const l=o.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vm(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof zn)return(function(u,f){return{mapValue:{fields:{[bb]:{stringValue:kb},[Rd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Pm(f.serializer,g)}))}}}}}})(n,o);throw o.Sc(`Unsupported field value: ${rh(n)}`)})(r,e)}function Ck(r,e){const t={};return mb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(r,((n,o)=>{const l=Ac(o,e.mc(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function Ak(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Fn||r instanceof Hr||r instanceof Nt||r instanceof Jm||r instanceof zn)}function eg(r,e,t){if(!Ak(t)||!fb(t)){const n=rh(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Yp(r,e,t){if((e=ot(e))instanceof mh)return e._internalPath;if(typeof e=="string")return tg(r,e);throw Fd("Field path arguments must be of type string or ",r,!1,void 0,t)}const L4=new RegExp("[~\\*/\\[\\]]");function tg(r,e,t){if(e.search(L4)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fd(r,e,t,n,o){const l=n&&!n.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,f+r+p)}function Rk(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class O4 extends Pk{data(){return super.data()}}function yh(r,e){return typeof e=="string"?tg(r,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class Dk extends rg{}function Et(r,e,...t){let n=[];e instanceof rg&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof ng)).length,f=l.filter((p=>p instanceof vh)).length;if(u>1||u>0&&f>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class vh extends Dk{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vh(e,t,n)}_apply(e){const t=this._parse(e);return Lk(e._query,t),new ka(e.firestore,e.converter,Up(e._query,t))}_parse(e){const t=gh(e.firestore);return(function(l,u,f,p,g,v,b){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){kv(b,v);const I=[];for(const V of b)I.push(bv(p,l,V));_={arrayValue:{values:I}}}else _=bv(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||kv(b,v),_=D4(f,u,b,v==="in"||v==="not-in");return At.create(g,v,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Pt(r,e,t){const n=e,o=yh("where",r);return vh._create(o,n,t)}class ng extends rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ng(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)Lk(u,p),u=Up(u,p)})(e._query,t),new ka(e.firestore,e.converter,Up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends Dk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sg(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(l,u)})(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new zo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ns(r,e="asc"){const t=e,n=yh("orderBy",r);return sg._create(n,t)}function bv(r,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&t.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(nt.fromString(t));if(!ke.isDocumentKey(n))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return My(r,new ke(n))}if(t instanceof Nt)return My(r,t._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(t)}.`)}function kv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lk(r,e){const t=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class M4{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ei(e,((o,l)=>{n[o]=this.convertValue(l,t)})),n}convertVectorValue(e){const t=e.fields?.[Rd].arrayValue?.values?.map((n=>kt(n.doubleValue)));return new zn(t)}convertGeoPoint(e){return new Fn(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ih(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const t=mi(e);return new be(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nt.fromString(e);Xe(Jb(n),9688,{name:e});const o=new oc(n.get(1),n.get(3)),l=new ke(n.popFirst(5));return o.isEqual(t)||ys(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Pk{constructor(e,t,n,o,l,u){super(e,t,n,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(yh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Rt("string",oa._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class wd extends oa{data(e={}){return super.data(e)}}class _o{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wd(this._firestore,this._userDataWriter,n.key,n,new Gl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Gl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Gl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:U4(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){r=hn(r,Nt);const e=hn(r.firestore,_a);return N4(Xm(e),r._key).then((t=>F4(e,r,t)))}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Rt("string",_o._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Vk extends M4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function xt(r){r=hn(r,ka);const e=hn(r.firestore,_a),t=Xm(e),n=new Vk(e);return V4(r._query),j4(t,r._query).then((o=>new _o(e,n,r,o)))}function ig(r,e,t){r=hn(r,Nt);const n=hn(r.firestore,_a),o=Ok(r.converter,e,t);return bh(n,[Sk(gh(n),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Gr.none())])}function _r(r,e,t,...n){r=hn(r,Nt);const o=hn(r.firestore,_a),l=gh(o);let u;return u=typeof(e=ot(e))=="string"||e instanceof mh?P4(l,"updateDoc",r._key,e,t,n):R4(l,"updateDoc",r._key,e),bh(o,[u.toMutation(r._key,Gr.exists(!0))])}function ag(r){return bh(hn(r.firestore,_a),[new Dm(r._key,Gr.none())])}function ws(r,e){const t=hn(r.firestore,_a),n=ht(r),o=Ok(r.converter,e);return bh(t,[Sk(gh(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,Gr.exists(!1))]).then((()=>n))}function bh(r,e){return(function(n,o){const l=new fs;return n.asyncQueue.enqueueAndForget((async()=>h4(await _4(n),o,l))),l.promise})(Xm(r),e)}function F4(r,e,t){const n=t.docs.get(e._key),o=new Vk(r);return new oa(r,o,e._key,n,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(ya),fi(new ms("firestore",((n,{instanceIdentifier:o,options:l})=>{const u=n.getProvider("app").getImmediate(),f=new _a(new PI(n.getProvider("auth-internal")),new OI(u,n.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(g.options.projectId,v)})(u,o),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Wr(jy,Ey,e),Wr(jy,Ey,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebasestorage.googleapis.com",Uk="storageBucket",z4=120*1e3,B4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends pn{constructor(e,t,n=0){super(gp(e),`Firebase Storage: ${t} (${gp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function gp(r){return"storage/"+r}function og(){const r="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,r)}function $4(r){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function q4(r){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H4(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,r)}function W4(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G4(r){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function K4(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Q4(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function Y4(r){return new yt(gt.INVALID_URL,"Invalid URL '"+r+"'.")}function X4(r){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function J4(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Uk+"' property when initializing the app?")}function Z4(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eA(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tA(r){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xp(r){return new yt(gt.INVALID_ARGUMENT,r)}function Fk(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function rA(r){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ec(r,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Fl(r){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Dr.makeFromUrl(e,t)}catch{return new Dr(e,"")}if(n.path==="")return n;throw X4(e)}static makeFromUrl(e,t){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(P){P.path_=decodeURIComponent(P.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${v}/b/${o}/o${_}`,"i"),I={bucket:1,path:3},V=t===Mk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",L=new RegExp(`^https?://${V}/${o}/${E}`,"i"),$=[{regex:f,indices:p,postModify:l},{regex:C,indices:I,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let P=0;P<$.length;P++){const J=$[P],Y=J.regex.exec(e);if(Y){const D=Y[J.indices.bucket];let j=Y[J.indices.path];j||(j=""),n=new Dr(D,j),J.postModify(n);break}}if(n==null)throw Y4(e);return n}}class nA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r,e,t){let n=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function v(...E){g||(g=!0,e.apply(null,E))}function b(E){o=setTimeout(()=>{o=null,r(C,p())},E)}function _(){l&&clearTimeout(l)}function C(E,...L){if(g){_();return}if(E){_(),v.call(null,E,...L);return}if(p()||u){_(),v.call(null,E,...L);return}n<64&&(n*=2);let $;f===1?(f=2,$=0):$=(n+Math.random())*1e3,b($)}let I=!1;function V(E){I||(I=!0,_(),!g&&(o!==null?(E||(f=2),clearTimeout(o),b(0)):E||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,V(!0)},t),V}function iA(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){return r!==void 0}function oA(r){return typeof r=="object"&&!Array.isArray(r)}function lg(r){return typeof r=="string"||r instanceof String}function _v(r){return cg()&&r instanceof Blob}function cg(){return typeof Blob<"u"}function Nv(r,e,t,n){if(n<e)throw Xp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Xp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function zk(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var la;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,n,o,l,u,f,p,g,v,b,_=!0,C=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,V)=>{this.resolve_=I,this.reject_=V,this.start_()})}start_(){const e=(n,o)=>{if(o){n(!1,new nd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===la.NO_ERROR,p=l.getStatus();if(!f||lA(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===la.ABORT;n(!1,new nd(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;n(!0,new nd(g,l))})},t=(n,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());aA(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=og();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?Fk():Q4();u(p)}else{const p=K4();u(p)}};this.canceled_?t(!1,new nd(!1,null,!0)):this.backoffId_=sA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function uA(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function dA(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hA(r,e){e&&(r["X-Firebase-GMPID"]=e)}function fA(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function pA(r,e,t,n,o,l,u=!0,f=!1){const p=zk(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return hA(v,e),uA(v,t),dA(v,l),fA(v,n),new cA(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gA(...r){const e=mA();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(cg())return new Blob(r);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xA(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){if(typeof atob>"u")throw tA("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xp{constructor(e,t){this.data=e,this.contentType=t||null}}function vA(r,e){switch(r){case Ln.RAW:return new xp(Bk(e));case Ln.BASE64:case Ln.BASE64URL:return new xp($k(r,e));case Ln.DATA_URL:return new xp(bA(e),kA(e))}throw og()}function Bk(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=n,u=r.charCodeAt(++t);n=65536|(l&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function wA(r){let e;try{e=decodeURIComponent(r)}catch{throw ec(Ln.DATA_URL,"Malformed data URL.")}return Bk(e)}function $k(r,e){switch(r){case Ln.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw ec(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw ec(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yA(e)}catch(o){throw o.message.includes("polyfill")?o:ec(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}class qk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ec(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=_A(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function bA(r){const e=new qk(r);return e.base64?$k(Ln.BASE64,e.rest):wA(e.rest)}function kA(r){return new qk(r).contentType}function _A(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){let n=0,o="";_v(e)?(this.data_=e,n=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(_v(this.data_)){const n=this.data_,o=xA(n,e,t);return o===null?null:new oi(o)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new oi(n,!0)}}static getBlob(...e){if(cg()){const t=e.map(n=>n instanceof oi?n.data_:n);return new oi(gA.apply(null,t))}else{const t=e.map(u=>lg(u)?vA(Ln.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const o=new Uint8Array(n);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new oi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(r){let e;try{e=JSON.parse(r)}catch{return null}return oA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function jA(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function Wk(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,e){return e}class cr{constructor(e,t,n,o){this.server=e,this.local=t||e,this.writable=!!n,this.xform=o||EA}}let sd=null;function TA(r){return!lg(r)||r.length<2?r:Wk(r)}function Gk(){if(sd)return sd;const r=[];r.push(new cr("bucket")),r.push(new cr("generation")),r.push(new cr("metageneration")),r.push(new cr("name","fullPath",!0));function e(l,u){return TA(u)}const t=new cr("name");t.xform=e,r.push(t);function n(l,u){return u!==void 0?Number(u):u}const o=new cr("size");return o.xform=n,r.push(o),r.push(new cr("timeCreated")),r.push(new cr("updated")),r.push(new cr("md5Hash",null,!0)),r.push(new cr("cacheControl",null,!0)),r.push(new cr("contentDisposition",null,!0)),r.push(new cr("contentEncoding",null,!0)),r.push(new cr("contentLanguage",null,!0)),r.push(new cr("contentType",null,!0)),r.push(new cr("metadata","customMetadata",!0)),sd=r,sd}function IA(r,e){function t(){const n=r.bucket,o=r.fullPath,l=new Dr(n,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function SA(r,e,t){const n={};n.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];n[u.local]=u.xform(n,e[u.server])}return IA(n,r),n}function Kk(r,e,t){const n=Hk(e);return n===null?null:SA(r,n,t)}function CA(r,e,t,n){const o=Hk(e);if(o===null||!lg(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=r.bucket,b=r.fullPath,_="/b/"+u(v)+"/o/"+u(b),C=ug(_,t,n),I=zk({alt:"media",token:g});return C+I})[0]}function AA(r,e){const t={},n=e.length;for(let o=0;o<n;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class Qk{constructor(e,t,n,o){this.url=e,this.method=t,this.handler=n,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(r){if(!r)throw og()}function RA(r,e){function t(n,o){const l=Kk(r,o,e);return Yk(l!==null),l}return t}function PA(r,e){function t(n,o){const l=Kk(r,o,e);return Yk(l!==null),CA(l,o,r.host,r._protocol)}return t}function Xk(r){function e(t,n){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=W4():o=H4():t.getStatus()===402?o=q4(r.bucket):t.getStatus()===403?o=G4(r.path):o=n,o.status=t.getStatus(),o.serverResponse=n.serverResponse,o}return e}function DA(r){const e=Xk(r);function t(n,o){let l=e(n,o);return n.getStatus()===404&&(l=$4(r.path)),l.serverResponse=o.serverResponse,l}return t}function LA(r,e,t){const n=e.fullServerUrl(),o=ug(n,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,f=new Qk(o,l,PA(r,t),u);return f.errorHandler=DA(e),f}function OA(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function VA(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=OA(null,e)),n}function MA(r,e,t,n,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let $="";for(let P=0;P<2;P++)$=$+Math.random().toString().slice(2);return $}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=VA(e,n,o),v=AA(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,_=`\r
--`+p+"--",C=oi.getBlob(b,n,_);if(C===null)throw Z4();const I={name:g.fullPath},V=ug(l,r.host,r._protocol),E="POST",L=r.maxUploadRetryTime,O=new Qk(V,E,RA(r,t),L);return O.urlParams=I,O.headers=u,O.body=C.uploadData(),O.errorHandler=Xk(e),O}class UA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,o,l){if(this.sent_)throw Fl("cannot .send() more than once");if($n(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class FA extends UA{initXhr(){this.xhr_.responseType="text"}}function Jk(){return new FA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this._service=e,t instanceof Dr?this._location=t:this._location=Dr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ga(e,t)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wk(this._location.path)}get storage(){return this._service}get parent(){const e=NA(this._location.path);if(e===null)return null;const t=new Dr(this._location.bucket,e);return new ga(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rA(e)}}function zA(r,e,t){r._throwIfRoot("uploadBytes");const n=MA(r.storage,r._location,Gk(),new oi(e,!0),t);return r.storage.makeRequestWithTokens(n,Jk).then(o=>({metadata:o,ref:r}))}function BA(r){r._throwIfRoot("getDownloadURL");const e=LA(r.storage,r._location,Gk());return r.storage.makeRequestWithTokens(e,Jk).then(t=>{if(t===null)throw eA();return t})}function $A(r,e){const t=jA(r._location.path,e),n=new Dr(r._location.bucket,t);return new ga(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){return/^[A-Za-z]+:\/\//.test(r)}function HA(r,e){return new ga(r,e)}function Zk(r,e){if(r instanceof dg){const t=r;if(t._bucket==null)throw J4();const n=new ga(t,t._bucket);return e!=null?Zk(n,e):n}else return e!==void 0?$A(r,e):r}function WA(r,e){if(e&&qA(e)){if(r instanceof dg)return HA(r,e);throw Xp("To use ref(service, url), the first argument must be a Storage instance.")}else return Zk(r,e)}function jv(r,e){const t=e?.[Uk];return t==null?null:Dr.makeFromBucketSpec(t,r)}function GA(r,e,t,n={}){r.host=`${e}:${t}`;const o=$n(e);o&&(Yd(`https://${r.host}/b`),Xd("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:yw(l,r.app.options.projectId))}class dg{constructor(e,t,n,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=Mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z4,this._maxUploadRetryTime=B4,this._requests=new Set,o!=null?this._bucket=Dr.makeFromBucketSpec(o,this._host):this._bucket=jv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=jv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,t,n,o,l=!0){if(this._deleted)return new nA(Fk());{const u=pA(e,this._appId,n,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()}}const Ev="@firebase/storage",Tv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="storage";function hg(r,e,t){return r=ot(r),zA(r,e,t)}function fg(r){return r=ot(r),BA(r)}function pg(r,e){return r=ot(r),WA(r,e)}function KA(r=Jd(),e){r=ot(r);const n=bc(r,e_).getImmediate({identifier:e}),o=pm("storage");return o&&QA(n,...o),n}function QA(r,e,t,n={}){GA(r,e,t,n)}function YA(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new dg(t,n,o,e,ya)}function XA(){fi(new ms(e_,YA,"PUBLIC").setMultipleInstances(!0)),Wr(Ev,Tv,""),Wr(Ev,Tv,"esm2020")}XA();const JA={apiKey:"AIzaSyCI5qUXSrau6XMBNMyHnUtgyGFS3rfJknU",authDomain:"notzy-83166.firebaseapp.com",projectId:"notzy-83166",storageBucket:"notzy-83166.firebasestorage.app",messagingSenderId:"471992545792",appId:"1:471992545792:web:e6e7712f07facc9bda1ee5",measurementId:"G-CL4XNKKH8X"},mg=bw(JA),id=TI(mg),Or=T4(mg),gg=KA(mg),Ii=Qr(Or,"users"),bs=Qr(Or,"notes"),xg=Qr(Or,"purchases"),Co=Qr(Or,"bookmarks"),kh=Qr(Or,"reviews"),Ao=Qr(Or,"payouts"),Rc=Qr(Or,"noteRequests"),yg=Qr(Or,"freePYQs"),Jp=ht(Or,"settings","platform");async function ZA(r,e){await ig(ht(Ii,r),{name:e.name,email:e.email,avatarUrl:e.avatarUrl||"",totalEarnings:0,createdAt:be.now()})}async function yp(r){const e=await wh(ht(Ii,r));if(!e.exists())return null;const t=e.data(),n=await r_(r);return{id:r,name:t.name,email:t.email,avatarUrl:t.avatarUrl||"",bio:t.bio||"",totalEarnings:t.totalEarnings||0,uploadedNotes:n,isAdmin:t.isAdmin||!1,isVerified:t.isVerified||!1,isBlocked:t.isBlocked||!1}}async function Iv(r,e){await _r(ht(Ii,r),e)}async function vg(){const r=Et(bs,Ns("uploadDate","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,title:n.title,description:n.description,category:n.category,price:n.price,rating:n.rating||0,reviewCount:n.reviewCount||0,salesCount:n.salesCount||0,previewPages:n.previewPages||[],thumbnailUrl:n.thumbnailUrl||"",pdfUrls:n.pdfUrls||[],uploaderId:n.uploaderId,uploaderName:n.uploaderName,uploadDate:n.uploadDate instanceof be?n.uploadDate.toDate().toISOString().split("T")[0]:n.uploadDate}})}async function t_(r){const e=await wh(ht(bs,r));if(!e.exists())return null;const t=e.data();return{id:e.id,title:t.title,description:t.description,category:t.category,price:t.price,rating:t.rating||0,reviewCount:t.reviewCount||0,salesCount:t.salesCount||0,previewPages:t.previewPages||[],thumbnailUrl:t.thumbnailUrl||"",pdfUrls:t.pdfUrls||[],uploaderId:t.uploaderId,uploaderName:t.uploaderName,uploadDate:t.uploadDate instanceof be?t.uploadDate.toDate().toISOString().split("T")[0]:t.uploadDate}}async function eR(r){return(await ws(bs,{...r,rating:0,reviewCount:0,salesCount:0,uploadDate:be.now()})).id}async function r_(r){const e=Et(bs,Pt("uploaderId","==",r));return(await xt(e)).docs.map(n=>{const o=n.data();return{id:n.id,title:o.title,description:o.description,category:o.category,price:o.price,rating:o.rating||0,reviewCount:o.reviewCount||0,salesCount:o.salesCount||0,previewPages:o.previewPages||[],thumbnailUrl:o.thumbnailUrl||"",pdfUrls:o.pdfUrls||[],uploaderId:o.uploaderId,uploaderName:o.uploaderName,uploadDate:o.uploadDate instanceof be?o.uploadDate.toDate().toISOString().split("T")[0]:o.uploadDate}})}async function tR(r){const e=Et(xg,Pt("userId","==",r)),n=(await xt(e)).docs.map(l=>l.data().noteId);if(n.length===0)return[];const o=[];for(const l of n){const u=await t_(l);u&&o.push(u)}return o}async function n_(r,e){const t=Et(xg,Pt("userId","==",r),Pt("noteId","==",e));return!(await xt(t)).empty}async function rR(r){const e=Et(Co,Pt("userId","==",r)),n=(await xt(e)).docs.map(l=>l.data().noteId);if(n.length===0)return[];const o=[];for(const l of n){const u=await t_(l);u&&o.push(u)}return o}async function nR(r,e){const t=Et(Co,Pt("userId","==",r),Pt("noteId","==",e));(await xt(t)).empty&&await ws(Co,{userId:r,noteId:e,createdAt:be.now()})}async function sR(r,e){const t=Et(Co,Pt("userId","==",r),Pt("noteId","==",e)),n=await xt(t);for(const o of n.docs)await ag(ht(Co,o.id))}async function iR(r){const e=Et(Co,Pt("userId","==",r));return(await xt(e)).docs.map(n=>n.data().noteId)}async function aR(r){const e=Et(xg,Pt("userId","==",r));return(await xt(e)).docs.map(n=>n.data().noteId)}async function oR(r){const e=Et(kh,Pt("noteId","==",r),Ns("date","desc"));return(await xt(e)).docs.map(n=>{const o=n.data();return{id:n.id,noteId:o.noteId,userId:o.userId,userName:o.userName,rating:o.rating,comment:o.comment,date:o.date instanceof be?o.date.toDate().toISOString().split("T")[0]:o.date}})}async function s_(r,e){const t=Et(kh,Pt("userId","==",r),Pt("noteId","==",e));return!(await xt(t)).empty}async function lR(r){if(await s_(r.userId,r.noteId))throw new Error("You have already reviewed this note");if(!await n_(r.userId,r.noteId))throw new Error("You must purchase this note before reviewing");await ws(kh,{...r,date:be.now()}),await cR(r.noteId)}async function cR(r){const e=Et(kh,Pt("noteId","==",r)),t=await xt(e);if(t.empty){await _r(ht(bs,r),{rating:0,reviewCount:0});return}let n=0;t.docs.forEach(l=>{n+=l.data().rating});const o=Math.round(n/t.docs.length*10)/10;await _r(ht(bs,r),{rating:o,reviewCount:t.docs.length})}const Pc=Qr(Or,"supportChats");async function wg(){const r=await xt(Ii),e=[];for(const t of r.docs){const n=t.data(),o=await r_(t.id);e.push({id:t.id,name:n.name,email:n.email,avatarUrl:n.avatarUrl||"",totalEarnings:n.totalEarnings||0,uploadedNotes:o,isAdmin:n.isAdmin||!1,isVerified:n.isVerified||!1,isBlocked:n.isBlocked||!1})}return e}async function uR(r,e){await _r(ht(Ii,r),{isVerified:e})}async function dR(r,e){await _r(ht(Ii,r),{isBlocked:e})}async function hR(r,e){await _r(ht(bs,r),{isTopSelling:e})}async function fR(r,e){await _r(ht(bs,r),{isVerified:e})}async function pR(r){await ag(ht(bs,r))}async function mR(r,e,t,n){const o=await ws(Pc,{userId:r,userName:e,userEmail:t,status:"open",createdAt:be.now(),lastMessage:n,lastMessageAt:be.now()}),l=Qr(Or,"supportChats",o.id,"messages");return await ws(l,{senderId:r,senderName:e,isAdmin:!1,text:n,timestamp:be.now()}),o.id}async function i_(r,e,t,n,o){const l=Qr(Or,"supportChats",r,"messages");await ws(l,{senderId:e,senderName:t,isAdmin:n,text:o,timestamp:be.now()}),await _r(ht(Pc,r),{lastMessage:o,lastMessageAt:be.now()})}async function a_(r){const e=Qr(Or,"supportChats",r,"messages"),t=Et(e,Ns("timestamp","asc"));return(await xt(t)).docs.map(o=>{const l=o.data();return{id:o.id,senderId:l.senderId,senderName:l.senderName,isAdmin:l.isAdmin,text:l.text,timestamp:l.timestamp instanceof be?l.timestamp.toDate().toISOString():l.timestamp}})}async function gR(r){const e=Et(Pc,Pt("userId","==",r));return(await xt(e)).docs.map(o=>{const l=o.data();return{id:o.id,userId:l.userId,userName:l.userName,userEmail:l.userEmail,status:l.status,createdAt:l.createdAt instanceof be?l.createdAt.toDate().toISOString():l.createdAt,lastMessage:l.lastMessage,lastMessageAt:l.lastMessageAt instanceof be?l.lastMessageAt.toDate().toISOString():l.lastMessageAt}}).sort((o,l)=>new Date(l.lastMessageAt).getTime()-new Date(o.lastMessageAt).getTime())}async function xR(){const r=Et(Pc,Ns("lastMessageAt","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,status:n.status,createdAt:n.createdAt instanceof be?n.createdAt.toDate().toISOString():n.createdAt,lastMessage:n.lastMessage,lastMessageAt:n.lastMessageAt instanceof be?n.lastMessageAt.toDate().toISOString():n.lastMessageAt}})}async function yR(r,e){await _r(ht(Pc,r),{status:e})}async function bg(){const r=await wh(Jp);return r.exists()?r.data().platformFee||30:(await ig(Jp,{platformFee:30}),30)}async function vR(r){await ig(Jp,{platformFee:r},{merge:!0})}async function wR(r,e,t,n,o){const l=await bg(),u=o*(1-l/100),f=await ws(Ao,{userId:r,userName:e,userEmail:t,upiId:n,grossAmount:o,platformFee:l,netAmount:u,status:"pending",requestedAt:be.now()});return await _r(ht(Ii,r),{pendingPayout:!0}),f.id}async function bR(){const r=Et(Ao,Pt("status","==","pending"),Ns("requestedAt","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,upiId:n.upiId,grossAmount:n.grossAmount,platformFee:n.platformFee,netAmount:n.netAmount,status:n.status,requestedAt:n.requestedAt instanceof be?n.requestedAt.toDate().toISOString():n.requestedAt}})}async function kR(){const r=Et(Ao,Ns("requestedAt","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,upiId:n.upiId,grossAmount:n.grossAmount,platformFee:n.platformFee,netAmount:n.netAmount,status:n.status,requestedAt:n.requestedAt instanceof be?n.requestedAt.toDate().toISOString():n.requestedAt,completedAt:n.completedAt instanceof be?n.completedAt.toDate().toISOString():n.completedAt}})}async function _R(r){const e=await wh(ht(Ao,r));if(!e.exists())throw new Error("Payout request not found");const n=e.data().userId;await _r(ht(Ao,r),{status:"completed",completedAt:be.now()}),await _r(ht(Ii,n),{totalEarnings:0,pendingPayout:!1})}async function Sv(r){const e=Et(Ao,Pt("userId","==",r),Pt("status","==","pending")),t=await xt(e);if(t.empty)return null;const n=t.docs[0],o=n.data();return{id:n.id,userId:o.userId,userName:o.userName,userEmail:o.userEmail,upiId:o.upiId,grossAmount:o.grossAmount,platformFee:o.platformFee,netAmount:o.netAmount,status:o.status,requestedAt:o.requestedAt instanceof be?o.requestedAt.toDate().toISOString():o.requestedAt}}async function NR(r,e,t,n,o,l){return(await ws(Rc,{userId:r,userName:e,userEmail:t,title:n,description:o,category:l,status:"pending",createdAt:be.now()})).id}async function jR(r){const e=Et(Rc,Pt("userId","==",r),Ns("createdAt","desc"));return(await xt(e)).docs.map(n=>{const o=n.data();return{id:n.id,userId:o.userId,userName:o.userName,userEmail:o.userEmail,title:o.title,description:o.description,category:o.category,status:o.status,createdAt:o.createdAt instanceof be?o.createdAt.toDate().toISOString():o.createdAt,response:o.response,responseLink:o.responseLink,respondedAt:o.respondedAt instanceof be?o.respondedAt.toDate().toISOString():o.respondedAt}})}async function ER(){const r=Et(Rc,Ns("createdAt","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,title:n.title,description:n.description,category:n.category,status:n.status,createdAt:n.createdAt instanceof be?n.createdAt.toDate().toISOString():n.createdAt,response:n.response,responseLink:n.responseLink,respondedAt:n.respondedAt instanceof be?n.respondedAt.toDate().toISOString():n.respondedAt}})}async function TR(r,e,t){await _r(ht(Rc,r),{status:"responded",response:e,responseLink:t||null,respondedAt:be.now()})}async function IR(r){await _r(ht(Rc,r),{status:"closed"})}async function SR(r,e,t,n){return(await ws(yg,{courseCode:r,courseName:e,driveLink:t,addedAt:be.now(),addedBy:n})).id}async function o_(){const r=Et(yg,Ns("addedAt","desc"));return(await xt(r)).docs.map(t=>{const n=t.data();return{id:t.id,courseCode:n.courseCode,courseName:n.courseName,driveLink:n.driveLink,addedAt:n.addedAt instanceof be?n.addedAt.toDate().toISOString():n.addedAt,addedBy:n.addedBy}})}async function CR(r){await ag(ht(yg,r))}const l_=T.createContext(void 0);function AR({children:r}){const[e,t]=T.useState(null),[n,o]=T.useState(null),[l,u]=T.useState(!0),[f,p]=T.useState(!1);T.useEffect(()=>{const V=mT(id,async E=>{if(t(E),E){p(!1);const L=await yp(E.uid);o(L)}else o(null);u(!1)});return()=>V()},[]);const g=async()=>{if(e){const V=await yp(e.uid);o(V)}},v=()=>{p(!0)},b=()=>{p(!1)},_=async(V,E)=>{try{return await hT(id,V,E),p(!1),{success:!0}}catch(L){let O="Failed to sign in";return L.code==="auth/user-not-found"?O="No account found with this email":L.code==="auth/wrong-password"?O="Incorrect password":L.code==="auth/invalid-email"?O="Invalid email address":L.code==="auth/invalid-credential"&&(O="Invalid email or password"),{success:!1,error:O}}},C=async(V,E,L)=>{try{const O=await dT(id,E,L);await ZA(O.user.uid,{name:V,email:E});const $=await yp(O.user.uid);return o($),p(!1),{success:!0}}catch(O){let $="Failed to create account";return O.code==="auth/email-already-in-use"?$="An account with this email already exists":O.code==="auth/weak-password"?$="Password should be at least 6 characters":O.code==="auth/invalid-email"&&($="Invalid email address"),{success:!1,error:$}}},I=async()=>{await gT(id),t(null),o(null),p(!1)};return i.jsx(l_.Provider,{value:{user:e,userProfile:n,isAuthenticated:!!e,isGuest:f,isLoading:l,login:_,signup:C,logout:I,refreshUserProfile:g,enterGuestMode:v,exitGuestMode:b},children:r})}function hr(){const r=T.useContext(l_);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Cv=r=>{const e=PR(r);return e.charAt(0).toUpperCase()+e.slice(1)},c_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=T.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...f},p)=>T.createElement("svg",{ref:p,...DR,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:c_("lucide",o),...f},[...u.map(([g,v])=>T.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(r,e)=>{const t=T.forwardRef(({className:n,...o},l)=>T.createElement(LR,{ref:l,iconNode:e,className:c_(`lucide-${RR(Cv(r))}`,`lucide-${r}`,n),...o}));return t.displayName=Cv(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jt=we("arrow-left",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],ad=we("ban",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UR=we("bell",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ca=we("book-open",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],hc=we("bookmark",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$R=we("calendar",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],HR=we("camera",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zp=we("chevron-left",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],em=we("chevron-right",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u_=we("circle-alert",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_t=we("circle-check-big",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Av=we("circle-x",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wi=we("clock",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ln=we("download",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_h=we("external-link",ZR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],d_=we("eye-off",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nh=we("eye",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],h_=we("file-check",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],aa=we("file-question",nP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dr=we("file-text",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],tm=we("file",iP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rm=we("graduation-cap",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],vp=we("house",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cP=we("image",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],ur=we("indian-rupee",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hP=we("info",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],pP=we("library",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],f_=we("link",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],p_=we("log-in",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zd=we("log-out",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ro=we("mail",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],m_=we("menu",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Lr=we("message-square",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],bi=we("moon",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g_=we("plus",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NP=we("save",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ki=we("search",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fc=we("send",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nm=we("settings",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sm=we("shield-check",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cn=we("shield",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],AP=we("shopping-bag",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],PP=we("shopping-cart",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],LP=we("square-pen",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ua=we("star",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_i=we("sun",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],UP=we("tag",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],x_=we("trash-2",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Bd=we("trending-up",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],jh=we("truck",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ir=we("upload",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HP=we("user-plus",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ks=we("user",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pc=we("users",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],im=we("wallet",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],js=we("x",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],XP=we("zoom-in",YP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZP=we("zoom-out",JP);function e6({currentPage:r,onNavigate:e,onLoginRequest:t}){const[n,o]=T.useState(!1),{isDark:l,toggleTheme:u}=yc(),{userProfile:f,logout:p,isGuest:g,exitGuestMode:v}=hr(),b=f?.isAdmin||!1,_=["downloads","bookmarks","my-requests","earnings","profile","upload","support","settings"],C=[{id:"home",label:"Home",icon:vp},{id:"downloads",label:"Downloads",icon:ln},{id:"bookmarks",label:"Bookmarks",icon:hc},{id:"my-requests",label:"My Requests",icon:aa},{id:"earnings",label:"Earnings",icon:ur},{id:"profile",label:"My Profile",icon:ks},{id:"upload",label:"Upload Notes",icon:ir},{id:"support",label:"Support",icon:Lr},{id:"settings",label:"Settings",icon:nm}],I=g?C.filter(P=>!_.includes(P.id)):C,E=b&&!g?[{id:"admin",label:"Dashboard",icon:cn},{id:"admin-users",label:"Manage Users",icon:pc},{id:"admin-pyqs",label:"Free PYQs",icon:ca},{id:"admin-payouts",label:"Payouts",icon:im},{id:"admin-requests",label:"Note Requests",icon:aa},{id:"admin-earnings",label:"User Earnings",icon:ur},{id:"admin-notes",label:"Manage Notes",icon:dr},{id:"admin-chats",label:"Support Chats",icon:Lr}]:I,L=b&&!g?[{id:"admin",label:"Dashboard",icon:cn},{id:"admin-users",label:"Users",icon:pc},{id:"admin-notes",label:"Notes",icon:dr},{id:"admin-chats",label:"Chats",icon:Lr}]:g?[{id:"home",label:"Home",icon:vp}]:[{id:"home",label:"Home",icon:vp},{id:"downloads",label:"Downloads",icon:ln},{id:"upload",label:"Upload",icon:ir},{id:"earnings",label:"Earnings",icon:ur},{id:"profile",label:"Profile",icon:ks}],O=b&&!g?[{id:"admin-payouts",label:"Payouts",icon:im},{id:"admin-requests",label:"Note Requests",icon:aa},{id:"admin-earnings",label:"User Earnings",icon:ur}]:g?[]:[{id:"my-requests",label:"My Requests",icon:aa},{id:"bookmarks",label:"Bookmarks",icon:hc},{id:"support",label:"Support",icon:Lr},{id:"settings",label:"Settings",icon:nm}],$=()=>{p()};return i.jsxs(i.Fragment,{children:[i.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 h-screen w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50 isolate",style:{backgroundColor:"var(--sidebar-bg, #ffffff)"},children:[i.jsx("style",{children:".dark aside { --sidebar-bg: #0f172a !important; }"}),i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 ${b?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-xl flex items-center justify-center shadow-lg`,children:b?i.jsx(cn,{className:"w-6 h-6 text-white"}):i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:b?"Admin Panel":"Notezy"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:b?"Management Console":"Knowledge Marketplace"})]})]})}),i.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:E.map(P=>{const J=P.icon,Y=r===P.id;return i.jsxs("button",{onClick:()=>e(P.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${Y?"text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,style:Y?{backgroundColor:b?"#db2777":"#2563eb"}:{},children:[i.jsx(J,{className:"w-5 h-5"}),i.jsx("span",{children:P.label})]},P.id)})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 space-y-1",children:[i.jsx("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:l?i.jsxs(i.Fragment,{children:[i.jsx(_i,{className:"w-5 h-5"}),i.jsx("span",{children:"Light Mode"})]}):i.jsxs(i.Fragment,{children:[i.jsx(bi,{className:"w-5 h-5"}),i.jsx("span",{children:"Dark Mode"})]})}),g?i.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[i.jsx(p_,{className:"w-5 h-5"}),i.jsx("span",{children:"Login / Sign Up"})]}):b&&i.jsxs("button",{onClick:$,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(zd,{className:"w-5 h-5"}),i.jsx("span",{children:"Logout"})]})]})]}),i.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 ${b?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-lg flex items-center justify-center`,children:b?i.jsx(cn,{className:"w-5 h-5 text-white"}):i.jsx(ir,{className:"w-5 h-5 text-white"})}),i.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:b?"Admin":"Notezy"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:l?i.jsx(_i,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"}):i.jsx(bi,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"})}),b&&i.jsx("button",{onClick:$,className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:i.jsx(zd,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),O.length>0&&i.jsx("button",{onClick:()=>o(!n),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:n?i.jsx(js,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"}):i.jsx(m_,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"})})]})]})}),n&&O.length>0&&i.jsx("div",{className:"lg:hidden fixed left-0 right-0 z-40 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-lg",style:{top:"56px"},children:i.jsx("nav",{className:"p-2",children:O.map(P=>{const J=P.icon,Y=r===P.id;return i.jsxs("button",{onClick:()=>{e(P.id),o(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${Y?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[i.jsx(J,{className:"w-5 h-5"}),i.jsx("span",{children:P.label})]},P.id)})})}),i.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t border-gray-200 dark:border-slate-700",children:i.jsx("div",{className:"flex justify-around items-center h-16",children:L.map(P=>{const J=P.icon,Y=r===P.id;return i.jsxs("button",{onClick:()=>e(P.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${Y?b?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-slate-400"}`,children:[i.jsx(J,{className:"w-5 h-5"}),i.jsx("span",{className:"text-[10px] mt-1",children:P.label})]},P.id)})})})]})}function t6({searchQuery:r,onSearchChange:e,showSearch:t=!0}){const{userProfile:n}=hr();return i.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 lg:ml-64",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 lg:px-8 py-4",children:[t&&i.jsx("div",{className:"flex-1 max-w-2xl",children:i.jsxs("div",{className:"relative",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:r,onChange:o=>e(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),i.jsxs("div",{className:"hidden lg:flex items-center gap-3 ml-auto",children:[i.jsxs("button",{className:"relative p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx(UR,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"})]}),i.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:n?.name||"User"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n?.uploadedNotes&&n.uploadedNotes.length>0?"Seller":"Member"})]}),i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ks,{className:"w-5 h-5 text-white"})})]})]})]})})}function kg({note:r,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,isBookmarked:l=!1,isPurchased:u=!1}){return i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all border border-gray-200 dark:border-slate-800 group",children:[i.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-slate-800 cursor-pointer overflow-hidden",onClick:()=>e(r),children:[i.jsx("img",{src:r.thumbnailUrl,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center",children:i.jsx(Nh,{className:"w-12 h-12 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform"})}),i.jsx("div",{className:"absolute top-3 right-3",children:t&&i.jsx("button",{onClick:f=>{f.stopPropagation(),t(r.id)},className:`p-2.5 rounded-xl ${l?"bg-yellow-500 text-white shadow-lg":"bg-white/90 dark:bg-slate-900/90 text-gray-700 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-900 backdrop-blur-sm"} transition-all`,children:i.jsx(hc,{className:`w-4 h-4 ${l?"fill-current":""}`})})})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white line-clamp-2 flex-1",children:r.title}),i.jsxs("span",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent whitespace-nowrap",children:["",r.price]})]}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:r.description}),i.jsxs("div",{className:"flex items-center gap-3 mb-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ua,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:r.rating})]}),i.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["(",r.reviewCount,")"]}),i.jsx("span",{className:"text-gray-400 dark:text-slate-600",children:""}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[r.salesCount," sales"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:["by ",r.uploaderName]}),!u&&n&&i.jsxs("button",{onClick:()=>n(r.id),className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(PP,{className:"w-4 h-4"}),"Purchase Now"]}),u&&i.jsxs("button",{onClick:()=>o?o(r.id):e(r),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(dr,{className:"w-4 h-4"}),"View Notes"]})]})]})}function r6({notes:r,freePYQs:e,onPreview:t,onBookmark:n,onPurchase:o,onViewNotes:l,bookmarkedIds:u,purchasedIds:f,searchQuery:p,onSearchChange:g}){const[v,b]=T.useState(null),_=[{id:"assignment",label:"Assignments",icon:dr,color:"from-blue-500 to-blue-600"},{id:"pyq",label:"PYQ Papers",icon:ca,color:"from-green-500 to-green-600"},{id:"lecture-notes",label:"Lecture Notes",icon:pP,color:"from-purple-500 to-purple-600"}],C=r.filter(L=>{const O=L.title.toLowerCase().includes(p.toLowerCase())||L.description.toLowerCase().includes(p.toLowerCase()),$=!v||v==="pyq"||L.category===v;return O&&$}),I=e.filter(L=>L.courseCode.toLowerCase().includes(p.toLowerCase())||L.courseName.toLowerCase().includes(p.toLowerCase())),V=[...r].sort((L,O)=>O.salesCount-L.salesCount).slice(0,8),E=v==="pyq";return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[g&&i.jsx("div",{className:"lg:hidden mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-500"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:p,onChange:L=>g(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:_.map(L=>{const O=L.icon,$=v===L.id,P=L.id==="pyq"?e.length:r.filter(J=>J.category===L.id).length;return i.jsxs("button",{onClick:()=>b($?null:L.id),className:`bg-gradient-to-br ${L.color} ${$?"ring-4 ring-offset-2 dark:ring-offset-gray-950 ring-gray-400 dark:ring-gray-600":""} text-white p-6 rounded-2xl hover:shadow-2xl transition-all flex items-center gap-4 shadow-lg`,children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl backdrop-blur-sm",children:i.jsx(O,{className:"w-8 h-8"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-white",children:L.label}),i.jsxs("div",{className:"text-white text-opacity-90 text-sm",children:[P," ",L.id==="pyq"?"free papers":"items"]})]})]},L.id)})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-gray-900 dark:text-white mb-6",children:v?`${_.find(L=>L.id===v)?.label}${E?" (Free)":""}`:"Top Purchased Notes"}),E?I.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(L=>i.jsxs("a",{href:L.driveLink,target:"_blank",rel:"noopener noreferrer",className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 p-6 hover:shadow-xl hover:border-green-300 dark:hover:border-green-700 transition-all group",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-3 rounded-xl",children:i.jsx(ca,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs px-2 py-1 rounded-lg font-medium",children:"FREE"})]}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-1 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:L.courseCode}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:L.courseName}),i.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium",children:[i.jsx(_h,{className:"w-4 h-4"}),"Open in Google Drive"]})]},L.id))}):i.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No PYQ papers available yet"})]}):C.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(v?C:V).map(L=>i.jsx(kg,{note:L,onPreview:t,onBookmark:n,onPurchase:o,onViewNotes:l,isBookmarked:u.includes(L.id),isPurchased:f.includes(L.id)},L.id))}):i.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(ki,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No notes found matching your search"})]})]})]})})}function n6({purchasedNotes:r}){const e=(n,o)=>{window.open(n,"_blank")},t=n=>{n.pdfUrls&&n.pdfUrls.length>0&&n.pdfUrls.forEach((o,l)=>{setTimeout(()=>{window.open(o,"_blank")},l*500)})};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ln,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Downloads"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Download your purchased notes"})]})]}),r.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-xl p-4 mb-6",children:i.jsxs("p",{className:"text-blue-900 dark:text-blue-200",children:["You have purchased ",r.length," notes"]})}),i.jsx("div",{className:"space-y-4",children:r.map(n=>i.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-lg",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(dr,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-1",children:n.title}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2",children:n.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-slate-500",children:[i.jsx("span",{className:"capitalize",children:n.category}),i.jsx("span",{children:""}),i.jsxs("span",{children:["By ",n.uploaderName]}),n.pdfUrls&&n.pdfUrls.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[n.pdfUrls.length," PDF file(s)"]})]})]})]}),i.jsx("div",{className:"px-3 py-1 bg-green-500 text-white text-xs rounded-full flex-shrink-0",children:"Purchased"})]}),n.pdfUrls&&n.pdfUrls.length>0?i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[n.pdfUrls.length," PDF file(s) available"]}),n.pdfUrls.length>1&&i.jsxs("button",{onClick:()=>t(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm rounded-lg hover:shadow-lg transition-all",children:[i.jsx(ln,{className:"w-4 h-4"}),"Download All"]})]}),i.jsx("div",{className:"space-y-2",children:n.pdfUrls.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(tm,{className:"w-5 h-5 text-red-500"}),i.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[n.title," - File ",l+1,".pdf"]})]}),i.jsxs("button",{onClick:()=>e(o,`${n.title}_${l+1}.pdf`),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:[i.jsx(ln,{className:"w-4 h-4"}),"Download"]})]},l))})]}):i.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4 text-center",children:i.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No PDF files available for this note"})})]})},n.id))})]}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(ln,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Downloads Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Purchase some notes to see them here"})]})]})})}function s6({bookmarkedNotes:r,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,purchasedIds:l}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(hc,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Bookmarks"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Your saved notes collection"})]})]}),r.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-xl p-4 mb-6",children:i.jsxs("p",{className:"text-yellow-900 dark:text-yellow-200",children:["You have ",r.length," bookmarked notes"]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>i.jsx(kg,{note:u,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,isBookmarked:!0,isPurchased:l.includes(u.id)},u.id))})]}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(hc,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Bookmarks Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Bookmark notes to save them for later"})]})]})})}function i6({totalEarnings:r,uploadedNotes:e}){const{user:t,userProfile:n}=hr(),[o,l]=T.useState(!1),[u,f]=T.useState(""),[p,g]=T.useState(30),[v,b]=T.useState(null),[_,C]=T.useState(!1),[I,V]=T.useState(""),E=e.reduce((P,J)=>P+J.salesCount,0),L=e.map(P=>({...P,earnings:P.price*P.salesCount})).sort((P,J)=>J.earnings-P.earnings),O=r*(1-p/100);T.useEffect(()=>{async function P(){try{const J=await bg();if(g(J),t?.uid){const Y=await Sv(t.uid);b(Y)}}catch(J){console.error("Error loading payout data:",J)}}P()},[t?.uid]);async function $(P){if(P.preventDefault(),!t||!n||!u.trim())return;if(!/^[\w.-]+@[\w]+$/.test(u.trim())){V("Invalid UPI ID format (e.g., name@upi)");return}C(!0),V("");try{await wR(t.uid,n.name,n.email,u.trim(),r);const Y=await Sv(t.uid);b(Y),l(!1),f("")}catch(Y){V(Y.message||"Failed to submit request")}finally{C(!1)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(ur,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Earnings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track your sales performance"})]})]}),v&&i.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-2xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Payout Request Pending"}),i.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:["",v.netAmount.toFixed(2)," will be sent to ",v.upiId]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ur,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Available Balance"})]}),i.jsxs("div",{className:"text-white text-3xl",children:["",r.toFixed(2)]}),i.jsxs("div",{className:"text-white text-opacity-75 text-sm mt-1",children:["You'll receive ",O.toFixed(2)," (",100-p,"% after ",p,"% platform fee)"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(AP,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),i.jsx("div",{className:"text-white text-3xl",children:E}),i.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Notes sold"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(dr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Active Listings"})]}),i.jsx("div",{className:"text-white text-3xl",children:e.length}),i.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Available for sale"})]})]}),r>0&&!v&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl font-medium text-lg shadow-xl hover:shadow-2xl transition-all flex items-center justify-center gap-3",children:[i.jsx(im,{className:"w-6 h-6"}),"Redeem ",O.toFixed(2)," to UPI"]}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:["Platform fee: ",p,"%  You'll receive ",100-p,"% of your earnings"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:i.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Earnings Breakdown"})}),L.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note Title"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Rating"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Earnings"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:L.map(P=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:P.title}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",P.price]}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:P.salesCount}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:P.rating}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["(",P.reviewCount,")"]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["",P.earnings.toFixed(2)]})})]},P.id))})]})}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(Bd,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("p",{children:"No earnings yet. Start uploading notes to earn!"})]})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Redeem Earnings"}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(js,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-xl mb-6 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Earnings"}),i.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:["",r.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Platform Fee (",p,"%)"]}),i.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",(r*p/100).toFixed(2)]})]}),i.jsx("div",{className:"border-t border-green-200 dark:border-green-700 pt-2 mt-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-green-700 dark:text-green-400 font-medium",children:"You'll Receive"}),i.jsxs("span",{className:"text-green-700 dark:text-green-400 font-bold text-xl",children:["",O.toFixed(2)]})]})})]}),i.jsxs("form",{onSubmit:$,children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Your UPI ID"}),i.jsx("input",{type:"text",value:u,onChange:P=>f(P.target.value),placeholder:"yourname@upi",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",required:!0}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:"Enter your UPI ID (e.g., name@paytm, name@gpay, 9876543210@ybl)"})]}),I&&i.jsx("div",{className:"mb-4 text-red-600 dark:text-red-400 text-sm",children:I}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:_||!u.trim(),className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50",children:_?"Submitting...":"Submit Request"})]})]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs text-center mt-4",children:"Admin will manually process your payout within 24-48 hours"})]})})]})}async function a6(r,e,t){const n=r.name.split(".").pop()||"jpg",o=`notes/${e}/preview_${t}.${n}`,l=pg(gg,o);return await hg(l,r),await fg(l)}async function o6(r,e){const t=r.name.split(".").pop()||"pdf",n=`notes/${e}/document.${t}`,o=pg(gg,n);return await hg(o,r),await fg(o)}async function l6(r,e){const t=r.name.split(".").pop()||"jpg",n=`avatars/${e}/avatar.${t}`,o=pg(gg,n);return await hg(o,r),await fg(o)}function c6({user:r,onPreview:e}){const{user:t,refreshUserProfile:n}=hr(),[o,l]=T.useState(!1),[u,f]=T.useState(r.name),[p,g]=T.useState(r.email),[v,b]=T.useState(r.bio||""),[_,C]=T.useState(r.avatarUrl),[I,V]=T.useState(!1),E=T.useRef(null),L=async()=>{if(t)try{await Iv(t.uid,{name:u,avatarUrl:_,bio:v}),n&&await n(),l(!1)}catch(P){console.error("Error updating profile:",P)}},O=()=>{E.current?.click()},$=async P=>{if(!P.target.files||!P.target.files[0]||!t)return;const J=P.target.files[0];V(!0);try{const Y=await l6(J,t.uid);C(Y),await Iv(t.uid,{avatarUrl:Y}),n&&await n()}catch(Y){console.error("Error uploading avatar:",Y)}finally{V(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-8 shadow-lg",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl overflow-hidden",children:[_?i.jsx("img",{src:_,alt:r.name,className:"w-full h-full rounded-2xl object-cover"}):i.jsx(ks,{className:"w-12 h-12 text-white"}),I&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-2xl",children:i.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),i.jsx("button",{onClick:O,disabled:I,className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-50 flex items-center justify-center rounded-2xl transition-all cursor-pointer group",children:i.jsx(HR,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),i.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:$,className:"hidden"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-lg border-4 border-white dark:border-gray-900"})]}),i.jsx("div",{className:"flex-1",children:o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Name"}),i.jsx("input",{type:"text",value:u,onChange:P=>f(P.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Email"}),i.jsx("input",{type:"email",value:p,onChange:P=>g(P.target.value),disabled:!0,className:"w-full px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 dark:text-gray-400 cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Email cannot be changed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Bio"}),i.jsx("textarea",{value:v,onChange:P=>b(P.target.value),placeholder:"Tell us about yourself...",rows:3,maxLength:200,className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[v.length,"/200 characters"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:L,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Save Changes"}),i.jsx("button",{onClick:()=>{l(!1),f(r.name),g(r.email),b(r.bio||""),C(r.avatarUrl)},className:"px-6 py-2.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white mb-2",children:r.name}),r.bio&&i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-3 italic",children:['"',r.bio,'"']}),i.jsxs("div",{className:"flex flex-col gap-2 text-gray-600 dark:text-gray-400 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ro,{className:"w-4 h-4"}),i.jsx("span",{children:r.email})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($R,{className:"w-4 h-4"}),i.jsx("span",{children:"Member since 2024"})]})]}),i.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2",children:[i.jsx(LP,{className:"w-4 h-4"}),"Edit Profile"]})]})}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-center shadow-xl",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Total Earnings"}),i.jsxs("div",{className:"text-white text-3xl",children:["",r.totalEarnings.toFixed(2)]})]})]})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-gray-900 dark:text-white mb-6",children:["My Uploaded Notes (",r.uploadedNotes.length,")"]}),r.uploadedNotes.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.uploadedNotes.map(P=>i.jsx(kg,{note:P,onPreview:e,isPurchased:!0},P.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(ks,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Uploaded Notes"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start uploading notes to build your collection"})]})]})]})})}function u6(){const{user:r,userProfile:e}=hr(),[t,n]=T.useState(""),[o,l]=T.useState(""),[u,f]=T.useState(""),[p,g]=T.useState("assignment"),[v,b]=T.useState([]),[_,C]=T.useState([]),[I,V]=T.useState(!1),[E,L]=T.useState(!1),[O,$]=T.useState(""),[P,J]=T.useState(""),Y=async M=>{if(M.preventDefault(),!r||!e){J("You must be logged in to upload notes");return}if(_.length===0){J("Please upload at least one PDF file");return}if(v.length===0){J("Please upload at least one preview image");return}J(""),L(!0);try{const U=`note_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;$(`Uploading ${_.length} PDF file(s)...`);const B=[];for(let _e=0;_e<_.length;_e++){$(`Uploading PDF ${_e+1} of ${_.length}...`);const He=await o6(_[_e],`${U}_${_e}`);B.push(He)}$("Uploading preview images...");const S=[];for(let _e=0;_e<v.length;_e++){const He=await a6(v[_e],U,_e);S.push(He)}$("Creating note..."),await eR({title:t,description:o,category:p,price:parseFloat(u),previewPages:S,thumbnailUrl:S[0]||"",pdfUrls:B,uploaderId:r.uid,uploaderName:e.name}),V(!0),$(""),setTimeout(()=>{V(!1),n(""),l(""),f(""),g("assignment"),b([]),C([])},3e3)}catch(U){console.error("Error uploading note:",U),J("Failed to upload note. Please try again."),$("")}finally{L(!1)}},D=M=>{M.target.files&&b(Array.from(M.target.files))},j=M=>{M.target.files&&C(Array.from(M.target.files))},R=()=>(_.reduce((U,B)=>U+B.size,0)/1024/1024).toFixed(2);return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Upload Notes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share your knowledge and earn"})]})]}),I?i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-8 text-center shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(ir,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-white mb-2",children:"Notes Uploaded Successfully!"}),i.jsx("p",{className:"text-white text-opacity-90",children:"Your notes are now live and available for purchase."})]}):i.jsxs("form",{onSubmit:Y,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 space-y-6 shadow-lg",children:[P&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:P}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(dr,{className:"w-4 h-4"}),i.jsx("span",{children:"Note Title *"})]}),i.jsx("input",{type:"text",value:t,onChange:M=>n(M.target.value),placeholder:"e.g., Advanced Mathematics Assignment Solutions",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(dr,{className:"w-4 h-4"}),i.jsx("span",{children:"Description *"})]}),i.jsx("textarea",{value:o,onChange:M=>l(M.target.value),placeholder:"Describe what's included in your notes...",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(UP,{className:"w-4 h-4"}),i.jsx("span",{children:"Category *"})]}),i.jsxs("select",{value:p,onChange:M=>g(M.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"assignment",children:"Assignment"}),i.jsx("option",{value:"lecture-notes",children:"Lecture Notes"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(ur,{className:"w-4 h-4"}),i.jsx("span",{children:"Price ( INR) *"})]}),i.jsx("input",{type:"number",value:u,onChange:M=>f(M.target.value),placeholder:"9.99",step:"0.01",min:"0",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(tm,{className:"w-4 h-4"}),i.jsx("span",{children:"PDF Files *"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload one or more PDF files (these are the files buyers will download)"}),i.jsx("input",{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:j,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 text-gray-900 dark:text-white"}),_.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[_.length," PDF file(s) selected (",R()," MB total)"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((M,U)=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400",children:[i.jsx(tm,{className:"w-3 h-3"}),i.jsx("span",{className:"max-w-[150px] truncate",children:M.name})]},U))})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(cP,{className:"w-4 h-4"}),i.jsx("span",{children:"Preview Images *"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload 1-3 preview images (screenshots of your notes) to show potential buyers"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:D,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 text-gray-900 dark:text-white"}),v.length>0&&i.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:[v.length," preview image(s) selected"]})]}),i.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3.5 rounded-xl hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),O||"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ir,{className:"w-5 h-5"}),"Upload Notes"]})})]}),i.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6",children:[i.jsx("h3",{className:"text-blue-900 dark:text-blue-200 mb-3",children:"Upload Guidelines"}),i.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-300 text-sm",children:[i.jsx("li",{children:" Ensure your notes are original or you have permission to sell them"}),i.jsx("li",{children:" You can upload multiple PDF files for a single note listing"}),i.jsx("li",{children:" Provide 1-3 preview images showing sample pages from your notes"}),i.jsx("li",{children:" Write an accurate description of what's included"}),i.jsx("li",{children:" Price your notes fairly based on content quality and length"})]})]})]})})}function d6({note:r,onClose:e}){const{user:t,userProfile:n}=hr(),[o,l]=T.useState(0),[u,f]=T.useState([]),[p,g]=T.useState(!0),[v,b]=T.useState(!1),[_,C]=T.useState(!1),[I,V]=T.useState(!1),[E,L]=T.useState(5),[O,$]=T.useState(""),[P,J]=T.useState(!1),[Y,D]=T.useState("");T.useEffect(()=>{j(),R()},[r.id,t?.uid]);async function j(){g(!0);try{const S=await oR(r.id);f(S)}catch(S){console.error("Error loading reviews:",S)}finally{g(!1)}}async function R(){if(t?.uid)try{const S=await n_(t.uid,r.id);if(b(S),S){const _e=await s_(t.uid,r.id);C(_e)}}catch(S){console.error("Error checking purchase status:",S)}}async function M(S){if(S.preventDefault(),!(!t?.uid||!n)){J(!0),D("");try{await lR({noteId:r.id,userId:t.uid,userName:n.name,rating:E,comment:O}),V(!1),$(""),C(!0),await j()}catch(_e){D(_e.message||"Failed to submit review")}finally{J(!1)}}}const U=()=>{o<r.previewPages.length-1&&l(o+1)},B=()=>{o>0&&l(o-1)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 lg:p-6 flex items-center justify-between z-10 rounded-t-2xl",children:[i.jsx("h2",{className:"text-gray-900 dark:text-white pr-8",children:r.title}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors flex-shrink-0",children:i.jsx(js,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),i.jsxs("div",{className:"p-4 lg:p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-gray-900 dark:text-white mb-3",children:["Preview Pages (",r.previewPages.length," pages)"]}),i.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden",children:[i.jsx("img",{src:r.previewPages[o],alt:`Page ${o+1}`,className:"w-full h-auto"}),r.previewPages.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:i.jsx(Zp,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsx("button",{onClick:U,disabled:o===r.previewPages.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:i.jsx(em,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-xl text-sm backdrop-blur-sm",children:[o+1," / ",r.previewPages.length]})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"Description"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Price"}),i.jsxs("div",{className:"text-white text-xl",children:["",r.price]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Rating"}),i.jsxs("div",{className:"flex items-center gap-1 text-white",children:[i.jsx(ua,{className:"w-4 h-4 fill-current"}),i.jsx("span",{className:"text-xl",children:r.rating})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Sales"}),i.jsx("div",{className:"text-white text-xl",children:r.salesCount})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Category"}),i.jsx("div",{className:"text-white text-xl capitalize",children:r.category})]})]}),i.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-2xl border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ks,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Uploaded by"}),i.jsx("div",{className:"text-gray-900 dark:text-white",children:r.uploaderName})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-gray-900 dark:text-white",children:["Reviews (",u.length,")"]}),v&&!_&&!I&&i.jsx("button",{onClick:()=>V(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all",children:"Write a Review"})]}),I&&i.jsxs("form",{onSubmit:M,className:"mb-6 bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Rating"}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(S=>i.jsx("button",{type:"button",onClick:()=>L(S),className:"p-1 transition-transform hover:scale-110",children:i.jsx(ua,{className:`w-8 h-8 ${S<=E?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`})},S))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Comment"}),i.jsx("textarea",{value:O,onChange:S=>$(S.target.value),placeholder:"Share your experience with this note...",rows:3,className:"w-full px-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none",required:!0})]}),Y&&i.jsx("div",{className:"mb-4 text-red-600 dark:text-red-400 text-sm",children:Y}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all disabled:opacity-50",children:P?"Submitting...":"Submit Review"}),i.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),p?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):u.length>0?i.jsx("div",{className:"space-y-4",children:u.map(S=>i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:S.userName}),i.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(_e=>i.jsx(ua,{className:`w-4 h-4 ${_e<=S.rating?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`},_e))})]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:S.comment}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:S.date})]},S.id))}):i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No reviews yet. Be the first to review!"})]})]})]})})}function Rv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function h6(...r){return e=>{let t=!1;const n=r.map(o=>{const l=Rv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Rv(r[o],null)}}}}var f6=Symbol.for("react.lazy"),$d=t1[" use ".trim().toString()];function p6(r){return typeof r=="object"&&r!==null&&"then"in r}function y_(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===f6&&"_payload"in r&&p6(r._payload)}function m6(r){const e=x6(r),t=T.forwardRef((n,o)=>{let{children:l,...u}=n;y_(l)&&typeof $d=="function"&&(l=$d(l._payload));const f=T.Children.toArray(l),p=f.find(v6);if(p){const g=p.props.children,v=f.map(b=>b===p?T.Children.count(g)>1?T.Children.only(null):T.isValidElement(g)?g.props.children:null:b);return i.jsx(e,{...u,ref:o,children:T.isValidElement(g)?T.cloneElement(g,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var g6=m6("Slot");function x6(r){const e=T.forwardRef((t,n)=>{let{children:o,...l}=t;if(y_(o)&&typeof $d=="function"&&(o=$d(o._payload)),T.isValidElement(o)){const u=b6(o),f=w6(l,o.props);return o.type!==T.Fragment&&(f.ref=n?h6(n,u):u),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var y6=Symbol("radix.slottable");function v6(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===y6}function w6(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...f)=>{const p=l(...f);return o(...f),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function b6(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function v_(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=v_(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function w_(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=v_(r))&&(n&&(n+=" "),n+=e);return n}const Pv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Dv=w_,k6=(r,e)=>t=>{var n;if(e?.variants==null)return Dv(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(g=>{const v=t?.[g],b=l?.[g];if(v===null)return null;const _=Pv(v)||Pv(b);return o[g][_]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,_]=v;return _===void 0||(g[b]=_),g},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((g,v)=>{let{class:b,className:_,...C}=v;return Object.entries(C).every(I=>{let[V,E]=I;return Array.isArray(E)?E.includes({...l,...f}[V]):{...l,...f}[V]===E})?[...g,b,_]:g},[]);return Dv(r,u,p,t?.class,t?.className)},_6=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},N6=(r,e)=>({classGroupId:r,validator:e}),b_=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),qd="-",Lv=[],j6="arbitrary..",E6=r=>{const e=I6(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return T6(u);const f=u.split(qd),p=f[0]===""&&f.length>1?1:0;return k_(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=n[u],g=t[u];return p?g?_6(g,p):p:g||Lv}return t[u]||Lv}}},k_=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const g=k_(r,e+1,l);if(g)return g}const u=t.validators;if(u===null)return;const f=e===0?r.join(qd):r.slice(e).join(qd),p=u.length;for(let g=0;g<p;g++){const v=u[g];if(v.validator(f))return v.classGroupId}},T6=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?j6+n:void 0})(),I6=r=>{const{theme:e,classGroups:t}=r;return S6(t,e)},S6=(r,e)=>{const t=b_();for(const n in r){const o=r[n];_g(o,t,n,e)}return t},_g=(r,e,t,n)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];C6(u,e,t,n)}},C6=(r,e,t,n)=>{if(typeof r=="string"){A6(r,e,t);return}if(typeof r=="function"){R6(r,e,t,n);return}P6(r,e,t,n)},A6=(r,e,t)=>{const n=r===""?e:__(e,r);n.classGroupId=t},R6=(r,e,t,n)=>{if(D6(r)){_g(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(N6(t,r))},P6=(r,e,t,n)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[f,p]=o[u];_g(p,__(e,f),t,n)}},__=(r,e)=>{let t=r;const n=e.split(qd),o=n.length;for(let l=0;l<o;l++){const u=n[l];let f=t.nextPart.get(u);f||(f=b_(),t.nextPart.set(u,f)),t=f}return t},D6=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,L6=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=n[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},am="!",Ov=":",O6=[],Vv=(r,e,t,n,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),V6=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const l=[];let u=0,f=0,p=0,g;const v=o.length;for(let V=0;V<v;V++){const E=o[V];if(u===0&&f===0){if(E===Ov){l.push(o.slice(p,V)),p=V+1;continue}if(E==="/"){g=V;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const b=l.length===0?o:o.slice(p);let _=b,C=!1;b.endsWith(am)?(_=b.slice(0,-1),C=!0):b.startsWith(am)&&(_=b.slice(1),C=!0);const I=g&&g>p?g-p:void 0;return Vv(l,C,_,I)};if(e){const o=e+Ov,l=n;n=u=>u.startsWith(o)?l(u.slice(o.length)):Vv(O6,!1,u,void 0,!0)}if(t){const o=n;n=l=>t({className:l,parseClassName:o})}return n},M6=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],f=u[0]==="[",p=e.has(u);f||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},U6=r=>({cache:L6(r.cacheSize),parseClassName:V6(r),sortModifiers:M6(r),...E6(r)}),F6=/\s+/,z6=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=r.trim().split(F6);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:_,hasImportantModifier:C,baseClassName:I,maybePostfixModifierPosition:V}=t(v);if(b){p=v+(p.length>0?" "+p:p);continue}let E=!!V,L=n(E?I.substring(0,V):I);if(!L){if(!E){p=v+(p.length>0?" "+p:p);continue}if(L=n(I),!L){p=v+(p.length>0?" "+p:p);continue}E=!1}const O=_.length===0?"":_.length===1?_[0]:l(_).join(":"),$=C?O+am:O,P=$+L;if(u.indexOf(P)>-1)continue;u.push(P);const J=o(L,E);for(let Y=0;Y<J.length;++Y){const D=J[Y];u.push($+D)}p=v+(p.length>0?" "+p:p)}return p},B6=(...r)=>{let e=0,t,n,o="";for(;e<r.length;)(t=r[e++])&&(n=N_(t))&&(o&&(o+=" "),o+=n);return o},N_=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=N_(r[n]))&&(t&&(t+=" "),t+=e);return t},$6=(r,...e)=>{let t,n,o,l;const u=p=>{const g=e.reduce((v,b)=>b(v),r());return t=U6(g),n=t.cache.get,o=t.cache.set,l=f,f(p)},f=p=>{const g=n(p);if(g)return g;const v=z6(p,t);return o(p,v),v};return l=u,(...p)=>l(B6(...p))},q6=[],Ot=r=>{const e=t=>t[r]||q6;return e.isThemeGetter=!0,e},j_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H6=/^\d+\/\d+$/,W6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Q6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ho=r=>H6.test(r),Ve=r=>!!r&&!Number.isNaN(Number(r)),ri=r=>!!r&&Number.isInteger(Number(r)),wp=r=>r.endsWith("%")&&Ve(r.slice(0,-1)),ls=r=>W6.test(r),X6=()=>!0,J6=r=>G6.test(r)&&!K6.test(r),T_=()=>!1,Z6=r=>Q6.test(r),e5=r=>Y6.test(r),t5=r=>!fe(r)&&!pe(r),r5=r=>$o(r,C_,T_),fe=r=>j_.test(r),ra=r=>$o(r,A_,J6),bp=r=>$o(r,o5,Ve),Mv=r=>$o(r,I_,T_),n5=r=>$o(r,S_,e5),od=r=>$o(r,R_,Z6),pe=r=>E_.test(r),zl=r=>qo(r,A_),s5=r=>qo(r,l5),Uv=r=>qo(r,I_),i5=r=>qo(r,C_),a5=r=>qo(r,S_),ld=r=>qo(r,R_,!0),$o=(r,e,t)=>{const n=j_.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},qo=(r,e,t=!1)=>{const n=E_.exec(r);return n?n[1]?e(n[1]):t:!1},I_=r=>r==="position"||r==="percentage",S_=r=>r==="image"||r==="url",C_=r=>r==="length"||r==="size"||r==="bg-size",A_=r=>r==="length",o5=r=>r==="number",l5=r=>r==="family-name",R_=r=>r==="shadow",c5=()=>{const r=Ot("color"),e=Ot("font"),t=Ot("text"),n=Ot("font-weight"),o=Ot("tracking"),l=Ot("leading"),u=Ot("breakpoint"),f=Ot("container"),p=Ot("spacing"),g=Ot("radius"),v=Ot("shadow"),b=Ot("inset-shadow"),_=Ot("text-shadow"),C=Ot("drop-shadow"),I=Ot("blur"),V=Ot("perspective"),E=Ot("aspect"),L=Ot("ease"),O=Ot("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...P(),pe,fe],Y=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],j=()=>[pe,fe,p],R=()=>[ho,"full","auto",...j()],M=()=>[ri,"none","subgrid",pe,fe],U=()=>["auto",{span:["full",ri,pe,fe]},ri,pe,fe],B=()=>[ri,"auto",pe,fe],S=()=>["auto","min","max","fr",pe,fe],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],He=()=>["start","end","center","stretch","center-safe","end-safe"],Qe=()=>["auto",...j()],Fe=()=>[ho,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],X=()=>[r,pe,fe],ve=()=>[...P(),Uv,Mv,{position:[pe,fe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",i5,r5,{size:[pe,fe]}],ee=()=>[wp,zl,ra],ge=()=>["","none","full",g,pe,fe],ye=()=>["",Ve,zl,ra],Re=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[Ve,wp,Uv,Mv],Me=()=>["","none",I,pe,fe],je=()=>["none",Ve,pe,fe],Oe=()=>["none",Ve,pe,fe],Je=()=>[Ve,pe,fe],Mt=()=>[ho,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ls],breakpoint:[ls],color:[X6],container:[ls],"drop-shadow":[ls],ease:["in","out","in-out"],font:[t5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ls],shadow:[ls],spacing:["px",Ve],text:[ls],"text-shadow":[ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ho,fe,pe,E]}],container:["container"],columns:[{columns:[Ve,fe,pe,f]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",pe,fe]}],basis:[{basis:[ho,"full","auto",f,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,ho,"auto","initial","none",fe]}],grow:[{grow:["",Ve,pe,fe]}],shrink:[{shrink:["",Ve,pe,fe]}],order:[{order:[ri,"first","last","none",pe,fe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...He(),"normal"]}],"justify-self":[{"justify-self":["auto",...He()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...He(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...He(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...He(),"baseline"]}],"place-self":[{"place-self":["auto",...He()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:Qe()}],mx:[{mx:Qe()}],my:[{my:Qe()}],ms:[{ms:Qe()}],me:[{me:Qe()}],mt:[{mt:Qe()}],mr:[{mr:Qe()}],mb:[{mb:Qe()}],ml:[{ml:Qe()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Fe()}],w:[{w:[f,"screen",...Fe()]}],"min-w":[{"min-w":[f,"screen","none",...Fe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Fe()]}],h:[{h:["screen","lh",...Fe()]}],"min-h":[{"min-h":["screen","lh","none",...Fe()]}],"max-h":[{"max-h":["screen","lh",...Fe()]}],"font-size":[{text:["base",t,zl,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pe,bp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wp,fe]}],"font-family":[{font:[s5,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,pe,fe]}],"line-clamp":[{"line-clamp":[Ve,"none",pe,bp]}],leading:[{leading:[l,...j()]}],"list-image":[{"list-image":["none",pe,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",pe,ra]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Ve,"auto",pe,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,pe,fe],radial:["",pe,fe],conic:[ri,pe,fe]},a5,n5]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,pe,fe]}],"outline-w":[{outline:["",Ve,zl,ra]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",v,ld,od]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",b,ld,od]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Ve,ra]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",_,ld,od]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Ve,pe,fe]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[pe,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,fe]}],filter:[{filter:["","none",pe,fe]}],blur:[{blur:Me()}],brightness:[{brightness:[Ve,pe,fe]}],contrast:[{contrast:[Ve,pe,fe]}],"drop-shadow":[{"drop-shadow":["","none",C,ld,od]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Ve,pe,fe]}],"hue-rotate":[{"hue-rotate":[Ve,pe,fe]}],invert:[{invert:["",Ve,pe,fe]}],saturate:[{saturate:[Ve,pe,fe]}],sepia:[{sepia:["",Ve,pe,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,fe]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,pe,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,pe,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,pe,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,pe,fe]}],"backdrop-invert":[{"backdrop-invert":["",Ve,pe,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,pe,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,pe,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,pe,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",pe,fe]}],ease:[{ease:["linear","initial",L,pe,fe]}],delay:[{delay:[Ve,pe,fe]}],animate:[{animate:["none",O,pe,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,pe,fe]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Je()}],"skew-x":[{"skew-x":Je()}],"skew-y":[{"skew-y":Je()}],transform:[{transform:[pe,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Mt()}],"translate-x":[{"translate-x":Mt()}],"translate-y":[{"translate-y":Mt()}],"translate-z":[{"translate-z":Mt()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,fe]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Ve,zl,ra,bp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},u5=$6(c5);function P_(...r){return u5(w_(r))}const d5=k6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function tt({className:r,variant:e,size:t,asChild:n=!1,...o}){const l=n?g6:"button";return i.jsx(l,{"data-slot":"button",className:P_(d5({variant:e,size:t,className:r})),...o})}function h5({onNavigateToLogin:r,onNavigateToSignup:e}){const[t,n]=T.useState(!1),[o,l]=T.useState(""),{isDark:u,toggleTheme:f}=yc(),p=v=>{const b=document.getElementById(v);b&&(b.scrollIntoView({behavior:"smooth"}),n(!1))},g=[{icon:dr,title:"Assignments",description:"Access high-quality assignment solutions from top students across various subjects and courses."},{icon:ca,title:"PYQ Papers",description:"Download previous year question papers with detailed solutions to ace your exams."},{icon:rm,title:"Lecture Notes",description:"Comprehensive lecture notes prepared by experienced students and educators."},{icon:ur,title:"Earn Money",description:"Upload your notes and earn from every download. Turn your knowledge into income."}];return i.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[i.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{onClick:()=>p("about"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"}),i.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors",children:u?i.jsx(_i,{className:"w-5 h-5"}):i.jsx(bi,{className:"w-5 h-5"})}),i.jsx(tt,{onClick:r,variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),i.jsx(tt,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg",children:"Sign Up"})]}),i.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[i.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:u?i.jsx(_i,{className:"w-5 h-5"}):i.jsx(bi,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:t?i.jsx(js,{className:"w-6 h-6"}):i.jsx(m_,{className:"w-6 h-6"})})]})]}),t&&i.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-slate-800",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{onClick:()=>p("about"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Contact"}),i.jsxs("div",{className:"flex gap-2 px-4 pt-2",children:[i.jsx(tt,{onClick:r,variant:"outline",className:"flex-1 border-gray-300 dark:border-slate-700 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),i.jsx(tt,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Sign Up"})]})]})})]})}),i.jsxs("section",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 via-purple-100/50 to-pink-100/50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:i.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-slate-800/50 border border-green-200 dark:border-slate-700 rounded-full mb-8",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-green-700 dark:text-slate-300",children:"New Platform  Just Launched"})]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl text-gray-900 dark:text-white mb-6",children:["Your Academic Success",i.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Starts Here"})]}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Access quality assignments, PYQs, and lecture notes. Share your knowledge and earn from your notes."}),i.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:i.jsxs("div",{className:"relative",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQ papers...",value:o,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800/50 border border-gray-300 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(tt,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-xl text-lg px-8 py-6",children:"Get Started Free"}),i.jsx(tt,{onClick:()=>p("features"),variant:"outline",className:"border-gray-300 dark:border-slate-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-800 text-lg px-8 py-6",children:"Learn More"})]})]})})]}),i.jsx("section",{id:"features",className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 dark:text-white mb-4",children:"What We Offer"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Everything you need to excel in your studies and earn from your knowledge"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((v,b)=>{const _=v.icon;return i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all group hover:shadow-lg",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:i.jsx(_,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:v.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:v.description})]},b)})})]})}),i.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-950",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(rm,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white",children:"About Us"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[i.jsxs("p",{children:["Welcome to ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),i.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),i.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),i.jsx("div",{className:"pt-4",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[i.jsx(ur,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})})]})]})})}),i.jsx("section",{className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(cn,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Privacy Policy"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"All user data is encrypted and stored securely"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"We never share your personal information with third parties"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment information is processed through secure gateways"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"You have full control over your data and can request deletion anytime"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(h_,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"By using Notezy, you agree to our terms of service designed to ensure a fair and transparent marketplace."}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"All uploaded content must be original or properly authorized"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:i.jsx("span",{className:"text-amber-600 dark:text-yellow-400",children:"Notes once purchased cannot be returned or refunded"})})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Sellers are responsible for the accuracy of their content"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Platform fees apply to all transactions"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(dr,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg",children:i.jsx("p",{className:"text-red-700 dark:text-red-400",children:i.jsx("span",{children:"No Refunds  No Cancellations"})})}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"Due to the digital nature of our products, all sales are final. Once you purchase and download notes, they cannot be returned or refunded."}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We encourage users to carefully review note previews, ratings, and reviews before making a purchase. If you encounter any issues with downloaded content, please contact our support team."})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(jh,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Shipping & Delivery"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"All notes are delivered digitally - no physical shipping required!"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"Instant access after payment confirmation"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:'Download your purchased notes from the "Downloads" section'})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"Access your notes anytime, anywhere"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"No delivery charges or waiting time"})]})]})]})]})})}),i.jsx("section",{id:"contact",className:"py-20 bg-white dark:bg-slate-950",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/50 dark:to-slate-800/30 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 text-center shadow-lg",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6",children:i.jsx(Ro,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white mb-4",children:"Get in Touch"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-6 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."}),i.jsxs("a",{href:"mailto:notzy2026@gmail.com",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700/50 dark:hover:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white transition-colors",children:[i.jsx(Ro,{className:"w-5 h-5"}),i.jsx("span",{children:"notzy2026@gmail.com"})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-700",children:i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})})}),i.jsx("footer",{className:"bg-gray-100 dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800 py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Knowledge Marketplace"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("button",{onClick:()=>p("about"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"})]})]}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-800",children:[i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 text-sm text-gray-600 dark:text-slate-400 mb-6",children:[i.jsx(sr,{to:"/terms",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms & Conditions"}),i.jsx(sr,{to:"/privacy",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),i.jsx(sr,{to:"/refund",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Refund & Cancellation"}),i.jsx(sr,{to:"/shipping",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Shipping & Delivery"}),i.jsx(sr,{to:"/contact",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact Us"})]}),i.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-slate-500",children:" 2025 Notezy. All rights reserved. Built for students, by students."})]})]})})]})}function yo({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:P_("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function f5({onNavigateToSignup:r,onNavigateToLanding:e}){const[t,n]=T.useState(""),[o,l]=T.useState(""),[u,f]=T.useState(!1),[p,g]=T.useState(""),[v,b]=T.useState(!1),{login:_,enterGuestMode:C}=hr(),{isDark:I,toggleTheme:V}=yc(),E=async L=>{if(L.preventDefault(),g(""),b(!0),!t||!o){g("Please fill in all fields"),b(!1);return}const O=await _(t,o);O.success||g(O.error||"Invalid email or password"),b(!1)};return i.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 ${I?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-gray-100 via-white to-gray-100"}`,children:[i.jsx("button",{onClick:V,className:`fixed top-4 right-4 p-3 rounded-xl transition-colors z-50 ${I?"bg-slate-800/50 hover:bg-slate-800 text-slate-300":"bg-white/80 hover:bg-white text-gray-700 shadow-lg"}`,children:I?i.jsx(_i,{className:"w-5 h-5"}):i.jsx(bi,{className:"w-5 h-5"})}),e&&i.jsxs("button",{onClick:e,className:`fixed top-4 left-4 flex items-center gap-2 px-4 py-2 rounded-lg transition-colors z-50 ${I?"bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-slate-300 hover:text-white":"bg-white/80 hover:bg-white shadow-lg text-gray-700 hover:text-gray-900"}`,children:[i.jsx(jt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:i.jsx(ir,{className:"w-8 h-8 text-white"})})}),i.jsx("h1",{className:`text-3xl mb-2 ${I?"text-white":"text-gray-900"}`,children:"Welcome Back"}),i.jsx("p",{className:I?"text-slate-400":"text-gray-600",children:"Sign in to access your notes marketplace"})]}),i.jsxs("div",{className:`backdrop-blur-xl rounded-2xl p-8 shadow-2xl ${I?"bg-slate-800/50 border border-slate-700/50":"bg-white/80 border border-gray-200"}`,children:[i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:p}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:`block text-sm ${I?"text-slate-300":"text-gray-700"}`,children:"Email Address"}),i.jsx(yo,{id:"email",type:"email",value:t,onChange:L=>n(L.target.value),placeholder:"Enter your email",className:I?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:`block text-sm ${I?"text-slate-300":"text-gray-700"}`,children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(yo,{id:"password",type:u?"text":"password",value:o,onChange:L=>l(L.target.value),placeholder:"Enter your password",className:`pr-10 ${I?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"}`}),i.jsx("button",{type:"button",onClick:()=>f(!u),className:`absolute right-3 top-1/2 -translate-y-1/2 ${I?"text-slate-400 hover:text-slate-300":"text-gray-400 hover:text-gray-600"}`,children:u?i.jsx(d_,{className:"w-5 h-5"}):i.jsx(Nh,{className:"w-5 h-5"})})]})]}),i.jsx(tt,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:v?"Signing in...":"Sign In"}),i.jsxs("div",{className:"relative my-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:`w-full border-t ${I?"border-slate-700":"border-gray-300"}`})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:`px-2 ${I?"bg-slate-800/50 text-slate-400":"bg-white/80 text-gray-500"}`,children:"or"})})]}),i.jsxs("button",{type:"button",onClick:C,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${I?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[i.jsx(ks,{className:"w-5 h-5"}),"Continue as Guest"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:I?"text-slate-400":"text-gray-600",children:["Don't have an account?"," ",i.jsx("button",{onClick:r,className:"text-purple-500 hover:text-purple-400 transition-colors font-medium",children:"Sign Up"})]})})]}),i.jsx("p",{className:`text-center text-xs mt-6 ${I?"text-slate-500":"text-gray-500"}`,children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}function p5({onNavigateToLogin:r,onNavigateToLanding:e}){const[t,n]=T.useState(""),[o,l]=T.useState(""),[u,f]=T.useState(""),[p,g]=T.useState(""),[v,b]=T.useState(!1),[_,C]=T.useState(""),[I,V]=T.useState(!1),{signup:E,enterGuestMode:L}=hr(),{isDark:O,toggleTheme:$}=yc(),P=async J=>{if(J.preventDefault(),C(""),V(!0),!t||!o||!u||!p){C("Please fill in all fields"),V(!1);return}if(u!==p){C("Passwords do not match"),V(!1);return}if(u.length<6){C("Password must be at least 6 characters"),V(!1);return}const Y=await E(t,o,u);Y.success||C(Y.error||"Failed to create account"),V(!1)};return i.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 ${O?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-gray-100 via-white to-gray-100"}`,children:[i.jsx("button",{onClick:$,className:`fixed top-4 right-4 p-3 rounded-xl transition-colors z-50 ${O?"bg-slate-800/50 hover:bg-slate-800 text-slate-300":"bg-white/80 hover:bg-white text-gray-700 shadow-lg"}`,children:O?i.jsx(_i,{className:"w-5 h-5"}):i.jsx(bi,{className:"w-5 h-5"})}),e&&i.jsxs("button",{onClick:e,className:`fixed top-4 left-4 flex items-center gap-2 px-4 py-2 rounded-lg transition-colors z-50 ${O?"bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-slate-300 hover:text-white":"bg-white/80 hover:bg-white shadow-lg text-gray-700 hover:text-gray-900"}`,children:[i.jsx(jt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:i.jsx(ir,{className:"w-8 h-8 text-white"})})}),i.jsx("h1",{className:`text-3xl mb-2 ${O?"text-white":"text-gray-900"}`,children:"Create Account"}),i.jsx("p",{className:O?"text-slate-400":"text-gray-600",children:"Join the knowledge marketplace"})]}),i.jsxs("div",{className:`backdrop-blur-xl rounded-2xl p-8 shadow-2xl ${O?"bg-slate-800/50 border border-slate-700/50":"bg-white/80 border border-gray-200"}`,children:[i.jsxs("form",{onSubmit:P,className:"space-y-5",children:[_&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:_}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"name",className:`block text-sm ${O?"text-slate-300":"text-gray-700"}`,children:"Full Name"}),i.jsx(yo,{id:"name",type:"text",value:t,onChange:J=>n(J.target.value),placeholder:"Enter your full name",className:O?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:`block text-sm ${O?"text-slate-300":"text-gray-700"}`,children:"Email Address"}),i.jsx(yo,{id:"email",type:"email",value:o,onChange:J=>l(J.target.value),placeholder:"Enter your email",className:O?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:`block text-sm ${O?"text-slate-300":"text-gray-700"}`,children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(yo,{id:"password",type:v?"text":"password",value:u,onChange:J=>f(J.target.value),placeholder:"Create a password",className:`pr-10 ${O?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"}`}),i.jsx("button",{type:"button",onClick:()=>b(!v),className:`absolute right-3 top-1/2 -translate-y-1/2 ${O?"text-slate-400 hover:text-slate-300":"text-gray-400 hover:text-gray-600"}`,children:v?i.jsx(d_,{className:"w-5 h-5"}):i.jsx(Nh,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm ${O?"text-slate-300":"text-gray-700"}`,children:"Confirm Password"}),i.jsx(yo,{id:"confirmPassword",type:v?"text":"password",value:p,onChange:J=>g(J.target.value),placeholder:"Confirm your password",className:O?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsx(tt,{type:"submit",disabled:I,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:I?"Creating Account...":"Create Account"}),i.jsxs("div",{className:"relative my-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:`w-full border-t ${O?"border-slate-700":"border-gray-300"}`})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:`px-2 ${O?"bg-slate-800/50 text-slate-400":"bg-white/80 text-gray-500"}`,children:"or"})})]}),i.jsxs("button",{type:"button",onClick:L,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${O?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[i.jsx(ks,{className:"w-5 h-5"}),"Continue as Guest"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:O?"text-slate-400":"text-gray-600",children:["Already have an account?"," ",i.jsx("button",{onClick:r,className:"text-purple-500 hover:text-purple-400 transition-colors font-medium",children:"Sign In"})]})})]}),i.jsx("p",{className:`text-center text-xs mt-6 ${O?"text-slate-500":"text-gray-500"}`,children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})}function m5({onNavigateToTerms:r,onNavigateToAbout:e,onNavigateToPrivacy:t,onNavigateToRefund:n,onNavigateToShipping:o}){const{userProfile:l,logout:u}=hr(),{isDark:f,toggleTheme:p}=yc(),g=()=>{u()};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-24 lg:pb-8 mobile-page-content",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Settings"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and security"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:i.jsx(ks,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Account"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900 dark:text-white",children:l?.name||"User"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:l?.email})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:f?i.jsx(bi,{className:"w-5 h-5 text-white"}):i.jsx(_i,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Appearance"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900 dark:text-white",children:"Theme"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Current: ",f?"Dark Mode":"Light Mode"]})]}),i.jsx("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:f?i.jsxs(i.Fragment,{children:[i.jsx(_i,{className:"w-4 h-4"}),"Switch to Light"]}):i.jsxs(i.Fragment,{children:[i.jsx(bi,{className:"w-4 h-4"}),"Switch to Dark"]})})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:i.jsx(cn,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Legal"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:t,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cn,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Privacy Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(h_,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Refund Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(jh,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Shipping Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:e,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(hP,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"About Us"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-red-200 dark:border-red-900/30 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-500 rounded-lg flex items-center justify-center",children:i.jsx(zd,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Danger Zone"})]}),i.jsxs(tt,{onClick:g,className:"w-full bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white",children:[i.jsx(zd,{className:"w-5 h-5 mr-2"}),"Log Out"]})]})]})})}function g5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs(tt,{onClick:r,variant:"ghost",className:"mb-6 text-slate-400 hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h1",{className:"text-3xl text-white mb-6",children:"Terms & Conditions"}),i.jsxs("div",{className:"space-y-6 text-slate-300",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"2. User Accounts"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Provide accurate and complete information"}),i.jsx("li",{children:"Maintain the security of your password"}),i.jsx("li",{children:"Accept responsibility for all activities under your account"}),i.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"3. Content Guidelines"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"You own the copyright or have permission to share the content"}),i.jsx("li",{children:"The content does not violate any intellectual property rights"}),i.jsx("li",{children:"The material is accurate and not misleading"}),i.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"4. Purchases and Payments"}),i.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"5. Intellectual Property"}),i.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"6. Prohibited Activities"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Uploading copyrighted material without permission"}),i.jsx("li",{children:"Engaging in fraudulent activities"}),i.jsx("li",{children:"Harassing or threatening other users"}),i.jsx("li",{children:"Attempting to compromise platform security"}),i.jsx("li",{children:"Using automated tools to scrape content"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"7. Termination"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"8. Limitation of Liability"}),i.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"9. Changes to Terms"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"10. Contact Information"}),i.jsx("p",{className:"leading-relaxed",children:"For questions about these terms, please contact us at legal@noteshub.com"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:i.jsx("p",{className:"text-sm text-slate-400",children:"Last updated: December 16, 2024"})})]})]})]})})}function x5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(tt,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"About Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Learn more about Notezy"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(rm,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Welcome to Notezy"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[i.jsxs("p",{children:["Welcome to ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),i.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),i.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"What We Provide"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Assignments:"})," High-quality assignment solutions from top students across various subjects and courses"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"PYQ Papers:"})," Previous year question papers with detailed solutions to help you ace your exams"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Lecture Notes:"})," Comprehensive lecture notes prepared by experienced students and educators"]})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[i.jsx(ur,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Contact Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-2",children:"Have questions or feedback? We'd love to hear from you!"}),i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]})]})]})})}function y5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(tt,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:i.jsx(cn,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Your Privacy Matters"})]}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Account information (name, email address)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Transaction history and purchase records"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Uploaded content and notes"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To provide and improve our services"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To process transactions and payments"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To send important account updates (with your permission)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),i.jsx("p",{className:"mb-3",children:"You have the right to:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Access your personal data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request correction of inaccurate data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request deletion of your account and data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})]})})}function v5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(tt,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Refund & Cancellation Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:i.jsx(dr,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),i.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(u_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),i.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),i.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),i.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),i.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Download problems or corrupted files"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment processed but content not accessible"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Missing pages or incomplete content"})]})]}),i.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),i.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Significantly different from the description"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Plagiarized or violate copyright"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Completely unreadable or unusable"})]})]}),i.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})]})})}function w5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(tt,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Shipping & Delivery Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(jh,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Digital Delivery"})]}),i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ln,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"1"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Purchase Notes"}),i.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"2"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Instant Access"}),i.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"3"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:'Download from "Downloads" Section'}),i.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Processing Time"})]}),i.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ln,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Download Speed"})]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Accessing Your Notes"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 rounded-lg p-4 space-y-3",children:[i.jsx("p",{className:"text-sm",children:"To access your purchased notes:"}),i.jsxs("ol",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"1."}),i.jsxs("span",{children:["Navigate to the ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:'"Downloads"'})," section from the main menu"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"2."}),i.jsx("span",{children:"Find the notes you want to view"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"3."}),i.jsxs("span",{children:["Click ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:'"View Notes"'})," to open them in our built-in PDF viewer"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"4."}),i.jsx("span",{children:"You can view, zoom, and navigate through the notes at your convenience"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Internet connection for downloading"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),i.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Check your internet connection"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Ensure your payment was successfully processed"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Try refreshing the Downloads page"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),i.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),i.jsx("div",{className:"pt-4",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})]})})}function b5({note:r,onClose:e}){const[t,n]=T.useState(1),[o,l]=T.useState(100),u=r.previewPages.length,f=()=>{n(_=>Math.max(1,_-1))},p=()=>{n(_=>Math.min(u,_+1))},g=()=>{l(_=>Math.min(200,_+25))},v=()=>{l(_=>Math.max(50,_-25))},b=()=>{alert(`Downloading ${r.title}...`)};return i.jsxs("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-sm z-50 flex flex-col",children:[i.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(tt,{onClick:e,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:i.jsx(js,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white",children:r.title}),i.jsxs("p",{className:"text-sm text-slate-400",children:["by ",r.uploaderName]})]})]}),i.jsxs(tt,{onClick:b,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:[i.jsx(ln,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),i.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{onClick:f,disabled:t===1,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(Zp,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-lg",children:[i.jsx("span",{className:"text-white",children:t}),i.jsx("span",{className:"text-slate-500",children:"/"}),i.jsx("span",{className:"text-slate-400",children:u})]}),i.jsx(tt,{onClick:p,disabled:t===u,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(em,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{onClick:v,disabled:o===50,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(ZP,{className:"w-5 h-5"})}),i.jsx("div",{className:"px-4 py-2 bg-slate-800/50 rounded-lg",children:i.jsxs("span",{className:"text-white",children:[o,"%"]})}),i.jsx(tt,{onClick:g,disabled:o===200,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(XP,{className:"w-5 h-5"})})]})]})}),i.jsx("div",{className:"flex-1 overflow-auto bg-slate-900 p-4 lg:p-8",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden transition-transform",style:{transform:`scale(${o/100})`,transformOrigin:"top center"},children:i.jsxs("div",{className:"aspect-[8.5/11] relative",children:[i.jsx("img",{src:r.previewPages[t-1],alt:`Page ${t}`,className:"w-full h-full object-contain"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"transform -rotate-45 text-6xl font-bold text-black/5 select-none",children:"PREVIEW"})})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-slate-400",children:["Page ",t," of ",u]})})]})}),i.jsx("div",{className:"lg:hidden bg-slate-900/80 backdrop-blur-xl border-t border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(tt,{onClick:f,disabled:t===1,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:[i.jsx(Zp,{className:"w-5 h-5 mr-1"}),"Previous"]}),i.jsxs("span",{className:"text-white",children:[t," / ",u]}),i.jsxs(tt,{onClick:p,disabled:t===u,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:["Next",i.jsx(em,{className:"w-5 h-5 ml-1"})]})]})})]})}function Fv({onBack:r}){const{user:e,userProfile:t}=hr(),[n,o]=T.useState(null),[l,u]=T.useState([]),[f,p]=T.useState(""),[g,v]=T.useState(!0),[b,_]=T.useState(!1),C=T.useRef(null);T.useEffect(()=>{e&&I()},[e]),T.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[l]),T.useEffect(()=>{if(!n)return;const L=setInterval(()=>{V(n)},3e3);return()=>clearInterval(L)},[n]);async function I(){if(e)try{const L=await gR(e.uid);L.length>0&&(o(L[0].id),await V(L[0].id))}catch(L){console.error("Error initializing chat:",L)}finally{v(!1)}}async function V(L){try{const O=await a_(L);u(O)}catch(O){console.error("Error loading messages:",O)}}async function E(L){if(L.preventDefault(),!(!f.trim()||!e||!t)){_(!0);try{if(n)await i_(n,e.uid,t.name,!1,f),p(""),await V(n);else{const O=await mR(e.uid,t.name,t.email,f);o(O),p(""),await V(O)}}catch(O){console.error("Error sending message:",O)}finally{_(!1)}}}return g?i.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex items-center justify-center z-50",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex flex-col z-50",children:[i.jsxs("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 flex items-center gap-4",children:[i.jsx("button",{onClick:r,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx(Lr,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customer Support"}),i.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"We typically reply within minutes"]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:l.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(Lr,{className:"w-10 h-10 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-2",children:"Welcome to Notezy Support!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Have a question or need help? Send us a message and our team will get back to you as soon as possible."})]}):i.jsxs(i.Fragment,{children:[l.map(L=>{const O=L.isAdmin===!1;return i.jsx("div",{style:{display:"flex",justifyContent:O?"flex-end":"flex-start"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",maxWidth:"75%",flexDirection:O?"row-reverse":"row"},children:[!O&&i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(Lr,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{style:{borderRadius:"16px",borderBottomRightRadius:O?"4px":"16px",borderBottomLeftRadius:O?"16px":"4px",padding:"12px 16px",background:O?"linear-gradient(to right, #2563eb, #9333ea)":void 0,backgroundColor:O?void 0:"white",color:O?"white":"#111827",border:O?"none":"1px solid #e5e7eb"},className:O?"":"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[!O&&i.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium block mb-1",children:"Support Team"}),i.jsx("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:L.text}),i.jsx("span",{style:{fontSize:"11px",marginTop:"4px",display:"block",opacity:O?.7:.5,textAlign:O?"right":"left"},children:new Date(L.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},L.id)}),i.jsx("div",{ref:C})]})}),i.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 p-4 safe-area-inset-bottom",children:i.jsx("form",{onSubmit:E,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"text",value:f,onChange:L=>p(L.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500"}),i.jsx("button",{type:"submit",disabled:b||!f.trim(),className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:b?i.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(fc,{className:"w-6 h-6"})})]})})})]})}function k5({onNavigate:r}){const[e,t]=T.useState([]),[n,o]=T.useState([]),[l,u]=T.useState(!0);T.useEffect(()=>{async function g(){try{const[v,b]=await Promise.all([wg(),vg()]);t(v),o(b)}catch(v){console.error("Error loading admin data:",v)}finally{u(!1)}}g()},[]);const f=e.reduce((g,v)=>g+v.totalEarnings,0),p=n.reduce((g,v)=>g+v.salesCount,0);return l?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx(Bd,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Admin Dashboard"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your platform"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(pc,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Users"})]}),i.jsx("div",{className:"text-3xl font-bold",children:e.length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(dr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Notes"})]}),i.jsx("div",{className:"text-3xl font-bold",children:n.length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ur,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Revenue"})]}),i.jsxs("div",{className:"text-3xl font-bold",children:["",f.toFixed(2)]})]}),i.jsxs("div",{className:"text-white p-6 rounded-2xl shadow-xl",style:{backgroundColor:"#f97316"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ua,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),i.jsx("div",{className:"text-3xl font-bold",children:p})]})]}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Admin Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("button",{onClick:()=>r("admin-earnings"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(ur,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"User Earnings"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View earnings for all users"})]}),i.jsxs("button",{onClick:()=>r("admin-notes"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(ua,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Manage Notes"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mark notes as top selling"})]}),i.jsxs("button",{onClick:()=>r("admin-chats"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(Lr,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Support Chats"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respond to customer queries"})]})]})]})})}function _5({onBack:r}){const[e,t]=T.useState([]),[n,o]=T.useState(!0),[l,u]=T.useState("");T.useEffect(()=>{async function g(){try{const v=await wg();t(v.sort((b,_)=>_.totalEarnings-b.totalEarnings))}catch(v){console.error("Error loading users:",v)}finally{o(!1)}}g()},[]);const f=e.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())||g.email.toLowerCase().includes(l.toLowerCase())),p=e.reduce((g,v)=>g+v.totalEarnings,0);return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(ur,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"User Earnings"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Platform Revenue: ",p.toFixed(2)]})]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:g=>u(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Notes Uploaded"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Total Earnings"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:f.map(g=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-medium",children:g.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:g.name}),g.isAdmin&&i.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-xs rounded-full",children:"Admin"})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:g.email}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:g.uploadedNotes.length}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["",g.totalEarnings.toFixed(2)]})})]},g.id))})]})}),f.length===0&&i.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})]})]})})}function N5({onBack:r}){const[e,t]=T.useState([]),[n,o]=T.useState(!0),[l,u]=T.useState(""),[f,p]=T.useState(null),[g,v]=T.useState(null);T.useEffect(()=>{b()},[]);async function b(){try{const E=await vg();t(E)}catch(E){console.error("Error loading notes:",E)}finally{o(!1)}}async function _(E,L){p(E);try{await hR(E,!L),t(e.map(O=>O.id===E?{...O,isTopSelling:!L}:O))}catch(O){console.error("Error updating note:",O)}finally{p(null)}}async function C(E,L){p(E);try{await fR(E,!L),t(e.map(O=>O.id===E?{...O,isVerified:!L}:O))}catch(O){console.error("Error updating note:",O)}finally{p(null)}}async function I(E,L){if(confirm(`Are you sure you want to delete "${L}"? This action cannot be undone.`)){v(E);try{await pR(E),t(e.filter(O=>O.id!==E))}catch(O){console.error("Error deleting note:",O),alert("Failed to delete note")}finally{v(null)}}}const V=e.filter(E=>E.title.toLowerCase().includes(l.toLowerCase())||E.uploaderName.toLowerCase().includes(l.toLowerCase()));return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ua,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Notes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verify, feature, or delete notes"})]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search notes...",value:l,onChange:E=>u(E.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Uploader"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:V.map(E=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[E.thumbnailUrl?i.jsx("img",{src:E.thumbnailUrl,alt:E.title,className:"w-12 h-12 rounded-lg object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:E.title}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:E.category})]})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:E.uploaderName}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",E.price]}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:E.salesCount}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[i.jsx(sm,{className:"w-3 h-3"}),"Verified"]}),E.isTopSelling&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 text-xs rounded-full",children:[i.jsx(Bd,{className:"w-3 h-3"}),"Top"]}),!E.isVerified&&!E.isTopSelling&&i.jsx("span",{className:"text-gray-400 text-xs",children:"None"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>C(E.id,E.isVerified||!1),disabled:f===E.id,className:`p-2 rounded-lg transition-all ${E.isVerified?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-green-100 dark:hover:bg-green-900/30 hover:text-green-700 dark:hover:text-green-400"} ${f===E.id?"opacity-50":""}`,title:E.isVerified?"Remove verification":"Verify note",children:i.jsx(_t,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>_(E.id,E.isTopSelling||!1),disabled:f===E.id,className:`p-2 rounded-lg transition-all ${E.isTopSelling?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 hover:text-yellow-700 dark:hover:text-yellow-400"} ${f===E.id?"opacity-50":""}`,title:E.isTopSelling?"Remove from top selling":"Mark as top selling",children:i.jsx(Bd,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>I(E.id,E.title),disabled:g===E.id,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-700 dark:hover:text-red-400 transition-all",title:"Delete note",children:g===E.id?i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.jsx(x_,{className:"w-5 h-5"})})]})})]},E.id))})]})}),V.length===0&&i.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:l?"No notes found matching your search":"No notes found"})]})]})})}function j5({onBack:r}){const{userProfile:e}=hr(),[t,n]=T.useState([]),[o,l]=T.useState(null),[u,f]=T.useState([]),[p,g]=T.useState(""),[v,b]=T.useState(!0),[_,C]=T.useState(!1),I=T.useRef(null);T.useEffect(()=>{V()},[]),T.useEffect(()=>{o&&E(o.id)},[o]),T.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[u]);async function V(){try{const P=await xR();n(P)}catch(P){console.error("Error loading chats:",P)}finally{b(!1)}}async function E(P){try{const J=await a_(P);f(J)}catch(J){console.error("Error loading messages:",J)}}async function L(P){if(P.preventDefault(),!(!p.trim()||!o||!e)){C(!0);try{await i_(o.id,e.id,e.name,!0,p),g(""),await E(o.id),await V()}catch(J){console.error("Error sending message:",J)}finally{C(!1)}}}async function O(P,J){try{await yR(P,J),await V(),o?.id===P&&l({...o,status:J})}catch(Y){console.error("Error updating status:",Y)}}function $(){l(null)}return v?i.jsx("div",{style:{minHeight:"100vh",marginLeft:"256px",display:"flex",alignItems:"center",justifyContent:"center"},className:"bg-gray-50 dark:bg-gray-950 lg:ml-64 ml-0",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-white dark:bg-gray-950 flex flex-col",children:[i.jsxs("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("button",{onClick:$,style:{padding:"8px",marginLeft:"-4px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(jt,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsx("div",{style:{width:"36px",height:"36px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px"},children:o.userName.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:o.userName}),i.jsx("div",{style:{fontSize:"12px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?i.jsx("button",{onClick:()=>O(o.id,"closed"),style:{padding:"8px",borderRadius:"8px"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:i.jsx(Av,{style:{width:"16px",height:"16px"}})}):i.jsx("button",{onClick:()=>O(o.id,"open"),style:{padding:"8px",borderRadius:"8px"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:i.jsx(_t,{style:{width:"16px",height:"16px"}})})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",paddingBottom:"80px"},children:[u.map(P=>i.jsx("div",{style:{display:"flex",justifyContent:P.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:i.jsxs("div",{style:{maxWidth:"80%",borderRadius:"16px",padding:"10px 16px",background:P.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:P.isAdmin?"white":"#111827"},children:[i.jsx("p",{style:{fontSize:"14px",margin:0},children:P.text}),i.jsx("span",{style:{fontSize:"11px",marginTop:"2px",display:"block",color:P.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(P.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},P.id)),i.jsx("div",{ref:I})]}),i.jsx("form",{onSubmit:L,style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"12px",paddingBottom:"max(12px, env(safe-area-inset-bottom))"},className:"dark:bg-gray-900 dark:border-gray-800",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"text",value:p,onChange:P=>g(P.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"10px 16px",borderRadius:"9999px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:_||!p.trim(),style:{padding:"10px",borderRadius:"50%",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:_||!p.trim()?.5:1},children:_?i.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):i.jsx(fc,{style:{width:"20px",height:"20px"}})})]})})]}),i.jsx("div",{className:"hidden lg:block",style:{marginLeft:"256px",height:"100vh",display:"flex"},children:i.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[i.jsxs("div",{style:{width:"320px",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",flexShrink:0},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px"},className:"dark:border-gray-800",children:[i.jsx("button",{onClick:r,style:{padding:"8px",marginLeft:"-8px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(jt,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsx(Lr,{style:{width:"20px",height:"20px"},className:"text-blue-600"}),i.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:"Chats"})]}),i.jsx("div",{style:{flex:1,overflowY:"auto"},children:t.map(P=>i.jsxs("button",{onClick:()=>l(P),style:{width:"100%",padding:"12px 16px",textAlign:"left",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",backgroundColor:o?.id===P.id?"rgba(59, 130, 246, 0.1)":"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 dark:border-gray-800",children:[i.jsx("div",{style:{width:"40px",height:"40px",minWidth:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"14px"},children:P.userName.charAt(0).toUpperCase()}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2px"},children:[i.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:P.userName}),i.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:P.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:P.status==="open"?"#16a34a":"#6b7280"},children:P.status})]}),i.jsx("p",{style:{fontSize:"13px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:P.lastMessage})]})]},P.id))})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},className:"bg-gray-50 dark:bg-gray-950",children:[i.jsxs("div",{style:{padding:"12px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500"},children:o.userName.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:o.userName}),i.jsx("div",{style:{fontSize:"14px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?i.jsxs("button",{onClick:()=>O(o.id,"closed"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200",children:[i.jsx(Av,{style:{width:"16px",height:"16px"}})," Close"]}):i.jsxs("button",{onClick:()=>O(o.id,"open"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200",children:[i.jsx(_t,{style:{width:"16px",height:"16px"}})," Reopen"]})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:[u.map(P=>i.jsx("div",{style:{display:"flex",justifyContent:P.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:i.jsxs("div",{style:{maxWidth:"70%",borderRadius:"16px",padding:"12px 16px",background:P.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:P.isAdmin?"white":"#111827"},children:[i.jsx("p",{style:{margin:0},children:P.text}),i.jsx("span",{style:{fontSize:"12px",marginTop:"4px",display:"block",color:P.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(P.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},P.id)),i.jsx("div",{ref:I})]}),i.jsx("form",{onSubmit:L,style:{padding:"16px",borderTop:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("input",{type:"text",value:p,onChange:P=>g(P.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"12px 16px",borderRadius:"12px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:_||!p.trim(),style:{padding:"12px",borderRadius:"12px",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:_||!p.trim()?.5:1},children:_?i.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):i.jsx(fc,{style:{width:"20px",height:"20px"}})})]})})]})]})})]}):i.jsx("div",{className:"bg-gray-50 dark:bg-gray-950",style:{minHeight:"100vh",paddingBottom:"80px"},children:i.jsxs("div",{className:"lg:ml-64",style:{padding:"16px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[i.jsx("button",{onClick:r,style:{padding:"8px",borderRadius:"12px"},className:"hover:bg-gray-200 dark:hover:bg-gray-800",children:i.jsx(jt,{style:{width:"24px",height:"24px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Lr,{style:{width:"20px",height:"20px",color:"white"}})}),i.jsxs("div",{children:[i.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",margin:0},className:"text-gray-900 dark:text-white",children:"Support Chats"}),i.jsxs("p",{style:{fontSize:"12px",margin:0},className:"text-gray-500 dark:text-gray-400",children:[t.length," conversations"]})]})]})]}),i.jsx("div",{style:{borderRadius:"16px",overflow:"hidden",border:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:t.length>0?t.map((P,J)=>i.jsxs("button",{onClick:()=>l(P),style:{width:"100%",padding:"16px",textAlign:"left",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",borderBottom:J<t.length-1?"1px solid #e5e7eb":"none",backgroundColor:"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 active:bg-gray-100 dark:active:bg-gray-800 dark:border-gray-800",children:[i.jsx("div",{style:{width:"48px",height:"48px",minWidth:"48px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"18px"},children:P.userName.charAt(0).toUpperCase()}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[i.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:P.userName}),i.jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:P.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:P.status==="open"?"#16a34a":"#6b7280"},children:P.status})]}),i.jsx("p",{style:{fontSize:"14px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:P.lastMessage})]})]},P.id)):i.jsxs("div",{style:{padding:"48px",textAlign:"center"},className:"text-gray-500 dark:text-gray-400",children:[i.jsx(Lr,{style:{width:"64px",height:"64px",margin:"0 auto 16px",opacity:.3}}),i.jsx("p",{children:"No support chats yet"})]})})]})})}function E5(){const[r,e]=T.useState([]),[t,n]=T.useState(!0),[o,l]=T.useState(null),[u,f]=T.useState(""),[p,g]=T.useState(null);T.useEffect(()=>{v()},[]);async function v(){try{const I=await wg();e(I.filter(V=>!V.isAdmin))}catch(I){console.error("Error loading users:",I)}finally{n(!1)}}async function b(I,V){l(I);try{await uR(I,!V),e(E=>E.map(L=>L.id===I?{...L,isVerified:!V}:L)),p?.id===I&&g(E=>E?{...E,isVerified:!V}:null)}catch(E){console.error("Error updating verification status:",E)}finally{l(null)}}async function _(I,V){l(I);try{await dR(I,!V),e(E=>E.map(L=>L.id===I?{...L,isBlocked:!V}:L)),p?.id===I&&g(E=>E?{...E,isBlocked:!V}:null)}catch(E){console.error("Error updating block status:",E)}finally{l(null)}}const C=r.filter(I=>I.name.toLowerCase().includes(u.toLowerCase())||I.email.toLowerCase().includes(u.toLowerCase()));return t?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"#db2777"},children:i.jsx(pc,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Users"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verify or block platform users"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name or email...",value:u,onChange:I=>f(I.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-800",children:[i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"User"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Email"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Status"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Notes"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Earnings"}),i.jsx("th",{className:"text-right p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Actions"})]})}),i.jsx("tbody",{children:C.map(I=>i.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium overflow-hidden",style:{backgroundColor:"#6366f1"},children:I.avatarUrl?i.jsx("img",{src:I.avatarUrl,alt:I.name,className:"w-full h-full object-cover"}):I.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:I.name})]})}),i.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:I.email}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[I.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#dcfce7",color:"#166534"},children:[i.jsx(sm,{className:"w-3 h-3"}),"Verified"]}),I.isBlocked&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#fee2e2",color:"#991b1b"},children:[i.jsx(ad,{className:"w-3 h-3"}),"Blocked"]}),!I.isVerified&&!I.isBlocked&&i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#f3f4f6",color:"#6b7280"},children:"Unverified"})]})}),i.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:I.uploadedNotes.length}),i.jsxs("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:["",I.totalEarnings.toFixed(2)]}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:()=>g(I),className:"p-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Profile",children:i.jsx(Nh,{className:"w-4 h-4"})}),i.jsxs("button",{onClick:()=>b(I.id,I.isVerified||!1),disabled:o===I.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I.isVerified?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700":"text-white hover:opacity-90"}`,style:I.isVerified?{}:{backgroundColor:"#16a34a"},children:[i.jsx(_t,{className:"w-4 h-4"}),I.isVerified?"Unverify":"Verify"]}),i.jsx("button",{onClick:()=>_(I.id,I.isBlocked||!1),disabled:o===I.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I.isBlocked?"text-white hover:opacity-90":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-700 dark:hover:text-red-400"}`,style:I.isBlocked?{backgroundColor:"#16a34a"}:{},children:I.isBlocked?i.jsxs(i.Fragment,{children:[i.jsx(cn,{className:"w-4 h-4"}),"Unblock"]}):i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"w-4 h-4"}),"Block"]})})]})})]},I.id))})]})}),C.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(pc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u?"No users found matching your search":"No users found"})]})]})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-auto shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"User Profile"}),i.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(js,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-white text-2xl font-medium overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600",children:p.avatarUrl?i.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-full h-full object-cover"}):p.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white font-medium mb-1",children:p.name}),p.bio&&i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 italic mb-2",children:['"',p.bio,'"']}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:[i.jsx(sm,{className:"w-3 h-3"}),"Verified"]}),p.isBlocked&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:[i.jsx(ad,{className:"w-3 h-3"}),"Blocked"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(Ro,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),i.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate",children:p.email})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(dr,{className:"w-6 h-6 text-purple-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Uploaded Notes"}),i.jsx("p",{className:"text-2xl text-gray-900 dark:text-white font-bold",children:p.uploadedNotes.length})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(ur,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Earnings"}),i.jsxs("p",{className:"text-2xl text-gray-900 dark:text-white font-bold",children:["",p.totalEarnings.toFixed(0)]})]})]}),p.uploadedNotes.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-3",children:"Uploaded Notes"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.uploadedNotes.map(I=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[I.thumbnailUrl?i.jsx("img",{src:I.thumbnailUrl,alt:I.title,className:"w-12 h-12 rounded-lg object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:I.title}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["",I.price,"  ",I.salesCount," sales"]})]}),i.jsx("div",{className:"flex gap-1",children:I.isVerified&&i.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded",children:"Verified"})})]},I.id))})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:[i.jsxs("button",{onClick:()=>b(p.id,p.isVerified||!1),disabled:o===p.id,className:`flex-1 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${p.isVerified?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300":"bg-green-600 text-white"}`,children:[i.jsx(_t,{className:"w-5 h-5"}),p.isVerified?"Remove Verification":"Verify User"]}),i.jsx("button",{onClick:()=>_(p.id,p.isBlocked||!1),disabled:o===p.id,className:`flex-1 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${p.isBlocked?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:p.isBlocked?i.jsxs(i.Fragment,{children:[i.jsx(cn,{className:"w-5 h-5"}),"Unblock User"]}):i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"w-5 h-5"}),"Block User"]})})]})]})]})})]})}function T5({onBack:r}){const[e,t]=T.useState([]),[n,o]=T.useState(!0),[l,u]=T.useState(30),[f,p]=T.useState("30"),[g,v]=T.useState(!1),[b,_]=T.useState(null),[C,I]=T.useState(!1);T.useEffect(()=>{V()},[C]);async function V(){o(!0);try{const[P,J]=await Promise.all([C?kR():bR(),bg()]);t(P),u(J),p(J.toString())}catch(P){console.error("Error loading payouts:",P)}finally{o(!1)}}async function E(P){_(P);try{await _R(P),await V()}catch(J){console.error("Error marking payout complete:",J),alert("Failed to process payout")}finally{_(null)}}async function L(){const P=parseFloat(f);if(isNaN(P)||P<0||P>100){alert("Fee must be between 0 and 100");return}v(!0);try{await vR(P),u(P),alert("Platform fee updated successfully")}catch(J){console.error("Error updating fee:",J),alert("Failed to update fee")}finally{v(!1)}}const O=e.filter(P=>P.status==="pending").length,$=e.filter(P=>P.status==="pending").reduce((P,J)=>P+J.netAmount,0);return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(ur,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Payout Requests"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[O," pending  ",$.toFixed(2)," to pay"]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(nm,{className:"w-5 h-5 text-gray-500"}),i.jsx("h2",{className:"text-lg text-gray-900 dark:text-white",children:"Platform Fee Settings"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1 max-w-xs",children:[i.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Platform Fee Percentage"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",value:f,onChange:P=>p(P.target.value),min:"0",max:"100",className:"w-24 px-4 py-2 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"}),i.jsx("span",{className:"text-gray-500",children:"%"})]})]}),i.jsxs("button",{onClick:L,disabled:g||f===l.toString(),className:"px-4 py-2 bg-blue-600 text-white rounded-xl flex items-center gap-2 hover:bg-blue-700 transition-colors disabled:opacity-50 mt-6",children:[i.jsx(NP,{className:"w-4 h-4"}),g?"Saving...":"Save"]})]}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:["Current: ",l,"%  Sellers receive ",100-l,"% of their earnings"]})]}),i.jsxs("div",{className:"flex gap-2 mb-6",children:[i.jsxs("button",{onClick:()=>I(!1),className:`px-4 py-2 rounded-xl font-medium transition-colors flex items-center gap-2 ${C?"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700":"text-white"}`,style:C?void 0:{backgroundColor:"#2563eb"},children:[i.jsx(wi,{className:"w-4 h-4"}),"Pending"]}),i.jsx("button",{onClick:()=>I(!0),className:`px-4 py-2 rounded-xl font-medium transition-colors ${C?"text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:C?{backgroundColor:"#2563eb"}:void 0,children:"All Payouts"})]}),i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"UPI ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Gross"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Fee"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Net Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:e.map(P=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:P.userName}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:P.userEmail})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-lg text-sm font-mono",children:P.upiId})}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",P.grossAmount.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 text-red-600 dark:text-red-400",children:[P.platformFee,"%"]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-bold",children:["",P.netAmount.toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4",children:P.status==="pending"?i.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[i.jsx(wi,{className:"w-4 h-4"}),"Pending"]}):i.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(_t,{className:"w-4 h-4"}),"Completed"]})}),i.jsx("td",{className:"px-6 py-4",children:P.status==="pending"&&i.jsx("button",{onClick:()=>E(P.id),disabled:b===P.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:b===P.id?i.jsx(i.Fragment,{children:"Processing..."}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"w-4 h-4"}),"Mark Paid"]})})})]},P.id))})]})}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(_t,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsxs("p",{children:["No ",C?"":"pending ","payout requests"]})]})})]})})}function I5({onBack:r}){const[e,t]=T.useState([]),[n,o]=T.useState(!0),[l,u]=T.useState(null),[f,p]=T.useState(""),[g,v]=T.useState(""),[b,_]=T.useState(!1),[C,I]=T.useState("pending"),[V,E]=T.useState("");T.useEffect(()=>{L()},[]);async function L(){try{const Y=await ER();t(Y)}catch(Y){console.error("Error loading requests:",Y)}finally{o(!1)}}async function O(){if(!(!l||!f.trim())){_(!0);try{await TR(l.id,f.trim(),g.trim()||void 0),t(Y=>Y.map(D=>D.id===l.id?{...D,status:"responded",response:f.trim(),responseLink:g.trim()}:D)),u(null),p(""),v("")}catch(Y){console.error("Error responding:",Y),alert("Failed to send response")}finally{_(!1)}}}async function $(Y){try{await IR(Y),t(D=>D.map(j=>j.id===Y?{...j,status:"closed"}:j))}catch(D){console.error("Error closing request:",D)}}const P=e.filter(Y=>{const D=C==="all"||Y.status===C,j=Y.title.toLowerCase().includes(V.toLowerCase())||Y.userName.toLowerCase().includes(V.toLowerCase())||Y.description.toLowerCase().includes(V.toLowerCase());return D&&j}),J=e.filter(Y=>Y.status==="pending").length;return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:i.jsx(aa,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Note Requests"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[J," pending requests"]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search requests...",value:V,onChange:Y=>E(Y.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-white"})]}),i.jsx("div",{className:"flex gap-2",children:["pending","responded","all"].map(Y=>i.jsx("button",{onClick:()=>I(Y),className:`px-4 py-2 rounded-xl font-medium transition-colors capitalize ${C===Y?"text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:C===Y?{backgroundColor:"#2563eb"}:void 0,children:Y},Y))})]}),P.length>0?i.jsx("div",{className:"space-y-4",children:P.map(Y=>i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white font-medium",children:Y.title}),i.jsx("span",{className:"text-sm px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded capitalize",children:Y.category.replace("-"," ")})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["by ",Y.userName,"  ",Y.userEmail]})]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Y.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":Y.status==="responded"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[Y.status==="pending"&&i.jsx(wi,{className:"w-3 h-3"}),Y.status==="responded"&&i.jsx(_t,{className:"w-3 h-3"}),Y.status.charAt(0).toUpperCase()+Y.status.slice(1)]})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:Y.description}),Y.response&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 mb-4 border border-green-200 dark:border-green-800",children:[i.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium mb-1",children:"Your Response:"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:Y.response}),Y.responseLink&&i.jsxs("a",{href:Y.responseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 mt-2 text-sm",children:[i.jsx(_h,{className:"w-3 h-3"}),Y.responseLink]})]}),i.jsxs("div",{className:"flex gap-2",children:[Y.status==="pending"&&i.jsxs("button",{onClick:()=>u(Y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[i.jsx(fc,{className:"w-4 h-4"}),"Respond"]}),Y.status!=="closed"&&i.jsx("button",{onClick:()=>$(Y.id),className:"px-4 py-2 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Close Request"})]})]},Y.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(_t,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Requests Found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C==="pending"?"All pending requests have been handled!":"No requests match your search."})]})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-lg w-full shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Respond to Request"}),i.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl",children:i.jsx(js,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 mb-4",children:[i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:l.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:l.description})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Your Response"}),i.jsx("textarea",{value:f,onChange:Y=>p(Y.target.value),placeholder:"Provide helpful information or let them know if notes are available...",rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(f_,{className:"w-4 h-4 inline mr-1"}),"Link to Notes (optional)"]}),i.jsx("input",{type:"url",value:g,onChange:Y=>v(Y.target.value),placeholder:"https://example.com/notes or link to uploaded note",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("button",{onClick:O,disabled:b||!f.trim(),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[i.jsx(fc,{className:"w-5 h-5"}),b?"Sending...":"Send Response"]})]})]})]})})]})}function S5({onBack:r}){const{userProfile:e}=hr(),[t,n]=T.useState([]),[o,l]=T.useState(!0),[u,f]=T.useState(!1),[p,g]=T.useState(!1),[v,b]=T.useState(""),[_,C]=T.useState(""),[I,V]=T.useState("");T.useEffect(()=>{E()},[]);async function E(){try{const $=await o_();n($)}catch($){console.error("Error loading PYQs:",$)}finally{l(!1)}}async function L($){if($.preventDefault(),!(!v.trim()||!_.trim()||!I.trim())){g(!0);try{await SR(v.trim(),_.trim(),I.trim(),e?.name||"Admin"),await E(),b(""),C(""),V(""),f(!1)}catch(P){console.error("Error adding PYQ:",P),alert("Failed to add PYQ")}finally{g(!1)}}}async function O($){if(confirm("Are you sure you want to delete this PYQ?"))try{await CR($),n(P=>P.filter(J=>J.id!==$))}catch(P){console.error("Error deleting PYQ:",P),alert("Failed to delete PYQ")}}return o?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(jt,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(ca,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Free PYQ Papers"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," papers available"]})]})]})]}),i.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-green-600 text-white rounded-xl flex items-center gap-2 hover:bg-green-700 transition-colors",children:[i.jsx(g_,{className:"w-5 h-5"}),"Add PYQ"]})]}),u&&i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-6 shadow-lg",children:[i.jsx("h2",{className:"text-lg text-gray-900 dark:text-white mb-4",children:"Add New PYQ Paper"}),i.jsxs("form",{onSubmit:L,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Course Code"}),i.jsx("input",{type:"text",value:v,onChange:$=>b($.target.value),placeholder:"e.g., CS101",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Course Name"}),i.jsx("input",{type:"text",value:_,onChange:$=>C($.target.value),placeholder:"e.g., Introduction to Programming",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(f_,{className:"w-4 h-4 inline mr-1"}),"Google Drive Link"]}),i.jsx("input",{type:"url",value:I,onChange:$=>V($.target.value),placeholder:"https://drive.google.com/...",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50",children:p?"Adding...":"Add PYQ"})]})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Course Code"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Course Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Drive Link"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Added By"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:t.map($=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-mono bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-1 rounded text-sm",children:$.courseCode})}),i.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:$.courseName}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("a",{href:$.driveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:underline text-sm",children:[i.jsx(_h,{className:"w-4 h-4"}),"Open"]})}),i.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 text-sm",children:$.addedBy}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("button",{onClick:()=>O($.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:i.jsx(x_,{className:"w-5 h-5"})})})]},$.id))})]})}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("p",{children:"No PYQ papers added yet"}),i.jsx("p",{className:"text-sm mt-1",children:'Click "Add PYQ" to add your first paper'})]})})]})})}function C5(){const{user:r,userProfile:e}=hr(),[t,n]=T.useState([]),[o,l]=T.useState(!0),[u,f]=T.useState(!1),[p,g]=T.useState(!1),[v,b]=T.useState(""),[_,C]=T.useState(""),[I,V]=T.useState("lecture-notes");T.useEffect(()=>{r&&E()},[r]);async function E(){if(r)try{const $=await jR(r.uid);n($)}catch($){console.error("Error loading requests:",$)}finally{l(!1)}}async function L($){if($.preventDefault(),!(!r||!e||!v.trim()||!_.trim())){g(!0);try{await NR(r.uid,e.name,e.email,v.trim(),_.trim(),I),b(""),C(""),V("lecture-notes"),f(!1),await E()}catch(P){console.error("Error creating request:",P),alert("Failed to submit request")}finally{g(!1)}}}const O=$=>{switch($){case"pending":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 text-xs rounded-full",children:[i.jsx(wi,{className:"w-3 h-3"}),"Pending"]});case"responded":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[i.jsx(_t,{className:"w-3 h-3"}),"Responded"]});case"closed":return i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs rounded-full",children:"Closed"})}};return o?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:i.jsx(aa,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"My Requests"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Request notes you can't find"})]})]}),i.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl flex items-center gap-2 hover:shadow-lg transition-all",children:[i.jsx(g_,{className:"w-5 h-5"}),"New Request"]})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-lg w-full shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Request Notes"}),i.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl",children:i.jsx(js,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("form",{onSubmit:L,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Title / Subject"}),i.jsx("input",{type:"text",value:v,onChange:$=>b($.target.value),placeholder:"e.g., Data Structures - Unit 3",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),i.jsxs("select",{value:I,onChange:$=>V($.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"lecture-notes",children:"Lecture Notes"}),i.jsx("option",{value:"assignment",children:"Assignment"}),i.jsx("option",{value:"pyq",children:"PYQ (Previous Year Question)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:_,onChange:$=>C($.target.value),placeholder:"Describe what you're looking for, course code, semester, etc.",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"})]}),i.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50",children:p?"Submitting...":"Submit Request"})]})]})}),t.length>0?i.jsx("div",{className:"space-y-4",children:t.map($=>i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white font-medium",children:$.title}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:$.category.replace("-"," ")})]}),O($.status)]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:$.description}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:["Requested on ",new Date($.createdAt).toLocaleDateString()]}),$.response&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 mb-2",children:[i.jsx(Lr,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Admin Response"})]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:$.response}),$.responseLink&&i.jsxs("a",{href:$.responseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(_h,{className:"w-4 h-4"}),"View Notes"]})]})]},$.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(aa,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Requests Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Can't find notes you need? Submit a request!"}),i.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Submit Your First Request"})]})]})})}function A5({isOpen:r,onClose:e,onLogin:t,onSignup:n,message:o}){return r?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full shadow-2xl animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Login Required"}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(js,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:o||"Please login or create an account to access this feature."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:t,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(p_,{className:"w-5 h-5"}),"Sign In"]}),i.jsxs("button",{onClick:n,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(HP,{className:"w-5 h-5"}),"Create Account"]})]})]})]})}):null}function R5(){const r=Oo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(sr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(tt,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white mb-6",children:"Terms & Conditions"}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"2. User Accounts"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Provide accurate and complete information"}),i.jsx("li",{children:"Maintain the security of your password"}),i.jsx("li",{children:"Accept responsibility for all activities under your account"}),i.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"3. Content Guidelines"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"You own the copyright or have permission to share the content"}),i.jsx("li",{children:"The content does not violate any intellectual property rights"}),i.jsx("li",{children:"The material is accurate and not misleading"}),i.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"4. Purchases and Payments"}),i.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"5. Intellectual Property"}),i.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"6. Prohibited Activities"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Uploading copyrighted material without permission"}),i.jsx("li",{children:"Engaging in fraudulent activities"}),i.jsx("li",{children:"Harassing or threatening other users"}),i.jsx("li",{children:"Attempting to compromise platform security"}),i.jsx("li",{children:"Using automated tools to scrape content"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"7. Termination"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"8. Limitation of Liability"}),i.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"9. Changes to Terms"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"10. Contact Information"}),i.jsxs("p",{className:"leading-relaxed",children:["For questions about these terms, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-800",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Last updated: December 2025"})})]})]})})]})}function P5(){const r=Oo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(sr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(tt,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:i.jsx(cn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Privacy Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]})]}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Account information (name, email address)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Transaction history and purchase records"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Uploaded content and notes"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To provide and improve our services"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To process transactions and payments"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To send important account updates (with your permission)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),i.jsx("p",{className:"mb-3",children:"You have the right to:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Access your personal data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request correction of inaccurate data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request deletion of your account and data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})})]})}function D5(){const r=Oo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(sr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(tt,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:i.jsx(dr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Refund & Cancellation Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]})]}),i.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(u_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),i.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),i.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),i.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),i.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Download problems or corrupted files"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment processed but content not accessible"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Missing pages or incomplete content"})]})]}),i.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),i.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Significantly different from the description"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Plagiarized or violate copyright"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Completely unreadable or unusable"})]})]}),i.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})})]})}function L5(){const r=Oo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(sr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(tt,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(jh,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Shipping & Delivery Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]})]}),i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ln,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"1"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Purchase Notes"}),i.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"2"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Instant Access"}),i.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-pink-600 dark:text-pink-400 font-semibold",children:"3"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:'Download from "Downloads" Section'}),i.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Processing Time"})]}),i.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ln,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Download Speed"})]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(_t,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Internet connection for downloading"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),i.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Check your internet connection"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Ensure your payment was successfully processed"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Try refreshing the Downloads page"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),i.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),i.jsx("div",{className:"pt-4",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})})]})}function O5(){const r=Oo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(sr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ir,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(tt,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(jt,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6 shadow-xl",children:i.jsx(Ro,{className:"w-10 h-10 text-white"})}),i.jsx("h1",{className:"text-4xl text-gray-900 dark:text-white mb-4",children:"Contact Us"}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"Get in Touch"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(Ro,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Email Us"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"For general inquiries and support"}),i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline font-medium",children:"notzy2026@gmail.com"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(wi,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Response Time"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"We typically respond within 24-48 hours during business days"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(Lr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"In-App Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Logged-in users can access our support chat directly from the app for faster assistance"})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"How Can We Help?"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Purchase Issues"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Problems with payments, accessing purchased notes, or transaction disputes"})]}),i.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Seller Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Help with uploading notes, earnings withdrawals, or seller account issues"})]}),i.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Technical Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"App bugs, download issues, or account-related technical problems"})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Feedback & Suggestions"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Ideas for new features, improvements, or general feedback about the platform"})]}),i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Report Content"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Report plagiarized, inappropriate, or misleading content on the platform"})]})]})]})]}),i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-2xl p-6 lg:p-8 text-center",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Contact Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Many common questions are answered in our policy pages. Check them out for quick answers!"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(sr,{to:"/terms",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Terms & Conditions"}),i.jsx(sr,{to:"/privacy",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Privacy Policy"}),i.jsx(sr,{to:"/refund",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Refund Policy"}),i.jsx(sr,{to:"/shipping",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Shipping & Delivery"})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="type.googleapis.com/google.protobuf.Int64Value",M5="type.googleapis.com/google.protobuf.UInt64Value";function D_(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function Hd(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>Hd(e));if(typeof r=="function"||typeof r=="object")return D_(r,e=>Hd(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Po(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case V5:case M5:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Po(e)):typeof r=="function"||typeof r=="object"?D_(r,e=>Po(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kr extends pn{constructor(e,t,n){super(`${Ng}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,kr.prototype)}}function U5(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Wd(r,e){let t=U5(r),n=t,o;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!zv[u])return new kr("internal","internal");t=zv[u],n=u}const f=l.message;typeof f=="string"&&(n=f),o=l.details,o!==void 0&&(o=Po(o))}}catch{}return t==="ok"?null:new kr(t,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,t,n,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,wr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||n.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="us-central1",z5=/^data: (.*?)(?:\n|$)/;function B5(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new kr("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class $5{constructor(e,t,n,o,l=om,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new F5(e,t,n,o),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=om}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function q5(r,e,t){const n=$n(e);r.emulatorOrigin=`http${n?"s":""}://${e}:${t}`,n&&(Yd(r.emulatorOrigin+"/backends"),Xd("Functions",!0))}function H5(r,e,t){const n=o=>G5(r,e,o,{});return n.stream=(o,l)=>Q5(r,e,o,l),n}function L_(r){return r.emulatorOrigin&&$n(r.emulatorOrigin)?"include":void 0}async function W5(r,e,t,n,o){t["Content-Type"]="application/json";let l;try{l=await n(r,{method:"POST",body:JSON.stringify(e),headers:t,credentials:L_(o)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function O_(r,e){const t={},n=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(t.Authorization="Bearer "+n.authToken),n.messagingToken&&(t["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=n.appCheckToken),t}function G5(r,e,t,n){const o=r._url(e);return K5(r,o,t,n)}async function K5(r,e,t,n){t=Hd(t);const o={data:t},l=await O_(r,n),u=n.timeout||7e4,f=B5(u),p=await Promise.race([W5(e,o,l,r.fetchImpl,r),f.promise,r.cancelAllRequests]);if(f.cancel(),!p)throw new kr("cancelled","Firebase Functions instance was deleted.");const g=Wd(p.status,p.json);if(g)throw g;if(!p.json)throw new kr("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new kr("internal","Response is missing data field.");return{data:Po(v)}}function Q5(r,e,t,n){const o=r._url(e);return Y5(r,o,t,n||{})}async function Y5(r,e,t,n){t=Hd(t);const o={data:t},l=await O_(r,n);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:l,signal:n?.signal,credentials:L_(r)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const I=new kr("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const C=Wd(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let f,p;const g=new Promise((_,C)=>{f=_,p=C});n?.signal?.addEventListener("abort",()=>{const _=new kr("cancelled","Request was cancelled.");p(_)});const v=u.body.getReader(),b=X5(v,f,p,n?.signal);return{stream:{[Symbol.asyncIterator](){const _=b.getReader();return{async next(){const{value:C,done:I}=await _.read();return{value:C,done:I}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:g}}function X5(r,e,t,n){const o=(u,f)=>{const p=u.match(z5);if(!p)return;const g=p[1];try{const v=JSON.parse(g);if("result"in v){e(Po(v.result));return}if("message"in v){f.enqueue(Po(v.message));return}if("error"in v){const b=Wd(0,v);f.error(b),t(b);return}}catch(v){if(v instanceof kr){f.error(v),t(v);return}}},l=new TextDecoder;return new ReadableStream({start(u){let f="";return p();async function p(){if(n?.aborted){const g=new kr("cancelled","Request was cancelled");return u.error(g),t(g),Promise.resolve()}try{const{value:g,done:v}=await r.read();if(v){f.trim()&&o(f.trim(),u),u.close();return}if(n?.aborted){const _=new kr("cancelled","Request was cancelled");u.error(_),t(_),await r.cancel();return}f+=l.decode(g,{stream:!0});const b=f.split(`
`);f=b.pop()||"";for(const _ of b)_.trim()&&o(_.trim(),u);return p()}catch(g){const v=g instanceof kr?g:Wd(0,null);u.error(v),t(v)}}},cancel(){return r.cancel()}})}const Bv="@firebase/functions",$v="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="auth-internal",Z5="app-check-internal",e3="messaging-internal";function t3(r){const e=(t,{instanceIdentifier:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider(J5),u=t.getProvider(e3),f=t.getProvider(Z5);return new $5(o,l,u,f,n)};fi(new ms(Ng,e,"PUBLIC").setMultipleInstances(!0)),Wr(Bv,$v,r),Wr(Bv,$v,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(r=Jd(),e=om){const n=bc(ot(r),Ng).getImmediate({identifier:e}),o=pm("functions");return o&&n3(n,...o),n}function n3(r,e,t){q5(ot(r),e,t)}function qv(r,e,t){return H5(ot(r),e)}t3();function s3(){const{user:r,userProfile:e}=hr(),[t,n]=T.useState(!1),[o,l]=T.useState(null);return{initiatePayment:async(f,p,g)=>{if(!r||!e)return{success:!1,error:"Please login to make a purchase"};n(!0),l(null);try{const v=r3(),C=(await qv(v,"createRazorpayOrder")({noteId:f,amount:p})).data;return new Promise(I=>{const V={key:"rzp_live_RtZARbkXo0ilnE",amount:C.amount,currency:C.currency,name:"Notezy",description:`Purchase: ${g}`,order_id:C.orderId,prefill:{name:e.name,email:e.email},theme:{color:"#6366f1"},handler:async function(L){try{const P=(await qv(v,"verifyRazorpayPayment")({razorpay_order_id:L.razorpay_order_id,razorpay_payment_id:L.razorpay_payment_id,razorpay_signature:L.razorpay_signature})).data;n(!1),I({success:!0,noteId:P.noteId})}catch(O){n(!1),l(O.message||"Payment verification failed"),I({success:!1,error:O.message})}},modal:{ondismiss:function(){n(!1),I({success:!1,error:"Payment cancelled"})}}},E=new window.Razorpay(V);E.on("payment.failed",function(L){n(!1),l(L.error.description),I({success:!1,error:L.error.description})}),E.open()})}catch(v){n(!1);const b=v.message||"Failed to initiate payment";return l(b),{success:!1,error:b}}},loading:t,error:o,clearError:()=>l(null)}}function i3(){const{isAuthenticated:r,isLoading:e,user:t,userProfile:n,logout:o,isGuest:l,exitGuestMode:u}=hr(),{initiatePayment:f}=s3(),[p,g]=T.useState("landing"),[v,b]=T.useState("home"),[_,C]=T.useState(""),[I,V]=T.useState(null),[E,L]=T.useState(null),[O,$]=T.useState(!1),[P,J]=T.useState("");T.useEffect(()=>{n?.isAdmin&&v==="home"&&b("admin")},[n?.isAdmin]);const Y=n?.isBlocked||!1,[D,j]=T.useState([]),[R,M]=T.useState([]),[U,B]=T.useState([]),[S,_e]=T.useState([]),[He,Qe]=T.useState([]),[Fe,X]=T.useState([]),[ve,oe]=T.useState(!0);if(T.useEffect(()=>{async function je(){try{const[Oe,Je]=await Promise.all([vg(),o_()]);j(Oe),M(Je)}catch(Oe){console.error("Error fetching notes:",Oe)}}je()},[]),T.useEffect(()=>{async function je(){if(!t){B([]),_e([]),Qe([]),X([]),oe(!1);return}try{oe(!0);const[Oe,Je,Mt,mn]=await Promise.all([tR(t.uid),rR(t.uid),iR(t.uid),aR(t.uid)]);B(Oe),_e(Je),Qe(Mt),X(mn)}catch(Oe){console.error("Error fetching user data:",Oe)}finally{oe(!1)}}je()},[t]),e)return i.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!r&&!l)return p==="login"?i.jsx(f5,{onNavigateToSignup:()=>g("signup"),onNavigateToLanding:()=>g("landing")}):p==="signup"?i.jsx(p5,{onNavigateToLogin:()=>g("login"),onNavigateToLanding:()=>g("landing")}):i.jsx(h5,{onNavigateToLogin:()=>g("login"),onNavigateToSignup:()=>g("signup")});const q=je=>l?(J(je),$(!0),!1):!0,ee=()=>{$(!1),u(),g("login")},ge=()=>{$(!1),u(),g("signup")},ye=async je=>{if(!q("Please login to purchase notes.")||!t)return;const Oe=D.find(Je=>Je.id===je);if(Oe&&!Fe.includes(je))try{const Je=await f(je,Oe.price,Oe.title);Je.success?(B([...U,Oe]),X([...Fe,je]),alert(`Successfully purchased "${Oe.title}"!`)):Je.error&&Je.error!=="Payment cancelled"&&alert(`Payment failed: ${Je.error}`)}catch(Je){console.error("Error purchasing note:",Je),alert("Failed to initiate payment. Please try again.")}},Re=async je=>{if(!q("Please login to bookmark notes.")||!t)return;const Oe=D.find(Je=>Je.id===je);if(Oe){const Je=He.includes(je);try{Je?(await sR(t.uid,je),_e(S.filter(Mt=>Mt.id!==je)),Qe(He.filter(Mt=>Mt!==je))):(await nR(t.uid,je),_e([...S,Oe]),Qe([...He,je]))}catch(Mt){console.error("Error updating bookmark:",Mt)}}},Le=async je=>{if(!q("Please login to view full notes."))return;const Oe=[...U,...D].find(Je=>Je.id===je);Oe&&L(Oe)},Ne=n||{id:t?.uid||"",name:t?.displayName||"User",email:t?.email||"",avatarUrl:"",totalEarnings:0,uploadedNotes:[]},Me=v==="home";return Y?v==="support"?i.jsx("div",{className:"min-h-screen bg-slate-950",children:i.jsx(Fv,{onBack:()=>b("home")})}):i.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-2xl p-8 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:"#dc2626"},children:i.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsx("h1",{className:"text-2xl text-white mb-2",children:"Account Blocked"}),i.jsx("p",{className:"text-slate-400 mb-8",children:"Your account has been blocked. If you believe this is a mistake or need help, please contact our support team."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>b("support"),className:"w-full py-3 px-6 rounded-xl text-white font-medium transition-colors",style:{backgroundColor:"#2563eb"},children:" Chat with Customer Care"}),i.jsx("button",{onClick:()=>o(),className:"w-full py-3 px-6 rounded-xl bg-slate-800 text-white font-medium hover:bg-slate-700 transition-colors",children:" Logout"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-slate-950",children:[i.jsx(e6,{currentPage:v,onNavigate:b,onLoginRequest:ee}),i.jsx("div",{className:"hidden lg:block",children:i.jsx(t6,{searchQuery:_,onSearchChange:C,showSearch:Me})}),v==="home"&&i.jsx(r6,{notes:D,freePYQs:R,onPreview:V,onBookmark:Re,onPurchase:ye,onViewNotes:Le,bookmarkedIds:He,purchasedIds:Fe,searchQuery:_,onSearchChange:C}),v==="downloads"&&i.jsx(n6,{purchasedNotes:U,onPreview:V,onViewNotes:Le}),v==="bookmarks"&&i.jsx(s6,{bookmarkedNotes:S,onPreview:V,onBookmark:Re,onPurchase:ye,onViewNotes:Le,purchasedIds:Fe}),v==="earnings"&&i.jsx(i6,{totalEarnings:Ne.totalEarnings,uploadedNotes:Ne.uploadedNotes}),v==="profile"&&i.jsx(c6,{user:Ne,onPreview:V}),v==="upload"&&i.jsx(u6,{}),v==="settings"&&i.jsx(m5,{onNavigateToTerms:()=>b("terms"),onNavigateToAbout:()=>b("about"),onNavigateToPrivacy:()=>b("privacy"),onNavigateToRefund:()=>b("refund"),onNavigateToShipping:()=>b("shipping")}),v==="terms"&&i.jsx(g5,{onBack:()=>b("settings")}),v==="about"&&i.jsx(x5,{onBack:()=>b("settings")}),v==="privacy"&&i.jsx(y5,{onBack:()=>b("settings")}),v==="refund"&&i.jsx(v5,{onBack:()=>b("settings")}),v==="shipping"&&i.jsx(w5,{onBack:()=>b("settings")}),v==="support"&&i.jsx(Fv,{onBack:()=>b("home")}),v==="admin"&&i.jsx(k5,{onNavigate:b}),v==="admin-earnings"&&i.jsx(_5,{onBack:()=>b("admin")}),v==="admin-notes"&&i.jsx(N5,{onBack:()=>b("admin")}),v==="admin-chats"&&i.jsx(j5,{onBack:()=>b("admin")}),v==="admin-users"&&i.jsx(E5,{}),v==="admin-payouts"&&i.jsx(T5,{onBack:()=>b("admin")}),v==="admin-requests"&&i.jsx(I5,{onBack:()=>b("admin")}),v==="admin-pyqs"&&i.jsx(S5,{onBack:()=>b("admin")}),v==="my-requests"&&i.jsx(C5,{}),I&&i.jsx(d6,{note:I,onClose:()=>V(null)}),E&&i.jsx(b5,{note:E,onClose:()=>L(null)}),i.jsx(A5,{isOpen:O,onClose:()=>$(!1),onLogin:ee,onSignup:ge,message:P})]})}function a3(){return i.jsx(R2,{children:i.jsx(AR,{children:i.jsxs(J1,{children:[i.jsx(na,{path:"/terms",element:i.jsx(R5,{})}),i.jsx(na,{path:"/privacy",element:i.jsx(P5,{})}),i.jsx(na,{path:"/refund",element:i.jsx(D5,{})}),i.jsx(na,{path:"/shipping",element:i.jsx(L5,{})}),i.jsx(na,{path:"/contact",element:i.jsx(O5,{})}),i.jsx(na,{path:"/*",element:i.jsx(i3,{})})]})})})}ZN.createRoot(document.getElementById("root")).render(i.jsx(k2,{children:i.jsx(a3,{})}));
