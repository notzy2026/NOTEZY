function MN(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function UN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kf={exports:{}},Vl={},Qf={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function FN(){if(Sx)return Me;Sx=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function E($,ee,ye){this.props=$,this.context=ee,this.refs=L,this.updater=ye||C}E.prototype.isReactComponent={},E.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function z(){}z.prototype=E.prototype;function V($,ee,ye){this.props=$,this.context=ee,this.refs=L,this.updater=ye||C}var G=V.prototype=new z;G.constructor=V,T(G,E.prototype),G.isPureReactComponent=!0;var D=Array.isArray,Z=Object.prototype.hasOwnProperty,Y={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function j($,ee,ye){var ve,Re={},Oe=null,ce=null;if(ee!=null)for(ve in ee.ref!==void 0&&(ce=ee.ref),ee.key!==void 0&&(Oe=""+ee.key),ee)Z.call(ee,ve)&&!P.hasOwnProperty(ve)&&(Re[ve]=ee[ve]);var ke=arguments.length-2;if(ke===1)Re.children=ye;else if(1<ke){for(var Ie=Array(ke),Je=0;Je<ke;Je++)Ie[Je]=arguments[Je+2];Re.children=Ie}if($&&$.defaultProps)for(ve in ke=$.defaultProps,ke)Re[ve]===void 0&&(Re[ve]=ke[ve]);return{$$typeof:r,type:$,key:Oe,ref:ce,props:Re,_owner:Y.current}}function R($,ee){return{$$typeof:r,type:$.type,key:ee,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function M($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return ee[ye]})}var B=/\/+/g;function S($,ee){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):ee.toString(36)}function je($,ee,ye,ve,Re){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var ce=!1;if($===null)ce=!0;else switch(Oe){case"string":case"number":ce=!0;break;case"object":switch($.$$typeof){case r:case e:ce=!0}}if(ce)return ce=$,Re=Re(ce),$=ve===""?"."+S(ce,0):ve,D(Re)?(ye="",$!=null&&(ye=$.replace(B,"$&/")+"/"),je(Re,ee,ye,"",function(Je){return Je})):Re!=null&&(O(Re)&&(Re=R(Re,ye+(!Re.key||ce&&ce.key===Re.key?"":(""+Re.key).replace(B,"$&/")+"/")+$)),ee.push(Re)),1;if(ce=0,ve=ve===""?".":ve+":",D($))for(var ke=0;ke<$.length;ke++){Oe=$[ke];var Ie=ve+S(Oe,ke);ce+=je(Oe,ee,ye,Ie,Re)}else if(Ie=_($),typeof Ie=="function")for($=Ie.call($),ke=0;!(Oe=$.next()).done;)Oe=Oe.value,Ie=ve+S(Oe,ke++),ce+=je(Oe,ee,ye,Ie,Re);else if(Oe==="object")throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ce}function $e($,ee,ye){if($==null)return $;var ve=[],Re=0;return je($,ve,"","",function(Oe){return ee.call(ye,Oe,Re++)}),ve}function Qe($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var He={current:null},X={transition:null},xe={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:X,ReactCurrentOwner:Y};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:$e,forEach:function($,ee,ye){$e($,function(){ee.apply(this,arguments)},ye)},count:function($){var ee=0;return $e($,function(){ee++}),ee},toArray:function($){return $e($,function(ee){return ee})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Me.Component=E,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=V,Me.StrictMode=n,Me.Suspense=p,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Me.act=oe,Me.cloneElement=function($,ee,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ve=T({},$.props),Re=$.key,Oe=$.ref,ce=$._owner;if(ee!=null){if(ee.ref!==void 0&&(Oe=ee.ref,ce=Y.current),ee.key!==void 0&&(Re=""+ee.key),$.type&&$.type.defaultProps)var ke=$.type.defaultProps;for(Ie in ee)Z.call(ee,Ie)&&!P.hasOwnProperty(Ie)&&(ve[Ie]=ee[Ie]===void 0&&ke!==void 0?ke[Ie]:ee[Ie])}var Ie=arguments.length-2;if(Ie===1)ve.children=ye;else if(1<Ie){ke=Array(Ie);for(var Je=0;Je<Ie;Je++)ke[Je]=arguments[Je+2];ve.children=ke}return{$$typeof:r,type:$.type,key:Re,ref:Oe,props:ve,_owner:ce}},Me.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},Me.createElement=j,Me.createFactory=function($){var ee=j.bind(null,$);return ee.type=$,ee},Me.createRef=function(){return{current:null}},Me.forwardRef=function($){return{$$typeof:f,render:$}},Me.isValidElement=O,Me.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:Qe}},Me.memo=function($,ee){return{$$typeof:g,type:$,compare:ee===void 0?null:ee}},Me.startTransition=function($){var ee=X.transition;X.transition={};try{$()}finally{X.transition=ee}},Me.unstable_act=oe,Me.useCallback=function($,ee){return He.current.useCallback($,ee)},Me.useContext=function($){return He.current.useContext($)},Me.useDebugValue=function(){},Me.useDeferredValue=function($){return He.current.useDeferredValue($)},Me.useEffect=function($,ee){return He.current.useEffect($,ee)},Me.useId=function(){return He.current.useId()},Me.useImperativeHandle=function($,ee,ye){return He.current.useImperativeHandle($,ee,ye)},Me.useInsertionEffect=function($,ee){return He.current.useInsertionEffect($,ee)},Me.useLayoutEffect=function($,ee){return He.current.useLayoutEffect($,ee)},Me.useMemo=function($,ee){return He.current.useMemo($,ee)},Me.useReducer=function($,ee,ye){return He.current.useReducer($,ee,ye)},Me.useRef=function($){return He.current.useRef($)},Me.useState=function($){return He.current.useState($)},Me.useSyncExternalStore=function($,ee,ye){return He.current.useSyncExternalStore($,ee,ye)},Me.useTransition=function(){return He.current.useTransition()},Me.version="18.3.1",Me}var Cx;function am(){return Cx||(Cx=1,Qf.exports=FN()),Qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function zN(){if(Ax)return Vl;Ax=1;var r=am(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var v,b={},_=null,C=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)n.call(p,v)&&!l.hasOwnProperty(v)&&(b[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)b[v]===void 0&&(b[v]=p[v]);return{$$typeof:e,type:f,key:_,ref:C,props:b,_owner:o.current}}return Vl.Fragment=t,Vl.jsx=u,Vl.jsxs=u,Vl}var Rx;function BN(){return Rx||(Rx=1,Kf.exports=zN()),Kf.exports}var i=BN(),Ku={},Yf={exports:{}},mr={},Xf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function $N(){return Px||(Px=1,(function(r){function e(X,xe){var oe=X.length;X.push(xe);e:for(;0<oe;){var $=oe-1>>>1,ee=X[$];if(0<o(ee,xe))X[$]=xe,X[oe]=ee,oe=$;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var xe=X[0],oe=X.pop();if(oe!==xe){X[0]=oe;e:for(var $=0,ee=X.length,ye=ee>>>1;$<ye;){var ve=2*($+1)-1,Re=X[ve],Oe=ve+1,ce=X[Oe];if(0>o(Re,oe))Oe<ee&&0>o(ce,Re)?(X[$]=ce,X[Oe]=oe,$=Oe):(X[$]=Re,X[ve]=oe,$=ve);else if(Oe<ee&&0>o(ce,oe))X[$]=ce,X[Oe]=oe,$=Oe;else break e}}return xe}function o(X,xe){var oe=X.sortIndex-xe.sortIndex;return oe!==0?oe:X.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,b=null,_=3,C=!1,T=!1,L=!1,E=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(X){for(var xe=t(g);xe!==null;){if(xe.callback===null)n(g);else if(xe.startTime<=X)n(g),xe.sortIndex=xe.expirationTime,e(p,xe);else break;xe=t(g)}}function D(X){if(L=!1,G(X),!T)if(t(p)!==null)T=!0,Qe(Z);else{var xe=t(g);xe!==null&&He(D,xe.startTime-X)}}function Z(X,xe){T=!1,L&&(L=!1,z(j),j=-1),C=!0;var oe=_;try{for(G(xe),b=t(p);b!==null&&(!(b.expirationTime>xe)||X&&!M());){var $=b.callback;if(typeof $=="function"){b.callback=null,_=b.priorityLevel;var ee=$(b.expirationTime<=xe);xe=r.unstable_now(),typeof ee=="function"?b.callback=ee:b===t(p)&&n(p),G(xe)}else n(p);b=t(p)}if(b!==null)var ye=!0;else{var ve=t(g);ve!==null&&He(D,ve.startTime-xe),ye=!1}return ye}finally{b=null,_=oe,C=!1}}var Y=!1,P=null,j=-1,R=5,O=-1;function M(){return!(r.unstable_now()-O<R)}function B(){if(P!==null){var X=r.unstable_now();O=X;var xe=!0;try{xe=P(!0,X)}finally{xe?S():(Y=!1,P=null)}}else Y=!1}var S;if(typeof V=="function")S=function(){V(B)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,$e=je.port2;je.port1.onmessage=B,S=function(){$e.postMessage(null)}}else S=function(){E(B,0)};function Qe(X){P=X,Y||(Y=!0,S())}function He(X,xe){j=E(function(){X(r.unstable_now())},xe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){T||C||(T=!0,Qe(Z))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(X){switch(_){case 1:case 2:case 3:var xe=3;break;default:xe=_}var oe=_;_=xe;try{return X()}finally{_=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,xe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=_;_=X;try{return xe()}finally{_=oe}},r.unstable_scheduleCallback=function(X,xe,oe){var $=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,X={id:v++,callback:xe,priorityLevel:X,startTime:oe,expirationTime:ee,sortIndex:-1},oe>$?(X.sortIndex=oe,e(g,X),t(p)===null&&X===t(g)&&(L?(z(j),j=-1):L=!0,He(D,oe-$))):(X.sortIndex=ee,e(p,X),T||C||(T=!0,Qe(Z))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var xe=_;return function(){var oe=_;_=xe;try{return X.apply(this,arguments)}finally{_=oe}}}})(Jf)),Jf}var Dx;function qN(){return Dx||(Dx=1,Xf.exports=$N()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function HN(){if(Lx)return mr;Lx=1;var r=am(),e=qN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function _(s){return p.call(b,s)?!0:p.call(v,s)?!1:g.test(s)?b[s]=!0:(v[s]=!0,!1)}function C(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,c,h){if(a===null||typeof a>"u"||C(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function L(s,a,c,h,m,x,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=k}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];E[a]=new L(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(z,V);E[a]=new L(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(z,V);E[a]=new L(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(z,V);E[a]=new L(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function G(s,a,c,h){var m=E.hasOwnProperty(a)?E[a]:null;(m!==null?m.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,m,h)&&(c=null),h||m===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),Y=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),X=Symbol.iterator;function xe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,$;function ee(s){if($===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var ye=!1;function ve(s,a){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var h=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){h=K}s.call(a.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),x=h.stack.split(`
`),k=m.length-1,A=x.length-1;1<=k&&0<=A&&m[k]!==x[A];)A--;for(;1<=k&&0<=A;k--,A--)if(m[k]!==x[A]){if(k!==1||A!==1)do if(k--,A--,0>A||m[k]!==x[A]){var U=`
`+m[k].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=k&&0<=A);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ee(s):""}function Re(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case Y:return"Portal";case R:return"Profiler";case j:return"StrictMode";case S:return"Suspense";case je:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $e:return a=s.displayName||null,a!==null?a:Oe(s.type)||"Memo";case Qe:a=s._payload,s=s._init;try{return Oe(s(a))}catch{}}return null}function ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Je(s){var a=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(k){h=""+k,x.call(this,k)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Dr(s){s._valueTracker||(s._valueTracker=Je(s))}function pn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Ie(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function _s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _a(s,a){var c=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Pc(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=ke(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Na(s,a){a=a.checked,a!=null&&G(s,"checked",a,!1)}function Si(s,a){Na(s,a);var c=ke(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Nt(s,a.type,c):a.hasOwnProperty("defaultValue")&&Nt(s,a.type,ke(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function qo(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Nt(s,a,c){(a!=="number"||_s(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var xt=Array.isArray;function Kr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+ke(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Ho(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Wo(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(xt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:ke(c)}}function Dc(s,a){var c=ke(a.value),h=ke(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Ns(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Go(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Go(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var js,Lc=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=js.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ci(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oc=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(s){Oc.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Es[a]=Es[s]})});function Ts(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Es.hasOwnProperty(s)&&Es[s]?(""+a).trim():a+"px"}function Ea(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Ts(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var Ko=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(s,a){if(a){if(Ko[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ta(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Is=null;function Ia(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $n=null,qn=null,ht=null;function Qo(s){if(s=kl(s)){if(typeof $n!="function")throw Error(t(280));var a=s.stateNode;a&&(a=cu(a),$n(s.stateNode,s.type,a))}}function Ss(s){qn?ht?ht.push(s):ht=[s]:qn=s}function Cs(){if(qn){var s=qn,a=ht;if(ht=qn=null,Qo(s),a)for(s=0;s<a.length;s++)Qo(a[s])}}function Vc(s,a){return s(a)}function Mc(){}var mn=!1;function Uc(s,a,c){if(mn)return s(a,c);mn=!0;try{return Vc(s,a,c)}finally{mn=!1,(qn!==null||ht!==null)&&(Mc(),Cs())}}function Ai(s,a){var c=s.stateNode;if(c===null)return null;var h=cu(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var As=!1;if(f)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){As=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{As=!1}function Fc(s,a,c,h,m,x,k,A,U){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(ne){this.onError(ne)}}var Hn=!1,gn=null,Sa=!1,Lr=null,zc={onError:function(s){Hn=!0,gn=s}};function Bc(s,a,c,h,m,x,k,A,U){Hn=!1,gn=null,Fc.apply(zc,arguments)}function Yo(s,a,c,h,m,x,k,A,U){if(Bc.apply(this,arguments),Hn){if(Hn){var K=gn;Hn=!1,gn=null}else throw Error(t(198));Sa||(Sa=!0,Lr=K)}}function Yr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Xo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function $c(s){if(Yr(s)!==s)throw Error(t(188))}function qc(s){var a=s.alternate;if(!a){if(a=Yr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var x=m.alternate;if(x===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===c)return $c(m),s;if(x===h)return $c(m),a;x=x.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=x;else{for(var k=!1,A=m.child;A;){if(A===c){k=!0,c=m,h=x;break}if(A===h){k=!0,h=m,c=x;break}A=A.sibling}if(!k){for(A=x.child;A;){if(A===c){k=!0,c=x,h=m;break}if(A===h){k=!0,h=x,c=m;break}A=A.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Hc(s){return s=qc(s),s!==null?Ri(s):null}function Ri(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ri(s);if(a!==null)return a;s=s.sibling}return null}var Jo=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Pi=e.unstable_shouldYield,Wn=e.unstable_requestPaint,nt=e.unstable_now,Nh=e.unstable_getCurrentPriorityLevel,Aa=e.unstable_ImmediatePriority,Zo=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,el=e.unstable_LowPriority,Ra=e.unstable_IdlePriority,Li=null,kr=null;function Wc(s){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Li,s,void 0,(s.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:Oi,xn=Math.log,Or=Math.LN2;function Oi(s){return s>>>=0,s===0?32:31-(xn(s)/Or|0)|0}var yn=64,Ps=4194304;function Ke(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gn(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,x=s.pingedLanes,k=c&268435455;if(k!==0){var A=k&~m;A!==0?h=Ke(A):(x&=k,x!==0&&(h=Ke(x)))}else k=c&~m,k!==0?h=Ke(k):x!==0&&(h=Ke(x));if(h===0)return 0;if(a!==0&&a!==h&&(a&m)===0&&(m=h&-h,x=a&-a,m>=x||m===16&&(x&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-_r(a),m=1<<c,h|=s[c],a&=~m;return h}function Vi(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var k=31-_r(x),A=1<<k,U=m[k];U===-1?((A&c)===0||(A&h)!==0)&&(m[k]=Vi(A,a)):U<=a&&(s.expiredLanes|=A),x&=~A}}function tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function rl(){var s=yn;return yn<<=1,(yn&4194240)===0&&(yn=64),s}function nl(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ui(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-_r(a),s[a]=c}function jh(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-_r(c),x=1<<m;a[m]=0,h[m]=-1,s[m]=-1,c&=~x}}function sl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-_r(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}var Be=0;function vn(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var il,Pa,al,ol,ll,wn=!1,Da=[],bn=null,kn=null,zt=null,Fi=new Map,Kn=new Map,Nr=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(s,a){switch(s){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Fi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(a.pointerId)}}function Xr(s,a,c,h,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[m]},a!==null&&(a=kl(a),a!==null&&Pa(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Kc(s,a,c,h,m){switch(a){case"focusin":return bn=Xr(bn,s,a,c,h,m),!0;case"dragenter":return kn=Xr(kn,s,a,c,h,m),!0;case"mouseover":return zt=Xr(zt,s,a,c,h,m),!0;case"pointerover":var x=m.pointerId;return Fi.set(x,Xr(Fi.get(x)||null,s,a,c,h,m)),!0;case"gotpointercapture":return x=m.pointerId,Kn.set(x,Xr(Kn.get(x)||null,s,a,c,h,m)),!0}return!1}function La(s){var a=qi(s.target);if(a!==null){var c=Yr(a);if(c!==null){if(a=c.tag,a===13){if(a=Xo(c),a!==null){s.blockedOn=a,ll(s.priority,function(){al(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ze(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Oa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Is=h,c.target.dispatchEvent(h),Is=null}else return a=kl(c),a!==null&&Pa(a),s.blockedOn=c,!1;a.shift()}return!0}function Qc(s,a,c){Ze(s)&&c.delete(a)}function Eh(){wn=!1,bn!==null&&Ze(bn)&&(bn=null),kn!==null&&Ze(kn)&&(kn=null),zt!==null&&Ze(zt)&&(zt=null),Fi.forEach(Qc),Kn.forEach(Qc)}function Ls(s,a){s.blockedOn===a&&(s.blockedOn=null,wn||(wn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eh)))}function Os(s){function a(m){return Ls(m,s)}if(0<Da.length){Ls(Da[0],s);for(var c=1;c<Da.length;c++){var h=Da[c];h.blockedOn===s&&(h.blockedOn=null)}}for(bn!==null&&Ls(bn,s),kn!==null&&Ls(kn,s),zt!==null&&Ls(zt,s),Fi.forEach(a),Kn.forEach(a),c=0;c<Nr.length;c++)h=Nr[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Nr.length&&(c=Nr[0],c.blockedOn===null);)La(c),c.blockedOn===null&&Nr.shift()}var Qn=D.ReactCurrentBatchConfig,Yn=!0;function _n(s,a,c,h){var m=Be,x=Qn.transition;Qn.transition=null;try{Be=1,cl(s,a,c,h)}finally{Be=m,Qn.transition=x}}function Yc(s,a,c,h){var m=Be,x=Qn.transition;Qn.transition=null;try{Be=4,cl(s,a,c,h)}finally{Be=m,Qn.transition=x}}function cl(s,a,c,h){if(Yn){var m=Oa(s,a,c,h);if(m===null)Vh(s,a,h,Nn,c),Ds(s,h);else if(Kc(m,s,a,c,h))h.stopPropagation();else if(Ds(s,h),a&4&&-1<Gc.indexOf(s)){for(;m!==null;){var x=kl(m);if(x!==null&&il(x),x=Oa(s,a,c,h),x===null&&Vh(s,a,h,Nn,c),x===m)break;m=x}m!==null&&h.stopPropagation()}else Vh(s,a,h,null,c)}}var Nn=null;function Oa(s,a,c,h){if(Nn=null,s=Ia(h),s=qi(s),s!==null)if(a=Yr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Xo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Nn=s,null}function Va(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case Aa:return 1;case Zo:return 4;case Di:case el:return 16;case Ra:return 536870912;default:return 16}default:return 16}}var jr=null,Ma=null,Xn=null;function Xc(){if(Xn)return Xn;var s,a=Ma,c=a.length,h,m="value"in jr?jr.value:jr.textContent,x=m.length;for(s=0;s<c&&a[s]===m[s];s++);var k=c-s;for(h=1;h<=k&&a[c-h]===m[x-h];h++);return Xn=m.slice(s,1<h?1-h:void 0)}function zi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function jn(){return!0}function ul(){return!1}function Kt(s){function a(c,h,m,x,k){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(c=s[A],this[A]=c?c(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?jn:ul,this.isPropagationStopped=ul,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),a}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Kt(En),Vs=oe({},En,{view:0,detail:0}),Ua=Kt(Vs),Fa,za,Er,$i=oe({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Er&&(Er&&s.type==="mousemove"?(Fa=s.screenX-Er.screenX,za=s.screenY-Er.screenY):za=Fa=0,Er=s),Fa)},movementY:function(s){return"movementY"in s?s.movementY:za}}),dl=Kt($i),Jc=oe({},$i,{dataTransfer:0}),Zc=Kt(Jc),Ba=oe({},Vs,{relatedTarget:0}),Bt=Kt(Ba),eu=oe({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Kt(eu),Ms=oe({},En,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Kt(Ms),y=oe({},En,{data:0}),w=Kt(y),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Q[s])?!!a[s]:!1}function De(){return ae}var yt=oe({},Vs,{key:function(s){if(s.key){var a=N[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?H[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(s){return s.type==="keypress"?zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xe=Kt(yt),jt=oe({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=Kt(jt),Jn=oe({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),Tn=Kt(Jn),In=oe({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),$a=Kt(In),hl=oe({},$i,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=Kt(hl),P_=[9,13,27,32],Th=f&&"CompositionEvent"in window,fl=null;f&&"documentMode"in document&&(fl=document.documentMode);var D_=f&&"TextEvent"in window&&!fl,bg=f&&(!Th||fl&&8<fl&&11>=fl),kg=" ",_g=!1;function Ng(s,a){switch(s){case"keyup":return P_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qa=!1;function L_(s,a){switch(s){case"compositionend":return jg(a);case"keypress":return a.which!==32?null:(_g=!0,kg);case"textInput":return s=a.data,s===kg&&_g?null:s;default:return null}}function O_(s,a){if(qa)return s==="compositionend"||!Th&&Ng(s,a)?(s=Xc(),Xn=Ma=jr=null,qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bg&&a.locale!=="ko"?null:a.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!V_[s.type]:a==="textarea"}function Tg(s,a,c,h){Ss(h),a=au(a,"onChange"),0<a.length&&(c=new Bi("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var pl=null,ml=null;function M_(s){Hg(s,0)}function ru(s){var a=Qa(s);if(pn(a))return s}function U_(s,a){if(s==="change")return a}var Ig=!1;if(f){var Ih;if(f){var Sh="oninput"in document;if(!Sh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Sh=typeof Sg.oninput=="function"}Ih=Sh}else Ih=!1;Ig=Ih&&(!document.documentMode||9<document.documentMode)}function Cg(){pl&&(pl.detachEvent("onpropertychange",Ag),ml=pl=null)}function Ag(s){if(s.propertyName==="value"&&ru(ml)){var a=[];Tg(a,ml,s,Ia(s)),Uc(M_,a)}}function F_(s,a,c){s==="focusin"?(Cg(),pl=a,ml=c,pl.attachEvent("onpropertychange",Ag)):s==="focusout"&&Cg()}function z_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ru(ml)}function B_(s,a){if(s==="click")return ru(a)}function $_(s,a){if(s==="input"||s==="change")return ru(a)}function q_(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Jr=typeof Object.is=="function"?Object.is:q_;function gl(s,a){if(Jr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!p.call(a,m)||!Jr(s[m],a[m]))return!1}return!0}function Rg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pg(s,a){var c=Rg(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rg(c)}}function Dg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Dg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Lg(){for(var s=window,a=_s();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=_s(s.document)}return a}function Ch(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function H_(s){var a=Lg(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Dg(c.ownerDocument.documentElement,c)){if(h!==null&&Ch(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,x=Math.min(h.start,m);h=h.end===void 0?x:Math.min(h.end,m),!s.extend&&x>h&&(m=h,h=x,x=m),m=Pg(c,x);var k=Pg(c,h);m&&k&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),x>h?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var W_=f&&"documentMode"in document&&11>=document.documentMode,Ha=null,Ah=null,xl=null,Rh=!1;function Og(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rh||Ha==null||Ha!==_s(h)||(h=Ha,"selectionStart"in h&&Ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xl&&gl(xl,h)||(xl=h,h=au(Ah,"onSelect"),0<h.length&&(a=new Bi("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Ha)))}function nu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Wa={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Ph={},Vg={};f&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function su(s){if(Ph[s])return Ph[s];if(!Wa[s])return s;var a=Wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Vg)return Ph[s]=a[c];return s}var Mg=su("animationend"),Ug=su("animationiteration"),Fg=su("animationstart"),zg=su("transitionend"),Bg=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(s,a){Bg.set(s,a),l(a,[s])}for(var Dh=0;Dh<$g.length;Dh++){var Lh=$g[Dh],G_=Lh.toLowerCase(),K_=Lh[0].toUpperCase()+Lh.slice(1);Us(G_,"on"+K_)}Us(Mg,"onAnimationEnd"),Us(Ug,"onAnimationIteration"),Us(Fg,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(zg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function qg(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Yo(h,a,void 0,s),s.currentTarget=null}function Hg(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var k=h.length-1;0<=k;k--){var A=h[k],U=A.instance,K=A.currentTarget;if(A=A.listener,U!==x&&m.isPropagationStopped())break e;qg(m,A,K),x=U}else for(k=0;k<h.length;k++){if(A=h[k],U=A.instance,K=A.currentTarget,A=A.listener,U!==x&&m.isPropagationStopped())break e;qg(m,A,K),x=U}}}if(Sa)throw s=Lr,Sa=!1,Lr=null,s}function st(s,a){var c=a[$h];c===void 0&&(c=a[$h]=new Set);var h=s+"__bubble";c.has(h)||(Wg(a,s,2,!1),c.add(h))}function Oh(s,a,c){var h=0;a&&(h|=4),Wg(c,s,h,a)}var iu="_reactListening"+Math.random().toString(36).slice(2);function vl(s){if(!s[iu]){s[iu]=!0,n.forEach(function(c){c!=="selectionchange"&&(Q_.has(c)||Oh(c,!1,s),Oh(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[iu]||(a[iu]=!0,Oh("selectionchange",!1,a))}}function Wg(s,a,c,h){switch(Va(a)){case 1:var m=_n;break;case 4:m=Yc;break;default:m=cl}c=m.bind(null,a,c,s),m=void 0,!As||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Vh(s,a,c,h,m){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var A=h.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(k===4)for(k=h.return;k!==null;){var U=k.tag;if((U===3||U===4)&&(U=k.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;k=k.return}for(;A!==null;){if(k=qi(A),k===null)return;if(U=k.tag,U===5||U===6){h=x=k;continue e}A=A.parentNode}}h=h.return}Uc(function(){var K=x,ne=Ia(c),se=[];e:{var re=Bg.get(s);if(re!==void 0){var ue=Bi,fe=s;switch(s){case"keypress":if(zi(c)===0)break e;case"keydown":case"keyup":ue=Xe;break;case"focusin":fe="focus",ue=Bt;break;case"focusout":fe="blur",ue=Bt;break;case"beforeblur":case"afterblur":ue=Bt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Tn;break;case Mg:case Ug:case Fg:ue=tu;break;case zg:ue=$a;break;case"scroll":ue=Ua;break;case"wheel":ue=R_;break;case"copy":case"cut":case"paste":ue=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Tr}var ge=(a&4)!==0,vt=!ge&&s==="scroll",q=ge?re!==null?re+"Capture":null:re;ge=[];for(var F=K,W;F!==null;){W=F;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,q!==null&&(ie=Ai(F,q),ie!=null&&ge.push(wl(F,ie,W)))),vt)break;F=F.return}0<ge.length&&(re=new ue(re,fe,null,c,ne),se.push({event:re,listeners:ge}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",re&&c!==Is&&(fe=c.relatedTarget||c.fromElement)&&(qi(fe)||fe[Zn]))break e;if((ue||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=K,fe=fe?qi(fe):null,fe!==null&&(vt=Yr(fe),fe!==vt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=K),ue!==fe)){if(ge=dl,ie="onMouseLeave",q="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(ge=Tr,ie="onPointerLeave",q="onPointerEnter",F="pointer"),vt=ue==null?re:Qa(ue),W=fe==null?re:Qa(fe),re=new ge(ie,F+"leave",ue,c,ne),re.target=vt,re.relatedTarget=W,ie=null,qi(ne)===K&&(ge=new ge(q,F+"enter",fe,c,ne),ge.target=W,ge.relatedTarget=vt,ie=ge),vt=ie,ue&&fe)t:{for(ge=ue,q=fe,F=0,W=ge;W;W=Ga(W))F++;for(W=0,ie=q;ie;ie=Ga(ie))W++;for(;0<F-W;)ge=Ga(ge),F--;for(;0<W-F;)q=Ga(q),W--;for(;F--;){if(ge===q||q!==null&&ge===q.alternate)break t;ge=Ga(ge),q=Ga(q)}ge=null}else ge=null;ue!==null&&Gg(se,re,ue,ge,!1),fe!==null&&vt!==null&&Gg(se,vt,fe,ge,!0)}}e:{if(re=K?Qa(K):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var we=U_;else if(Eg(re))if(Ig)we=$_;else{we=z_;var Ee=F_}else(ue=re.nodeName)&&ue.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(we=B_);if(we&&(we=we(s,K))){Tg(se,we,c,ne);break e}Ee&&Ee(s,re,K),s==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&Nt(re,"number",re.value)}switch(Ee=K?Qa(K):window,s){case"focusin":(Eg(Ee)||Ee.contentEditable==="true")&&(Ha=Ee,Ah=K,xl=null);break;case"focusout":xl=Ah=Ha=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Og(se,c,ne);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":Og(se,c,ne)}var Te;if(Th)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qa?Ng(s,c)&&(Ae="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ae="onCompositionStart");Ae&&(bg&&c.locale!=="ko"&&(qa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qa&&(Te=Xc()):(jr=ne,Ma="value"in jr?jr.value:jr.textContent,qa=!0)),Ee=au(K,Ae),0<Ee.length&&(Ae=new w(Ae,s,null,c,ne),se.push({event:Ae,listeners:Ee}),Te?Ae.data=Te:(Te=jg(c),Te!==null&&(Ae.data=Te)))),(Te=D_?L_(s,c):O_(s,c))&&(K=au(K,"onBeforeInput"),0<K.length&&(ne=new w("onBeforeInput","beforeinput",null,c,ne),se.push({event:ne,listeners:K}),ne.data=Te))}Hg(se,a)})}function wl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function au(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Ai(s,c),x!=null&&h.unshift(wl(s,x,m)),x=Ai(s,a),x!=null&&h.push(wl(s,x,m))),s=s.return}return h}function Ga(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gg(s,a,c,h,m){for(var x=a._reactName,k=[];c!==null&&c!==h;){var A=c,U=A.alternate,K=A.stateNode;if(U!==null&&U===h)break;A.tag===5&&K!==null&&(A=K,m?(U=Ai(c,x),U!=null&&k.unshift(wl(c,U,A))):m||(U=Ai(c,x),U!=null&&k.push(wl(c,U,A)))),c=c.return}k.length!==0&&s.push({event:a,listeners:k})}var Y_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function Kg(s){return(typeof s=="string"?s:""+s).replace(Y_,`
`).replace(X_,"")}function ou(s,a,c){if(a=Kg(a),Kg(s)!==a&&c)throw Error(t(425))}function lu(){}var Mh=null,Uh=null;function Fh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,J_=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(s){return Qg.resolve(null).then(s).catch(eN)}:zh;function eN(s){setTimeout(function(){throw s})}function Bh(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),Os(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Os(a)}function Fs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Yg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Ka,bl="__reactProps$"+Ka,Zn="__reactContainer$"+Ka,$h="__reactEvents$"+Ka,tN="__reactListeners$"+Ka,rN="__reactHandles$"+Ka;function qi(s){var a=s[Sn];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Zn]||c[Sn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Yg(s);s!==null;){if(c=s[Sn])return c;s=Yg(s)}return a}s=c,c=s.parentNode}return null}function kl(s){return s=s[Sn]||s[Zn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Qa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function cu(s){return s[bl]||null}var qh=[],Ya=-1;function zs(s){return{current:s}}function it(s){0>Ya||(s.current=qh[Ya],qh[Ya]=null,Ya--)}function tt(s,a){Ya++,qh[Ya]=s.current,s.current=a}var Bs={},Qt=zs(Bs),ur=zs(!1),Hi=Bs;function Xa(s,a){var c=s.type.contextTypes;if(!c)return Bs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in c)m[x]=a[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function dr(s){return s=s.childContextTypes,s!=null}function uu(){it(ur),it(Qt)}function Xg(s,a,c){if(Qt.current!==Bs)throw Error(t(168));tt(Qt,a),tt(ur,c)}function Jg(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(t(108,ce(s)||"Unknown",m));return oe({},c,h)}function du(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bs,Hi=Qt.current,tt(Qt,s),tt(ur,ur.current),!0}function Zg(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Jg(s,a,Hi),h.__reactInternalMemoizedMergedChildContext=s,it(ur),it(Qt),tt(Qt,s)):it(ur),tt(ur,c)}var es=null,hu=!1,Hh=!1;function e0(s){es===null?es=[s]:es.push(s)}function nN(s){hu=!0,e0(s)}function $s(){if(!Hh&&es!==null){Hh=!0;var s=0,a=Be;try{var c=es;for(Be=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}es=null,hu=!1}catch(m){throw es!==null&&(es=es.slice(s+1)),Jo(Aa,$s),m}finally{Be=a,Hh=!1}}return null}var Ja=[],Za=0,fu=null,pu=0,Vr=[],Mr=0,Wi=null,ts=1,rs="";function Gi(s,a){Ja[Za++]=pu,Ja[Za++]=fu,fu=s,pu=a}function t0(s,a,c){Vr[Mr++]=ts,Vr[Mr++]=rs,Vr[Mr++]=Wi,Wi=s;var h=ts;s=rs;var m=32-_r(h)-1;h&=~(1<<m),c+=1;var x=32-_r(a)+m;if(30<x){var k=m-m%5;x=(h&(1<<k)-1).toString(32),h>>=k,m-=k,ts=1<<32-_r(a)+m|c<<m|h,rs=x+s}else ts=1<<x|c<<m|h,rs=s}function Wh(s){s.return!==null&&(Gi(s,1),t0(s,1,0))}function Gh(s){for(;s===fu;)fu=Ja[--Za],Ja[Za]=null,pu=Ja[--Za],Ja[Za]=null;for(;s===Wi;)Wi=Vr[--Mr],Vr[Mr]=null,rs=Vr[--Mr],Vr[Mr]=null,ts=Vr[--Mr],Vr[Mr]=null}var Ir=null,Sr=null,ot=!1,Zr=null;function r0(s,a){var c=Br(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function n0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ir=s,Sr=Fs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ir=s,Sr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Wi!==null?{id:ts,overflow:rs}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Br(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Ir=s,Sr=null,!0):!1;default:return!1}}function Kh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Qh(s){if(ot){var a=Sr;if(a){var c=a;if(!n0(s,a)){if(Kh(s))throw Error(t(418));a=Fs(c.nextSibling);var h=Ir;a&&n0(s,a)?r0(h,c):(s.flags=s.flags&-4097|2,ot=!1,Ir=s)}}else{if(Kh(s))throw Error(t(418));s.flags=s.flags&-4097|2,ot=!1,Ir=s}}}function s0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ir=s}function mu(s){if(s!==Ir)return!1;if(!ot)return s0(s),ot=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Fh(s.type,s.memoizedProps)),a&&(a=Sr)){if(Kh(s))throw i0(),Error(t(418));for(;a;)r0(s,a),a=Fs(a.nextSibling)}if(s0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Sr=Fs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Sr=null}}else Sr=Ir?Fs(s.stateNode.nextSibling):null;return!0}function i0(){for(var s=Sr;s;)s=Fs(s.nextSibling)}function eo(){Sr=Ir=null,ot=!1}function Yh(s){Zr===null?Zr=[s]:Zr.push(s)}var sN=D.ReactCurrentBatchConfig;function _l(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(k){var A=m.refs;k===null?delete A[x]:A[x]=k},a._stringRef=x,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function gu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function a0(s){var a=s._init;return a(s._payload)}function o0(s){function a(q,F){if(s){var W=q.deletions;W===null?(q.deletions=[F],q.flags|=16):W.push(F)}}function c(q,F){if(!s)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function h(q,F){for(q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function m(q,F){return q=Xs(q,F),q.index=0,q.sibling=null,q}function x(q,F,W){return q.index=W,s?(W=q.alternate,W!==null?(W=W.index,W<F?(q.flags|=2,F):W):(q.flags|=2,F)):(q.flags|=1048576,F)}function k(q){return s&&q.alternate===null&&(q.flags|=2),q}function A(q,F,W,ie){return F===null||F.tag!==6?(F=Bf(W,q.mode,ie),F.return=q,F):(F=m(F,W),F.return=q,F)}function U(q,F,W,ie){var we=W.type;return we===P?ne(q,F,W.props.children,ie,W.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Qe&&a0(we)===F.type)?(ie=m(F,W.props),ie.ref=_l(q,F,W),ie.return=q,ie):(ie=Fu(W.type,W.key,W.props,null,q.mode,ie),ie.ref=_l(q,F,W),ie.return=q,ie)}function K(q,F,W,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=$f(W,q.mode,ie),F.return=q,F):(F=m(F,W.children||[]),F.return=q,F)}function ne(q,F,W,ie,we){return F===null||F.tag!==7?(F=ta(W,q.mode,ie,we),F.return=q,F):(F=m(F,W),F.return=q,F)}function se(q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Bf(""+F,q.mode,W),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Z:return W=Fu(F.type,F.key,F.props,null,q.mode,W),W.ref=_l(q,null,F),W.return=q,W;case Y:return F=$f(F,q.mode,W),F.return=q,F;case Qe:var ie=F._init;return se(q,ie(F._payload),W)}if(xt(F)||xe(F))return F=ta(F,q.mode,W,null),F.return=q,F;gu(q,F)}return null}function re(q,F,W,ie){var we=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return we!==null?null:A(q,F,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:return W.key===we?U(q,F,W,ie):null;case Y:return W.key===we?K(q,F,W,ie):null;case Qe:return we=W._init,re(q,F,we(W._payload),ie)}if(xt(W)||xe(W))return we!==null?null:ne(q,F,W,ie,null);gu(q,W)}return null}function ue(q,F,W,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return q=q.get(W)||null,A(F,q,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Z:return q=q.get(ie.key===null?W:ie.key)||null,U(F,q,ie,we);case Y:return q=q.get(ie.key===null?W:ie.key)||null,K(F,q,ie,we);case Qe:var Ee=ie._init;return ue(q,F,W,Ee(ie._payload),we)}if(xt(ie)||xe(ie))return q=q.get(W)||null,ne(F,q,ie,we,null);gu(F,ie)}return null}function fe(q,F,W,ie){for(var we=null,Ee=null,Te=F,Ae=F=0,Ut=null;Te!==null&&Ae<W.length;Ae++){Te.index>Ae?(Ut=Te,Te=null):Ut=Te.sibling;var Ge=re(q,Te,W[Ae],ie);if(Ge===null){Te===null&&(Te=Ut);break}s&&Te&&Ge.alternate===null&&a(q,Te),F=x(Ge,F,Ae),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge,Te=Ut}if(Ae===W.length)return c(q,Te),ot&&Gi(q,Ae),we;if(Te===null){for(;Ae<W.length;Ae++)Te=se(q,W[Ae],ie),Te!==null&&(F=x(Te,F,Ae),Ee===null?we=Te:Ee.sibling=Te,Ee=Te);return ot&&Gi(q,Ae),we}for(Te=h(q,Te);Ae<W.length;Ae++)Ut=ue(Te,q,Ae,W[Ae],ie),Ut!==null&&(s&&Ut.alternate!==null&&Te.delete(Ut.key===null?Ae:Ut.key),F=x(Ut,F,Ae),Ee===null?we=Ut:Ee.sibling=Ut,Ee=Ut);return s&&Te.forEach(function(Js){return a(q,Js)}),ot&&Gi(q,Ae),we}function ge(q,F,W,ie){var we=xe(W);if(typeof we!="function")throw Error(t(150));if(W=we.call(W),W==null)throw Error(t(151));for(var Ee=we=null,Te=F,Ae=F=0,Ut=null,Ge=W.next();Te!==null&&!Ge.done;Ae++,Ge=W.next()){Te.index>Ae?(Ut=Te,Te=null):Ut=Te.sibling;var Js=re(q,Te,Ge.value,ie);if(Js===null){Te===null&&(Te=Ut);break}s&&Te&&Js.alternate===null&&a(q,Te),F=x(Js,F,Ae),Ee===null?we=Js:Ee.sibling=Js,Ee=Js,Te=Ut}if(Ge.done)return c(q,Te),ot&&Gi(q,Ae),we;if(Te===null){for(;!Ge.done;Ae++,Ge=W.next())Ge=se(q,Ge.value,ie),Ge!==null&&(F=x(Ge,F,Ae),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge);return ot&&Gi(q,Ae),we}for(Te=h(q,Te);!Ge.done;Ae++,Ge=W.next())Ge=ue(Te,q,Ae,Ge.value,ie),Ge!==null&&(s&&Ge.alternate!==null&&Te.delete(Ge.key===null?Ae:Ge.key),F=x(Ge,F,Ae),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge);return s&&Te.forEach(function(VN){return a(q,VN)}),ot&&Gi(q,Ae),we}function vt(q,F,W,ie){if(typeof W=="object"&&W!==null&&W.type===P&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:e:{for(var we=W.key,Ee=F;Ee!==null;){if(Ee.key===we){if(we=W.type,we===P){if(Ee.tag===7){c(q,Ee.sibling),F=m(Ee,W.props.children),F.return=q,q=F;break e}}else if(Ee.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Qe&&a0(we)===Ee.type){c(q,Ee.sibling),F=m(Ee,W.props),F.ref=_l(q,Ee,W),F.return=q,q=F;break e}c(q,Ee);break}else a(q,Ee);Ee=Ee.sibling}W.type===P?(F=ta(W.props.children,q.mode,ie,W.key),F.return=q,q=F):(ie=Fu(W.type,W.key,W.props,null,q.mode,ie),ie.ref=_l(q,F,W),ie.return=q,q=ie)}return k(q);case Y:e:{for(Ee=W.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){c(q,F.sibling),F=m(F,W.children||[]),F.return=q,q=F;break e}else{c(q,F);break}else a(q,F);F=F.sibling}F=$f(W,q.mode,ie),F.return=q,q=F}return k(q);case Qe:return Ee=W._init,vt(q,F,Ee(W._payload),ie)}if(xt(W))return fe(q,F,W,ie);if(xe(W))return ge(q,F,W,ie);gu(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(c(q,F.sibling),F=m(F,W),F.return=q,q=F):(c(q,F),F=Bf(W,q.mode,ie),F.return=q,q=F),k(q)):c(q,F)}return vt}var to=o0(!0),l0=o0(!1),xu=zs(null),yu=null,ro=null,Xh=null;function Jh(){Xh=ro=yu=null}function Zh(s){var a=xu.current;it(xu),s._currentValue=a}function ef(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function no(s,a){yu=s,Xh=ro=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(hr=!0),s.firstContext=null)}function Ur(s){var a=s._currentValue;if(Xh!==s)if(s={context:s,memoizedValue:a,next:null},ro===null){if(yu===null)throw Error(t(308));ro=s,yu.dependencies={lanes:0,firstContext:s}}else ro=ro.next=s;return a}var Ki=null;function tf(s){Ki===null?Ki=[s]:Ki.push(s)}function c0(s,a,c,h){var m=a.interleaved;return m===null?(c.next=c,tf(a)):(c.next=m.next,m.next=c),a.interleaved=c,ns(s,h)}function ns(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var qs=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ss(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Hs(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,ns(s,c)}return m=h.interleaved,m===null?(a.next=a,tf(h)):(a.next=m.next,m.next=a),h.interleaved=a,ns(s,c)}function vu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,sl(s,c)}}function d0(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?m=x=k:x=x.next=k,c=c.next}while(c!==null);x===null?m=x=a:x=x.next=a}else m=x=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function wu(s,a,c,h){var m=s.updateQueue;qs=!1;var x=m.firstBaseUpdate,k=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var U=A,K=U.next;U.next=null,k===null?x=K:k.next=K,k=U;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==k&&(A===null?ne.firstBaseUpdate=K:A.next=K,ne.lastBaseUpdate=U))}if(x!==null){var se=m.baseState;k=0,ne=K=U=null,A=x;do{var re=A.lane,ue=A.eventTime;if((h&re)===re){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var fe=s,ge=A;switch(re=a,ue=c,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){se=fe.call(ue,se,re);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,re=typeof fe=="function"?fe.call(ue,se,re):fe,re==null)break e;se=oe({},se,re);break e;case 2:qs=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[A]:re.push(A))}else ue={eventTime:ue,lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(K=ne=ue,U=se):ne=ne.next=ue,k|=re;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;re=A,A=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ne===null&&(U=se),m.baseState=U,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do k|=m.lane,m=m.next;while(m!==a)}else x===null&&(m.shared.lanes=0);Xi|=k,s.lanes=k,s.memoizedState=se}}function h0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Nl={},Cn=zs(Nl),jl=zs(Nl),El=zs(Nl);function Qi(s){if(s===Nl)throw Error(t(174));return s}function nf(s,a){switch(tt(El,a),tt(jl,s),tt(Cn,Nl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ja(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ja(a,s)}it(Cn),tt(Cn,a)}function so(){it(Cn),it(jl),it(El)}function f0(s){Qi(El.current);var a=Qi(Cn.current),c=ja(a,s.type);a!==c&&(tt(jl,s),tt(Cn,c))}function sf(s){jl.current===s&&(it(Cn),it(jl))}var lt=zs(0);function bu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var af=[];function of(){for(var s=0;s<af.length;s++)af[s]._workInProgressVersionPrimary=null;af.length=0}var ku=D.ReactCurrentDispatcher,lf=D.ReactCurrentBatchConfig,Yi=0,ct=null,Pt=null,Vt=null,_u=!1,Tl=!1,Il=0,iN=0;function Yt(){throw Error(t(321))}function cf(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Jr(s[c],a[c]))return!1;return!0}function uf(s,a,c,h,m,x){if(Yi=x,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ku.current=s===null||s.memoizedState===null?cN:uN,s=c(h,m),Tl){x=0;do{if(Tl=!1,Il=0,25<=x)throw Error(t(301));x+=1,Vt=Pt=null,a.updateQueue=null,ku.current=dN,s=c(h,m)}while(Tl)}if(ku.current=Eu,a=Pt!==null&&Pt.next!==null,Yi=0,Vt=Pt=ct=null,_u=!1,a)throw Error(t(300));return s}function df(){var s=Il!==0;return Il=0,s}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ct.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Fr(){if(Pt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var a=Vt===null?ct.memoizedState:Vt.next;if(a!==null)Vt=a,Pt=s;else{if(s===null)throw Error(t(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Vt===null?ct.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Sl(s,a){return typeof a=="function"?a(s):a}function hf(s){var a=Fr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Pt,m=h.baseQueue,x=c.pending;if(x!==null){if(m!==null){var k=m.next;m.next=x.next,x.next=k}h.baseQueue=m=x,c.pending=null}if(m!==null){x=m.next,h=h.baseState;var A=k=null,U=null,K=x;do{var ne=K.lane;if((Yi&ne)===ne)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(A=U=se,k=h):U=U.next=se,ct.lanes|=ne,Xi|=ne}K=K.next}while(K!==null&&K!==x);U===null?k=h:U.next=A,Jr(h,a.memoizedState)||(hr=!0),a.memoizedState=h,a.baseState=k,a.baseQueue=U,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do x=m.lane,ct.lanes|=x,Xi|=x,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ff(s){var a=Fr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,x=a.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do x=s(x,k.action),k=k.next;while(k!==m);Jr(x,a.memoizedState)||(hr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function p0(){}function m0(s,a){var c=ct,h=Fr(),m=a(),x=!Jr(h.memoizedState,m);if(x&&(h.memoizedState=m,hr=!0),h=h.queue,pf(y0.bind(null,c,h,s),[s]),h.getSnapshot!==a||x||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,Cl(9,x0.bind(null,c,h,m,a),void 0,null),Mt===null)throw Error(t(349));(Yi&30)!==0||g0(c,a,m)}return m}function g0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function x0(s,a,c,h){a.value=c,a.getSnapshot=h,v0(a)&&w0(s)}function y0(s,a,c){return c(function(){v0(a)&&w0(s)})}function v0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Jr(s,c)}catch{return!0}}function w0(s){var a=ns(s,1);a!==null&&nn(a,s,1,-1)}function b0(s){var a=An();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:s},a.queue=s,s=s.dispatch=lN.bind(null,ct,s),[a.memoizedState,s]}function Cl(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function k0(){return Fr().memoizedState}function Nu(s,a,c,h){var m=An();ct.flags|=s,m.memoizedState=Cl(1|a,c,void 0,h===void 0?null:h)}function ju(s,a,c,h){var m=Fr();h=h===void 0?null:h;var x=void 0;if(Pt!==null){var k=Pt.memoizedState;if(x=k.destroy,h!==null&&cf(h,k.deps)){m.memoizedState=Cl(a,c,x,h);return}}ct.flags|=s,m.memoizedState=Cl(1|a,c,x,h)}function _0(s,a){return Nu(8390656,8,s,a)}function pf(s,a){return ju(2048,8,s,a)}function N0(s,a){return ju(4,2,s,a)}function j0(s,a){return ju(4,4,s,a)}function E0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function T0(s,a,c){return c=c!=null?c.concat([s]):null,ju(4,4,E0.bind(null,a,s),c)}function mf(){}function I0(s,a){var c=Fr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&cf(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function S0(s,a){var c=Fr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&cf(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function C0(s,a,c){return(Yi&21)===0?(s.baseState&&(s.baseState=!1,hr=!0),s.memoizedState=c):(Jr(c,a)||(c=rl(),ct.lanes|=c,Xi|=c,s.baseState=!0),a)}function aN(s,a){var c=Be;Be=c!==0&&4>c?c:4,s(!0);var h=lf.transition;lf.transition={};try{s(!1),a()}finally{Be=c,lf.transition=h}}function A0(){return Fr().memoizedState}function oN(s,a,c){var h=Qs(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},R0(s))P0(a,c);else if(c=c0(s,a,c,h),c!==null){var m=ar();nn(c,s,h,m),D0(c,a,h)}}function lN(s,a,c){var h=Qs(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(R0(s))P0(a,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var k=a.lastRenderedState,A=x(k,c);if(m.hasEagerState=!0,m.eagerState=A,Jr(A,k)){var U=a.interleaved;U===null?(m.next=m,tf(a)):(m.next=U.next,U.next=m),a.interleaved=m;return}}catch{}finally{}c=c0(s,a,m,h),c!==null&&(m=ar(),nn(c,s,h,m),D0(c,a,h))}}function R0(s){var a=s.alternate;return s===ct||a!==null&&a===ct}function P0(s,a){Tl=_u=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function D0(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,sl(s,c)}}var Eu={readContext:Ur,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},cN={readContext:Ur,useCallback:function(s,a){return An().memoizedState=[s,a===void 0?null:a],s},useContext:Ur,useEffect:_0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Nu(4194308,4,E0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Nu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Nu(4,2,s,a)},useMemo:function(s,a){var c=An();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=An();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=oN.bind(null,ct,s),[h.memoizedState,s]},useRef:function(s){var a=An();return s={current:s},a.memoizedState=s},useState:b0,useDebugValue:mf,useDeferredValue:function(s){return An().memoizedState=s},useTransition:function(){var s=b0(!1),a=s[0];return s=aN.bind(null,s[1]),An().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=ct,m=An();if(ot){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Mt===null)throw Error(t(349));(Yi&30)!==0||g0(h,a,c)}m.memoizedState=c;var x={value:c,getSnapshot:a};return m.queue=x,_0(y0.bind(null,h,x,s),[s]),h.flags|=2048,Cl(9,x0.bind(null,h,x,c,a),void 0,null),c},useId:function(){var s=An(),a=Mt.identifierPrefix;if(ot){var c=rs,h=ts;c=(h&~(1<<32-_r(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=Il++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=iN++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},uN={readContext:Ur,useCallback:I0,useContext:Ur,useEffect:pf,useImperativeHandle:T0,useInsertionEffect:N0,useLayoutEffect:j0,useMemo:S0,useReducer:hf,useRef:k0,useState:function(){return hf(Sl)},useDebugValue:mf,useDeferredValue:function(s){var a=Fr();return C0(a,Pt.memoizedState,s)},useTransition:function(){var s=hf(Sl)[0],a=Fr().memoizedState;return[s,a]},useMutableSource:p0,useSyncExternalStore:m0,useId:A0,unstable_isNewReconciler:!1},dN={readContext:Ur,useCallback:I0,useContext:Ur,useEffect:pf,useImperativeHandle:T0,useInsertionEffect:N0,useLayoutEffect:j0,useMemo:S0,useReducer:ff,useRef:k0,useState:function(){return ff(Sl)},useDebugValue:mf,useDeferredValue:function(s){var a=Fr();return Pt===null?a.memoizedState=s:C0(a,Pt.memoizedState,s)},useTransition:function(){var s=ff(Sl)[0],a=Fr().memoizedState;return[s,a]},useMutableSource:p0,useSyncExternalStore:m0,useId:A0,unstable_isNewReconciler:!1};function en(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function gf(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:oe({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Tu={isMounted:function(s){return(s=s._reactInternals)?Yr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ar(),m=Qs(s),x=ss(h,m);x.payload=a,c!=null&&(x.callback=c),a=Hs(s,x,m),a!==null&&(nn(a,s,m,h),vu(a,s,m))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ar(),m=Qs(s),x=ss(h,m);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Hs(s,x,m),a!==null&&(nn(a,s,m,h),vu(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ar(),h=Qs(s),m=ss(c,h);m.tag=2,a!=null&&(m.callback=a),a=Hs(s,m,h),a!==null&&(nn(a,s,h,c),vu(a,s,h))}};function L0(s,a,c,h,m,x,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,k):a.prototype&&a.prototype.isPureReactComponent?!gl(c,h)||!gl(m,x):!0}function O0(s,a,c){var h=!1,m=Bs,x=a.contextType;return typeof x=="object"&&x!==null?x=Ur(x):(m=dr(a)?Hi:Qt.current,h=a.contextTypes,x=(h=h!=null)?Xa(s,m):Bs),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Tu,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),a}function V0(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Tu.enqueueReplaceState(a,a.state,null)}function xf(s,a,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},rf(s);var x=a.contextType;typeof x=="object"&&x!==null?m.context=Ur(x):(x=dr(a)?Hi:Qt.current,m.context=Xa(s,x)),m.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(gf(s,a,x,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Tu.enqueueReplaceState(m,m.state,null),wu(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function io(s,a){try{var c="",h=a;do c+=Re(h),h=h.return;while(h);var m=c}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:m,digest:null}}function yf(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function vf(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var hN=typeof WeakMap=="function"?WeakMap:Map;function M0(s,a,c){c=ss(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Du||(Du=!0,Df=h),vf(s,a)},c}function U0(s,a,c){c=ss(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;c.payload=function(){return h(m)},c.callback=function(){vf(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){vf(s,a),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function F0(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new hN;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(m.add(c),s=EN.bind(null,s,a,c),a.then(s,s))}function z0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function B0(s,a,c,h,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ss(-1,1),a.tag=2,Hs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var fN=D.ReactCurrentOwner,hr=!1;function ir(s,a,c,h){a.child=s===null?l0(a,null,c,h):to(a,s.child,c,h)}function $0(s,a,c,h,m){c=c.render;var x=a.ref;return no(a,m),h=uf(s,a,c,h,x,m),c=df(),s!==null&&!hr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,is(s,a,m)):(ot&&c&&Wh(a),a.flags|=1,ir(s,a,h,m),a.child)}function q0(s,a,c,h,m){if(s===null){var x=c.type;return typeof x=="function"&&!zf(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,H0(s,a,x,h,m)):(s=Fu(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&m)===0){var k=x.memoizedProps;if(c=c.compare,c=c!==null?c:gl,c(k,h)&&s.ref===a.ref)return is(s,a,m)}return a.flags|=1,s=Xs(x,h),s.ref=a.ref,s.return=a,a.child=s}function H0(s,a,c,h,m){if(s!==null){var x=s.memoizedProps;if(gl(x,h)&&s.ref===a.ref)if(hr=!1,a.pendingProps=h=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(hr=!0);else return a.lanes=s.lanes,is(s,a,m)}return wf(s,a,c,h,m)}function W0(s,a,c){var h=a.pendingProps,m=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(oo,Cr),Cr|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(oo,Cr),Cr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,tt(oo,Cr),Cr|=h}else x!==null?(h=x.baseLanes|c,a.memoizedState=null):h=c,tt(oo,Cr),Cr|=h;return ir(s,a,m,c),a.child}function G0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function wf(s,a,c,h,m){var x=dr(c)?Hi:Qt.current;return x=Xa(a,x),no(a,m),c=uf(s,a,c,h,x,m),h=df(),s!==null&&!hr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,is(s,a,m)):(ot&&h&&Wh(a),a.flags|=1,ir(s,a,c,m),a.child)}function K0(s,a,c,h,m){if(dr(c)){var x=!0;du(a)}else x=!1;if(no(a,m),a.stateNode===null)Su(s,a),O0(a,c,h),xf(a,c,h,m),h=!0;else if(s===null){var k=a.stateNode,A=a.memoizedProps;k.props=A;var U=k.context,K=c.contextType;typeof K=="object"&&K!==null?K=Ur(K):(K=dr(c)?Hi:Qt.current,K=Xa(a,K));var ne=c.getDerivedStateFromProps,se=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==h||U!==K)&&V0(a,k,h,K),qs=!1;var re=a.memoizedState;k.state=re,wu(a,h,k,m),U=a.memoizedState,A!==h||re!==U||ur.current||qs?(typeof ne=="function"&&(gf(a,c,ne,h),U=a.memoizedState),(A=qs||L0(a,c,A,h,re,U,K))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=U),k.props=h,k.state=U,k.context=K,h=A):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{k=a.stateNode,u0(s,a),A=a.memoizedProps,K=a.type===a.elementType?A:en(a.type,A),k.props=K,se=a.pendingProps,re=k.context,U=c.contextType,typeof U=="object"&&U!==null?U=Ur(U):(U=dr(c)?Hi:Qt.current,U=Xa(a,U));var ue=c.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==se||re!==U)&&V0(a,k,h,U),qs=!1,re=a.memoizedState,k.state=re,wu(a,h,k,m);var fe=a.memoizedState;A!==se||re!==fe||ur.current||qs?(typeof ue=="function"&&(gf(a,c,ue,h),fe=a.memoizedState),(K=qs||L0(a,c,K,h,re,fe,U)||!1)?(ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,fe,U),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,fe,U)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=fe),k.props=h,k.state=fe,k.context=U,h=K):(typeof k.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),h=!1)}return bf(s,a,c,h,x,m)}function bf(s,a,c,h,m,x){G0(s,a);var k=(a.flags&128)!==0;if(!h&&!k)return m&&Zg(a,c,!1),is(s,a,x);h=a.stateNode,fN.current=a;var A=k&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&k?(a.child=to(a,s.child,null,x),a.child=to(a,null,A,x)):ir(s,a,A,x),a.memoizedState=h.state,m&&Zg(a,c,!0),a.child}function Q0(s){var a=s.stateNode;a.pendingContext?Xg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Xg(s,a.context,!1),nf(s,a.containerInfo)}function Y0(s,a,c,h,m){return eo(),Yh(m),a.flags|=256,ir(s,a,c,h),a.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function _f(s){return{baseLanes:s,cachePool:null,transitions:null}}function X0(s,a,c){var h=a.pendingProps,m=lt.current,x=!1,k=(a.flags&128)!==0,A;if((A=k)||(A=s!==null&&s.memoizedState===null?!1:(m&2)!==0),A?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),tt(lt,m&1),s===null)return Qh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=h.children,s=h.fallback,x?(h=a.mode,x=a.child,k={mode:"hidden",children:k},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=k):x=zu(k,h,0,null),s=ta(s,h,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=_f(c),a.memoizedState=kf,s):Nf(a,k));if(m=s.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return pN(s,a,k,h,A,m,c);if(x){x=h.fallback,k=a.mode,m=s.child,A=m.sibling;var U={mode:"hidden",children:h.children};return(k&1)===0&&a.child!==m?(h=a.child,h.childLanes=0,h.pendingProps=U,a.deletions=null):(h=Xs(m,U),h.subtreeFlags=m.subtreeFlags&14680064),A!==null?x=Xs(A,x):(x=ta(x,k,c,null),x.flags|=2),x.return=a,h.return=a,h.sibling=x,a.child=h,h=x,x=a.child,k=s.child.memoizedState,k=k===null?_f(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},x.memoizedState=k,x.childLanes=s.childLanes&~c,a.memoizedState=kf,h}return x=s.child,s=x.sibling,h=Xs(x,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function Nf(s,a){return a=zu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Iu(s,a,c,h){return h!==null&&Yh(h),to(a,s.child,null,c),s=Nf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function pN(s,a,c,h,m,x,k){if(c)return a.flags&256?(a.flags&=-257,h=yf(Error(t(422))),Iu(s,a,k,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=h.fallback,m=a.mode,h=zu({mode:"visible",children:h.children},m,0,null),x=ta(x,m,k,null),x.flags|=2,h.return=a,x.return=a,h.sibling=x,a.child=h,(a.mode&1)!==0&&to(a,s.child,null,k),a.child.memoizedState=_f(k),a.memoizedState=kf,x);if((a.mode&1)===0)return Iu(s,a,k,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var A=h.dgst;return h=A,x=Error(t(419)),h=yf(x,h,void 0),Iu(s,a,k,h)}if(A=(k&s.childLanes)!==0,hr||A){if(h=Mt,h!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|k))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,ns(s,m),nn(h,s,m,-1))}return Ff(),h=yf(Error(t(421))),Iu(s,a,k,h)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=TN.bind(null,s),m._reactRetry=a,null):(s=x.treeContext,Sr=Fs(m.nextSibling),Ir=a,ot=!0,Zr=null,s!==null&&(Vr[Mr++]=ts,Vr[Mr++]=rs,Vr[Mr++]=Wi,ts=s.id,rs=s.overflow,Wi=a),a=Nf(a,h.children),a.flags|=4096,a)}function J0(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),ef(s.return,a,c)}function jf(s,a,c,h,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m)}function Z0(s,a,c){var h=a.pendingProps,m=h.revealOrder,x=h.tail;if(ir(s,a,h.children,c),h=lt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&J0(s,c,a);else if(s.tag===19)J0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(tt(lt,h),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&bu(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),jf(a,!1,m,c,x);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&bu(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}jf(a,!0,c,null,x);break;case"together":jf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Su(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function is(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Xi|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Xs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Xs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function mN(s,a,c){switch(a.tag){case 3:Q0(a),eo();break;case 5:f0(a);break;case 1:dr(a.type)&&du(a);break;case 4:nf(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,m=a.memoizedProps.value;tt(xu,h._currentValue),h._currentValue=m;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(tt(lt,lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?X0(s,a,c):(tt(lt,lt.current&1),s=is(s,a,c),s!==null?s.sibling:null);tt(lt,lt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return Z0(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(lt,lt.current),h)break;return null;case 22:case 23:return a.lanes=0,W0(s,a,c)}return is(s,a,c)}var ex,Ef,tx,rx;ex=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ef=function(){},tx=function(s,a,c,h){var m=s.memoizedProps;if(m!==h){s=a.stateNode,Qi(Cn.current);var x=null;switch(c){case"input":m=_a(s,m),h=_a(s,h),x=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),x=[];break;case"textarea":m=Ho(s,m),h=Ho(s,h),x=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=lu)}Qr(c,h);var k;c=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var A=m[K];for(k in A)A.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in h){var U=h[K];if(A=m?.[K],h.hasOwnProperty(K)&&U!==A&&(U!=null||A!=null))if(K==="style")if(A){for(k in A)!A.hasOwnProperty(k)||U&&U.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in U)U.hasOwnProperty(k)&&A[k]!==U[k]&&(c||(c={}),c[k]=U[k])}else c||(x||(x=[]),x.push(K,c)),c=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,A=A?A.__html:void 0,U!=null&&A!==U&&(x=x||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(x=x||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&st("scroll",s),x||A===U||(x=[])):(x=x||[]).push(K,U))}c&&(x=x||[]).push("style",c);var K=x;(a.updateQueue=K)&&(a.flags|=4)}},rx=function(s,a,c,h){c!==h&&(a.flags|=4)};function Al(s,a){if(!ot)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Xt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function gN(s,a,c){var h=a.pendingProps;switch(Gh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return dr(a.type)&&uu(),Xt(a),null;case 3:return h=a.stateNode,so(),it(ur),it(Qt),of(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(mu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zr!==null&&(Vf(Zr),Zr=null))),Ef(s,a),Xt(a),null;case 5:sf(a);var m=Qi(El.current);if(c=a.type,s!==null&&a.stateNode!=null)tx(s,a,c,h,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return Xt(a),null}if(s=Qi(Cn.current),mu(a)){h=a.stateNode,c=a.type;var x=a.memoizedProps;switch(h[Sn]=a,h[bl]=x,s=(a.mode&1)!==0,c){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(m=0;m<yl.length;m++)st(yl[m],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":Pc(h,x),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},st("invalid",h);break;case"textarea":Wo(h,x),st("invalid",h)}Qr(c,x),m=null;for(var k in x)if(x.hasOwnProperty(k)){var A=x[k];k==="children"?typeof A=="string"?h.textContent!==A&&(x.suppressHydrationWarning!==!0&&ou(h.textContent,A,s),m=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&ou(h.textContent,A,s),m=["children",""+A]):o.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&st("scroll",h)}switch(c){case"input":Dr(h),qo(h,x,!0);break;case"textarea":Dr(h),Ns(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=lu)}h=m,a.updateQueue=h,h!==null&&(a.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Go(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=k.createElement(c,{is:h.is}):(s=k.createElement(c),c==="select"&&(k=s,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):s=k.createElementNS(s,c),s[Sn]=a,s[bl]=h,ex(s,a,!1,!1),a.stateNode=s;e:{switch(k=Ta(c,h),c){case"dialog":st("cancel",s),st("close",s),m=h;break;case"iframe":case"object":case"embed":st("load",s),m=h;break;case"video":case"audio":for(m=0;m<yl.length;m++)st(yl[m],s);m=h;break;case"source":st("error",s),m=h;break;case"img":case"image":case"link":st("error",s),st("load",s),m=h;break;case"details":st("toggle",s),m=h;break;case"input":Pc(s,h),m=_a(s,h),st("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),st("invalid",s);break;case"textarea":Wo(s,h),m=Ho(s,h),st("invalid",s);break;default:m=h}Qr(c,m),A=m;for(x in A)if(A.hasOwnProperty(x)){var U=A[x];x==="style"?Ea(s,U):x==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Lc(s,U)):x==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&Ci(s,U):typeof U=="number"&&Ci(s,""+U):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?U!=null&&x==="onScroll"&&st("scroll",s):U!=null&&G(s,x,U,k))}switch(c){case"input":Dr(s),qo(s,h,!1);break;case"textarea":Dr(s),Ns(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ke(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?Kr(s,!!h.multiple,x,!1):h.defaultValue!=null&&Kr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=lu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Xt(a),null;case 6:if(s&&a.stateNode!=null)rx(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=Qi(El.current),Qi(Cn.current),mu(a)){if(h=a.stateNode,c=a.memoizedProps,h[Sn]=a,(x=h.nodeValue!==c)&&(s=Ir,s!==null))switch(s.tag){case 3:ou(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ou(h.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Sn]=a,a.stateNode=h}return Xt(a),null;case 13:if(it(lt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Sr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)i0(),eo(),a.flags|=98560,x=!1;else if(x=mu(a),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Sn]=a}else eo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),x=!1}else Zr!==null&&(Vf(Zr),Zr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(lt.current&1)!==0?Dt===0&&(Dt=3):Ff())),a.updateQueue!==null&&(a.flags|=4),Xt(a),null);case 4:return so(),Ef(s,a),s===null&&vl(a.stateNode.containerInfo),Xt(a),null;case 10:return Zh(a.type._context),Xt(a),null;case 17:return dr(a.type)&&uu(),Xt(a),null;case 19:if(it(lt),x=a.memoizedState,x===null)return Xt(a),null;if(h=(a.flags&128)!==0,k=x.rendering,k===null)if(h)Al(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=bu(s),k!==null){for(a.flags|=128,Al(x,!1),h=k.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)x=c,s=h,x.flags&=14680066,k=x.alternate,k===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=k.childLanes,x.lanes=k.lanes,x.child=k.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=k.memoizedProps,x.memoizedState=k.memoizedState,x.updateQueue=k.updateQueue,x.type=k.type,s=k.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return tt(lt,lt.current&1|2),a.child}s=s.sibling}x.tail!==null&&nt()>lo&&(a.flags|=128,h=!0,Al(x,!1),a.lanes=4194304)}else{if(!h)if(s=bu(k),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Al(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!ot)return Xt(a),null}else 2*nt()-x.renderingStartTime>lo&&c!==1073741824&&(a.flags|=128,h=!0,Al(x,!1),a.lanes=4194304);x.isBackwards?(k.sibling=a.child,a.child=k):(c=x.last,c!==null?c.sibling=k:a.child=k,x.last=k)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=nt(),a.sibling=null,c=lt.current,tt(lt,h?c&1|2:c&1),a):(Xt(a),null);case 22:case 23:return Uf(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Cr&1073741824)!==0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function xN(s,a){switch(Gh(a),a.tag){case 1:return dr(a.type)&&uu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return so(),it(ur),it(Qt),of(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return sf(a),null;case 13:if(it(lt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));eo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(lt),null;case 4:return so(),null;case 10:return Zh(a.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Cu=!1,Jt=!1,yN=typeof WeakSet=="function"?WeakSet:Set,he=null;function ao(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){ft(s,a,h)}else c.current=null}function Tf(s,a,c){try{c()}catch(h){ft(s,a,h)}}var nx=!1;function vN(s,a){if(Mh=Yn,s=Lg(),Ch(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var k=0,A=-1,U=-1,K=0,ne=0,se=s,re=null;t:for(;;){for(var ue;se!==c||m!==0&&se.nodeType!==3||(A=k+m),se!==x||h!==0&&se.nodeType!==3||(U=k+h),se.nodeType===3&&(k+=se.nodeValue.length),(ue=se.firstChild)!==null;)re=se,se=ue;for(;;){if(se===s)break t;if(re===c&&++K===m&&(A=k),re===x&&++ne===h&&(U=k),(ue=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=ue}c=A===-1||U===-1?null:{start:A,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(Uh={focusedElem:s,selectionRange:c},Yn=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,vt=fe.memoizedState,q=a.stateNode,F=q.getSnapshotBeforeUpdate(a.elementType===a.type?ge:en(a.type,ge),vt);q.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=a.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ft(a,a.return,ie)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return fe=nx,nx=!1,fe}function Rl(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&Tf(a,c,x)}m=m.next}while(m!==h)}}function Au(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function If(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function sx(s){var a=s.alternate;a!==null&&(s.alternate=null,sx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Sn],delete a[bl],delete a[$h],delete a[tN],delete a[rN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ix(s){return s.tag===5||s.tag===3||s.tag===4}function ax(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ix(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=lu));else if(h!==4&&(s=s.child,s!==null))for(Sf(s,a,c),s=s.sibling;s!==null;)Sf(s,a,c),s=s.sibling}function Cf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Cf(s,a,c),s=s.sibling;s!==null;)Cf(s,a,c),s=s.sibling}var $t=null,tn=!1;function Ws(s,a,c){for(c=c.child;c!==null;)ox(s,a,c),c=c.sibling}function ox(s,a,c){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 5:Jt||ao(c,a);case 6:var h=$t,m=tn;$t=null,Ws(s,a,c),$t=h,tn=m,$t!==null&&(tn?(s=$t,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):$t.removeChild(c.stateNode));break;case 18:$t!==null&&(tn?(s=$t,c=c.stateNode,s.nodeType===8?Bh(s.parentNode,c):s.nodeType===1&&Bh(s,c),Os(s)):Bh($t,c.stateNode));break;case 4:h=$t,m=tn,$t=c.stateNode.containerInfo,tn=!0,Ws(s,a,c),$t=h,tn=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var x=m,k=x.destroy;x=x.tag,k!==void 0&&((x&2)!==0||(x&4)!==0)&&Tf(c,a,k),m=m.next}while(m!==h)}Ws(s,a,c);break;case 1:if(!Jt&&(ao(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(A){ft(c,a,A)}Ws(s,a,c);break;case 21:Ws(s,a,c);break;case 22:c.mode&1?(Jt=(h=Jt)||c.memoizedState!==null,Ws(s,a,c),Jt=h):Ws(s,a,c);break;default:Ws(s,a,c)}}function lx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new yN),a.forEach(function(h){var m=IN.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function rn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var x=s,k=a,A=k;e:for(;A!==null;){switch(A.tag){case 5:$t=A.stateNode,tn=!1;break e;case 3:$t=A.stateNode.containerInfo,tn=!0;break e;case 4:$t=A.stateNode.containerInfo,tn=!0;break e}A=A.return}if($t===null)throw Error(t(160));ox(x,k,m),$t=null,tn=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(K){ft(m,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)cx(a,s),a=a.sibling}function cx(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(rn(a,s),Rn(s),h&4){try{Rl(3,s,s.return),Au(3,s)}catch(ge){ft(s,s.return,ge)}try{Rl(5,s,s.return)}catch(ge){ft(s,s.return,ge)}}break;case 1:rn(a,s),Rn(s),h&512&&c!==null&&ao(c,c.return);break;case 5:if(rn(a,s),Rn(s),h&512&&c!==null&&ao(c,c.return),s.flags&32){var m=s.stateNode;try{Ci(m,"")}catch(ge){ft(s,s.return,ge)}}if(h&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,k=c!==null?c.memoizedProps:x,A=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&Na(m,x),Ta(A,k);var K=Ta(A,x);for(k=0;k<U.length;k+=2){var ne=U[k],se=U[k+1];ne==="style"?Ea(m,se):ne==="dangerouslySetInnerHTML"?Lc(m,se):ne==="children"?Ci(m,se):G(m,ne,se,K)}switch(A){case"input":Si(m,x);break;case"textarea":Dc(m,x);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Kr(m,!!x.multiple,ue,!1):re!==!!x.multiple&&(x.defaultValue!=null?Kr(m,!!x.multiple,x.defaultValue,!0):Kr(m,!!x.multiple,x.multiple?[]:"",!1))}m[bl]=x}catch(ge){ft(s,s.return,ge)}}break;case 6:if(rn(a,s),Rn(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(ge){ft(s,s.return,ge)}}break;case 3:if(rn(a,s),Rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Os(a.containerInfo)}catch(ge){ft(s,s.return,ge)}break;case 4:rn(a,s),Rn(s);break;case 13:rn(a,s),Rn(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(Pf=nt())),h&4&&lx(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(Jt=(K=Jt)||ne,rn(a,s),Jt=K):rn(a,s),Rn(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ne&&(s.mode&1)!==0)for(he=s,ne=s.child;ne!==null;){for(se=he=ne;he!==null;){switch(re=he,ue=re.child,re.tag){case 0:case 11:case 14:case 15:Rl(4,re,re.return);break;case 1:ao(re,re.return);var fe=re.stateNode;if(typeof fe.componentWillUnmount=="function"){h=re,c=re.return;try{a=h,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(ge){ft(h,c,ge)}}break;case 5:ao(re,re.return);break;case 22:if(re.memoizedState!==null){hx(se);continue}}ue!==null?(ue.return=re,he=ue):hx(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,K?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=se.stateNode,U=se.memoizedProps.style,k=U!=null&&U.hasOwnProperty("display")?U.display:null,A.style.display=Ts("display",k))}catch(ge){ft(s,s.return,ge)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(ge){ft(s,s.return,ge)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:rn(a,s),Rn(s),h&4&&lx(s);break;case 21:break;default:rn(a,s),Rn(s)}}function Rn(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(ix(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Ci(m,""),h.flags&=-33);var x=ax(s);Cf(s,x,m);break;case 3:case 4:var k=h.stateNode.containerInfo,A=ax(s);Sf(s,A,k);break;default:throw Error(t(161))}}catch(U){ft(s,s.return,U)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function wN(s,a,c){he=s,ux(s)}function ux(s,a,c){for(var h=(s.mode&1)!==0;he!==null;){var m=he,x=m.child;if(m.tag===22&&h){var k=m.memoizedState!==null||Cu;if(!k){var A=m.alternate,U=A!==null&&A.memoizedState!==null||Jt;A=Cu;var K=Jt;if(Cu=k,(Jt=U)&&!K)for(he=m;he!==null;)k=he,U=k.child,k.tag===22&&k.memoizedState!==null?fx(m):U!==null?(U.return=k,he=U):fx(m);for(;x!==null;)he=x,ux(x),x=x.sibling;he=m,Cu=A,Jt=K}dx(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,he=x):dx(s)}}function dx(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Jt||Au(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Jt)if(c===null)h.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:en(a.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&h0(a,x,h);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}h0(a,k,c)}break;case 5:var A=a.stateNode;if(c===null&&a.flags&4){c=A;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Os(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||a.flags&512&&If(a)}catch(re){ft(a,a.return,re)}}if(a===s){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function hx(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function fx(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Au(4,a)}catch(U){ft(a,c,U)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(U){ft(a,m,U)}}var x=a.return;try{If(a)}catch(U){ft(a,x,U)}break;case 5:var k=a.return;try{If(a)}catch(U){ft(a,k,U)}}}catch(U){ft(a,a.return,U)}if(a===s){he=null;break}var A=a.sibling;if(A!==null){A.return=a.return,he=A;break}he=a.return}}var bN=Math.ceil,Ru=D.ReactCurrentDispatcher,Af=D.ReactCurrentOwner,zr=D.ReactCurrentBatchConfig,We=0,Mt=null,Et=null,qt=0,Cr=0,oo=zs(0),Dt=0,Pl=null,Xi=0,Pu=0,Rf=0,Dl=null,fr=null,Pf=0,lo=1/0,as=null,Du=!1,Df=null,Gs=null,Lu=!1,Ks=null,Ou=0,Ll=0,Lf=null,Vu=-1,Mu=0;function ar(){return(We&6)!==0?nt():Vu!==-1?Vu:Vu=nt()}function Qs(s){return(s.mode&1)===0?1:(We&2)!==0&&qt!==0?qt&-qt:sN.transition!==null?(Mu===0&&(Mu=rl()),Mu):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Va(s.type)),s)}function nn(s,a,c,h){if(50<Ll)throw Ll=0,Lf=null,Error(t(185));Ui(s,c,h),((We&2)===0||s!==Mt)&&(s===Mt&&((We&2)===0&&(Pu|=c),Dt===4&&Ys(s,qt)),pr(s,h),c===1&&We===0&&(a.mode&1)===0&&(lo=nt()+500,hu&&$s()))}function pr(s,a){var c=s.callbackNode;Mi(s,a);var h=Gn(s,s===Mt?qt:0);if(h===0)c!==null&&Ca(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Ca(c),a===1)s.tag===0?nN(mx.bind(null,s)):e0(mx.bind(null,s)),Z_(function(){(We&6)===0&&$s()}),c=null;else{switch(vn(h)){case 1:c=Aa;break;case 4:c=Zo;break;case 16:c=Di;break;case 536870912:c=Ra;break;default:c=Di}c=_x(c,px.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function px(s,a){if(Vu=-1,Mu=0,(We&6)!==0)throw Error(t(327));var c=s.callbackNode;if(co()&&s.callbackNode!==c)return null;var h=Gn(s,s===Mt?qt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=Uu(s,h);else{a=h;var m=We;We|=2;var x=xx();(Mt!==s||qt!==a)&&(as=null,lo=nt()+500,Zi(s,a));do try{NN();break}catch(A){gx(s,A)}while(!0);Jh(),Ru.current=x,We=m,Et!==null?a=0:(Mt=null,qt=0,a=Dt)}if(a!==0){if(a===2&&(m=tl(s),m!==0&&(h=m,a=Of(s,m))),a===1)throw c=Pl,Zi(s,0),Ys(s,h),pr(s,nt()),c;if(a===6)Ys(s,h);else{if(m=s.current.alternate,(h&30)===0&&!kN(m)&&(a=Uu(s,h),a===2&&(x=tl(s),x!==0&&(h=x,a=Of(s,x))),a===1))throw c=Pl,Zi(s,0),Ys(s,h),pr(s,nt()),c;switch(s.finishedWork=m,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:ea(s,fr,as);break;case 3:if(Ys(s,h),(h&130023424)===h&&(a=Pf+500-nt(),10<a)){if(Gn(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){ar(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=zh(ea.bind(null,s,fr,as),a);break}ea(s,fr,as);break;case 4:if(Ys(s,h),(h&4194240)===h)break;for(a=s.eventTimes,m=-1;0<h;){var k=31-_r(h);x=1<<k,k=a[k],k>m&&(m=k),h&=~x}if(h=m,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bN(h/1960))-h,10<h){s.timeoutHandle=zh(ea.bind(null,s,fr,as),h);break}ea(s,fr,as);break;case 5:ea(s,fr,as);break;default:throw Error(t(329))}}}return pr(s,nt()),s.callbackNode===c?px.bind(null,s):null}function Of(s,a){var c=Dl;return s.current.memoizedState.isDehydrated&&(Zi(s,a).flags|=256),s=Uu(s,a),s!==2&&(a=fr,fr=c,a!==null&&Vf(a)),s}function Vf(s){fr===null?fr=s:fr.push.apply(fr,s)}function kN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],x=m.getSnapshot;m=m.value;try{if(!Jr(x(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ys(s,a){for(a&=~Rf,a&=~Pu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-_r(a),h=1<<c;s[c]=-1,a&=~h}}function mx(s){if((We&6)!==0)throw Error(t(327));co();var a=Gn(s,0);if((a&1)===0)return pr(s,nt()),null;var c=Uu(s,a);if(s.tag!==0&&c===2){var h=tl(s);h!==0&&(a=h,c=Of(s,h))}if(c===1)throw c=Pl,Zi(s,0),Ys(s,a),pr(s,nt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ea(s,fr,as),pr(s,nt()),null}function Mf(s,a){var c=We;We|=1;try{return s(a)}finally{We=c,We===0&&(lo=nt()+500,hu&&$s())}}function Ji(s){Ks!==null&&Ks.tag===0&&(We&6)===0&&co();var a=We;We|=1;var c=zr.transition,h=Be;try{if(zr.transition=null,Be=1,s)return s()}finally{Be=h,zr.transition=c,We=a,(We&6)===0&&$s()}}function Uf(){Cr=oo.current,it(oo)}function Zi(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,J_(c)),Et!==null)for(c=Et.return;c!==null;){var h=c;switch(Gh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&uu();break;case 3:so(),it(ur),it(Qt),of();break;case 5:sf(h);break;case 4:so();break;case 13:it(lt);break;case 19:it(lt);break;case 10:Zh(h.type._context);break;case 22:case 23:Uf()}c=c.return}if(Mt=s,Et=s=Xs(s.current,null),qt=Cr=a,Dt=0,Pl=null,Rf=Pu=Xi=0,fr=Dl=null,Ki!==null){for(a=0;a<Ki.length;a++)if(c=Ki[a],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,x=c.pending;if(x!==null){var k=x.next;x.next=m,h.next=k}c.pending=h}Ki=null}return s}function gx(s,a){do{var c=Et;try{if(Jh(),ku.current=Eu,_u){for(var h=ct.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}_u=!1}if(Yi=0,Vt=Pt=ct=null,Tl=!1,Il=0,Af.current=null,c===null||c.return===null){Dt=1,Pl=a,Et=null;break}e:{var x=s,k=c.return,A=c,U=a;if(a=qt,A.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,ne=A,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=z0(k);if(ue!==null){ue.flags&=-257,B0(ue,k,A,x,a),ue.mode&1&&F0(x,K,a),a=ue,U=K;var fe=a.updateQueue;if(fe===null){var ge=new Set;ge.add(U),a.updateQueue=ge}else fe.add(U);break e}else{if((a&1)===0){F0(x,K,a),Ff();break e}U=Error(t(426))}}else if(ot&&A.mode&1){var vt=z0(k);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),B0(vt,k,A,x,a),Yh(io(U,A));break e}}x=U=io(U,A),Dt!==4&&(Dt=2),Dl===null?Dl=[x]:Dl.push(x),x=k;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var q=M0(x,U,a);d0(x,q);break e;case 1:A=U;var F=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Gs===null||!Gs.has(W)))){x.flags|=65536,a&=-a,x.lanes|=a;var ie=U0(x,A,a);d0(x,ie);break e}}x=x.return}while(x!==null)}vx(c)}catch(we){a=we,Et===c&&c!==null&&(Et=c=c.return);continue}break}while(!0)}function xx(){var s=Ru.current;return Ru.current=Eu,s===null?Eu:s}function Ff(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Mt===null||(Xi&268435455)===0&&(Pu&268435455)===0||Ys(Mt,qt)}function Uu(s,a){var c=We;We|=2;var h=xx();(Mt!==s||qt!==a)&&(as=null,Zi(s,a));do try{_N();break}catch(m){gx(s,m)}while(!0);if(Jh(),We=c,Ru.current=h,Et!==null)throw Error(t(261));return Mt=null,qt=0,Dt}function _N(){for(;Et!==null;)yx(Et)}function NN(){for(;Et!==null&&!Pi();)yx(Et)}function yx(s){var a=kx(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,a===null?vx(s):Et=a,Af.current=null}function vx(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=gN(c,a,Cr),c!==null){Et=c;return}}else{if(c=xN(c,a),c!==null){c.flags&=32767,Et=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,Et=null;return}}if(a=a.sibling,a!==null){Et=a;return}Et=a=s}while(a!==null);Dt===0&&(Dt=5)}function ea(s,a,c){var h=Be,m=zr.transition;try{zr.transition=null,Be=1,jN(s,a,c,h)}finally{zr.transition=m,Be=h}return null}function jN(s,a,c,h){do co();while(Ks!==null);if((We&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(jh(s,x),s===Mt&&(Et=Mt=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Lu||(Lu=!0,_x(Di,function(){return co(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=zr.transition,zr.transition=null;var k=Be;Be=1;var A=We;We|=4,Af.current=null,vN(s,c),cx(c,s),H_(Uh),Yn=!!Mh,Uh=Mh=null,s.current=c,wN(c),Wn(),We=A,Be=k,zr.transition=x}else s.current=c;if(Lu&&(Lu=!1,Ks=s,Ou=m),x=s.pendingLanes,x===0&&(Gs=null),Wc(c.stateNode),pr(s,nt()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)m=a[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Du)throw Du=!1,s=Df,Df=null,s;return(Ou&1)!==0&&s.tag!==0&&co(),x=s.pendingLanes,(x&1)!==0?s===Lf?Ll++:(Ll=0,Lf=s):Ll=0,$s(),null}function co(){if(Ks!==null){var s=vn(Ou),a=zr.transition,c=Be;try{if(zr.transition=null,Be=16>s?16:s,Ks===null)var h=!1;else{if(s=Ks,Ks=null,Ou=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,he=s.current;he!==null;){var x=he,k=x.child;if((he.flags&16)!==0){var A=x.deletions;if(A!==null){for(var U=0;U<A.length;U++){var K=A[U];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Rl(8,ne,x)}var se=ne.child;if(se!==null)se.return=ne,he=se;else for(;he!==null;){ne=he;var re=ne.sibling,ue=ne.return;if(sx(ne),ne===K){he=null;break}if(re!==null){re.return=ue,he=re;break}he=ue}}}var fe=x.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&k!==null)k.return=x,he=k;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Rl(9,x,x.return)}var q=x.sibling;if(q!==null){q.return=x.return,he=q;break e}he=x.return}}var F=s.current;for(he=F;he!==null;){k=he;var W=k.child;if((k.subtreeFlags&2064)!==0&&W!==null)W.return=k,he=W;else e:for(k=F;he!==null;){if(A=he,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Au(9,A)}}catch(we){ft(A,A.return,we)}if(A===k){he=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,he=ie;break e}he=A.return}}if(We=m,$s(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Li,s)}catch{}h=!0}return h}finally{Be=c,zr.transition=a}}return!1}function wx(s,a,c){a=io(c,a),a=M0(s,a,1),s=Hs(s,a,1),a=ar(),s!==null&&(Ui(s,1,a),pr(s,a))}function ft(s,a,c){if(s.tag===3)wx(s,s,c);else for(;a!==null;){if(a.tag===3){wx(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gs===null||!Gs.has(h))){s=io(c,s),s=U0(a,s,1),a=Hs(a,s,1),s=ar(),a!==null&&(Ui(a,1,s),pr(a,s));break}}a=a.return}}function EN(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=ar(),s.pingedLanes|=s.suspendedLanes&c,Mt===s&&(qt&c)===c&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>nt()-Pf?Zi(s,0):Rf|=c),pr(s,a)}function bx(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ps,Ps<<=1,(Ps&130023424)===0&&(Ps=4194304)));var c=ar();s=ns(s,a),s!==null&&(Ui(s,a,c),pr(s,c))}function TN(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),bx(s,c)}function IN(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),bx(s,c)}var kx;kx=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||ur.current)hr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return hr=!1,mN(s,a,c);hr=(s.flags&131072)!==0}else hr=!1,ot&&(a.flags&1048576)!==0&&t0(a,pu,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Su(s,a),s=a.pendingProps;var m=Xa(a,Qt.current);no(a,c),m=uf(null,a,h,s,m,c);var x=df();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dr(h)?(x=!0,du(a)):x=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,rf(a),m.updater=Tu,a.stateNode=m,m._reactInternals=a,xf(a,h,s,c),a=bf(null,a,h,!0,x,c)):(a.tag=0,ot&&x&&Wh(a),ir(null,a,m,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Su(s,a),s=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=CN(h),s=en(h,s),m){case 0:a=wf(null,a,h,s,c);break e;case 1:a=K0(null,a,h,s,c);break e;case 11:a=$0(null,a,h,s,c);break e;case 14:a=q0(null,a,h,en(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:en(h,m),wf(s,a,h,m,c);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:en(h,m),K0(s,a,h,m,c);case 3:e:{if(Q0(a),s===null)throw Error(t(387));h=a.pendingProps,x=a.memoizedState,m=x.element,u0(s,a),wu(a,h,null,c);var k=a.memoizedState;if(h=k.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){m=io(Error(t(423)),a),a=Y0(s,a,h,c,m);break e}else if(h!==m){m=io(Error(t(424)),a),a=Y0(s,a,h,c,m);break e}else for(Sr=Fs(a.stateNode.containerInfo.firstChild),Ir=a,ot=!0,Zr=null,c=l0(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(eo(),h===m){a=is(s,a,c);break e}ir(s,a,h,c)}a=a.child}return a;case 5:return f0(a),s===null&&Qh(a),h=a.type,m=a.pendingProps,x=s!==null?s.memoizedProps:null,k=m.children,Fh(h,m)?k=null:x!==null&&Fh(h,x)&&(a.flags|=32),G0(s,a),ir(s,a,k,c),a.child;case 6:return s===null&&Qh(a),null;case 13:return X0(s,a,c);case 4:return nf(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=to(a,null,h,c):ir(s,a,h,c),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:en(h,m),$0(s,a,h,m,c);case 7:return ir(s,a,a.pendingProps,c),a.child;case 8:return ir(s,a,a.pendingProps.children,c),a.child;case 12:return ir(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,x=a.memoizedProps,k=m.value,tt(xu,h._currentValue),h._currentValue=k,x!==null)if(Jr(x.value,k)){if(x.children===m.children&&!ur.current){a=is(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var A=x.dependencies;if(A!==null){k=x.child;for(var U=A.firstContext;U!==null;){if(U.context===h){if(x.tag===1){U=ss(-1,c&-c),U.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?U.next=U:(U.next=ne.next,ne.next=U),K.pending=U}}x.lanes|=c,U=x.alternate,U!==null&&(U.lanes|=c),ef(x.return,c,a),A.lanes|=c;break}U=U.next}}else if(x.tag===10)k=x.type===a.type?null:x.child;else if(x.tag===18){if(k=x.return,k===null)throw Error(t(341));k.lanes|=c,A=k.alternate,A!==null&&(A.lanes|=c),ef(k,c,a),k=x.sibling}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===a){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}ir(s,a,m.children,c),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,no(a,c),m=Ur(m),h=h(m),a.flags|=1,ir(s,a,h,c),a.child;case 14:return h=a.type,m=en(h,a.pendingProps),m=en(h.type,m),q0(s,a,h,m,c);case 15:return H0(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:en(h,m),Su(s,a),a.tag=1,dr(h)?(s=!0,du(a)):s=!1,no(a,c),O0(a,h,m),xf(a,h,m,c),bf(null,a,h,!0,s,c);case 19:return Z0(s,a,c);case 22:return W0(s,a,c)}throw Error(t(156,a.tag))};function _x(s,a){return Jo(s,a)}function SN(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(s,a,c,h){return new SN(s,a,c,h)}function zf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function CN(s){if(typeof s=="function")return zf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===$e)return 14}return 2}function Xs(s,a){var c=s.alternate;return c===null?(c=Br(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Fu(s,a,c,h,m,x){var k=2;if(h=s,typeof s=="function")zf(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case P:return ta(c.children,m,x,a);case j:k=8,m|=8;break;case R:return s=Br(12,c,a,m|2),s.elementType=R,s.lanes=x,s;case S:return s=Br(13,c,a,m),s.elementType=S,s.lanes=x,s;case je:return s=Br(19,c,a,m),s.elementType=je,s.lanes=x,s;case He:return zu(c,m,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:k=10;break e;case M:k=9;break e;case B:k=11;break e;case $e:k=14;break e;case Qe:k=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Br(k,c,a,m),a.elementType=s,a.type=h,a.lanes=x,a}function ta(s,a,c,h){return s=Br(7,s,h,a),s.lanes=c,s}function zu(s,a,c,h){return s=Br(22,s,h,a),s.elementType=He,s.lanes=c,s.stateNode={isHidden:!1},s}function Bf(s,a,c){return s=Br(6,s,null,a),s.lanes=c,s}function $f(s,a,c){return a=Br(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function AN(s,a,c,h,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function qf(s,a,c,h,m,x,k,A,U){return s=new AN(s,a,c,A,U),a===1?(a=1,x===!0&&(a|=8)):a=0,x=Br(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(x),s}function RN(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function Nx(s){if(!s)return Bs;s=s._reactInternals;e:{if(Yr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(dr(c))return Jg(s,c,a)}return a}function jx(s,a,c,h,m,x,k,A,U){return s=qf(c,h,!0,s,m,x,k,A,U),s.context=Nx(null),c=s.current,h=ar(),m=Qs(c),x=ss(h,m),x.callback=a??null,Hs(c,x,m),s.current.lanes=m,Ui(s,m,h),pr(s,h),s}function Bu(s,a,c,h){var m=a.current,x=ar(),k=Qs(m);return c=Nx(c),a.context===null?a.context=c:a.pendingContext=c,a=ss(x,k),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Hs(m,a,k),s!==null&&(nn(s,m,k,x),vu(s,m,k)),k}function $u(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ex(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Hf(s,a){Ex(s,a),(s=s.alternate)&&Ex(s,a)}function PN(){return null}var Tx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wf(s){this._internalRoot=s}qu.prototype.render=Wf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Bu(s,a,null,null)},qu.prototype.unmount=Wf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ji(function(){Bu(null,s,null,null)}),a[Zn]=null}};function qu(s){this._internalRoot=s}qu.prototype.unstable_scheduleHydration=function(s){if(s){var a=ol();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Nr.length&&a!==0&&a<Nr[c].priority;c++);Nr.splice(c,0,s),c===0&&La(s)}};function Gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ix(){}function DN(s,a,c,h,m){if(m){if(typeof h=="function"){var x=h;h=function(){var K=$u(k);x.call(K)}}var k=jx(a,h,s,0,null,!1,!1,"",Ix);return s._reactRootContainer=k,s[Zn]=k.current,vl(s.nodeType===8?s.parentNode:s),Ji(),k}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var A=h;h=function(){var K=$u(U);A.call(K)}}var U=qf(s,0,!1,null,null,!1,!1,"",Ix);return s._reactRootContainer=U,s[Zn]=U.current,vl(s.nodeType===8?s.parentNode:s),Ji(function(){Bu(a,U,c,h)}),U}function Wu(s,a,c,h,m){var x=c._reactRootContainer;if(x){var k=x;if(typeof m=="function"){var A=m;m=function(){var U=$u(k);A.call(U)}}Bu(a,k,s,m)}else k=DN(c,a,s,m,h);return $u(k)}il=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ke(a.pendingLanes);c!==0&&(sl(a,c|1),pr(a,nt()),(We&6)===0&&(lo=nt()+500,$s()))}break;case 13:Ji(function(){var h=ns(s,1);if(h!==null){var m=ar();nn(h,s,1,m)}}),Hf(s,1)}},Pa=function(s){if(s.tag===13){var a=ns(s,134217728);if(a!==null){var c=ar();nn(a,s,134217728,c)}Hf(s,134217728)}},al=function(s){if(s.tag===13){var a=Qs(s),c=ns(s,a);if(c!==null){var h=ar();nn(c,s,a,h)}Hf(s,a)}},ol=function(){return Be},ll=function(s,a){var c=Be;try{return Be=s,a()}finally{Be=c}},$n=function(s,a,c){switch(a){case"input":if(Si(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=cu(h);if(!m)throw Error(t(90));pn(h),Si(h,m)}}}break;case"textarea":Dc(s,c);break;case"select":a=c.value,a!=null&&Kr(s,!!c.multiple,a,!1)}},Vc=Mf,Mc=Ji;var LN={usingClientEntryPoint:!1,Events:[kl,Qa,cu,Ss,Cs,Mf]},Ol={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ON={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Hc(s),s===null?null:s.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||PN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Li=Gu.inject(ON),kr=Gu}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN,mr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(a))throw Error(t(200));return RN(s,a,null,c)},mr.createRoot=function(s,a){if(!Gf(s))throw Error(t(299));var c=!1,h="",m=Tx;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=qf(s,1,!1,null,null,c,!1,h,m),s[Zn]=a.current,vl(s.nodeType===8?s.parentNode:s),new Wf(a)},mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Hc(a),s=s===null?null:s.stateNode,s},mr.flushSync=function(s){return Ji(s)},mr.hydrate=function(s,a,c){if(!Hu(a))throw Error(t(200));return Wu(null,s,a,!0,c)},mr.hydrateRoot=function(s,a,c){if(!Gf(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,x="",k=Tx;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=jx(a,null,s,1,c??null,m,!1,x,k),s[Zn]=a.current,vl(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new qu(a)},mr.render=function(s,a,c){if(!Hu(a))throw Error(t(200));return Wu(null,s,a,!1,c)},mr.unmountComponentAtNode=function(s){if(!Hu(s))throw Error(t(40));return s._reactRootContainer?(Ji(function(){Wu(null,null,s,!1,function(){s._reactRootContainer=null,s[Zn]=null})}),!0):!1},mr.unstable_batchedUpdates=Mf,mr.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!Hu(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wu(s,a,c,!1,h)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var Ox;function WN(){if(Ox)return Yf.exports;Ox=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yf.exports=HN(),Yf.exports}var Vx;function GN(){if(Vx)return Ku;Vx=1;var r=WN();return Ku.createRoot=r.createRoot,Ku.hydrateRoot=r.hydrateRoot,Ku}var KN=GN(),I=am();const QN=UN(I),YN=MN({__proto__:null,default:QN},[I]);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mx="popstate";function XN(r={}){function e(n,o){let{pathname:l,search:u,hash:f}=n.location;return wp("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(n,o){return typeof o=="string"?o:ec(o)}return ZN(e,t,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ln(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JN(){return Math.random().toString(36).substring(2,10)}function Ux(r,e){return{usr:r.state,key:r.key,idx:e}}function wp(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:t,key:e&&e.key||n||JN()}}function ec({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Po(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function ZN(r,e,t,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,u=o.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let E=v(),z=E==null?null:E-g;g=E,p&&p({action:f,location:L.location,delta:z})}function _(E,z){f="PUSH";let V=wp(L.location,E,z);g=v()+1;let G=Ux(V,g),D=L.createHref(V);try{u.pushState(G,"",D)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(D)}l&&p&&p({action:f,location:L.location,delta:1})}function C(E,z){f="REPLACE";let V=wp(L.location,E,z);g=v();let G=Ux(V,g),D=L.createHref(V);u.replaceState(G,"",D),l&&p&&p({action:f,location:L.location,delta:0})}function T(E){return e1(E)}let L={get action(){return f},get location(){return r(o,u)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mx,b),p=E,()=>{o.removeEventListener(Mx,b),p=null}},createHref(E){return e(o,E)},createURL:T,encodeLocation(E){let z=T(E);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:C,go(E){return u.go(E)}};return L}function e1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:ec(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function zv(r,e,t="/"){return t1(r,e,t,!1)}function t1(r,e,t,n){let o=typeof e=="string"?Po(e):e,l=fs(o.pathname||"/",t);if(l==null)return null;let u=Bv(r);r1(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=f1(l);f=d1(u[p],g,n)}return f}function Bv(r,e=[],t=[],n="",o=!1){let l=(u,f,p=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&p)return;ut(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let b=us([n,v.relativePath]),_=t.concat(v);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Bv(u.children,e,_,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:c1(b,u.index),routesMeta:_})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of $v(u.path))l(u,f,!0,p)}),e}function $v(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let u=$v(n.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function r1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:u1(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var n1=/^:[\w-]+$/,s1=3,i1=2,a1=1,o1=10,l1=-2,Fx=r=>r==="*";function c1(r,e){let t=r.split("/"),n=t.length;return t.some(Fx)&&(n+=l1),e&&(n+=i1),t.filter(o=>!Fx(o)).reduce((o,l)=>o+(n1.test(l)?s1:l===""?a1:o1),n)}function u1(r,e){return r.length===e.length&&r.slice(0,-1).every((n,o)=>n===e[o])?r[r.length-1]-e[e.length-1]:0}function d1(r,e,t=!1){let{routesMeta:n}=r,o={},l="/",u=[];for(let f=0;f<n.length;++f){let p=n[f],g=f===n.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),_=p.route;if(!b&&g&&t&&!n[n.length-1].route.index&&(b=wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:us([l,b.pathname]),pathnameBase:x1(us([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=us([l,b.pathnameBase]))}return u}function wd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=h1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:n.reduce((g,{paramName:v,isOptional:b},_)=>{if(v==="*"){let T=f[_]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=f[_];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function h1(r,e=!1,t=!0){ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function f1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=r=>qv.test(r);function m1(r,e="/"){let{pathname:t,search:n="",hash:o=""}=typeof r=="string"?Po(r):r,l;if(t)if(p1(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=zx(t.substring(1),"/"):l=zx(t,e)}else l=e;return{pathname:l,search:y1(n),hash:v1(o)}}function zx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Zf(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hv(r){let e=g1(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Wv(r,e,t,n=!1){let o;typeof r=="string"?o=Po(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!n&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}f=b>=0?e[b]:"/"}let p=m1(o,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var us=r=>r.join("/").replace(/\/\/+/g,"/"),x1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),y1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,v1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,w1=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function b1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function k1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kv(r,e){let t=r;if(typeof t!="string"||!qv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,o=!1;if(Gv)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=fs(u.pathname,e);u.origin===l.origin&&f!=null?t=f+u.search+u.hash:o=!0}catch{ln(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var _1=["GET",...Qv];new Set(_1);var Do=I.createContext(null);Do.displayName="DataRouter";var Wd=I.createContext(null);Wd.displayName="DataRouterState";var N1=I.createContext(!1),Yv=I.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var j1=I.createContext(new Map);j1.displayName="Fetchers";var E1=I.createContext(null);E1.displayName="Await";var Wr=I.createContext(null);Wr.displayName="Navigation";var pc=I.createContext(null);pc.displayName="Location";var bs=I.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var om=I.createContext(null);om.displayName="RouteError";var Xv="REACT_ROUTER_ERROR",T1="REDIRECT",I1="ROUTE_ERROR_RESPONSE";function S1(r){if(r.startsWith(`${Xv}:${T1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function C1(r){if(r.startsWith(`${Xv}:${I1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new w1(e.status,e.statusText,e.data)}catch{}}function A1(r,{relative:e}={}){ut(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=I.useContext(Wr),{hash:o,pathname:l,search:u}=gc(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:us([t,l])),n.createHref({pathname:f,search:u,hash:o})}function mc(){return I.useContext(pc)!=null}function ga(){return ut(mc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(pc).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(r){I.useContext(Wr).static||I.useLayoutEffect(r)}function Lo(){let{isDataRoute:r}=I.useContext(bs);return r?q1():R1()}function R1(){ut(mc(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(Do),{basename:e,navigator:t}=I.useContext(Wr),{matches:n}=I.useContext(bs),{pathname:o}=ga(),l=JSON.stringify(Hv(n)),u=I.useRef(!1);return Zv(()=>{u.current=!0}),I.useCallback((p,g={})=>{if(ln(u.current,Jv),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Wv(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:us([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}I.createContext(null);function gc(r,{relative:e}={}){let{matches:t}=I.useContext(bs),{pathname:n}=ga(),o=JSON.stringify(Hv(t));return I.useMemo(()=>Wv(r,JSON.parse(o),n,e==="path"),[r,o,n,e])}function P1(r,e){return ew(r,e)}function ew(r,e,t,n,o){ut(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Wr),{matches:u}=I.useContext(bs),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let V=b&&b.path||"";rw(g,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ga(),C;if(e){let V=typeof e=="string"?Po(e):e;ut(v==="/"||V.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),C=V}else C=_;let T=C.pathname||"/",L=T;if(v!=="/"){let V=v.replace(/^\//,"").split("/");L="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let E=zv(r,{pathname:L});ln(b||E!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ln(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=M1(E&&E.map(V=>Object.assign({},V,{params:Object.assign({},p,V.params),pathname:us([v,l.encodeLocation?l.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:us([v,l.encodeLocation?l.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,t,n,o);return e&&z?I.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function D1(){let r=$1(),e=b1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,u)}var L1=I.createElement(D1,null),tw=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=C1(r.digest);t&&(r=t)}let e=r!==void 0?I.createElement(bs.Provider,{value:this.props.routeContext},I.createElement(om.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?I.createElement(O1,{error:r},e):e}};tw.contextType=N1;var ep=new WeakMap;function O1({children:r,error:e}){let{basename:t}=I.useContext(Wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=S1(e.digest);if(n){let o=ep.get(e);if(o)throw o;let l=Kv(n.location,t);if(Gv&&!ep.get(e))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw ep.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function V1({routeContext:r,match:e,children:t}){let n=I.useContext(Do);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(bs.Provider,{value:r},t)}function M1(r,e=[],t=null,n=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=t?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);ut(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:_,errors:C}=t,T=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||T){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&n?(v,b)=>{n(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:k1(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let C,T=!1,L=null,E=null;t&&(C=u&&b.route.id?u[b.route.id]:void 0,L=b.route.errorElement||L1,f&&(p<0&&_===0?(rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,E=null):p===_&&(T=!0,E=b.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),V=()=>{let G;return C?G=L:T?G=E:b.route.Component?G=I.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,I.createElement(V1,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:G})};return t&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?I.createElement(tw,{location:t.location,revalidation:t.revalidation,component:L,error:C,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):V()},null)}function lm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(r){let e=I.useContext(Do);return ut(e,lm(r)),e}function F1(r){let e=I.useContext(Wd);return ut(e,lm(r)),e}function z1(r){let e=I.useContext(bs);return ut(e,lm(r)),e}function cm(r){let e=z1(r),t=e.matches[e.matches.length-1];return ut(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function B1(){return cm("useRouteId")}function $1(){let r=I.useContext(om),e=F1("useRouteError"),t=cm("useRouteError");return r!==void 0?r:e.errors?.[t]}function q1(){let{router:r}=U1("useNavigate"),e=cm("useNavigate"),t=I.useRef(!1);return Zv(()=>{t.current=!0}),I.useCallback(async(o,l={})=>{ln(t.current,Jv),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Bx={};function rw(r,e,t){!e&&!Bx[r]&&(Bx[r]=!0,ln(!1,t))}I.memo(H1);function H1({routes:r,future:e,state:t,onError:n}){return ew(r,void 0,t,n,e)}function na(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W1({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){ut(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[f,o,l,u]);typeof t=="string"&&(t=Po(t));let{pathname:g="/",search:v="",hash:b="",state:_=null,key:C="default"}=t,T=I.useMemo(()=>{let L=fs(g,f);return L==null?null:{location:{pathname:L,search:v,hash:b,state:_,key:C},navigationType:n}},[f,g,v,b,_,C,n]);return ln(T!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:I.createElement(Wr.Provider,{value:p},I.createElement(pc.Provider,{children:e,value:T}))}function G1({children:r,location:e}){return P1(bp(r),e)}function bp(r,e=[]){let t=[];return I.Children.forEach(r,(n,o)=>{if(!I.isValidElement(n))return;let l=[...e,o];if(n.type===I.Fragment){t.push.apply(t,bp(n.props.children,l));return}ut(n.type===na,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=bp(n.props.children,l)),t.push(u)}),t}var ld="get",cd="application/x-www-form-urlencoded";function Gd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function K1(r){return Gd(r)&&r.tagName.toLowerCase()==="button"}function Q1(r){return Gd(r)&&r.tagName.toLowerCase()==="form"}function Y1(r){return Gd(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function J1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var Qu=null;function Z1(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var e2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(r){return r!=null&&!e2.has(r)?(ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):r}function t2(r,e){let t,n,o,l,u;if(Q1(r)){let f=r.getAttribute("action");n=f?fs(f,e):null,t=r.getAttribute("method")||ld,o=tp(r.getAttribute("enctype"))||cd,l=new FormData(r)}else if(K1(r)||Y1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(n=p?fs(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||ld,o=tp(r.getAttribute("formenctype"))||tp(f.getAttribute("enctype"))||cd,l=new FormData(f,r),!Z1()){let{name:g,type:v,value:b}=r;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,b)}}else{if(Gd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ld,n=null,o=cd,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:n,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function um(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function r2(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&fs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function n2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function i2(r,e,t){let n=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await n2(l,t);return u.links?u.links():[]}return[]}));return c2(n.flat(1).filter(s2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $x(r,e,t,n,o,l){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function a2(r,e,{includeHydrateFallback:t}={}){return o2(r.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function o2(r){return[...new Set(r)]}function l2(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function c2(r,e){let t=new Set;return new Set(e),r.reduce((n,o)=>{let l=JSON.stringify(l2(o));return t.has(l)||(t.add(l),n.push({key:l,link:o})),n},[])}function nw(){let r=I.useContext(Do);return um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function u2(){let r=I.useContext(Wd);return um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dm=I.createContext(void 0);dm.displayName="FrameworkContext";function sw(){let r=I.useContext(dm);return um(r,"You must render this element inside a <HydratedRouter> element"),r}function d2(r,e){let t=I.useContext(dm),[n,o]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,_=I.useRef(null);I.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let L=z=>{z.forEach(V=>{u(V.isIntersecting)})},E=new IntersectionObserver(L,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[r]),I.useEffect(()=>{if(n){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[n]);let C=()=>{o(!0)},T=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,_,{}]:[l,_,{onFocus:Ml(f,C),onBlur:Ml(p,T),onMouseEnter:Ml(g,C),onMouseLeave:Ml(v,T),onTouchStart:Ml(b,C)}]:[!1,_,{}]}function Ml(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function h2({page:r,...e}){let{router:t}=nw(),n=I.useMemo(()=>zv(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?I.createElement(p2,{page:r,matches:n,...e}):null}function f2(r){let{manifest:e,routeModules:t}=sw(),[n,o]=I.useState([]);return I.useEffect(()=>{let l=!1;return i2(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),n}function p2({page:r,matches:e,...t}){let n=ga(),{manifest:o,routeModules:l}=sw(),{basename:u}=nw(),{loaderData:f,matches:p}=u2(),g=I.useMemo(()=>$x(r,e,p,o,n,"data"),[r,e,p,o,n]),v=I.useMemo(()=>$x(r,e,p,o,n,"assets"),[r,e,p,o,n]),b=I.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,L=!1;if(e.forEach(z=>{let V=o.routes[z.route.id];!V||!V.hasLoader||(!g.some(G=>G.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||V.hasClientLoader?L=!0:T.add(z.route.id))}),T.size===0)return[];let E=r2(r,u,"data");return L&&T.size>0&&E.searchParams.set("_routes",e.filter(z=>T.has(z.route.id)).map(z=>z.route.id).join(",")),[E.pathname+E.search]},[u,f,n,o,g,e,r,l]),_=I.useMemo(()=>a2(v,o),[v,o]),C=f2(v);return I.createElement(I.Fragment,null,b.map(T=>I.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>I.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),C.map(({key:T,link:L})=>I.createElement("link",{key:T,nonce:t.nonce,...L})))}function m2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var g2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g2&&(window.__reactRouterVersion="7.11.0")}catch{}function x2({basename:r,children:e,unstable_useTransitions:t,window:n}){let o=I.useRef();o.current==null&&(o.current=XN({window:n,v5Compat:!0}));let l=o.current,[u,f]=I.useState({action:l.action,location:l.location}),p=I.useCallback(g=>{t===!1?f(g):I.startTransition(()=>f(g))},[t]);return I.useLayoutEffect(()=>l.listen(p),[l,p]),I.createElement(W1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rr=I.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:o,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...C},T){let{basename:L,unstable_useTransitions:E}=I.useContext(Wr),z=typeof g=="string"&&iw.test(g),V=Kv(g,L);g=V.to;let G=A1(g,{relative:o}),[D,Z,Y]=d2(n,C),P=b2(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:E});function j(O){e&&e(O),O.defaultPrevented||P(O)}let R=I.createElement("a",{...C,...Y,href:V.absoluteURL||G,onClick:V.isExternal||l?e:j,ref:m2(T,Z),target:p,"data-discover":!z&&t==="render"?"true":void 0});return D&&!z?I.createElement(I.Fragment,null,R,I.createElement(h2,{page:G})):R});rr.displayName="Link";var y2=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:o=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let b=gc(u,{relative:g.relative}),_=ga(),C=I.useContext(Wd),{navigator:T,basename:L}=I.useContext(Wr),E=C!=null&&E2(b)&&f===!0,z=T.encodeLocation?T.encodeLocation(b).pathname:b.pathname,V=_.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(V=V.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&L&&(G=fs(G,L)||G);const D=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Z=V===z||!o&&V.startsWith(z)&&V.charAt(D)==="/",Y=G!=null&&(G===z||!o&&G.startsWith(z)&&G.charAt(z.length)==="/"),P={isActive:Z,isPending:Y,isTransitioning:E},j=Z?e:void 0,R;typeof n=="function"?R=n(P):R=[n,Z?"active":null,Y?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(P):l;return I.createElement(rr,{...g,"aria-current":j,className:R,ref:v,style:O,to:u,viewTransition:f},typeof p=="function"?p(P):p)});y2.displayName="NavLink";var v2=I.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:o,state:l,method:u=ld,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...C},T)=>{let{unstable_useTransitions:L}=I.useContext(Wr),E=N2(),z=j2(f,{relative:g}),V=u.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&iw.test(f),D=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let Y=Z.nativeEvent.submitter,P=Y?.getAttribute("formmethod")||u,j=()=>E(Y||Z.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});L&&t!==!1?I.startTransition(()=>j()):j()};return I.createElement("form",{ref:T,method:V,action:z,onSubmit:n?p:D,...C,"data-discover":!G&&r==="render"?"true":void 0})});v2.displayName="Form";function w2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(r){let e=I.useContext(Do);return ut(e,w2(r)),e}function b2(r,{target:e,replace:t,state:n,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=Lo(),v=ga(),b=gc(r,{relative:l});return I.useCallback(_=>{if(J1(_,e)){_.preventDefault();let C=t!==void 0?t:ec(v)===ec(b),T=()=>g(r,{replace:C,state:n,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?I.startTransition(()=>T()):T()}},[v,g,b,t,n,e,r,o,l,u,f,p])}var k2=0,_2=()=>`__${String(++k2)}__`;function N2(){let{router:r}=aw("useSubmit"),{basename:e}=I.useContext(Wr),t=B1(),n=r.fetch,o=r.navigate;return I.useCallback(async(l,u={})=>{let{action:f,method:p,encType:g,formData:v,body:b}=t2(l,e);if(u.navigate===!1){let _=u.fetcherKey||_2();await n(_,t,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,o,e,t])}function j2(r,{relative:e}={}){let{basename:t}=I.useContext(Wr),n=I.useContext(bs);ut(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...gc(r||".",{relative:e})},u=ga();if(r==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:us([t,l.pathname])),ec(l)}function E2(r,{relative:e}={}){let t=I.useContext(Yv);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=aw("useViewTransitionState"),o=gc(r,{relative:e});if(!t.isTransitioning)return!1;let l=fs(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=fs(t.nextLocation.pathname,n)||t.nextLocation.pathname;return wd(o.pathname,u)!=null||wd(o.pathname,l)!=null}const ow=I.createContext(void 0);function T2({children:r}){const[e,t]=I.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o===null});I.useEffect(()=>{e?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")},[e]);const n=()=>{t(!e)};return i.jsx(ow.Provider,{value:{isDark:e,toggleTheme:n},children:i.jsx("div",{className:e?"dark":"",children:r})})}function xc(){const r=I.useContext(ow);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}const I2=()=>{};var qx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},S2=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,f=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let _=(f&15)<<2|g>>6,C=g&63;p||(C=64,u||(_=64)),n.push(t[v],t[b],t[_],t[C])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):S2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||g==null||b==null)throw new C2;const _=l<<2|f>>4;if(n.push(_),g!==64){const C=f<<4&240|g>>2;if(n.push(C),b!==64){const T=g<<6&192|b;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class C2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A2=function(r){const e=lw(r);return cw.encodeByteArray(e,!0)},bd=function(r){return A2(r).replace(/\./g,"")},uw=function(r){try{return cw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=()=>R2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof qx>"u")return;const r=qx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},L2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uw(r[1]);return e&&JSON.parse(e)},Kd=()=>{try{return I2()||P2()||D2()||L2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dw=r=>Kd()?.emulatorHosts?.[r],hm=r=>{const e=dw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},hw=()=>Kd()?.config,fw=r=>Kd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qd(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bd(JSON.stringify(t)),bd(JSON.stringify(u)),""].join(".")}const Gl={};function V2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function M2(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Hx=!1;function Yd(r,e){if(typeof window>"u"||typeof document>"u"||!Bn(window.location.host)||Gl[r]===e||Gl[r]||Hx)return;Gl[r]=e;function t(_){return`__firebase__banner__${_}`}const n="__firebase__banner",l=V2().prod.length>0;function u(){const _=document.getElementById(n);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function p(_,C){_.setAttribute("width","24"),_.setAttribute("id",C),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Hx=!0,u()},_}function v(_,C){_.setAttribute("id",C),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=M2(n),C=t("text"),T=document.getElementById(C)||document.createElement("span"),L=t("learnmore"),E=document.getElementById(L)||document.createElement("a"),z=t("preprendIcon"),V=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const G=_.element;f(G),v(E,L);const D=g();p(V,z),G.append(V,T,E,D),document.body.appendChild(G)}l?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function F2(){const r=Kd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const r=sr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function H2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class hn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=K2,Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?Q2(l,n):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new hn(o,f,n)}}function Q2(r,e){return r.replace(Y2,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const Y2=/\{\$([^}]+)}/g;function X2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],u=e[o];if(Wx(l)&&Wx(u)){if(!ua(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function Wx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function J2(r,e){const t=new Z2(r,e);return t.subscribe.bind(t)}class Z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");ej(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=rp),o.error===void 0&&(o.error=rp),o.complete===void 0&&(o.complete=rp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ej(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(r){return r&&r._delegate?r._delegate:r}class ps{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new O2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nj(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);n===f&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rj(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rj(r){return r===sa?void 0:r}function nj(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const ij={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},aj=Ue.INFO,oj={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},lj=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=oj[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=aj,this._logHandler=lj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const cj=(r,e)=>e.some(t=>r instanceof t);let Gx,Kx;function uj(){return Gx||(Gx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dj(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mw=new WeakMap,kp=new WeakMap,gw=new WeakMap,np=new WeakMap,pm=new WeakMap;function hj(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(oi(r.result)),o()},u=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&mw.set(t,r)}).catch(()=>{}),pm.set(e,r),e}function fj(r){if(kp.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});kp.set(r,e)}let _p={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return kp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pj(r){_p=r(_p)}function mj(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(sp(this),e,...t);return gw.set(n,e.sort?e.sort():[e]),oi(n)}:dj().includes(r)?function(...e){return r.apply(sp(this),e),oi(mw.get(this))}:function(...e){return oi(r.apply(sp(this),e))}}function gj(r){return typeof r=="function"?mj(r):(r instanceof IDBTransaction&&fj(r),cj(r,uj())?new Proxy(r,_p):r)}function oi(r){if(r instanceof IDBRequest)return hj(r);if(np.has(r))return np.get(r);const e=gj(r);return e!==r&&(np.set(r,e),pm.set(e,r)),e}const sp=r=>pm.get(r);function xj(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),f=oi(u);return n&&u.addEventListener("upgradeneeded",p=>{n(oi(u.result),p.oldVersion,p.newVersion,oi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const yj=["get","getKey","getAll","getAllKeys","count"],vj=["put","add","delete","clear"],ip=new Map;function Qx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=vj.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||yj.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return n&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return ip.set(e,l),l}pj(r=>({...r,get:(e,t,n)=>Qx(e,t)||r.get(e,t,n),has:(e,t)=>!!Qx(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bj(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function bj(r){return r.getComponent()?.type==="VERSION"}const Np="@firebase/app",Yx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new fm("@firebase/app"),kj="@firebase/app-compat",_j="@firebase/analytics-compat",Nj="@firebase/analytics",jj="@firebase/app-check-compat",Ej="@firebase/app-check",Tj="@firebase/auth",Ij="@firebase/auth-compat",Sj="@firebase/database",Cj="@firebase/data-connect",Aj="@firebase/database-compat",Rj="@firebase/functions",Pj="@firebase/functions-compat",Dj="@firebase/installations",Lj="@firebase/installations-compat",Oj="@firebase/messaging",Vj="@firebase/messaging-compat",Mj="@firebase/performance",Uj="@firebase/performance-compat",Fj="@firebase/remote-config",zj="@firebase/remote-config-compat",Bj="@firebase/storage",$j="@firebase/storage-compat",qj="@firebase/firestore",Hj="@firebase/ai",Wj="@firebase/firestore-compat",Gj="firebase",Kj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",Qj={[Np]:"fire-core",[kj]:"fire-core-compat",[Nj]:"fire-analytics",[_j]:"fire-analytics-compat",[Ej]:"fire-app-check",[jj]:"fire-app-check-compat",[Tj]:"fire-auth",[Ij]:"fire-auth-compat",[Sj]:"fire-rtdb",[Cj]:"fire-data-connect",[Aj]:"fire-rtdb-compat",[Rj]:"fire-fn",[Pj]:"fire-fn-compat",[Dj]:"fire-iid",[Lj]:"fire-iid-compat",[Oj]:"fire-fcm",[Vj]:"fire-fcm-compat",[Mj]:"fire-perf",[Uj]:"fire-perf-compat",[Fj]:"fire-rc",[zj]:"fire-rc-compat",[Bj]:"fire-gcs",[$j]:"fire-gcs-compat",[qj]:"fire-fst",[Wj]:"fire-fst-compat",[Hj]:"fire-vertex","fire-js":"fire-js",[Gj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,Yj=new Map,Ep=new Map;function Xx(r,e){try{r.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function di(r){const e=r.name;if(Ep.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,r);for(const t of kd.values())Xx(t,r);for(const t of Yj.values())Xx(t,r);return!0}function wc(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new yc("app","Firebase",Xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=Kj;function xw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:jp,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw li.create("bad-app-name",{appName:String(o)});if(t||(t=hw()),!t)throw li.create("no-options");const l=kd.get(o);if(l){if(ua(t,l.options)&&ua(n,l.config))return l;throw li.create("duplicate-app",{appName:o})}const u=new sj(o);for(const p of Ep.values())u.addComponent(p);const f=new Jj(t,n,u);return kd.set(o,f),f}function Xd(r=jp){const e=kd.get(r);if(!e&&r===jp&&hw())return xw();if(!e)throw li.create("no-app",{appName:r});return e}function qr(r,e,t){let n=Qj[r]??r;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(u.join(" "));return}di(new ps(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="firebase-heartbeat-database",eE=1,tc="firebase-heartbeat-store";let ap=null;function yw(){return ap||(ap=xj(Zj,eE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tc)}catch(t){console.warn(t)}}}}).catch(r=>{throw li.create("idb-open",{originalErrorMessage:r.message})})),ap}async function tE(r){try{const t=(await yw()).transaction(tc),n=await t.objectStore(tc).get(vw(r));return await t.done,n}catch(e){if(e instanceof hn)ms.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e?.message});ms.warn(t.message)}}}async function Jx(r,e){try{const n=(await yw()).transaction(tc,"readwrite");await n.objectStore(tc).put(e,vw(r)),await n.done}catch(t){if(t instanceof hn)ms.warn(t.message);else{const n=li.create("idb-set",{originalErrorMessage:t?.message});ms.warn(n.message)}}}function vw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=1024,nE=30;class sE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aE(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Zx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>nE){const o=oE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zx(),{heartbeatsToSend:t,unsentEntries:n}=iE(this._heartbeatsCache.heartbeats),o=bd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function Zx(){return new Date().toISOString().substring(0,10)}function iE(r,e=rE){const t=[];let n=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),ey(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ey(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class aE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ey(r){return bd(JSON.stringify({version:2,heartbeats:r})).length}function oE(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){di(new ps("platform-logger",e=>new wj(e),"PRIVATE")),di(new ps("heartbeat",e=>new sE(e),"PRIVATE")),qr(Np,Yx,r),qr(Np,Yx,"esm2020"),qr("fire-js","")}lE("");function ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cE=ww,bw=new yc("auth","Firebase",ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new fm("@firebase/auth");function uE(r,...e){_d.logLevel<=Ue.WARN&&_d.warn(`Auth (${xa}): ${r}`,...e)}function ud(r,...e){_d.logLevel<=Ue.ERROR&&_d.error(`Auth (${xa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r,...e){throw mm(r,...e)}function Ln(r,...e){return mm(r,...e)}function kw(r,e,t){const n={...cE(),[e]:t};return new yc("auth","Firebase",n).create(e,{appName:r.name})}function ds(r){return kw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return bw.create(r,...e)}function Se(r,e,...t){if(!r)throw mm(e,...t)}function ls(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ud(e),new Error(e)}function gs(r,e){r||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){return typeof self<"u"&&self.location?.href||""}function dE(){return ty()==="http:"||ty()==="https:"}function ty(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dE()||B2()||"connection"in navigator)?navigator.onLine:!0}function fE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=U2()||$2()}get(){return hE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,e){gs(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gE=new bc(3e4,6e4);function _i(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ni(r,e,t,n,o={}){return Nw(r,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const f=vc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return z2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Bn(r.emulatorConfig.host)&&(g.credentials="include"),_w.fetch()(await jw(r,r.config.apiHost,t,f),g)})}async function Nw(r,e,t){r._canInitEmulator=!1;const n={...pE,...e};try{const o=new yE(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Yu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Yu(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Yu(r,"user-disabled",u);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kw(r,v,g);cn(r,v)}}catch(o){if(o instanceof hn)throw o;cn(r,"network-request-failed",{message:String(o)})}}async function kc(r,e,t,n,o={}){const l=await Ni(r,e,t,n,o);return"mfaPendingCredential"in l&&cn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function jw(r,e,t,n){const o=`${e}${t}?${n}`,l=r,u=l.config.emulator?gm(r.config,o):`${r.config.apiScheme}://${o}`;return mE.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function xE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ln(this.auth,"network-request-failed")),gE.get())})}}function Yu(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=Ln(r,e,n);return o.customData._tokenResponse=t,o}function ry(r){return r!==void 0&&r.enterprise!==void 0}class vE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wE(r,e){return Ni(r,"GET","/v2/recaptchaConfig",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(r,e){return Ni(r,"POST","/v1/accounts:delete",e)}async function Nd(r,e){return Ni(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kE(r,e=!1){const t=at(r),n=await t.getIdToken(e),o=xm(n);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:Kl(op(o.auth_time)),issuedAtTime:Kl(op(o.iat)),expirationTime:Kl(op(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function op(r){return Number(r)*1e3}function xm(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const o=uw(t);return o?JSON.parse(o):(ud("Failed to decode base64 JWT payload"),null)}catch(o){return ud("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ny(r){const e=xm(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof hn&&_E(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function _E({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(r){const e=r.auth,t=await r.getIdToken(),n=await rc(r,Nd(e,{idToken:t}));Se(n?.users.length,e,"internal-error");const o=n.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?Ew(o.providerUserInfo):[],u=EE(r.providerData,l),f=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,g=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function jE(r){const e=at(r);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EE(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function Ew(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TE(r,e){const t=await Nw(r,{},async()=>{const n=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await jw(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:n};return r.emulatorConfig&&Bn(r.emulatorConfig.host)&&(p.credentials="include"),_w.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IE(r,e){return Ni(r,"POST","/v2/accounts:revokeToken",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ny(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=ny(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await TE(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new yo;return n&&(Se(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class sn{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new NE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kE(this,e)}reload(){return jE(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await jd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await rc(this,bE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:C,providerData:T,stsTokenManager:L}=t;Se(b&&L,e,"internal-error");const E=yo.fromJSON(this.name,L);Se(typeof b=="string",e,"internal-error"),Zs(n,e.name),Zs(o,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof C=="boolean",e,"internal-error"),Zs(l,e.name),Zs(u,e.name),Zs(f,e.name),Zs(p,e.name),Zs(g,e.name),Zs(v,e.name);const z=new sn({uid:b,auth:e,email:o,emailVerified:_,displayName:n,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:v});return T&&Array.isArray(T)&&(z.providerData=T.map(V=>({...V}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,n=!1){const o=new yo;o.updateFromServerResponse(t);const l=new sn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await jd(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Ew(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,f=new yo;f.updateFromIdToken(n);const p=new sn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;function cs(r){gs(r instanceof Function,"Expected a class definition");let e=sy.get(r);return e?(gs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Tw.type="NONE";const iy=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r,e,t){return`firebase:${r}:${e}:${t}`}class vo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=dd(this.userKey,o.apiKey,l),this.fullPersistenceKey=dd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nd(this.auth,{idToken:e}).catch(()=>{});return t?sn._fromGetAccountInfoResponse(this.auth,t,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new vo(cs(iy),e,n);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||cs(iy);const u=dd(n,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const _=await Nd(e,{idToken:v}).catch(()=>{});if(!_)break;b=await sn._fromGetAccountInfoResponse(e,_,v)}else b=sn._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new vo(l,e,n):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new vo(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pw(e))return"Blackberry";if(Dw(e))return"Webos";if(Sw(e))return"Safari";if((e.includes("chrome/")||Cw(e))&&!e.includes("edge/"))return"Chrome";if(Rw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function Iw(r=sr()){return/firefox\//i.test(r)}function Sw(r=sr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cw(r=sr()){return/crios\//i.test(r)}function Aw(r=sr()){return/iemobile/i.test(r)}function Rw(r=sr()){return/android/i.test(r)}function Pw(r=sr()){return/blackberry/i.test(r)}function Dw(r=sr()){return/webos/i.test(r)}function ym(r=sr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SE(r=sr()){return ym(r)&&!!window.navigator?.standalone}function CE(){return q2()&&document.documentMode===10}function Lw(r=sr()){return ym(r)||Rw(r)||Dw(r)||Pw(r)||/windows phone/i.test(r)||Aw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e=[]){let t;switch(r){case"Browser":t=ay(sr());break;case"Worker":t=`${ay(sr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xa}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(r,e={}){return Ni(r,"GET","/v2/passwordPolicy",_i(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=6;class DE{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??PE,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oy(this),this.idTokenSubscription=new oy(this),this.beforeStateQueue=new AE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nd(this,{idToken:e}),n=await sn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(n=f.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(ds(this));const t=e?at(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RE(this),t=new DE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await IE(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uE(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ya(r){return at(r)}class oy{constructor(e){this.auth=e,this.observer=null,this.addObserver=J2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OE(r){Jd=r}function Vw(r){return Jd.loadJS(r)}function VE(){return Jd.recaptchaEnterpriseScript}function ME(){return Jd.gapiScript}function UE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FE{constructor(){this.enterprise=new zE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BE="recaptcha-enterprise",Mw="NO_RECAPTCHA";class $E{constructor(e){this.type=BE,this.auth=ya(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{wE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new vE(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function o(l,u,f){const p=window.grecaptcha;ry(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Mw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FE().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(f=>{if(!t&&ry(window.grecaptcha))o(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VE();p.length!==0&&(p+=f),Vw(p).then(()=>{o(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function ly(r,e,t,n=!1,o=!1){const l=new $E(r);let u;if(o)u=Mw;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Sp(r,e,t,n,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ly(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ly(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,e){const t=wc(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ua(l,e??{}))return o;cn(o,"already-initialized")}return t.initialize({options:e})}function HE(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(cs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function WE(r,e,t){const n=ya(r);Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=Uw(e),{host:u,port:f}=GE(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Se(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Se(ua(g,n.config.emulator)&&ua(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,Bn(u)?(Qd(`${l}//${u}${p}`),Yd("Auth",!0)):KE()}function Uw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GE(r){const e=Uw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:cy(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:cy(u)}}}function cy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KE(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function QE(r,e){return Ni(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r,e){return kc(r,"POST","/v1/accounts:signInWithPassword",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(r,e){return kc(r,"POST","/v1/accounts:signInWithEmailLink",_i(r,e))}async function JE(r,e){return kc(r,"POST","/v1/accounts:signInWithEmailLink",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends vm{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new nc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,t,"signInWithPassword",YE);case"emailLink":return XE(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,n,"signUpPassword",QE);case"emailLink":return JE(e,{idToken:t,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return kc(r,"POST","/v1/accounts:signInWithIdp",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="http://localhost";class da extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new da(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:ZE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tT(r){const e=zl(Bl(r)).link,t=e?zl(Bl(e)).deep_link_id:null,n=zl(Bl(r)).deep_link_id;return(n?zl(Bl(n)).link:null)||n||t||e||r}class wm{constructor(e){const t=zl(Bl(e)),n=t.apiKey??null,o=t.oobCode??null,l=eT(t.mode??null);Se(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tT(e);try{return new wm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=wm.parseLink(t);return Se(n,"argument-error"),nc._fromEmailAndCode(e,n.code,n.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends _c{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ri.credential(t,n)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends _c{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends _c{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return si.credential(t,n)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(r,e){return kc(r,"POST","/v1/accounts:signUp",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await sn._fromIdTokenResponse(e,n,o),u=uy(n);return new ha({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=uy(n);return new ha({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function uy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends hn{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new Ed(e,t,n,o)}}function zw(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(r,l,e,n):l})}async function nT(r,e,t=!1){const n=await rc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ha._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(r,e,t=!1){const{auth:n}=r;if(xr(n.app))return Promise.reject(ds(n));const o="reauthenticate";try{const l=await rc(r,zw(n,o,e,r),t);Se(l.idToken,n,"internal-error");const u=xm(l.idToken);Se(u,n,"internal-error");const{sub:f}=u;return Se(r.uid===f,n,"user-mismatch"),ha._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&cn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e,t=!1){if(xr(r.app))return Promise.reject(ds(r));const n="signIn",o=await zw(r,n,e),l=await ha._fromIdTokenResponse(r,n,o);return t||await r._updateCurrentUser(l.user),l}async function iT(r,e){return Bw(ya(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(r){const e=ya(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aT(r,e,t){if(xr(r.app))return Promise.reject(ds(r));const n=ya(r),u=await Sp(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rT).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$w(r),p}),f=await ha._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(f.user),f}function oT(r,e,t){return xr(r.app)?Promise.reject(ds(r)):iT(at(r),Oo.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$w(r),n})}function lT(r,e,t,n){return at(r).onIdTokenChanged(e,t,n)}function cT(r,e,t){return at(r).beforeAuthStateChanged(e,t)}function uT(r,e,t,n){return at(r).onAuthStateChanged(e,t,n)}function dT(r){return at(r).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=1e3,fT=10;class Hw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);CE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fT):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},hT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hw.type="LOCAL";const pT=Hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ww.type="SESSION";const Gw=Ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new Zd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const f=Array.from(u).map(async g=>g(t.origin,l)),p=await mT(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=bm("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(b){const _=b;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function xT(r){On().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function yT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vT(){return navigator?.serviceWorker?.controller||null}function wT(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebaseLocalStorageDb",bT=1,Id="firebaseLocalStorage",Yw="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eh(r,e){return r.transaction([Id],e?"readwrite":"readonly").objectStore(Id)}function kT(){const r=indexedDB.deleteDatabase(Qw);return new Nc(r).toPromise()}function Cp(){const r=indexedDB.open(Qw,bT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Id,{keyPath:Yw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Id)?e(n):(n.close(),await kT(),e(await Cp()))})})}async function dy(r,e,t){const n=eh(r,!0).put({[Yw]:e,value:t});return new Nc(n).toPromise()}async function _T(r,e){const t=eh(r,!1).get(e),n=await new Nc(t).toPromise();return n===void 0?null:n.value}function hy(r,e){const t=eh(r,!0).delete(e);return new Nc(t).toPromise()}const NT=800,jT=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>jT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(wT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yT(),!this.activeServiceWorker)return;this.sender=new gT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await dy(e,Td,"1"),await hy(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dy(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>_T(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=eh(o,!1).getAll();return new Nc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const ET=Xw;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r,e){return e?cs(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function IT(r){return Bw(r.auth,new km(r),r.bypassAuthState)}function ST(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),sT(t,new km(r),r.bypassAuthState)}async function CT(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),nT(t,new km(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IT;case"linkViaPopup":case"linkViaRedirect":return CT;case"reauthViaPopup":case"reauthViaRedirect":return ST;default:cn(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new bc(2e3,1e4);class go extends Jw{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AT.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="pendingRedirect",hd=new Map;class PT extends Jw{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const n=await DT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DT(r,e){const t=VT(e),n=OT(r);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function LT(r,e){hd.set(r._key(),e)}function OT(r){return cs(r._redirectPersistence)}function VT(r){return dd(RT,r.config.apiKey,r.name)}async function MT(r,e,t=!1){if(xr(r.app))return Promise.reject(ds(r));const n=ya(r),o=TT(n,e),u=await new PT(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=600*1e3;class FT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Zw(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ln(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UT&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(e))}saveEventToCache(e){this.cachedEventUids.add(fy(e)),this.lastProcessedEventTime=Date.now()}}function fy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Zw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function zT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(r,e={}){return Ni(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qT=/^https?/;async function HT(r){if(r.config.emulator)return;const{authorizedDomains:e}=await BT(r);for(const t of e)try{if(WT(t))return}catch{}cn(r,"unauthorized-domain")}function WT(r){const e=Tp(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!qT.test(t))return!1;if($T.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new bc(3e4,6e4);function py(){const r=On().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function KT(r){return new Promise((e,t)=>{function n(){py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{py(),t(Ln(r,"network-request-failed"))},timeout:GT.get()})}if(On().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(On().gapi?.load)n();else{const o=UE("iframefcb");return On()[o]=()=>{gapi.load?n():t(Ln(r,"network-request-failed"))},Vw(`${ME()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw fd=null,e})}let fd=null;function QT(r){return fd=fd||KT(r),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new bc(5e3,15e3),XT="__/auth/iframe",JT="emulator/auth/iframe",ZT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?gm(e,JT):`https://${r.config.authDomain}/${XT}`,n={apiKey:e.apiKey,appName:r.name,v:xa},o=eI.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${vc(n).slice(1)}`}async function rI(r){const e=await QT(r),t=On().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:tI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZT,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=Ln(r,"network-request-failed"),f=On().setTimeout(()=>{l(u)},YT.get());function p(){On().clearTimeout(f),o(n)}n.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,iI=600,aI="_blank",oI="http://localhost";class my{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,e,t,n=sI,o=iI){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p={...nI,width:n.toString(),height:o.toString(),top:l,left:u},g=sr().toLowerCase();t&&(f=Cw(g)?aI:t),Iw(g)&&(e=e||oI,p.scrollbars="yes");const v=Object.entries(p).reduce((_,[C,T])=>`${_}${C}=${T},`,"");if(SE(g)&&f!=="_self")return cI(e||"",f),new my(null);const b=window.open(e||"",f,v);Se(b,r,"popup-blocked");try{b.focus()}catch{}return new my(b)}function cI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="__/auth/handler",dI="emulator/auth/handler",hI=encodeURIComponent("fac");async function gy(r,e,t,n,o,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:xa,eventId:o};if(e instanceof Fw){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",X2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof _c){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),g=p?`#${hI}=${encodeURIComponent(p)}`:"";return`${fI(r)}?${vc(f).slice(1)}${g}`}function fI({config:r}){return r.emulator?gm(r,dI):`https://${r.authDomain}/${uI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=MT,this._overrideRedirectResult=LT}async _openPopup(e,t,n,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gy(e,t,n,Tp(),o);return lI(e,l,bm())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await gy(e,t,n,Tp(),o);return xT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(gs(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rI(e),n=new FT(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{const l=o?.[0]?.[lp];l!==void 0&&t(!!l),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lw()||Sw()||ym()}}const mI=pI;var xy="@firebase/auth",yy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(r){di(new ps("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=n.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(r)},g=new LE(n,o,l,p);return HE(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),di(new ps("auth-internal",e=>{const t=ya(e.getProvider("auth").getImmediate());return(n=>new gI(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(xy,yy,xI(r)),qr(xy,yy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=300,wI=fw("authIdTokenMaxAge")||vI;let vy=null;const bI=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wI)return;const o=t?.token;vy!==o&&(vy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kI(r=Xd()){const e=wc(r,"auth");if(e.isInitialized())return e.getImmediate();const t=qE(r,{popupRedirectResolver:mI,persistence:[ET,pT,Gw]}),n=fw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=bI(l.toString());cT(t,u,()=>u(t.currentUser)),lT(t,f=>u(f))}}const o=dw("auth");return o&&WE(t,`http://${o}`),t}function _I(){return document.getElementsByTagName("head")?.[0]??document}OE({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=Ln("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",_I().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var NI="firebase",jI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(NI,jI,"app");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,eb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,j){function R(){}R.prototype=j.prototype,P.F=j.prototype,P.prototype=new R,P.prototype.constructor=P,P.D=function(O,M,B){for(var S=Array(arguments.length-2),je=2;je<arguments.length;je++)S[je-2]=arguments[je];return j.prototype[M].apply(O,S)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,j,R){R||(R=0);const O=Array(16);if(typeof j=="string")for(var M=0;M<16;++M)O[M]=j.charCodeAt(R++)|j.charCodeAt(R++)<<8|j.charCodeAt(R++)<<16|j.charCodeAt(R++)<<24;else for(M=0;M<16;++M)O[M]=j[R++]|j[R++]<<8|j[R++]<<16|j[R++]<<24;j=P.g[0],R=P.g[1],M=P.g[2];let B=P.g[3],S;S=j+(B^R&(M^B))+O[0]+3614090360&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(M^j&(R^M))+O[1]+3905402710&4294967295,B=j+(S<<12&4294967295|S>>>20),S=M+(R^B&(j^R))+O[2]+606105819&4294967295,M=B+(S<<17&4294967295|S>>>15),S=R+(j^M&(B^j))+O[3]+3250441966&4294967295,R=M+(S<<22&4294967295|S>>>10),S=j+(B^R&(M^B))+O[4]+4118548399&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(M^j&(R^M))+O[5]+1200080426&4294967295,B=j+(S<<12&4294967295|S>>>20),S=M+(R^B&(j^R))+O[6]+2821735955&4294967295,M=B+(S<<17&4294967295|S>>>15),S=R+(j^M&(B^j))+O[7]+4249261313&4294967295,R=M+(S<<22&4294967295|S>>>10),S=j+(B^R&(M^B))+O[8]+1770035416&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(M^j&(R^M))+O[9]+2336552879&4294967295,B=j+(S<<12&4294967295|S>>>20),S=M+(R^B&(j^R))+O[10]+4294925233&4294967295,M=B+(S<<17&4294967295|S>>>15),S=R+(j^M&(B^j))+O[11]+2304563134&4294967295,R=M+(S<<22&4294967295|S>>>10),S=j+(B^R&(M^B))+O[12]+1804603682&4294967295,j=R+(S<<7&4294967295|S>>>25),S=B+(M^j&(R^M))+O[13]+4254626195&4294967295,B=j+(S<<12&4294967295|S>>>20),S=M+(R^B&(j^R))+O[14]+2792965006&4294967295,M=B+(S<<17&4294967295|S>>>15),S=R+(j^M&(B^j))+O[15]+1236535329&4294967295,R=M+(S<<22&4294967295|S>>>10),S=j+(M^B&(R^M))+O[1]+4129170786&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^M&(j^R))+O[6]+3225465664&4294967295,B=j+(S<<9&4294967295|S>>>23),S=M+(j^R&(B^j))+O[11]+643717713&4294967295,M=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(M^B))+O[0]+3921069994&4294967295,R=M+(S<<20&4294967295|S>>>12),S=j+(M^B&(R^M))+O[5]+3593408605&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^M&(j^R))+O[10]+38016083&4294967295,B=j+(S<<9&4294967295|S>>>23),S=M+(j^R&(B^j))+O[15]+3634488961&4294967295,M=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(M^B))+O[4]+3889429448&4294967295,R=M+(S<<20&4294967295|S>>>12),S=j+(M^B&(R^M))+O[9]+568446438&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^M&(j^R))+O[14]+3275163606&4294967295,B=j+(S<<9&4294967295|S>>>23),S=M+(j^R&(B^j))+O[3]+4107603335&4294967295,M=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(M^B))+O[8]+1163531501&4294967295,R=M+(S<<20&4294967295|S>>>12),S=j+(M^B&(R^M))+O[13]+2850285829&4294967295,j=R+(S<<5&4294967295|S>>>27),S=B+(R^M&(j^R))+O[2]+4243563512&4294967295,B=j+(S<<9&4294967295|S>>>23),S=M+(j^R&(B^j))+O[7]+1735328473&4294967295,M=B+(S<<14&4294967295|S>>>18),S=R+(B^j&(M^B))+O[12]+2368359562&4294967295,R=M+(S<<20&4294967295|S>>>12),S=j+(R^M^B)+O[5]+4294588738&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^M)+O[8]+2272392833&4294967295,B=j+(S<<11&4294967295|S>>>21),S=M+(B^j^R)+O[11]+1839030562&4294967295,M=B+(S<<16&4294967295|S>>>16),S=R+(M^B^j)+O[14]+4259657740&4294967295,R=M+(S<<23&4294967295|S>>>9),S=j+(R^M^B)+O[1]+2763975236&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^M)+O[4]+1272893353&4294967295,B=j+(S<<11&4294967295|S>>>21),S=M+(B^j^R)+O[7]+4139469664&4294967295,M=B+(S<<16&4294967295|S>>>16),S=R+(M^B^j)+O[10]+3200236656&4294967295,R=M+(S<<23&4294967295|S>>>9),S=j+(R^M^B)+O[13]+681279174&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^M)+O[0]+3936430074&4294967295,B=j+(S<<11&4294967295|S>>>21),S=M+(B^j^R)+O[3]+3572445317&4294967295,M=B+(S<<16&4294967295|S>>>16),S=R+(M^B^j)+O[6]+76029189&4294967295,R=M+(S<<23&4294967295|S>>>9),S=j+(R^M^B)+O[9]+3654602809&4294967295,j=R+(S<<4&4294967295|S>>>28),S=B+(j^R^M)+O[12]+3873151461&4294967295,B=j+(S<<11&4294967295|S>>>21),S=M+(B^j^R)+O[15]+530742520&4294967295,M=B+(S<<16&4294967295|S>>>16),S=R+(M^B^j)+O[2]+3299628645&4294967295,R=M+(S<<23&4294967295|S>>>9),S=j+(M^(R|~B))+O[0]+4096336452&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~M))+O[7]+1126891415&4294967295,B=j+(S<<10&4294967295|S>>>22),S=M+(j^(B|~R))+O[14]+2878612391&4294967295,M=B+(S<<15&4294967295|S>>>17),S=R+(B^(M|~j))+O[5]+4237533241&4294967295,R=M+(S<<21&4294967295|S>>>11),S=j+(M^(R|~B))+O[12]+1700485571&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~M))+O[3]+2399980690&4294967295,B=j+(S<<10&4294967295|S>>>22),S=M+(j^(B|~R))+O[10]+4293915773&4294967295,M=B+(S<<15&4294967295|S>>>17),S=R+(B^(M|~j))+O[1]+2240044497&4294967295,R=M+(S<<21&4294967295|S>>>11),S=j+(M^(R|~B))+O[8]+1873313359&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~M))+O[15]+4264355552&4294967295,B=j+(S<<10&4294967295|S>>>22),S=M+(j^(B|~R))+O[6]+2734768916&4294967295,M=B+(S<<15&4294967295|S>>>17),S=R+(B^(M|~j))+O[13]+1309151649&4294967295,R=M+(S<<21&4294967295|S>>>11),S=j+(M^(R|~B))+O[4]+4149444226&4294967295,j=R+(S<<6&4294967295|S>>>26),S=B+(R^(j|~M))+O[11]+3174756917&4294967295,B=j+(S<<10&4294967295|S>>>22),S=M+(j^(B|~R))+O[2]+718787259&4294967295,M=B+(S<<15&4294967295|S>>>17),S=R+(B^(M|~j))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+j&4294967295,P.g[1]=P.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+B&4294967295}n.prototype.v=function(P,j){j===void 0&&(j=P.length);const R=j-this.blockSize,O=this.C;let M=this.h,B=0;for(;B<j;){if(M==0)for(;B<=R;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<j;)if(O[M++]=P.charCodeAt(B++),M==this.blockSize){o(this,O),M=0;break}}else for(;B<j;)if(O[M++]=P[B++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=j},n.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var j=1;j<P.length-8;++j)P[j]=0;j=this.o*8;for(var R=P.length-8;R<P.length;++R)P[R]=j&255,j/=256;for(this.v(P),P=Array(16),j=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)P[j++]=this.g[R]>>>O&255;return P};function l(P,j){var R=f;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=j(P)}function u(P,j){this.h=j;const R=[];let O=!0;for(let M=P.length-1;M>=0;M--){const B=P[M]|0;O&&B==j||(R[M]=B,O=!1)}this.g=R}var f={};function p(P){return-128<=P&&P<128?l(P,function(j){return new u([j|0],j<0?-1:0)}):new u([P|0],P<0?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(P<0)return E(g(-P));const j=[];let R=1;for(let O=0;P>=R;O++)j[O]=P/R|0,R*=4294967296;return new u(j,0)}function v(P,j){if(P.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(P.charAt(0)=="-")return E(v(P.substring(1),j));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(j,8));let O=b;for(let B=0;B<P.length;B+=8){var M=Math.min(8,P.length-B);const S=parseInt(P.substring(B,B+M),j);M<8?(M=g(Math.pow(j,M)),O=O.j(M).add(g(S))):(O=O.j(R),O=O.add(g(S)))}return O}var b=p(0),_=p(1),C=p(16777216);r=u.prototype,r.m=function(){if(L(this))return-E(this).m();let P=0,j=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);P+=(O>=0?O:4294967296+O)*j,j*=4294967296}return P},r.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(L(this))return"-"+E(this).toString(P);const j=g(Math.pow(P,6));var R=this;let O="";for(;;){const M=D(R,j).g;R=z(R,M.j(j));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(P);if(R=M,T(R))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},r.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let j=0;j<P.g.length;j++)if(P.g[j]!=0)return!1;return!0}function L(P){return P.h==-1}r.l=function(P){return P=z(this,P),L(P)?-1:T(P)?0:1};function E(P){const j=P.g.length,R=[];for(let O=0;O<j;O++)R[O]=~P.g[O];return new u(R,~P.h).add(_)}r.abs=function(){return L(this)?E(this):this},r.add=function(P){const j=Math.max(this.g.length,P.g.length),R=[];let O=0;for(let M=0;M<=j;M++){let B=O+(this.i(M)&65535)+(P.i(M)&65535),S=(B>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);O=S>>>16,B&=65535,S&=65535,R[M]=S<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(P,j){return P.add(E(j))}r.j=function(P){if(T(this)||T(P))return b;if(L(this))return L(P)?E(this).j(E(P)):E(E(this).j(P));if(L(P))return E(this.j(E(P)));if(this.l(C)<0&&P.l(C)<0)return g(this.m()*P.m());const j=this.g.length+P.g.length,R=[];for(var O=0;O<2*j;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<P.g.length;M++){const B=this.i(O)>>>16,S=this.i(O)&65535,je=P.i(M)>>>16,$e=P.i(M)&65535;R[2*O+2*M]+=S*$e,V(R,2*O+2*M),R[2*O+2*M+1]+=B*$e,V(R,2*O+2*M+1),R[2*O+2*M+1]+=S*je,V(R,2*O+2*M+1),R[2*O+2*M+2]+=B*je,V(R,2*O+2*M+2)}for(P=0;P<j;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=j;P<2*j;P++)R[P]=0;return new u(R,0)};function V(P,j){for(;(P[j]&65535)!=P[j];)P[j+1]+=P[j]>>>16,P[j]&=65535,j++}function G(P,j){this.g=P,this.h=j}function D(P,j){if(T(j))throw Error("division by zero");if(T(P))return new G(b,b);if(L(P))return j=D(E(P),j),new G(E(j.g),E(j.h));if(L(j))return j=D(P,E(j)),new G(E(j.g),j.h);if(P.g.length>30){if(L(P)||L(j))throw Error("slowDivide_ only works with positive integers.");for(var R=_,O=j;O.l(P)<=0;)R=Z(R),O=Z(O);var M=Y(R,1),B=Y(O,1);for(O=Y(O,2),R=Y(R,2);!T(O);){var S=B.add(O);S.l(P)<=0&&(M=M.add(R),B=S),O=Y(O,1),R=Y(R,1)}return j=z(P,M.j(j)),new G(M,j)}for(M=b;P.l(j)>=0;){for(R=Math.max(1,Math.floor(P.m()/j.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=g(R),S=B.j(j);L(S)||S.l(P)>0;)R-=O,B=g(R),S=B.j(j);T(B)&&(B=_),M=M.add(B),P=z(P,S)}return new G(M,P)}r.B=function(P){return D(this,P).h},r.and=function(P){const j=Math.max(this.g.length,P.g.length),R=[];for(let O=0;O<j;O++)R[O]=this.i(O)&P.i(O);return new u(R,this.h&P.h)},r.or=function(P){const j=Math.max(this.g.length,P.g.length),R=[];for(let O=0;O<j;O++)R[O]=this.i(O)|P.i(O);return new u(R,this.h|P.h)},r.xor=function(P){const j=Math.max(this.g.length,P.g.length),R=[];for(let O=0;O<j;O++)R[O]=this.i(O)^P.i(O);return new u(R,this.h^P.h)};function Z(P){const j=P.g.length+1,R=[];for(let O=0;O<j;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(R,P.h)}function Y(P,j){const R=j>>5;j%=32;const O=P.g.length-R,M=[];for(let B=0;B<O;B++)M[B]=j>0?P.i(B+R)>>>j|P.i(B+R+1)<<32-j:P.i(B+R);return new u(M,P.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,eb=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ci=u}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tb,$l,rb,pd,Ap,nb,sb,ib;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function o(d,y){if(y)e:{var w=n;d=d.split(".");for(var N=0;N<d.length-1;N++){var H=d[N];if(!(H in w))break e;w=w[H]}d=d[d.length-1],N=w[d],y=y(N),y!=N&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(y){var w=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&w.push([N,y[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,w){return d.call.apply(d.bind,arguments)}function g(d,y,w){return g=p,g.apply(null,arguments)}function v(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function b(d,y){function w(){}w.prototype=y.prototype,d.Z=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,H,Q){for(var ae=Array(arguments.length-2),De=2;De<arguments.length;De++)ae[De-2]=arguments[De];return y.prototype[H].apply(N,ae)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const y=d.length;if(y>0){const w=Array(y);for(let N=0;N<y;N++)w[N]=d[N];return w}return[]}function T(d,y){for(let N=1;N<arguments.length;N++){const H=arguments[N];var w=typeof H;if(w=w!="object"?w:H?Array.isArray(H)?"array":w:"null",w=="array"||w=="object"&&typeof H.length=="number"){w=d.length||0;const Q=H.length||0;d.length=w+Q;for(let ae=0;ae<Q;ae++)d[w+ae]=H[ae]}else d.push(H)}}class L{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(d){u.setTimeout(()=>{throw d},0)}function z(){var d=P;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class V{constructor(){this.h=this.g=null}add(y,w){const N=G.get();N.set(y,w),this.h?this.h.next=N:this.g=N,this.h=N}}var G=new L(()=>new D,d=>d.reset());class D{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,Y=!1,P=new V,j=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(R)}};function R(){for(var d;d=z();){try{d.h.call(d.g)}catch(w){E(w)}var y=G;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}Y=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return d})();function S(d){return/^[\s\xa0]*$/.test(d)}function je(d,y){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}b(je,M),je.prototype.init=function(d,y){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),Qe=0;function He(d,y,w,N,H){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!N,this.ha=H,this.key=++Qe,this.da=this.fa=!1}function X(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xe(d,y,w){for(const N in d)y.call(w,d[N],N,d)}function oe(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function $(d){const y={};for(const w in d)y[w]=d[w];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,y){let w,N;for(let H=1;H<arguments.length;H++){N=arguments[H];for(w in N)d[w]=N[w];for(let Q=0;Q<ee.length;Q++)w=ee[Q],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function ve(d){this.src=d,this.g={},this.h=0}ve.prototype.add=function(d,y,w,N,H){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ae=Oe(d,y,N,H);return ae>-1?(y=d[ae],w||(y.fa=!1)):(y=new He(y,this.src,Q,!!N,H),y.fa=w,d.push(y)),y};function Re(d,y){const w=y.type;if(w in d.g){var N=d.g[w],H=Array.prototype.indexOf.call(N,y,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(N,H,1),Q&&(X(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Oe(d,y,w,N){for(let H=0;H<d.length;++H){const Q=d[H];if(!Q.da&&Q.listener==y&&Q.capture==!!w&&Q.ha==N)return H}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),ke={};function Ie(d,y,w,N,H){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ie(d,y[Q],w,N,H);return null}return w=qo(w),d&&d[$e]?d.J(y,w,f(N)?!!N.capture:!1,H):Je(d,y,w,!1,N,H)}function Je(d,y,w,N,H,Q){if(!y)throw Error("Invalid event type");const ae=f(H)?!!H.capture:!!H;let De=Na(d);if(De||(d[ce]=De=new ve(d)),w=De.add(y,w,N,ae,Q),w.proxy)return w;if(N=Dr(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)B||(H=ae),H===void 0&&(H=!1),d.addEventListener(y.toString(),N,H);else if(d.attachEvent)d.attachEvent(_a(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Dr(){function d(w){return y.call(d.src,d.listener,w)}const y=Pc;return d}function pn(d,y,w,N,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)pn(d,y[Q],w,N,H);else N=f(N)?!!N.capture:!!N,w=qo(w),d&&d[$e]?(d=d.i,Q=String(y).toString(),Q in d.g&&(y=d.g[Q],w=Oe(y,w,N,H),w>-1&&(X(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Na(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Oe(y,w,N,H)),(w=d>-1?y[d]:null)&&_s(w))}function _s(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[$e])Re(y.i,d);else{var w=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(w,N,d.capture):y.detachEvent?y.detachEvent(_a(w),N):y.addListener&&y.removeListener&&y.removeListener(N),(w=Na(y))?(Re(w,d),w.h==0&&(w.src=null,y[ce]=null)):X(d)}}}function _a(d){return d in ke?ke[d]:ke[d]="on"+d}function Pc(d,y){if(d.da)d=!0;else{y=new je(y,this);const w=d.listener,N=d.ha||d.src;d.fa&&_s(d),d=w.call(N,y)}return d}function Na(d){return d=d[ce],d instanceof ve?d:null}var Si="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(d){return typeof d=="function"?d:(d[Si]||(d[Si]=function(y){return d.handleEvent(y)}),d[Si])}function Nt(){O.call(this),this.i=new ve(this),this.M=this,this.G=null}b(Nt,O),Nt.prototype[$e]=!0,Nt.prototype.removeEventListener=function(d,y,w,N){pn(this,d,y,w,N)};function xt(d,y){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new M(y,d);else if(y instanceof M)y.target=y.target||d;else{var H=y;y=new M(N,d),ye(y,H)}H=!0;let Q,ae;if(w)for(ae=w.length-1;ae>=0;ae--)Q=y.g=w[ae],H=Kr(Q,N,!0,y)&&H;if(Q=y.g=d,H=Kr(Q,N,!0,y)&&H,H=Kr(Q,N,!1,y)&&H,w)for(ae=0;ae<w.length;ae++)Q=y.g=w[ae],H=Kr(Q,N,!1,y)&&H}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const w=d.g[y];for(let N=0;N<w.length;N++)X(w[N]);delete d.g[y],d.h--}}this.G=null},Nt.prototype.J=function(d,y,w,N){return this.i.add(String(d),y,!1,w,N)},Nt.prototype.K=function(d,y,w,N){return this.i.add(String(d),y,!0,w,N)};function Kr(d,y,w,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==w){const De=ae.listener,yt=ae.ha||ae.src;ae.fa&&Re(d.i,ae),H=De.call(yt,N)!==!1&&H}}return H&&!N.defaultPrevented}function Ho(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(d,y||0)}function Wo(d){d.g=Ho(()=>{d.g=null,d.i&&(d.i=!1,Wo(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Dc extends O{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(d){O.call(this),this.h=d,this.g={}}b(Ns,O);var Go=[];function ja(d){xe(d.g,function(y,w){this.g.hasOwnProperty(w)&&_s(y)},d),d.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),ja(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=u.JSON.stringify,Lc=u.JSON.parse,Ci=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Es(){}function Oc(){}var Ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ea(){M.call(this,"d")}b(Ea,M);function Ko(){M.call(this,"c")}b(Ko,M);var Qr={},Ta=null;function Is(){return Ta=Ta||new Nt}Qr.Ia="serverreachability";function Ia(d){M.call(this,Qr.Ia,d)}b(Ia,M);function $n(d){const y=Is();xt(y,new Ia(y))}Qr.STAT_EVENT="statevent";function qn(d,y){M.call(this,Qr.STAT_EVENT,d),this.stat=y}b(qn,M);function ht(d){const y=Is();xt(y,new qn(y,d))}Qr.Ja="timingevent";function Qo(d,y){M.call(this,Qr.Ja,d),this.size=y}b(Qo,M);function Ss(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function Cs(){this.g=!0}Cs.prototype.ua=function(){this.g=!1};function Vc(d,y,w,N,H,Q){d.info(function(){if(d.g)if(Q){var ae="",De=Q.split("&");for(let Xe=0;Xe<De.length;Xe++){var yt=De[Xe].split("=");if(yt.length>1){const jt=yt[0];yt=yt[1];const Tr=jt.split("_");ae=Tr.length>=2&&Tr[1]=="type"?ae+(jt+"="+yt+"&"):ae+(jt+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+N+") [attempt "+H+"]: "+y+`
`+w+`
`+ae})}function Mc(d,y,w,N,H,Q,ae){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+H+"]: "+y+`
`+w+`
`+Q+" "+ae})}function mn(d,y,w,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ai(d,w)+(N?" "+N:"")})}function Uc(d,y){d.info(function(){return"TIMEOUT: "+y})}Cs.prototype.info=function(){};function Ai(d,y){if(!d.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var w=Q[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var H=N[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ae=1;ae<N.length;ae++)N[ae]=""}}}}return js(Q)}catch{return y}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fc;function Hn(){}b(Hn,Es),Hn.prototype.g=function(){return new XMLHttpRequest},Fc=new Hn;function gn(d){return encodeURIComponent(String(d))}function Sa(d){var y=1;d=d.split(":");const w=[];for(;y>0&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function Lr(d,y,w,N){this.j=d,this.i=y,this.l=w,this.S=N||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zc}function zc(){this.i=null,this.g="",this.h=!1}var Bc={},Yo={};function Yr(d,y,w){d.M=1,d.A=Gn(Or(y)),d.u=w,d.R=!0,Xo(d,null)}function Xo(d,y){d.F=Date.now(),Ri(d),d.B=Or(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),ol(w.i,"t",N),d.C=0,w=d.j.L,d.h=new zc,d.g=Jc(d.j,w?y:null,!d.u),d.P>0&&(d.O=new Dc(g(d.Y,d,d.g),d.P)),y=d.V,w=d.g,N=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Go[0]=H.toString()),H=Go);for(let Q=0;Q<H.length;Q++){const ae=Ie(w,H[Q],N||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.J?$(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),$n(),Vc(d.i,d.v,d.B,d.l,d.S,d.u)}Lr.prototype.ba=function(d){d=d.target;const y=this.O;y&&_n(d)==3?y.j():this.Y(d)},Lr.prototype.Y=function(d){try{if(d==this.g)e:{const De=_n(this.g),yt=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Yc(this.g)))){this.K||De!=4||yt==7||(yt==8||Xe<=0?$n(3):$n(2)),Ca(this);var y=this.g.ca();this.X=y;var w=$c(this);if(this.o=y==200,Mc(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,H=this.g;if((N=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(N)){var Q=N;break t}}Q=null}if(d=Q)mn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nt(this,d);else{this.o=!1,this.m=3,ht(12),Wn(this),Pi(this);break e}}if(this.R){d=!0;let jt;for(;!this.K&&this.C<w.length;)if(jt=Hc(this,w),jt==Yo){De==4&&(this.m=4,ht(14),d=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Bc){this.m=4,ht(15),mn(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else mn(this.i,this.l,jt,null),nt(this,jt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||w.length!=0||this.h.h||(this.m=1,ht(16),d=!1),this.o=this.o&&d,!d)mn(this.i,this.l,w,"[Invalid Chunked Response]"),Wn(this),Pi(this);else if(w.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Bi(ae),ae.P=!0,ht(11))}}else mn(this.i,this.l,w,null),nt(this,w);De==4&&Wn(this),this.o&&!this.K&&(De==4?Fa(this.j,this):(this.o=!1,Ri(this)))}else cl(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Wn(this),Pi(this)}}}catch{}finally{}};function $c(d){if(!qc(d))return d.g.la();const y=Yc(d.g);if(y==="")return"";let w="";const N=y.length,H=_n(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Wn(d),Pi(d),"";d.h.i=new u.TextDecoder}for(let Q=0;Q<N;Q++)d.h.h=!0,w+=d.h.i.decode(y[Q],{stream:!(H&&Q==N-1)});return y.length=0,d.h.g+=w,d.C=0,d.h.g}function qc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Hc(d,y){var w=d.C,N=y.indexOf(`
`,w);return N==-1?Yo:(w=Number(y.substring(w,N)),isNaN(w)?Bc:(N+=1,N+w>y.length?Yo:(y=y.slice(N,N+w),d.C=N+w,y)))}Lr.prototype.cancel=function(){this.K=!0,Wn(this)};function Ri(d){d.T=Date.now()+d.H,Jo(d,d.H)}function Jo(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ss(g(d.aa,d),y)}function Ca(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Lr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Uc(this.i,this.B),this.M!=2&&($n(),ht(17)),Wn(this),this.m=2,Pi(this)):Jo(this,this.T-d)};function Pi(d){d.j.I==0||d.K||Fa(d.j,d)}function Wn(d){Ca(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,ja(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function nt(d,y){try{var w=d.j;if(w.I!=0&&(w.g==d||el(w.h,d))){if(!d.L&&el(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var H=N;if(H[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Ua(w),jr(w);else break e;En(w),ht(18)}}else w.xa=H[1],0<w.xa-w.K&&H[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ss(g(w.Va,w),6e3));Di(w.h)<=1&&w.ta&&(w.ta=void 0)}else Er(w,11)}else if((d.L||w.g==d)&&Ua(w),!S(y))for(H=w.Ba.g.parse(y),y=0;y<H.length;y++){let Xe=H[y];const jt=Xe[0];if(!(jt<=w.K))if(w.K=jt,Xe=Xe[1],w.I==2)if(Xe[0]=="c"){w.M=Xe[1],w.ba=Xe[2];const Tr=Xe[3];Tr!=null&&(w.ka=Tr,w.j.info("VER="+w.ka));const Jn=Xe[4];Jn!=null&&(w.za=Jn,w.j.info("SVER="+w.za));const Tn=Xe[5];Tn!=null&&typeof Tn=="number"&&Tn>0&&(N=1.5*Tn,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const In=d.g;if(In){const $a=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var Q=N.h;Q.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ra(Q,Q.h),Q.h=null))}if(N.G){const hl=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(N.wa=hl,Ke(N.J,N.G,hl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var ae=d;if(N.na=dl(N,N.L?N.ba:null,N.W),ae.L){Li(N.h,ae);var De=ae,yt=N.O;yt&&(De.H=yt),De.D&&(Ca(De),Ri(De)),N.g=ae}else Kt(N);w.i.length>0&&Xn(w)}else Xe[0]!="stop"&&Xe[0]!="close"||Er(w,7);else w.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Er(w,7):Va(w):Xe[0]!="noop"&&w.l&&w.l.qa(Xe),w.A=0)}}$n(4)}catch{}}var Nh=class{constructor(d,y){this.g=d,this.map=y}};function Aa(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Di(d){return d.h?1:d.g?d.g.size:0}function el(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ra(d,y){d.g?d.g.add(y):d.h=y}function Li(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Aa.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.G);return y}return C(d.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(d,y){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let H,Q=null;N>=0?(H=d[w].substring(0,N),Q=d[w].substring(N+1)):H=d[w],y(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function xn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof xn?(this.l=d.l,Oi(this,d.j),this.o=d.o,this.g=d.g,yn(this,d.u),this.h=d.h,Ps(this,ll(d.i)),this.m=d.m):d&&(y=String(d).match(Wc))?(this.l=!1,Oi(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),yn(this,y[4]),this.h=Vi(y[5]||"",!0),Ps(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}xn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Mi(y,rl,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Mi(y,rl,!0),"@"),d.push(gn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Mi(w,w.charAt(0)=="/"?Ui:nl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Mi(w,sl)),d.join("")},xn.prototype.resolve=function(d){const y=Or(this);let w=!!d.j;w?Oi(y,d.j):w=!!d.o,w?y.o=d.o:w=!!d.g,w?y.g=d.g:w=d.u!=null;var N=d.h;if(w)yn(y,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var H=y.h.lastIndexOf("/");H!=-1&&(N=y.h.slice(0,H+1)+N)}if(H=N,H==".."||H==".")N="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){N=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ae=0;ae<H.length;){const De=H[ae++];De=="."?N&&ae==H.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),N&&ae==H.length&&Q.push("")):(Q.push(De),N=!0)}N=Q.join("/")}else N=H}return w?y.h=N:w=d.i.toString()!=="",w?Ps(y,ll(d.i)):w=!!d.m,w&&(y.m=d.m),y};function Or(d){return new xn(d)}function Oi(d,y,w){d.j=w?Vi(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function yn(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Ps(d,y,w){y instanceof Be?(d.i=y,Da(d.i,d.l)):(w||(y=Mi(y,jh)),d.i=new Be(y,d.l))}function Ke(d,y,w){d.i.set(y,w)}function Gn(d){return Ke(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vi(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mi(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,tl),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function tl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var rl=/[#\/\?@]/g,nl=/[#\?:]/g,Ui=/[#\?]/g,jh=/[#\?@]/g,sl=/#/g;function Be(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function vn(d){d.g||(d.g=new Map,d.h=0,d.i&&_r(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}r=Be.prototype,r.add=function(d,y){vn(this),this.i=null,d=wn(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function il(d,y){vn(d),y=wn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Pa(d,y){return vn(d),y=wn(d,y),d.g.has(y)}r.forEach=function(d,y){vn(this),this.g.forEach(function(w,N){w.forEach(function(H){d.call(y,H,N,this)},this)},this)};function al(d,y){vn(d);let w=[];if(typeof y=="string")Pa(d,y)&&(w=w.concat(d.g.get(wn(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)w=w.concat(d[y]);return w}r.set=function(d,y){return vn(this),this.i=null,d=wn(this,d),Pa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=al(this,d),d.length>0?String(d[0]):y):y};function ol(d,y,w){il(d,y),w.length>0&&(d.i=null,d.g.set(wn(d,y),C(w)),d.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var w=y[N];const H=gn(w);w=al(this,w);for(let Q=0;Q<w.length;Q++){let ae=H;w[Q]!==""&&(ae+="="+gn(w[Q])),d.push(ae)}}return this.i=d.join("&")};function ll(d){const y=new Be;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function wn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Da(d,y){y&&!d.j&&(vn(d),d.i=null,d.g.forEach(function(w,N){const H=N.toLowerCase();N!=H&&(il(this,N),ol(this,H,w))},d)),d.j=y}function bn(d,y){const w=new Cs;if(u.Image){const N=new Image;N.onload=v(zt,w,"TestLoadImage: loaded",!0,y,N),N.onerror=v(zt,w,"TestLoadImage: error",!1,y,N),N.onabort=v(zt,w,"TestLoadImage: abort",!1,y,N),N.ontimeout=v(zt,w,"TestLoadImage: timeout",!1,y,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function kn(d,y){const w=new Cs,N=new AbortController,H=setTimeout(()=>{N.abort(),zt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(Q=>{clearTimeout(H),Q.ok?zt(w,"TestPingServer: ok",!0,y):zt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),zt(w,"TestPingServer: error",!1,y)})}function zt(d,y,w,N,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),N(w)}catch{}}function Fi(){this.g=new Ci}function Kn(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Kn,Es),Kn.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(d,y){Nt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Nr,Nt),r=Nr.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Xr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gc(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gc(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ds(this):Xr(this),this.readyState==3&&Gc(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Ds(this))},r.Na=function(d){this.g&&(this.response=d,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Xr(d)}r.setRequestHeader=function(d,y){this.A.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kc(d){let y="";return xe(d,function(w,N){y+=N,y+=":",y+=w,y+=`\r
`}),y}function La(d,y,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Kc(w),typeof d=="string"?w!=null&&gn(w):Ke(d,y,w))}function Ze(d){Nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,Nt);var Qc=/^https?$/i,Eh=["POST","PUT"];r=Ze.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,y,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fc.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){Ls(this,Q);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var H in N)w.set(H,N[H]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Q of N.keys())w.set(Q,N.get(Q));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Eh,y,void 0)>=0)||N||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of w)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Ls(this,Q)}};function Ls(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Os(d),Yn(d)}function Os(d){d.A||(d.A=!0,xt(d,"complete"),xt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,xt(this,"complete"),xt(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Qn(this):this.Xa())},r.Xa=function(){Qn(this)};function Qn(d){if(d.h&&typeof l<"u"){if(d.v&&_n(d)==4)setTimeout(d.Ca.bind(d),0);else if(xt(d,"readystatechange"),_n(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var N;if(N=Q===0){let ae=String(d.D).match(Wc)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),N=!Qc.test(ae?ae.toLowerCase():"")}w=N}if(w)xt(d,"complete"),xt(d,"success");else{d.o=6;try{var H=_n(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Os(d)}}finally{Yn(d)}}}}function Yn(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,y||xt(d,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _n(d){return d.g?d.g.readyState:0}r.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Lc(y)}};function Yc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cl(d){const y={};d=(d.g&&_n(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(S(d[N]))continue;var w=Sa(d[N]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=y[H]||[];y[H]=Q,Q.push(w)}oe(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Oa(d){this.za=0,this.i=[],this.j=new Cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nn("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nn("baseRetryDelayMs",5e3,d),this.Za=Nn("retryDelaySeedMs",1e4,d),this.Ta=Nn("forwardChannelMaxRetries",2,d),this.va=Nn("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Aa(d&&d.concurrentRequestLimit),this.Ba=new Fi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Oa.prototype,r.ka=8,r.I=1,r.connect=function(d,y,w,N){ht(0),this.W=d,this.H=y||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=dl(this,null,this.W),Xn(this)};function Va(d){if(Ma(d),d.I==3){var y=d.V++,w=Or(d.J);if(Ke(w,"SID",d.M),Ke(w,"RID",y),Ke(w,"TYPE","terminate"),jn(d,w),y=new Lr(d,d.j,y),y.M=2,y.A=Gn(Or(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=Jc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}$i(d)}function jr(d){d.g&&(Bi(d),d.g.cancel(),d.g=null)}function Ma(d){jr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ua(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Xn(d){if(!Zo(d.h)&&!d.m){d.m=!0;var y=d.Ea;Z||j(),Y||(Z(),Y=!0),P.add(y,d),d.D=0}}function Xc(d,y){return Di(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ss(g(d.Ea,d,y),za(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new Lr(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=$(Q),ye(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ul(this,H,y),w=Or(this.J),Ke(w,"RID",d),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),jn(this,w),Q&&(this.R?y="headers="+gn(Kc(Q))+"&"+y:this.u&&La(w,this.u,Q)),Ra(this.h,H),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",y),Ke(w,"SID","null"),H.U=!0,Yr(H,w,null)):Yr(H,w,y),this.I=2}}else this.I==3&&(d?zi(this,d):this.i.length==0||Zo(this.h)||zi(this))};function zi(d,y){var w;y?w=y.l:w=d.V++;const N=Or(d.J);Ke(N,"SID",d.M),Ke(N,"RID",w),Ke(N,"AID",d.K),jn(d,N),d.u&&d.o&&La(N,d.u,d.o),w=new Lr(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),y&&(d.i=y.G.concat(d.i)),y=ul(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ra(d.h,w),Yr(w,N,y)}function jn(d,y){d.H&&xe(d.H,function(w,N){Ke(y,N,w)}),d.l&&xe({},function(w,N){Ke(y,N,w)})}function ul(d,y,w){w=Math.min(d.i.length,w);const N=d.l?g(d.l.Ka,d.l,d):null;e:{var H=d.i;let De=-1;for(;;){const yt=["count="+w];De==-1?w>0?(De=H[0].g,yt.push("ofs="+De)):De=0:yt.push("ofs="+De);let Xe=!0;for(let jt=0;jt<w;jt++){var Q=H[jt].g;const Tr=H[jt].map;if(Q-=De,Q<0)De=Math.max(0,H[jt].g-100),Xe=!1;else try{Q="req"+Q+"_"||"";try{var ae=Tr instanceof Map?Tr:Object.entries(Tr);for(const[Jn,Tn]of ae){let In=Tn;f(Tn)&&(In=js(Tn)),yt.push(Q+Jn+"="+encodeURIComponent(In))}}catch(Jn){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Jn}}catch{N&&N(Tr)}}if(Xe){ae=yt.join("&");break e}}ae=void 0}return d=d.i.splice(0,w),y.G=d,ae}function Kt(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;Z||j(),Y||(Z(),Y=!0),P.add(y,d),d.A=0}}function En(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ss(g(d.Da,d),za(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ss(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),jr(this),Vs(this))};function Bi(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Vs(d){d.g=new Lr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Or(d.na);Ke(y,"RID","rpc"),Ke(y,"SID",d.M),Ke(y,"AID",d.K),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ke(y,"TO",d.ia),Ke(y,"TYPE","xmlhttp"),jn(d,y),d.u&&d.o&&La(y,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Gn(Or(y)),w.u=null,w.R=!0,Xo(w,d)}r.Va=function(){this.C!=null&&(this.C=null,jr(this),En(this),ht(19))};function Ua(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Fa(d,y){var w=null;if(d.g==y){Ua(d),Bi(d),d.g=null;var N=2}else if(el(d.h,y))w=y.G,Li(d.h,y),N=1;else return;if(d.I!=0){if(y.o)if(N==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var H=d.D;N=Is(),xt(N,new Qo(N,w)),Xn(d)}else Kt(d);else if(H=y.m,H==3||H==0&&y.X>0||!(N==1&&Xc(d,y)||N==2&&En(d)))switch(w&&w.length>0&&(y=d.h,y.i=y.i.concat(w)),H){case 1:Er(d,5);break;case 4:Er(d,10);break;case 3:Er(d,6);break;default:Er(d,2)}}}function za(d,y){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*y}function Er(d,y){if(d.j.info("Error code "+y),y==2){var w=g(d.bb,d),N=d.Ua;const H=!N;N=new xn(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oi(N,"https"),Gn(N),H?bn(N.toString(),w):kn(N.toString(),w)}else ht(2);d.I=0,d.l&&d.l.pa(y),$i(d),Ma(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function $i(d){if(d.I=0,d.ja=[],d.l){const y=kr(d.h);(y.length!=0||d.i.length!=0)&&(T(d.ja,y),T(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function dl(d,y,w){var N=w instanceof xn?Or(w):new xn(w);if(N.g!="")y&&(N.g=y+"."+N.g),yn(N,N.u);else{var H=u.location;N=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Q=new xn(null);N&&Oi(Q,N),y&&(Q.g=y),H&&yn(Q,H),w&&(Q.h=w),N=Q}return w=d.G,y=d.wa,w&&y&&Ke(N,w,y),Ke(N,"VER",d.ka),jn(d,N),N}function Jc(d,y,w){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new Ze(new Kn({ab:w})):new Ze(d.ma),y.Fa(d.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}r=Zc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ba(){}Ba.prototype.g=function(d,y){return new Bt(d,y)};function Bt(d,y){Nt.call(this),this.g=new Oa(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!S(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ms(this)}b(Bt,Nt),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Va(this.g)},Bt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=js(d),d=w);y.i.push(new Nh(y.Ya++,d)),y.I==3&&Xn(y)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Va(this.g),delete this.g,Bt.Z.N.call(this)};function eu(d){Ea.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}b(eu,Ea);function tu(){Ko.call(this),this.status=1}b(tu,Ko);function Ms(d){this.g=d}b(Ms,Zc),Ms.prototype.ra=function(){xt(this.g,"a")},Ms.prototype.qa=function(d){xt(this.g,new eu(d))},Ms.prototype.pa=function(d){xt(this.g,new tu)},Ms.prototype.oa=function(){xt(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,ib=function(){return new Ba},sb=function(){return Is()},nb=Qr,Ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,pd=As,Rs.COMPLETE="complete",rb=Rs,Oc.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,$l=Oc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,tb=Ze}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",ky="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new fm("@firebase/firestore");function ho(){return fa.logLevel}function de(r,...e){if(fa.logLevel<=Ue.DEBUG){const t=e.map(_m);fa.debug(`Firestore (${Vo}): ${r}`,...t)}}function xs(r,...e){if(fa.logLevel<=Ue.ERROR){const t=e.map(_m);fa.error(`Firestore (${Vo}): ${r}`,...t)}}function _o(r,...e){if(fa.logLevel<=Ue.WARN){const t=e.map(_m);fa.warn(`Firestore (${Vo}): ${r}`,...t)}}function _m(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ab(r,n,t)}function ab(r,e,t){let n=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw xs(n),new Error(n)}function Ye(r,e,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,r||ab(e,o,n)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(er.UNAUTHENTICATED)))}shutdown(){}}class TI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class II{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let n=this.i;const o=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ye(typeof n.accessToken=="string",31837,{l:n}),new ob(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class SI{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CI{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new SI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const n=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _y(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=RI(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+=e.charAt(o[l]%62))}return n}}function Fe(r,e){return r<e?-1:r>e?1:0}function Rp(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const o=r.charAt(n),l=e.charAt(n);if(o!==l)return cp(o)===cp(l)?Fe(o,l):cp(o)?1:-1}return Fe(r.length,e.length)}const PI=55296,DI=57343;function cp(r){const e=r.charCodeAt(0);return e>=PI&&e<=DI}function No(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class Pn{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ce(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=Pn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const n=Pn.isNumericId(e),o=Pn.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?Pn.extractNumericId(e).compare(Pn.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class rt extends Pn{construct(e,t,n){return new rt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const LI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pn{construct(e,t,n){return new Wt(e,t,n)}static isValidIdentifier(e){return LI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new Wt([Ny])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(n.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(n+=f,o++):(l(),o++)}if(l(),u)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(rt.fromString(e))}static fromName(e){return new Ne(rt.fromString(e).popFirst(5))}static empty(){return new Ne(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,e,t){if(!t)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function OI(r,e,t,n){if(e===!0&&n===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function jy(r){if(!Ne.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ey(r){if(Ne.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function un(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=th(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function jc(r,e){if(!cb(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const o=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(o&&typeof u!==o){t=`JSON field '${n}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new le(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Iy=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Iy);return new _e(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ty)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iy}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jc(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:St("string",_e._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new _e(0,0))}static max(){return new Pe(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function VI(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(n===1e9?new _e(t+1,0):new _e(t,n));return new hi(o,Ne.empty(),e)}function MI(r){return new hi(r.readTime,r.key,sc)}class hi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new hi(Pe.min(),Ne.empty(),sc)}static max(){return new hi(Pe.max(),Ne.empty(),sc)}}function UI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(r.documentKey,e.documentKey),t!==0?t:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==FI)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,n)=>{t(e)}))}static reject(e){return new te(((t,n)=>{n(e)}))}static waitFor(e){return new te(((t,n)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&t()}),(p=>n(p)))})),u=!0,l===o&&t()}))}static or(e){let t=te.resolve(!1);for(const n of e)t=t.next((o=>o?te.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,l)=>{n.push(t.call(this,o,l))})),this.waitFor(n)}static mapArray(e,t){return new te(((n,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{u[g]=v,++f,f===l&&n(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((n,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):n()};l()}))}}function BI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function nh(r){return r==null}function Sd(r){return r===0&&1/r==-1/0}function $I(r){return typeof r=="number"&&Number.isInteger(r)&&!Sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function qI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sy(e)),e=HI(r.get(t),e);return Sy(e)}function HI(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case ub:t+="";break;default:t+=l}}return t}function Sy(r){return r+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ji(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function db(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??Ht.RED,this.left=o??Ht.EMPTY,this.right=l??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new Ht(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Ar([])}unionWith(e){let t=new Ot(Wt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hb("Invalid base64 string: "+l):l}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const t=WI.exec(r);if(Ye(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function pi(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",pb="__type__",mb="__previous_value__",gb="__local_write_time__";function Em(r){return(r?.mapValue?.fields||{})[pb]?.stringValue===fb}function sh(r){const e=r.mapValue.fields[mb];return Em(e)?sh(e):e}function ic(r){const e=fi(r.mapValue.fields[gb].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,n,o,l,u,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Cd="(default)";class ac{constructor(e,t){this.projectId=e,this.database=t||Cd}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Cd}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__type__",KI="__max__",Zu={mapValue:{}},yb="__vector__",Ad="value";function mi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:YI(r)?9007199254740991:QI(r)?10:11:Ce(28295,{value:r})}function zn(r,e){if(r===e)return!0;const t=mi(r);if(t!==mi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ic(r).isEqual(ic(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=fi(o.timestampValue),f=fi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return pi(o.bytesValue).isEqual(pi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return wt(o.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return wt(o.integerValue)===wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=wt(o.doubleValue),f=wt(l.doubleValue);return u===f?Sd(u)===Sd(f):isNaN(u)&&isNaN(f)}return!1})(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Cy(u)!==Cy(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!zn(u[p],f[p])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function oc(r,e){return(r.values||[]).find((t=>zn(t,e)))!==void 0}function jo(r,e){if(r===e)return 0;const t=mi(r),n=mi(e);if(t!==n)return Fe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=wt(l.integerValue||l.doubleValue),p=wt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return Ry(r.timestampValue,e.timestampValue);case 4:return Ry(ic(r),ic(e));case 5:return Rp(r.stringValue,e.stringValue);case 6:return(function(l,u){const f=pi(l),p=pi(u);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Fe(f[g],p[g]);if(v!==0)return v}return Fe(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Fe(wt(l.latitude),wt(u.latitude));return f!==0?f:Fe(wt(l.longitude),wt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Py(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[Ad]?.arrayValue,v=p[Ad]?.arrayValue,b=Fe(g?.values?.length||0,v?.values?.length||0);return b!==0?b:Py(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Zu.mapValue&&u===Zu.mapValue)return 0;if(l===Zu.mapValue)return 1;if(u===Zu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const _=Rp(p[b],v[b]);if(_!==0)return _;const C=jo(f[p[b]],g[v[b]]);if(C!==0)return C}return Fe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function Ry(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const t=fi(r),n=fi(e),o=Fe(t.seconds,n.seconds);return o!==0?o:Fe(t.nanos,n.nanos)}function Py(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=jo(t[o],n[o]);if(l)return l}return Fe(t.length,n.length)}function Eo(r){return Pp(r)}function Pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=fi(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return pi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ne.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=Pp(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of n)l?l=!1:o+=",",o+=`${u}:${Pp(t.fields[u])}`;return o+"}"})(r.mapValue):Ce(61005,{value:r})}function md(r){switch(mi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(r);return e?16+md(e):16;case 5:return 2*r.stringValue.length;case 6:return pi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,l)=>o+md(l)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return ji(n.fields,((l,u)=>{o+=l.length+md(u)})),o})(r.mapValue);default:throw Ce(13486,{value:r})}}function Dy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dp(r){return!!r&&"integerValue"in r}function Tm(r){return!!r&&"arrayValue"in r}function Ly(r){return!!r&&"nullValue"in r}function Oy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gd(r){return!!r&&"mapValue"in r}function QI(r){return(r?.mapValue?.fields||{})[xb]?.stringValue===yb}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ji(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ql(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(r.arrayValue.values[t]);return e}return{...r}}function YI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Wt.emptyPath(),n={},o=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,o),n={},o=[],t=f.popLast()}u?n[f.lastSegment()]=Ql(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];gd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){ji(t,((o,l)=>e[o]=l));for(const o of n)delete e[o]}clone(){return new yr(Ql(this.value))}}function vb(r){const e=[];return ji(r.fields,((t,n)=>{const o=new Wt([t]);if(gd(n)){const l=vb(n.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t,n,o,l,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tr(e,0,Pe.min(),Pe.min(),Pe.min(),yr.empty(),0)}static newFoundDocument(e,t,n,o){return new tr(e,1,t,Pe.min(),n,o,0)}static newNoDocument(e,t){return new tr(e,2,t,Pe.min(),Pe.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new tr(e,3,t,Pe.min(),Pe.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function Vy(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?n=Ne.comparator(Ne.fromName(u.referenceValue),t.key):n=jo(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function My(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!zn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function XI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class It extends wb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new ZI(e,t,n):t==="array-contains"?new rS(e,n):t==="in"?new nS(e,n):t==="not-in"?new sS(e,n):t==="array-contains-any"?new iS(e,n):new It(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new eS(e,n):new tS(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&mi(this.value)===mi(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends wb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dn(e,t)}matches(e){return bb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(r){return r.op==="and"}function kb(r){return JI(r)&&bb(r)}function JI(r){for(const e of r.filters)if(e instanceof dn)return!1;return!0}function Lp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(kb(r))return r.filters.map((e=>Lp(e))).join(",");{const e=r.filters.map((t=>Lp(t))).join(",");return`${r.op}(${e})`}}function _b(r,e){return r instanceof It?(function(n,o){return o instanceof It&&n.op===o.op&&n.field.isEqual(o.field)&&zn(n.value,o.value)})(r,e):r instanceof dn?(function(n,o){return o instanceof dn&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((l,u,f)=>l&&_b(u,o.filters[f])),!0):!1})(r,e):void Ce(19439)}function Nb(r){return r instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Eo(t.value)}`})(r):r instanceof dn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Nb).join(" ,")+"}"})(r):"Filter"}class ZI extends It{constructor(e,t,n){super(e,t,n),this.key=Ne.fromName(n.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class eS extends It{constructor(e,t){super(e,"in",t),this.keys=jb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tS extends It{constructor(e,t){super(e,"not-in",t),this.keys=jb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jb(r,e){return(e.arrayValue?.values||[]).map((t=>Ne.fromName(t.referenceValue)))}class rS extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tm(t)&&oc(t.arrayValue,this.value)}}class nS extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&oc(this.value.arrayValue,t)}}class sS extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!oc(this.value.arrayValue,t)}}class iS extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>oc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t=null,n=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Uy(r,e=null,t=[],n=[],o=null,l=null,u=null){return new aS(r,e,t,n,o,l,u)}function Im(r){const e=Le(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Lp(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Eo(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Eo(n))).join(",")),e.Te=t}return e.Te}function Sm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!XI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!_b(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!My(r.startAt,e.startAt)&&My(r.endAt,e.endAt)}function Op(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t=null,n=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oS(r,e,t,n,o,l,u,f){return new Fo(r,e,t,n,o,l,u,f)}function Cm(r){return new Fo(r)}function Fy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Eb(r){return r.collectionGroup!==null}function Yl(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ot(Wt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new lc(l,n))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new lc(Wt.keyField(),n))}return e.Ie}function Vn(r){const e=Le(r);return e.Ee||(e.Ee=lS(e,Yl(r))),e.Ee}function lS(r,e){if(r.limitType==="F")return Uy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new lc(o.field,l)}));const t=r.endAt?new Rd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Rd(r.startAt.position,r.startAt.inclusive):null;return Uy(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Vp(r,e){const t=r.filters.concat([e]);return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Mp(r,e,t){return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ih(r,e){return Sm(Vn(r),Vn(e))&&r.limitType===e.limitType}function Tb(r){return`${Im(Vn(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>Nb(o))).join(", ")}]`),nh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>Eo(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>Eo(o))).join(",")),`Target(${n})`})(Vn(r))}; limitType=${r.limitType})`}function ah(r,e){return e.isFoundDocument()&&(function(n,o){const l=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Ne.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,o){for(const l of Yl(n))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(u,f,p){const g=Vy(u,f,p);return u.inclusive?g<=0:g<0})(n.startAt,Yl(n),o)||n.endAt&&!(function(u,f,p){const g=Vy(u,f,p);return u.inclusive?g>=0:g>0})(n.endAt,Yl(n),o))})(r,e)}function cS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ib(r){return(e,t)=>{let n=!1;for(const o of Yl(r)){const l=uS(o,e,t);if(l!==0)return l;n=n||o.field.isKeyField()}return 0}}function uS(r,e,t){const n=r.field.isKeyField()?Ne.comparator(e.key,t.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?jo(p,g):Ce(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,l]of n)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,((t,n)=>{for(const[o,l]of n)e(o,l)}))}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new dt(Ne.comparator);function ys(){return dS}const Sb=new dt(Ne.comparator);function ql(...r){let e=Sb;for(const t of r)e=e.insert(t.key,t);return e}function Cb(r){let e=Sb;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ia(){return Xl()}function Ab(){return Xl()}function Xl(){return new va((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hS=new dt(Ne.comparator),fS=new Ot(Ne.comparator);function ze(...r){let e=fS;for(const t of r)e=e.add(t);return e}const pS=new Ot(Fe);function mS(){return pS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function Rb(r){return{integerValue:""+r}}function gS(r,e){return $I(e)?Rb(e):Am(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function xS(r,e,t){return r instanceof Pd?(function(o,l){const u={fields:{[pb]:{stringValue:fb},[gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Em(l)&&(l=sh(l)),l&&(u.fields[mb]=l),{mapValue:u}})(t,e):r instanceof cc?Db(r,e):r instanceof uc?Lb(r,e):(function(o,l){const u=Pb(o,l),f=zy(u)+zy(o.Ae);return Dp(u)&&Dp(o.Ae)?Rb(f):Am(o.serializer,f)})(r,e)}function yS(r,e,t){return r instanceof cc?Db(r,e):r instanceof uc?Lb(r,e):t}function Pb(r,e){return r instanceof Dd?(function(n){return Dp(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Pd extends oh{}class cc extends oh{constructor(e){super(),this.elements=e}}function Db(r,e){const t=Ob(e);for(const n of r.elements)t.some((o=>zn(o,n)))||t.push(n);return{arrayValue:{values:t}}}class uc extends oh{constructor(e){super(),this.elements=e}}function Lb(r,e){let t=Ob(e);for(const n of r.elements)t=t.filter((o=>!zn(o,n)));return{arrayValue:{values:t}}}class Dd extends oh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zy(r){return wt(r.integerValue||r.doubleValue)}function Ob(r){return Tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vS(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof cc&&o instanceof cc||n instanceof uc&&o instanceof uc?No(n.elements,o.elements,zn):n instanceof Dd&&o instanceof Dd?zn(n.Ae,o.Ae):n instanceof Pd&&o instanceof Pd})(r.transform,e.transform)}class wS{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lh{}function Vb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rm(r.key,Hr.none()):new Ec(r.key,r.data,Hr.none());{const t=r.data,n=yr.empty();let o=new Ot(Wt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),o=o.add(l)}return new Ei(r.key,n,new Ar(o.toArray()),Hr.none())}}function bS(r,e,t){r instanceof Ec?(function(o,l,u){const f=o.value.clone(),p=$y(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ei?(function(o,l,u){if(!xd(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=$y(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Mb(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Jl(r,e,t,n){return r instanceof Ec?(function(l,u,f,p){if(!xd(l.precondition,u))return f;const g=l.value.clone(),v=qy(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,t,n):r instanceof Ei?(function(l,u,f,p){if(!xd(l.precondition,u))return f;const g=qy(l.fieldTransforms,p,u),v=u.data;return v.setAll(Mb(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,n):(function(l,u,f){return xd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(r,e,t)}function kS(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=Pb(n.transform,o||null);l!=null&&(t===null&&(t=yr.empty()),t.set(n.field,l))}return t||null}function By(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&No(n,o,((l,u)=>vS(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ec extends lh{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ei extends lh{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function $y(r,e,t){const n=new Map;Ye(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,f=e.data.field(l.field);n.set(l.field,yS(u,f,t[o]))}return n}function qy(r,e,t){const n=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);n.set(o.field,xS(l,u,e))}return n}class Rm extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _S extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&bS(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ab();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=Vb(u,f);p!==null&&n.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((t,n)=>By(t,n)))&&No(this.baseMutations,e.baseMutations,((t,n)=>By(t,n)))}}class Pm{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){Ye(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=(function(){return hS})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,n[u].version);return new Pm(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,qe;function TS(r){switch(r){case J.OK:return Ce(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function Ub(r){if(r===void 0)return xs("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Ce(39323,{code:r})}}(qe=Tt||(Tt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new ci([4294967295,4294967295],0);function Hy(r){const e=IS().encode(r),t=new eb;return t.update(e),new Uint8Array(t.digest())}function Wy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ci([t,n],0),new ci([o,l],0)]}class Dm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(n<0)throw new Hl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ci.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(ci.fromNumber(n)));return o.compare(SS)===1&&(o=new ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Hy(e),[n,o]=Wy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);if(!this.we(u))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dm(l,o,t);return n.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=Hy(e),[n,o]=Wy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ch(Pe.min(),o,new dt(Fe),ys(),ze())}}class Tc{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tc(n,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,n,o){this.be=e,this.removedTargetIds=t,this.key=n,this.De=o}}class Fb{constructor(e,t){this.targetId=e,this.Ce=t}}class zb{constructor(e,t,n=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class Gy{constructor(){this.ve=0,this.Fe=Ky(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),n=ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Ce(38017,{changeType:l})}})),new Tc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ky()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=ed(),this.He=ed(),this.Ye=new dt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,n=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Op(l))if(n===0){const u=new Ne(l.path);this.et(t,u,tr.newNoDocument(u,Pe.min()))}else Ye(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=pi(n).toUint8Array()}catch(p){if(p instanceof hb)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Dm(u,o,l)}catch(p){return _o(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let o=0;return n.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Op(f.target)){const p=new Ne(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,tr.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let n=ze();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(n=n.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new ch(e,t,this.Ye,this.je,n);return this.je=ys(),this.Je=ed(),this.He=ed(),this.Ye=new dt(Fe),o}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Gy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ed(){return new dt(Ne.comparator)}function Ky(){return new dt(Ne.comparator)}const AS={asc:"ASCENDING",desc:"DESCENDING"},RS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PS={and:"AND",or:"OR"};class DS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(r,e){return r.useProto3Json||nh(e)?e:{value:e}}function Ld(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LS(r,e){return Ld(r,e.toTimestamp())}function Mn(r){return Ye(!!r,49232),Pe.fromTimestamp((function(t){const n=fi(t);return new _e(n.seconds,n.nanos)})(r))}function Lm(r,e){return Fp(r,e).canonicalString()}function Fp(r,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function $b(r){const e=rt.fromString(r);return Ye(Kb(e),10190,{key:e.toString()}),e}function zp(r,e){return Lm(r.databaseId,e.path)}function up(r,e){const t=$b(e);if(t.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ne(Hb(t))}function qb(r,e){return Lm(r.databaseId,e)}function OS(r){const e=$b(r);return e.length===4?rt.emptyPath():Hb(e)}function Bp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hb(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qy(r,e,t){return{name:zp(r,e),fields:t.value.mapValue.fields}}function VS(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),Gt.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?J.UNKNOWN:Ub(g.code);return new le(v,g.message||"")})(u);t=new zb(n,o,l,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=up(r,n.document.name),l=Mn(n.document.updateTime),u=n.document.createTime?Mn(n.document.createTime):Pe.min(),f=new yr({mapValue:{fields:n.document.fields}}),p=tr.newFoundDocument(o,l,u,f),g=n.targetIds||[],v=n.removedTargetIds||[];t=new yd(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=up(r,n.document),l=n.readTime?Mn(n.readTime):Pe.min(),u=tr.newNoDocument(o,l),f=n.removedTargetIds||[];t=new yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=up(r,n.document),l=n.removedTargetIds||[];t=new yd([],l,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:l}=n,u=new ES(o,l),f=n.targetId;t=new Fb(f,u)}}return t}function MS(r,e){let t;if(e instanceof Ec)t={update:Qy(r,e.key,e.value)};else if(e instanceof Rm)t={delete:zp(r,e.key)};else if(e instanceof Ei)t={update:Qy(r,e.key,e.data),updateMask:GS(e.fieldMask)};else{if(!(e instanceof _S))return Ce(16599,{Vt:e.type});t={verify:zp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const f=u.transform;if(f instanceof Pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof uc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Dd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ce(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:LS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(r,e.precondition)),t}function US(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?Mn(o.updateTime):Mn(l);return u.isEqual(Pe.min())&&(u=Mn(l)),new wS(u,o.transformResults||[])})(t,e)))):[]}function FS(r,e){return{documents:[qb(r,e.path)]}}function zS(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=qb(r,o);const l=(function(g){if(g.length!==0)return Gb(dn.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:po(_.field),direction:qS(_.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Up(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function BS(r){let e=OS(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){Ye(n===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const _=Wb(b);return _ instanceof dn&&kb(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((_=>(function(T){return new lc(mo(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let _;return _=typeof b=="object"?b.value:b,nh(_)?null:_})(t.limit));let p=null;t.startAt&&(p=(function(b){const _=!!b.before,C=b.values||[];return new Rd(C,_)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const _=!b.before,C=b.values||[];return new Rd(C,_)})(t.endAt)),oS(e,o,u,l,f,"F",p,g)}function $S(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Wb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=mo(t.unaryFilter.field);return It.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=mo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(t){return It.create(mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return dn.create(t.compositeFilter.filters.map((n=>Wb(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(r):Ce(30097,{filter:r})}function qS(r){return AS[r]}function HS(r){return RS[r]}function WS(r){return PS[r]}function po(r){return{fieldPath:r.canonicalString()}}function mo(r){return Wt.fromServerFormat(r.fieldPath)}function Gb(r){return r instanceof It?(function(t){if(t.op==="=="){if(Oy(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(Ly(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Oy(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(Ly(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:HS(t.op),value:t.value}}})(r):r instanceof dn?(function(t){const n=t.getFilters().map((o=>Gb(o)));return n.length===1?n[0]:{compositeFilter:{op:WS(t.op),filters:n}}})(r):Ce(54877,{filter:r})}function GS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Kb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,n,o,l=Pe.min(),u=Pe.min(),f=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.yt=e}}function QS(r){const e=BS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Cn=new XS}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(hi.min())}updateCollectionGroup(e,t,n){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class XS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Ot(rt.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Ot(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qb=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(Qb,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LruGarbageCollector",JS=1048576;function Jy([r,e],[t,n]){const o=Fe(r,t);return o===0?Fe(e,n):o}class ZS{constructor(e){this.Ir=e,this.buffer=new Ot(Jy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Jy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eC{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Xy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?de(Xy,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Vr(3e5)}))}}class tC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(rh.ce);const n=new ZS(t);return this.mr.forEachTarget(e,(o=>n.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>n.Ar(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Yy)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,o,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(n=b,f=Date.now(),this.removeTargets(e,n,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((b=>(g=Date.now(),ho()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b}))))}}function rC(r,e){return new tC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.changes=new va((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?te.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Jl(n.mutation,o,Ar.empty(),_e.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,ze()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=ze()){const o=ia();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((l=>{let u=ql();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=ia();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ze())))}populateOverlays(e,t,n){const o=[];return n.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,n,o){let l=ys();const u=Xl(),f=(function(){return Xl()})();return t.forEach(((p,g)=>{const v=n.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ei)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),_e.now())):u.set(g.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>f.set(g,new sC(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const n=Xl();let o=new dt(((u,f)=>u-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=n.get(p)||Ar.empty();v=f.applyToLocalView(g,v),n.set(p,v);const b=(o.get(f.batchId)||ze()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=Ab();v.forEach((_=>{if(!l.has(_)){const C=Vb(t.get(_),n.get(_));C!==null&&b.set(_,C),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):te.resolve(ia());let f=sc,p=l;return u.next((g=>te.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{p=p.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ze()))).next((v=>({batchId:f,changes:Cb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next((n=>{let o=ql();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let u=ql();return this.indexManager.getCollectionParents(e,l).next((f=>te.forEach(f,(p=>{const g=(function(b,_){return new Fo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,n,o).next((v=>{v.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,tr.newInvalidDocument(v)))}));let f=ql();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Jl(v.mutation,g,Ar.empty(),_e.now()),ah(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mn(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:QS(o.bundledQuery),readTime:Mn(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new dt(Ne.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ia();return te.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&n.set(o,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,l)=>{this.St(e,t,l)})),te.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(n)),te.resolve()}getOverlaysForCollection(e,t,n){const o=ia(),l=t.length+1,u=new Ne(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>n&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new dt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let v=l.get(g.largestBatchId);v===null&&(v=ia(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=ia(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=o)););return te.resolve(f)}St(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new jS(t,n));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Qr=new Ot(Ft.$r),this.Ur=new Ot(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ft(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Ft(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Ne(new rt([])),n=new Ft(t,e),o=new Ft(t,e+1),l=[];return this.Ur.forEachInRange([n,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ne(new rt([])),n=new Ft(t,e),o=new Ft(t,e+1);let l=ze();return this.Ur.forEachInRange([n,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Ft(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Ft{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ne.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ft.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NS(l,t,n,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Ft(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.ei(n),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ot(Fe);return t.forEach((o=>{const l=new Ft(o,0),u=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{n=n.add(f.Yr)}))})),te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;Ne.isDocumentKey(l)||(l=l.child(""));const u=new Ft(new Ne(l),0);let f=new Ot(Fe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!n.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),u),te.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((n=>{const o=this.Xr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return te.forEach(t.mutations,(o=>{const l=new Ft(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Ft(t,0),o=this.Zr.firstAfterOrEqual(n);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.ri=e,this.docs=(function(){return new dt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return te.resolve(n?n.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let n=ys();return t.forEach((o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():tr.newInvalidDocument(o))})),te.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=ys();const u=t.path,f=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||UI(MI(v),n)<=0||(o.has(v.key)||ah(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,n,o){Ce(9500)}ii(e,t){return te.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new dC(this)}getSize(e){return te.resolve(this.size)}}class dC extends nC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.persistence=e,this.si=new va((t=>Im(t)),Sm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,t){return this.si.forEach(((n,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new To(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),te.waitFor(l).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return te.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),te.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return te.resolve(n)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=e(this),this.Pi=new hC(this),this.indexManager=new YS,this.remoteDocumentCache=(function(o){return new uC(o)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new KS(t),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new cC(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){de("MemoryPersistence","Starting transaction:",e);const o=new fC(this.ci.next());return this.referenceDelegate.Ei(),n(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return te.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class fC extends zI{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.Ri=new Om,this.Vi=null}static mi(e){return new Vm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),te.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(n=>{const o=Ne.fromPath(n);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Od{constructor(e,t){this.persistence=e,this.pi=new va((n=>qI(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=rC(this,t)}static mi(e,t){return new Od(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((n,o)=>this.br(e,n,o).next((l=>l?te.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((f=>{f||(n++,l.removeEntry(u,Pe.min()))})))).next((()=>l.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=md(e.data.value)),t}br(e,t,n){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=o}static As(e,t){let n=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Mm(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H2()?8:BI(sr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new pC;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,n,o){return n.documentReadCount<this.fs?(ho()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ho()<=Ue.DEBUG&&de("QueryEngine","Query:",fo(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(ho()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):te.resolve())}ys(e,t){if(Fy(t))return te.resolve(null);let n=Vn(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Mp(t,null,"F"),n=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=ze(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,n).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,u,p.readTime)?this.ys(e,Mp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,n,o){return Fy(t)||o.isEqual(Pe.min())?te.resolve(null):this.ps.getDocuments(e,n).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,n,o)?te.resolve(null):(ho()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.vs(e,u,t,VI(o,sc)).next((f=>f)))}))}Ds(e,t){let n=new Ot(Ib(e));return t.forEach(((o,l)=>{ah(e,l)&&(n=n.add(l))})),n}Cs(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,n){return ho()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",fo(t)),this.ps.getDocumentsMatchingQuery(e,t,hi.min(),n)}vs(e,t,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="LocalStore",gC=3e8;class xC{constructor(e,t,n,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new dt(Fe),this.xs=new va((l=>Im(l)),Sm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function yC(r,e,t,n){return new xC(r,e,t,n)}async function Xb(r,e){const t=Le(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],f=[];let p=ze();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function vC(r,e){const t=Le(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const b=g.batch,_=b.keys();let C=te.resolve();return _.forEach((T=>{C=C.next((()=>v.getEntry(p,T))).next((L=>{const E=g.docVersions.get(T);Ye(E!==null,48541),L.version.compareTo(E)<0&&(b.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(f){let p=ze();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function Jb(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function wC(r,e){const t=Le(r),n=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const _=o.get(b);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,b))));let C=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Gt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,n)),o=o.insert(b,C),(function(L,E,z){return L.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=gC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,C,v)&&f.push(t.Pi.updateTargetData(l,C))}));let p=ys(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(bC(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!n.isEqual(Pe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n)));f.push(v)}return te.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function bC(r,e,t){let n=ze(),o=ze();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=ys();return t.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):de(Um,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function kC(r,e){const t=Le(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=jm),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function _C(r,e){const t=Le(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Pi.getTargetData(n,e).next((l=>l?(o=l,te.resolve(o)):t.Pi.allocateTargetId(n).next((u=>(o=new ai(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function $p(r,e,t){const n=Le(r),o=n.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Uo(u))throw u;de(Um,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function Zy(r,e,t){const n=Le(r);let o=Pe.min(),l=ze();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const b=Le(p),_=b.xs.get(v);return _!==void 0?te.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,v)})(n,u,Vn(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?o:Pe.min(),t?l:ze()))).next((f=>(NC(n,cS(e),f),{documents:f,Qs:l})))))}function NC(r,e,t){let n=r.Os.get(e)||Pe.min();t.forEach(((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.Os.set(e,n)}class ev{constructor(){this.activeTargetIds=mS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jC{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function qp(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===Cd?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,t,n,o,l){const u=qp(),f=this.zo(e,t.toUriEncodedString());de(dp,`Sending RPC '${e}' ${u}:`,f,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(f),v=Bn(g);return this.Jo(e,f,p,n,v).then((b=>(de(dp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw _o(dp,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",n),b}))}Ho(e,t,n,o,l,u){return this.Go(e,t,n,o,l)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),n&&n.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const n=TC[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class CC extends IC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,o,l){const u=qp();return new Promise(((f,p)=>{const g=new tb;g.setWithCredentials(!0),g.listenOnce(rb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case pd.NO_ERROR:const b=g.getResponseJson();de(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case pd.TIMEOUT:de(Zt,`RPC '${e}' ${u} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const _=g.getStatus();if(de(Zt,`RPC '${e}' ${u} failed with status:`,_,"response text:",g.getResponseText()),_>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const T=C?.error;if(T&&T.status&&T.message){const L=(function(z){const V=z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(V)>=0?V:J.UNKNOWN})(T.status);p(new le(L,T.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(Zt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);de(Zt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,n,15)}))}T_(e,t,n){const o=qp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ib(),f=sb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=l.join("");de(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=u.createWebChannel(v,p);this.I_(b);let _=!1,C=!1;const T=new SC({Yo:E=>{C?de(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,E):(_||(de(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),_=!0),de(Zt,`RPC '${e}' stream ${o} sending:`,E),b.send(E))},Zo:()=>b.close()}),L=(E,z,V)=>{E.listen(z,(G=>{try{V(G)}catch(D){setTimeout((()=>{throw D}),0)}}))};return L(b,$l.EventType.OPEN,(()=>{C||(de(Zt,`RPC '${e}' stream ${o} transport opened.`),T.o_())})),L(b,$l.EventType.CLOSE,(()=>{C||(C=!0,de(Zt,`RPC '${e}' stream ${o} transport closed`),T.a_(),this.E_(b))})),L(b,$l.EventType.ERROR,(E=>{C||(C=!0,_o(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),L(b,$l.EventType.MESSAGE,(E=>{if(!C){const z=E.data[0];Ye(!!z,16349);const V=z,G=V?.error||V[0]?.error;if(G){de(Zt,`RPC '${e}' stream ${o} received error:`,G);const D=G.status;let Z=(function(j){const R=Tt[j];if(R!==void 0)return Ub(R)})(D),Y=G.message;Z===void 0&&(Z=J.INTERNAL,Y="Unknown error status: "+D+" with message "+G.message),C=!0,T.a_(new le(Z,Y)),b.close()}else de(Zt,`RPC '${e}' stream ${o} received:`,z),T.u_(z)}})),L(f,nb.STAT_EVENT,(E=>{E.stat===Ap.PROXY?de(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):E.stat===Ap.NOPROXY&&de(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r){return new DS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,n=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-n);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class ek{constructor(e,t,n,o,l,u,f,p){this.Mi=e,this.S_=n,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.D_===t&&this.G_(n,o)}),(n=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{n((()=>this.z_(o)))})),this.stream.onMessage((o=>{n((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AC extends ek{constructor(e,t,n,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VS(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Pe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Mn(u.readTime):Pe.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=(function(l,u){let f;const p=u.target;if(f=Op(p)?{documents:FS(l,p)}:{query:zS(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Bb(l,u.resumeToken);const g=Up(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Pe.min())>0){f.readTime=Ld(l,u.snapshotVersion.toTimestamp());const g=Up(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const n=$S(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.q_(t)}}class RC extends ek{constructor(e,t,n,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=US(e.writeResults,e.commitTime),n=Mn(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>MS(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{}class DC extends PC{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Fp(t,n),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(J.UNKNOWN,l.toString())}))}Ho(e,t,n,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Fp(t,n),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class OC{constructor(e,t,n,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{wa(this)&&(de(pa,"Restarting streams for network reachability change."),await(async function(p){const g=Le(p);g.Ea.add(4),await Ic(g),g.Ra.set("Unknown"),g.Ea.delete(4),await dh(g)})(this))}))})),this.Ra=new LC(n,o)}}async function dh(r){if(wa(r))for(const e of r.da)await e(!0)}async function Ic(r){for(const e of r.da)await e(!1)}function tk(r,e){const t=Le(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$m(t)?Bm(t):zo(t).O_()&&zm(t,e))}function Fm(r,e){const t=Le(r),n=zo(t);t.Ia.delete(e),n.O_()&&rk(t,e),t.Ia.size===0&&(n.O_()?n.L_():wa(t)&&t.Ra.set("Unknown"))}function zm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(r).Y_(e)}function rk(r,e){r.Va.Ue(e),zo(r).Z_(e)}function Bm(r){r.Va=new CS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Ra.ua()}function $m(r){return wa(r)&&!zo(r).x_()&&r.Ia.size>0}function wa(r){return Le(r).Ea.size===0}function nk(r){r.Va=void 0}async function VC(r){r.Ra.set("Online")}async function MC(r){r.Ia.forEach(((e,t)=>{zm(r,e)}))}async function UC(r,e){nk(r),$m(r)?(r.Ra.ha(e),Bm(r)):r.Ra.set("Unknown")}async function FC(r,e,t){if(r.Ra.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(n){de(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Vd(r,n)}else if(e instanceof yd?r.Va.Ze(e):e instanceof Fb?r.Va.st(e):r.Va.tt(e),!t.isEqual(Pe.min()))try{const n=await Jb(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),rk(l,p);const b=new ai(v.target,p,g,v.sequenceNumber);zm(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(n){de(pa,"Failed to raise snapshot:",n),await Vd(r,n)}}async function Vd(r,e,t){if(!Uo(e))throw e;r.Ea.add(1),await Ic(r),r.Ra.set("Offline"),t||(t=()=>Jb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(pa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await dh(r)}))}function sk(r,e){return e().catch((t=>Vd(r,t,e)))}async function hh(r){const e=Le(r),t=gi(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;zC(e);)try{const o=await kC(e.localStore,n);if(o===null){e.Ta.length===0&&t.L_();break}n=o.batchId,BC(e,o)}catch(o){await Vd(e,o)}ik(e)&&ak(e)}function zC(r){return wa(r)&&r.Ta.length<10}function BC(r,e){r.Ta.push(e);const t=gi(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ik(r){return wa(r)&&!gi(r).x_()&&r.Ta.length>0}function ak(r){gi(r).start()}async function $C(r){gi(r).ra()}async function qC(r){const e=gi(r);for(const t of r.Ta)e.ea(t.mutations)}async function HC(r,e,t){const n=r.Ta.shift(),o=Pm.from(n,e,t);await sk(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hh(r)}async function WC(r,e){e&&gi(r).X_&&await(async function(n,o){if((function(u){return TS(u)&&u!==J.ABORTED})(o.code)){const l=n.Ta.shift();gi(n).B_(),await sk(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,o))),await hh(n)}})(r,e),ik(r)&&ak(r)}async function sv(r,e){const t=Le(r);t.asyncQueue.verifyOperationInProgress(),de(pa,"RemoteStore received new credentials");const n=wa(t);t.Ea.add(3),await Ic(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dh(t)}async function GC(r,e){const t=Le(r);e?(t.Ea.delete(2),await dh(t)):e||(t.Ea.add(2),await Ic(t),t.Ra.set("Unknown"))}function zo(r){return r.ma||(r.ma=(function(t,n,o){const l=Le(t);return l.sa(),new AC(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VC.bind(null,r),t_:MC.bind(null,r),r_:UC.bind(null,r),H_:FC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),$m(r)?Bm(r):r.Ra.set("Unknown")):(await r.ma.stop(),nk(r))}))),r.ma}function gi(r){return r.fa||(r.fa=(function(t,n,o){const l=Le(t);return l.sa(),new RC(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,r),r_:WC.bind(null,r),ta:qC.bind(null,r),na:HC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await hh(r)):(await r.fa.stop(),r.Ta.length>0&&(de(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const u=Date.now()+n,f=new qm(e,t,u,o,l);return f.start(n),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,e){if(xs("AsyncQueue",`${e}: ${r}`),Uo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ne.comparator(t.key,n.key):(t,n)=>Ne.comparator(t.key,n.key),this.keyedMap=ql(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new bo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.ga=new dt(Ne.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Io{constructor(e,t,n,o,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,o,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new Io(e,t,bo.emptySet(t),u,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QC{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const o=Le(t),l=o.queries;o.queries=av(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(n)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function av(){return new va((r=>Tb(r)),ih)}async function ok(r,e){const t=Le(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(n=2):(l=new KC,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Hm(u,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Wm(t)}async function lk(r,e){const t=Le(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function YC(r,e){const t=Le(r);let n=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(n=!0);u.wa=o}}n&&Wm(t)}function XC(r,e,t){const n=Le(r),o=n.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);n.queries.delete(e)}function Wm(r){r.Ca.forEach((e=>{e.next()}))}var Hp,ov;(ov=Hp||(Hp={})).Ma="default",ov.Cache="cache";class ck{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new Io(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.key=e}}class dk{constructor(e){this.key=e}}class JC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Ib(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new iv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const _=o.get(v),C=ah(this.query,b)?b:null,T=!!_&&this.mutatedKeys.has(_.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let E=!1;_&&C?_.data.isEqual(C.data)?T!==L&&(n.track({type:3,doc:C}),E=!0):this.su(_,C)||(n.track({type:2,doc:C}),E=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(f=!0)):!_&&C?(n.track({type:0,doc:C}),E=!0):_&&!C&&(n.track({type:1,doc:_}),E=!0,(p||g)&&(f=!0)),E&&(C?(u=u.add(C),l=L?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),n.track({type:1,doc:v})}return{tu:u,iu:n,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(C,T){const L=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:E})}};return L(C)-L(T)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(n),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Io(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new dk(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new uk(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class ZC{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class eA{constructor(e){this.key=e,this.hu=!1}}class tA{constructor(e,t,n,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new va((f=>Tb(f)),ih),this.Iu=new Map,this.Eu=new Set,this.du=new dt(Ne.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rA(r,e,t=!0){const n=xk(r);let o;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await hk(n,e,t,!0),o}async function nA(r,e){const t=xk(r);await hk(t,e,!0,!1)}async function hk(r,e,t,n){const o=await _C(r.localStore,Vn(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let f;return n&&(f=await sA(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&tk(r.remoteStore,o),f}async function sA(r,e,t,n,o){r.pu=(b,_,C)=>(async function(L,E,z,V){let G=E.view.ru(z);G.Cs&&(G=await Zy(L.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,G))));const D=V&&V.targetChanges.get(E.targetId),Z=V&&V.targetMismatches.get(E.targetId)!=null,Y=E.view.applyChanges(G,L.isPrimaryClient,D,Z);return cv(L,E.targetId,Y.au),Y.snapshot})(r,b,_,C);const l=await Zy(r.localStore,e,!0),u=new JC(e,l.Qs),f=u.ru(l.documents),p=Tc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),g=u.applyChanges(f,r.isPrimaryClient,p);cv(r,t,g.au);const v=new ZC(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function iA(r,e,t){const n=Le(r),o=n.Tu.get(e),l=n.Iu.get(o.targetId);if(l.length>1)return n.Iu.set(o.targetId,l.filter((u=>!ih(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await $p(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&Fm(n.remoteStore,o.targetId),Wp(n,o.targetId)})).catch(Mo)):(Wp(n,o.targetId),await $p(n.localStore,o.targetId,!0))}async function aA(r,e){const t=Le(r),n=t.Tu.get(e),o=t.Iu.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Fm(t.remoteStore,n.targetId))}async function oA(r,e,t){const n=pA(r);try{const o=await(function(u,f){const p=Le(u),g=_e.now(),v=f.reduce(((C,T)=>C.add(T.key)),ze());let b,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let T=ys(),L=ze();return p.Ns.getEntries(C,v).next((E=>{T=E,T.forEach(((z,V)=>{V.isValidDocument()||(L=L.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,T))).next((E=>{b=E;const z=[];for(const V of f){const G=kS(V,b.get(V.key).overlayedDocument);G!=null&&z.push(new Ei(V.key,G,vb(G.value.mapValue),Hr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,z,f)})).next((E=>{_=E;const z=E.applyToLocalDocumentSet(b,L);return p.documentOverlayCache.saveOverlays(C,E.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:Cb(b)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new dt(Fe)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(n,o.batchId,t),await Sc(n,o.changes),await hh(n.remoteStore)}catch(o){const l=Hm(o,"Failed to persist write");t.reject(l)}}async function fk(r,e){const t=Le(r);try{const n=await wC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ye(u.hu,14607):o.removedDocuments.size>0&&(Ye(u.hu,42227),u.hu=!1))})),await Sc(t,n,e)}catch(n){await Mo(n)}}function lv(r,e,t){const n=Le(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=Le(u);p.onlineState=f;let g=!1;p.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(f)&&(g=!0)})),g&&Wm(p)})(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lA(r,e,t){const n=Le(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Au.get(e),l=o&&o.key;if(l){let u=new dt(Ne.comparator);u=u.insert(l,tr.newNoDocument(l,Pe.min()));const f=ze().add(l),p=new ch(Pe.min(),new Map,new dt(Fe),u,f);await fk(n,p),n.du=n.du.remove(l),n.Au.delete(e),Km(n)}else await $p(n.localStore,e,!1).then((()=>Wp(n,e,t))).catch(Mo)}async function cA(r,e){const t=Le(r),n=e.batch.batchId;try{const o=await vC(t.localStore,e);mk(t,n,null),pk(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Sc(t,o)}catch(o){await Mo(o)}}async function uA(r,e,t){const n=Le(r);try{const o=await(function(u,f){const p=Le(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(Ye(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(n.localStore,e);mk(n,e,t),pk(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Sc(n,o)}catch(o){await Mo(o)}}function pk(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function mk(r,e,t){const n=Le(r);let o=n.Vu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function Wp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||gk(r,n)}))}function gk(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Fm(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Km(r))}function cv(r,e,t){for(const n of t)n instanceof uk?(r.Ru.addReference(n.key,e),dA(r,n)):n instanceof dk?(de(Gm,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||gk(r,n.key)):Ce(19791,{wu:n})}function dA(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(de(Gm,"New document in limbo: "+t),r.Eu.add(n),Km(r))}function Km(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ne(rt.fromString(e)),n=r.fu.next();r.Au.set(n,new eA(t)),r.du=r.du.insert(t,n),tk(r.remoteStore,new ai(Vn(Cm(t.path)),n,"TargetPurposeLimboResolution",rh.ce))}}async function Sc(r,e,t){const n=Le(r),o=[],l=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((f,p)=>{u.push(n.pu(p,e,t).then((g=>{if((g||t)&&n.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Mm.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),n.Pu.H_(o),await(async function(p,g){const v=Le(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(_=>te.forEach(_.Es,(C=>v.persistence.referenceDelegate.addReference(b,_.targetId,C))).next((()=>te.forEach(_.ds,(C=>v.persistence.referenceDelegate.removeReference(b,_.targetId,C)))))))))}catch(b){if(!Uo(b))throw b;de(Um,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const C=v.Ms.get(_),T=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(T);v.Ms=v.Ms.insert(_,L)}}})(n.localStore,l))}async function hA(r,e){const t=Le(r);if(!t.currentUser.isEqual(e)){de(Gm,"User change. New user:",e.toKey());const n=await Xb(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new le(J.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Sc(t,n.Ls)}}function fA(r,e){const t=Le(r),n=t.Au.get(e);if(n&&n.hu)return ze().add(n.key);{let o=ze();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const f=t.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function xk(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.Pu.H_=YC.bind(null,e.eventManager),e.Pu.yu=XC.bind(null,e.eventManager),e}function pA(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uA.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yC(this.persistence,new mC,e.initialUser,this.serializer)}Cu(e){return new Yb(Vm.mi,this.serializer)}Du(e){return new jC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class mA extends Md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Od,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new eC(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new Yb((n=>Od.mi(n,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>lv(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QC})()}createDatastore(e){const t=uh(e.databaseInfo.databaseId),n=(function(l){return new CC(l)})(e.databaseInfo);return(function(l,u,f,p){return new DC(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,l,u,f){return new OC(n,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>lv(this.syncEngine,t,0)),(function(){return rv.v()?new rv:new EC})())}createSyncEngine(e,t){return(function(o,l,u,f,p,g,v){const b=new tA(o,l,u,f,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Le(t);de(pa,"RemoteStore shutting down."),n.Ea.add(5),await Ic(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class gA{constructor(e,t,n,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=er.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{de(xi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(de(xi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function fp(r,e){r.asyncQueue.verifyOperationInProgress(),de(xi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await Xb(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await xA(r);de(xi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>sv(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>sv(e.remoteStore,o))),r._onlineComponents=e}async function xA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(xi,"Using user provided OfflineComponentProvider");try{await fp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await fp(r,new Md)}}else de(xi,"Using default OfflineComponentProvider"),await fp(r,new mA(void 0));return r._offlineComponents}async function vk(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(xi,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(de(xi,"Using default OnlineComponentProvider"),await uv(r,new Gp))),r._onlineComponents}function yA(r){return vk(r).then((e=>e.syncEngine))}async function wk(r){const e=await vk(r),t=e.eventManager;return t.onListen=rA.bind(null,e.syncEngine),t.onUnlisten=iA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aA.bind(null,e.syncEngine),t}function vA(r,e,t={}){const n=new hs;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new yk({next:_=>{v.Nu(),u.enqueueAndForget((()=>lk(l,b)));const C=_.docs.has(f);!C&&_.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new ck(Cm(f.path),v,{includeMetadataChanges:!0,qa:!0});return ok(l,b)})(await wk(r),r.asyncQueue,e,t,n))),n.promise}function wA(r,e,t={}){const n=new hs;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new yk({next:_=>{v.Nu(),u.enqueueAndForget((()=>lk(l,b))),_.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new ck(f,v,{includeMetadataChanges:!0,qa:!0});return ok(l,b)})(await wk(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kk,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JS)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new EI;switch(n.type){case"firstParty":return new CI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=dv.get(t);n&&(de("ComponentProvider","Removing Datastore"),dv.delete(t),n.terminate())})(this),Promise.resolve()}}function bA(r,e,t,n={}){r=un(r,fh);const o=Bn(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(Qd(`https://${f}`),Yd("Firestore",!0)),l.host!==kk&&l.host!==f&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:n};if(!ua(p,u)&&(r._setSettings(p),n.mockUserToken)){let g,v;if(typeof n.mockUserToken=="string")g=n.mockUserToken,v=er.MOCK_USER;else{g=pw(n.mockUserToken,r._app?.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new er(b)}r._authCredentials=new TI(new ob(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class kt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(jc(t,kt._jsonSchema))return new kt(e,n||null,new Ne(rt.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:St("string",kt._jsonSchemaVersion),referencePath:St("string")};class ui extends ba{constructor(e,t,n){super(e,t,Cm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ne(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function fn(r,e,...t){if(r=at(r),lb("collection","path",e),r instanceof fh){const n=rt.fromString(e,...t);return Ey(n),new ui(r,null,n)}{if(!(r instanceof kt||r instanceof ui))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rt.fromString(e,...t));return Ey(n),new ui(r.firestore,null,n)}}function pt(r,e,...t){if(r=at(r),arguments.length===1&&(e=Nm.newId()),lb("doc","path",e),r instanceof fh){const n=rt.fromString(e,...t);return jy(n),new kt(r,null,new Ne(n))}{if(!(r instanceof kt||r instanceof ui))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rt.fromString(e,...t));return jy(n),new kt(r.firestore,r instanceof ui?r.converter:null,new Ne(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zb(this,"async_queue_retry"),this._c=()=>{const n=hp();n&&de(pv,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;de(pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",gv(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=qm.createAndSchedule(this,e,t,n,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ka extends fh{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function kA(r,e){const t=typeof r=="object"?r:Xd(),n=typeof r=="string"?r:Cd,o=wc(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const l=hm("firestore");l&&bA(o,...l)}return o}function Qm(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_A(r),r._firestoreClient}function _A(r){const e=r._freezeSettings(),t=(function(o,l,u,f){return new GI(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,bk(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new gA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(Gt.fromBase64String(e))}catch(t){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $r(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jc(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:St("string",$r._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Un._jsonSchemaVersion}}static fromJSON(e){if(jc(e,Un._jsonSchema))return new Un(e.latitude,e.longitude)}}Un._jsonSchemaVersion="firestore/geoPoint/1.0",Un._jsonSchema={type:St("string",Un._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jc(e,Fn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Fn(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fn._jsonSchemaVersion="firestore/vectorValue/1.0",Fn._jsonSchema={type:St("string",Fn._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=/^__.*__$/;class jA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class _k{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Xm{constructor(e,t,n,o,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nk(this.Ac)&&NA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uh(e)}Cc(e,t,n,o=!1){return new Xm({Ac:e,methodName:t,Dc:n,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(r){const e=r._freezeSettings(),t=uh(r._databaseId);return new EA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function jk(r,e,t,n,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Jm("Data must be an object, but it was:",u,n);const f=Ek(n,u);let p,g;if(l.merge)p=new Ar(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=Kp(e,b,t);if(!u.contains(_))throw new le(J.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Ik(v,_)||v.push(_)}p=new Ar(v),g=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=u.fieldTransforms;return new jA(new yr(f),p,g)}class gh extends Ym{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function TA(r,e,t,n){const o=r.Cc(1,e,t);Jm("Data must be an object, but it was:",o,n);const l=[],u=yr.empty();ji(n,((p,g)=>{const v=Zm(e,p,t);g=at(g);const b=o.yc(v);if(g instanceof gh)l.push(v);else{const _=Cc(g,b);_!=null&&(l.push(v),u.set(v,_))}}));const f=new Ar(l);return new _k(u,f,o.fieldTransforms)}function IA(r,e,t,n,o,l){const u=r.Cc(1,e,t),f=[Kp(e,n,t)],p=[o];if(l.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(Kp(e,l[_])),p.push(l[_+1]);const g=[],v=yr.empty();for(let _=f.length-1;_>=0;--_)if(!Ik(g,f[_])){const C=f[_];let T=p[_];T=at(T);const L=u.yc(C);if(T instanceof gh)g.push(C);else{const E=Cc(T,L);E!=null&&(g.push(C),v.set(C,E))}}const b=new Ar(g);return new _k(v,b,u.fieldTransforms)}function SA(r,e,t,n=!1){return Cc(t,r.Cc(n?4:3,e))}function Cc(r,e){if(Tk(r=at(r)))return Jm("Unsupported field value:",e,r),Ek(r,e);if(r instanceof Ym)return(function(n,o){if(!Nk(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,o){const l=[];let u=0;for(const f of n){let p=Cc(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,o){if((n=at(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gS(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=_e.fromDate(n);return{timestampValue:Ld(o.serializer,l)}}if(n instanceof _e){const l=new _e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ld(o.serializer,l)}}if(n instanceof Un)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $r)return{bytesValue:Bb(o.serializer,n._byteString)};if(n instanceof kt){const l=o.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Lm(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Fn)return(function(u,f){return{mapValue:{fields:{[xb]:{stringValue:yb},[Ad]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Am(f.serializer,g)}))}}}}}})(n,o);throw o.Sc(`Unsupported field value: ${th(n)}`)})(r,e)}function Ek(r,e){const t={};return db(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(r,((n,o)=>{const l=Cc(o,e.mc(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function Tk(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _e||r instanceof Un||r instanceof $r||r instanceof kt||r instanceof Ym||r instanceof Fn)}function Jm(r,e,t){if(!Tk(t)||!cb(t)){const n=th(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Kp(r,e,t){if((e=at(e))instanceof ph)return e._internalPath;if(typeof e=="string")return Zm(r,e);throw Ud("Field path arguments must be of type string or ",r,!1,void 0,t)}const CA=new RegExp("[~\\*/\\[\\]]");function Zm(r,e,t){if(e.search(CA)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ph(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ud(r,e,t,n,o){const l=n&&!n.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,f+r+p)}function Ik(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AA extends Sk{data(){return super.data()}}function xh(r,e){return typeof e=="string"?Zm(r,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class Ck extends eg{}function Rt(r,e,...t){let n=[];e instanceof eg&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof tg)).length,f=l.filter((p=>p instanceof yh)).length;if(u>1||u>0&&f>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class yh extends Ck{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new yh(e,t,n)}_apply(e){const t=this._parse(e);return Ak(e._query,t),new ba(e.firestore,e.converter,Vp(e._query,t))}_parse(e){const t=mh(e.firestore);return(function(l,u,f,p,g,v,b){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){yv(b,v);const T=[];for(const L of b)T.push(xv(p,l,L));_={arrayValue:{values:T}}}else _=xv(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||yv(b,v),_=SA(f,u,b,v==="in"||v==="not-in");return It.create(g,v,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function At(r,e,t){const n=e,o=xh("where",r);return yh._create(o,n,t)}class tg extends eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tg(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)Ak(u,p),u=Vp(u,p)})(e._query,t),new ba(e.firestore,e.converter,Vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends Ck{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rg(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(l,u)})(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new Fo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ti(r,e="asc"){const t=e,n=xh("orderBy",r);return rg._create(n,t)}function xv(r,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eb(e)&&t.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(rt.fromString(t));if(!Ne.isDocumentKey(n))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Dy(r,new Ne(n))}if(t instanceof kt)return Dy(r,t._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(t)}.`)}function yv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ak(r,e){const t=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PA{convertValue(e,t="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ji(e,((o,l)=>{n[o]=this.convertValue(l,t)})),n}convertVectorValue(e){const t=e.fields?.[Ad].arrayValue?.values?.map((n=>wt(n.doubleValue)));return new Fn(t)}convertGeoPoint(e){return new Un(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=fi(e);return new _e(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=rt.fromString(e);Ye(Kb(n),9688,{name:e});const o=new ac(n.get(1),n.get(3)),l=new Ne(n.popFirst(5));return o.isEqual(t)||xs(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Sk{constructor(e,t,n,o,l,u){super(e,t,n,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:St("string",oa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class vd extends oa{data(e={}){return super.data(e)}}class ko{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vd(this._firestore,this._userDataWriter,n.key,n,new Wl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new vd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new vd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:DA(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){r=un(r,kt);const e=un(r.firestore,ka);return vA(Qm(e),r._key).then((t=>LA(e,r,t)))}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:St("string",ko._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Pk extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function _t(r){r=un(r,ba);const e=un(r.firestore,ka),t=Qm(e),n=new Pk(e);return RA(r._query),wA(t,r._query).then((o=>new ko(e,n,r,o)))}function ng(r,e,t){r=un(r,kt);const n=un(r.firestore,ka),o=Rk(r.converter,e,t);return wh(n,[jk(mh(n),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Hr.none())])}function wr(r,e,t,...n){r=un(r,kt);const o=un(r.firestore,ka),l=mh(o);let u;return u=typeof(e=at(e))=="string"||e instanceof ph?IA(l,"updateDoc",r._key,e,t,n):TA(l,"updateDoc",r._key,e),wh(o,[u.toMutation(r._key,Hr.exists(!0))])}function Dk(r){return wh(un(r.firestore,ka),[new Rm(r._key,Hr.none())])}function yi(r,e){const t=un(r.firestore,ka),n=pt(r),o=Rk(r.converter,e);return wh(t,[jk(mh(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,Hr.exists(!1))]).then((()=>n))}function wh(r,e){return(function(n,o){const l=new hs;return n.asyncQueue.enqueueAndForget((async()=>oA(await yA(n),o,l))),l.promise})(Qm(r),e)}function LA(r,e,t){const n=t.docs.get(e._key),o=new Pk(r);return new oa(r,o,e._key,n,new Wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Vo=o})(xa),di(new ps("firestore",((n,{instanceIdentifier:o,options:l})=>{const u=n.getProvider("app").getImmediate(),f=new ka(new II(n.getProvider("auth-internal")),new AI(u,n.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(g.options.projectId,v)})(u,o),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),qr(by,ky,e),qr(by,ky,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebasestorage.googleapis.com",Ok="storageBucket",OA=120*1e3,VA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends hn{constructor(e,t,n=0){super(pp(e),`Firebase Storage: ${t} (${pp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function pp(r){return"storage/"+r}function sg(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,r)}function MA(r){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function UA(r){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FA(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,r)}function zA(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BA(r){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function $A(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qA(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function HA(r){return new gt(mt.INVALID_URL,"Invalid URL '"+r+"'.")}function WA(r){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function GA(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ok+"' property when initializing the app?")}function KA(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QA(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YA(r){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(r){return new gt(mt.INVALID_ARGUMENT,r)}function Vk(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function XA(r){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(r,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ul(r){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Rr.makeFromUrl(e,t)}catch{return new Rr(e,"")}if(n.path==="")return n;throw WA(e)}static makeFromUrl(e,t){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(D){D.path_=decodeURIComponent(D.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${v}/b/${o}/o${_}`,"i"),T={bucket:1,path:3},L=t===Lk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",z=new RegExp(`^https?://${L}/${o}/${E}`,"i"),G=[{regex:f,indices:p,postModify:l},{regex:C,indices:T,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let D=0;D<G.length;D++){const Z=G[D],Y=Z.regex.exec(e);if(Y){const P=Y[Z.indices.bucket];let j=Y[Z.indices.path];j||(j=""),n=new Rr(P,j),Z.postModify(n);break}}if(n==null)throw HA(e);return n}}class JA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r,e,t){let n=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function v(...E){g||(g=!0,e.apply(null,E))}function b(E){o=setTimeout(()=>{o=null,r(C,p())},E)}function _(){l&&clearTimeout(l)}function C(E,...z){if(g){_();return}if(E){_(),v.call(null,E,...z);return}if(p()||u){_(),v.call(null,E,...z);return}n<64&&(n*=2);let G;f===1?(f=2,G=0):G=(n+Math.random())*1e3,b(G)}let T=!1;function L(E){T||(T=!0,_(),!g&&(o!==null?(E||(f=2),clearTimeout(o),b(0)):E||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,L(!0)},t),L}function eR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){return r!==void 0}function rR(r){return typeof r=="object"&&!Array.isArray(r)}function ig(r){return typeof r=="string"||r instanceof String}function vv(r){return ag()&&r instanceof Blob}function ag(){return typeof Blob<"u"}function wv(r,e,t,n){if(n<e)throw Qp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Qp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Mk(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var la;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,n,o,l,u,f,p,g,v,b,_=!0,C=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,L)=>{this.resolve_=T,this.reject_=L,this.start_()})}start_(){const e=(n,o)=>{if(o){n(!1,new rd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===la.NO_ERROR,p=l.getStatus();if(!f||nR(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===la.ABORT;n(!1,new rd(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;n(!0,new rd(g,l))})},t=(n,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());tR(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=sg();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?Vk():qA();u(p)}else{const p=$A();u(p)}};this.canceled_?t(!1,new rd(!1,null,!0)):this.backoffId_=ZA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iR(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function aR(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oR(r,e){e&&(r["X-Firebase-GMPID"]=e)}function lR(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function cR(r,e,t,n,o,l,u=!0,f=!1){const p=Mk(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return oR(v,e),iR(v,t),aR(v,l),lR(v,n),new sR(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dR(...r){const e=uR();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(ag())return new Blob(r);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hR(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r){if(typeof atob>"u")throw YA("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mp{constructor(e,t){this.data=e,this.contentType=t||null}}function pR(r,e){switch(r){case Dn.RAW:return new mp(Uk(e));case Dn.BASE64:case Dn.BASE64URL:return new mp(Fk(r,e));case Dn.DATA_URL:return new mp(gR(e),xR(e))}throw sg()}function Uk(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=n,u=r.charCodeAt(++t);n=65536|(l&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function mR(r){let e;try{e=decodeURIComponent(r)}catch{throw Zl(Dn.DATA_URL,"Malformed data URL.")}return Uk(e)}function Fk(r,e){switch(r){case Dn.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Zl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Zl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fR(e)}catch(o){throw o.message.includes("polyfill")?o:Zl(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}class zk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zl(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=yR(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function gR(r){const e=new zk(r);return e.base64?Fk(Dn.BASE64,e.rest):mR(e.rest)}function xR(r){return new zk(r).contentType}function yR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t){let n=0,o="";vv(e)?(this.data_=e,n=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(vv(this.data_)){const n=this.data_,o=hR(n,e,t);return o===null?null:new ii(o)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ii(n,!0)}}static getBlob(...e){if(ag()){const t=e.map(n=>n instanceof ii?n.data_:n);return new ii(dR.apply(null,t))}else{const t=e.map(u=>ig(u)?pR(Dn.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const o=new Uint8Array(n);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new ii(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r){let e;try{e=JSON.parse(r)}catch{return null}return rR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function wR(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function $k(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r,e){return e}class or{constructor(e,t,n,o){this.server=e,this.local=t||e,this.writable=!!n,this.xform=o||bR}}let nd=null;function kR(r){return!ig(r)||r.length<2?r:$k(r)}function qk(){if(nd)return nd;const r=[];r.push(new or("bucket")),r.push(new or("generation")),r.push(new or("metageneration")),r.push(new or("name","fullPath",!0));function e(l,u){return kR(u)}const t=new or("name");t.xform=e,r.push(t);function n(l,u){return u!==void 0?Number(u):u}const o=new or("size");return o.xform=n,r.push(o),r.push(new or("timeCreated")),r.push(new or("updated")),r.push(new or("md5Hash",null,!0)),r.push(new or("cacheControl",null,!0)),r.push(new or("contentDisposition",null,!0)),r.push(new or("contentEncoding",null,!0)),r.push(new or("contentLanguage",null,!0)),r.push(new or("contentType",null,!0)),r.push(new or("metadata","customMetadata",!0)),nd=r,nd}function _R(r,e){function t(){const n=r.bucket,o=r.fullPath,l=new Rr(n,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function NR(r,e,t){const n={};n.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];n[u.local]=u.xform(n,e[u.server])}return _R(n,r),n}function Hk(r,e,t){const n=Bk(e);return n===null?null:NR(r,n,t)}function jR(r,e,t,n){const o=Bk(e);if(o===null||!ig(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=r.bucket,b=r.fullPath,_="/b/"+u(v)+"/o/"+u(b),C=og(_,t,n),T=Mk({alt:"media",token:g});return C+T})[0]}function ER(r,e){const t={},n=e.length;for(let o=0;o<n;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class Wk{constructor(e,t,n,o){this.url=e,this.method=t,this.handler=n,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(r){if(!r)throw sg()}function TR(r,e){function t(n,o){const l=Hk(r,o,e);return Gk(l!==null),l}return t}function IR(r,e){function t(n,o){const l=Hk(r,o,e);return Gk(l!==null),jR(l,o,r.host,r._protocol)}return t}function Kk(r){function e(t,n){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=zA():o=FA():t.getStatus()===402?o=UA(r.bucket):t.getStatus()===403?o=BA(r.path):o=n,o.status=t.getStatus(),o.serverResponse=n.serverResponse,o}return e}function SR(r){const e=Kk(r);function t(n,o){let l=e(n,o);return n.getStatus()===404&&(l=MA(r.path)),l.serverResponse=o.serverResponse,l}return t}function CR(r,e,t){const n=e.fullServerUrl(),o=og(n,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,f=new Wk(o,l,IR(r,t),u);return f.errorHandler=SR(e),f}function AR(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function RR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=AR(null,e)),n}function PR(r,e,t,n,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let D=0;D<2;D++)G=G+Math.random().toString().slice(2);return G}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=RR(e,n,o),v=ER(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,_=`\r
--`+p+"--",C=ii.getBlob(b,n,_);if(C===null)throw KA();const T={name:g.fullPath},L=og(l,r.host,r._protocol),E="POST",z=r.maxUploadRetryTime,V=new Wk(L,E,TR(r,t),z);return V.urlParams=T,V.headers=u,V.body=C.uploadData(),V.errorHandler=Kk(e),V}class DR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,o,l){if(this.sent_)throw Ul("cannot .send() more than once");if(Bn(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LR extends DR{initXhr(){this.xhr_.responseType="text"}}function Qk(){return new LR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){this._service=e,t instanceof Rr?this._location=t:this._location=Rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ma(e,t)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $k(this._location.path)}get storage(){return this._service}get parent(){const e=vR(this._location.path);if(e===null)return null;const t=new Rr(this._location.bucket,e);return new ma(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XA(e)}}function OR(r,e,t){r._throwIfRoot("uploadBytes");const n=PR(r.storage,r._location,qk(),new ii(e,!0),t);return r.storage.makeRequestWithTokens(n,Qk).then(o=>({metadata:o,ref:r}))}function VR(r){r._throwIfRoot("getDownloadURL");const e=CR(r.storage,r._location,qk());return r.storage.makeRequestWithTokens(e,Qk).then(t=>{if(t===null)throw QA();return t})}function MR(r,e){const t=wR(r._location.path,e),n=new Rr(r._location.bucket,t);return new ma(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r){return/^[A-Za-z]+:\/\//.test(r)}function FR(r,e){return new ma(r,e)}function Yk(r,e){if(r instanceof lg){const t=r;if(t._bucket==null)throw GA();const n=new ma(t,t._bucket);return e!=null?Yk(n,e):n}else return e!==void 0?MR(r,e):r}function zR(r,e){if(e&&UR(e)){if(r instanceof lg)return FR(r,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return Yk(r,e)}function bv(r,e){const t=e?.[Ok];return t==null?null:Rr.makeFromBucketSpec(t,r)}function BR(r,e,t,n={}){r.host=`${e}:${t}`;const o=Bn(e);o&&(Qd(`https://${r.host}/b`),Yd("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:pw(l,r.app.options.projectId))}class lg{constructor(e,t,n,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=Lk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OA,this._maxUploadRetryTime=VA,this._requests=new Set,o!=null?this._bucket=Rr.makeFromBucketSpec(o,this._host):this._bucket=bv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=bv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,t,n,o,l=!0){if(this._deleted)return new JA(Vk());{const u=cR(e,this._appId,n,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()}}const kv="@firebase/storage",_v="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="storage";function cg(r,e,t){return r=at(r),OR(r,e,t)}function ug(r){return r=at(r),VR(r)}function dg(r,e){return r=at(r),zR(r,e)}function $R(r=Xd(),e){r=at(r);const n=wc(r,Xk).getImmediate({identifier:e}),o=hm("storage");return o&&qR(n,...o),n}function qR(r,e,t,n={}){BR(r,e,t,n)}function HR(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new lg(t,n,o,e,xa)}function WR(){di(new ps(Xk,HR,"PUBLIC").setMultipleInstances(!0)),qr(kv,_v,""),qr(kv,_v,"esm2020")}WR();const GR={apiKey:"AIzaSyCI5qUXSrau6XMBNMyHnUtgyGFS3rfJknU",authDomain:"notzy-83166.firebaseapp.com",projectId:"notzy-83166",storageBucket:"notzy-83166.firebasestorage.app",messagingSenderId:"471992545792",appId:"1:471992545792:web:e6e7712f07facc9bda1ee5",measurementId:"G-CL4XNKKH8X"},hg=xw(GR),sd=kI(hg),Gr=kA(hg),fg=$R(hg),Ii=fn(Gr,"users"),vs=fn(Gr,"notes"),pg=fn(Gr,"purchases"),So=fn(Gr,"bookmarks"),bh=fn(Gr,"reviews"),Co=fn(Gr,"payouts"),Ac=fn(Gr,"noteRequests"),Yp=pt(Gr,"settings","platform");async function KR(r,e){await ng(pt(Ii,r),{name:e.name,email:e.email,avatarUrl:e.avatarUrl||"",totalEarnings:0,createdAt:_e.now()})}async function gp(r){const e=await vh(pt(Ii,r));if(!e.exists())return null;const t=e.data(),n=await Zk(r);return{id:r,name:t.name,email:t.email,avatarUrl:t.avatarUrl||"",bio:t.bio||"",totalEarnings:t.totalEarnings||0,uploadedNotes:n,isAdmin:t.isAdmin||!1,isVerified:t.isVerified||!1,isBlocked:t.isBlocked||!1}}async function Nv(r,e){await wr(pt(Ii,r),e)}async function mg(){const r=Rt(vs,Ti("uploadDate","desc"));return(await _t(r)).docs.map(t=>{const n=t.data();return{id:t.id,title:n.title,description:n.description,category:n.category,price:n.price,rating:n.rating||0,reviewCount:n.reviewCount||0,salesCount:n.salesCount||0,previewPages:n.previewPages||[],thumbnailUrl:n.thumbnailUrl||"",pdfUrls:n.pdfUrls||[],uploaderId:n.uploaderId,uploaderName:n.uploaderName,uploadDate:n.uploadDate instanceof _e?n.uploadDate.toDate().toISOString().split("T")[0]:n.uploadDate}})}async function Jk(r){const e=await vh(pt(vs,r));if(!e.exists())return null;const t=e.data();return{id:e.id,title:t.title,description:t.description,category:t.category,price:t.price,rating:t.rating||0,reviewCount:t.reviewCount||0,salesCount:t.salesCount||0,previewPages:t.previewPages||[],thumbnailUrl:t.thumbnailUrl||"",pdfUrls:t.pdfUrls||[],uploaderId:t.uploaderId,uploaderName:t.uploaderName,uploadDate:t.uploadDate instanceof _e?t.uploadDate.toDate().toISOString().split("T")[0]:t.uploadDate}}async function QR(r){return(await yi(vs,{...r,rating:0,reviewCount:0,salesCount:0,uploadDate:_e.now()})).id}async function Zk(r){const e=Rt(vs,At("uploaderId","==",r));return(await _t(e)).docs.map(n=>{const o=n.data();return{id:n.id,title:o.title,description:o.description,category:o.category,price:o.price,rating:o.rating||0,reviewCount:o.reviewCount||0,salesCount:o.salesCount||0,previewPages:o.previewPages||[],thumbnailUrl:o.thumbnailUrl||"",pdfUrls:o.pdfUrls||[],uploaderId:o.uploaderId,uploaderName:o.uploaderName,uploadDate:o.uploadDate instanceof _e?o.uploadDate.toDate().toISOString().split("T")[0]:o.uploadDate}})}async function YR(r){const e=Rt(pg,At("userId","==",r)),n=(await _t(e)).docs.map(l=>l.data().noteId);if(n.length===0)return[];const o=[];for(const l of n){const u=await Jk(l);u&&o.push(u)}return o}async function e_(r,e){const t=Rt(pg,At("userId","==",r),At("noteId","==",e));return!(await _t(t)).empty}async function XR(r){const e=Rt(So,At("userId","==",r)),n=(await _t(e)).docs.map(l=>l.data().noteId);if(n.length===0)return[];const o=[];for(const l of n){const u=await Jk(l);u&&o.push(u)}return o}async function JR(r,e){const t=Rt(So,At("userId","==",r),At("noteId","==",e));(await _t(t)).empty&&await yi(So,{userId:r,noteId:e,createdAt:_e.now()})}async function ZR(r,e){const t=Rt(So,At("userId","==",r),At("noteId","==",e)),n=await _t(t);for(const o of n.docs)await Dk(pt(So,o.id))}async function e4(r){const e=Rt(So,At("userId","==",r));return(await _t(e)).docs.map(n=>n.data().noteId)}async function t4(r){const e=Rt(pg,At("userId","==",r));return(await _t(e)).docs.map(n=>n.data().noteId)}async function r4(r){const e=Rt(bh,At("noteId","==",r),Ti("date","desc"));return(await _t(e)).docs.map(n=>{const o=n.data();return{id:n.id,noteId:o.noteId,userId:o.userId,userName:o.userName,rating:o.rating,comment:o.comment,date:o.date instanceof _e?o.date.toDate().toISOString().split("T")[0]:o.date}})}async function t_(r,e){const t=Rt(bh,At("userId","==",r),At("noteId","==",e));return!(await _t(t)).empty}async function n4(r){if(await t_(r.userId,r.noteId))throw new Error("You have already reviewed this note");if(!await e_(r.userId,r.noteId))throw new Error("You must purchase this note before reviewing");await yi(bh,{...r,date:_e.now()}),await s4(r.noteId)}async function s4(r){const e=Rt(bh,At("noteId","==",r)),t=await _t(e);if(t.empty){await wr(pt(vs,r),{rating:0,reviewCount:0});return}let n=0;t.docs.forEach(l=>{n+=l.data().rating});const o=Math.round(n/t.docs.length*10)/10;await wr(pt(vs,r),{rating:o,reviewCount:t.docs.length})}const Rc=fn(Gr,"supportChats");async function gg(){const r=await _t(Ii),e=[];for(const t of r.docs){const n=t.data(),o=await Zk(t.id);e.push({id:t.id,name:n.name,email:n.email,avatarUrl:n.avatarUrl||"",totalEarnings:n.totalEarnings||0,uploadedNotes:o,isAdmin:n.isAdmin||!1,isVerified:n.isVerified||!1,isBlocked:n.isBlocked||!1})}return e}async function i4(r,e){await wr(pt(Ii,r),{isVerified:e})}async function a4(r,e){await wr(pt(Ii,r),{isBlocked:e})}async function o4(r,e){await wr(pt(vs,r),{isTopSelling:e})}async function l4(r,e){await wr(pt(vs,r),{isVerified:e})}async function c4(r){await Dk(pt(vs,r))}async function u4(r,e,t,n){const o=await yi(Rc,{userId:r,userName:e,userEmail:t,status:"open",createdAt:_e.now(),lastMessage:n,lastMessageAt:_e.now()}),l=fn(Gr,"supportChats",o.id,"messages");return await yi(l,{senderId:r,senderName:e,isAdmin:!1,text:n,timestamp:_e.now()}),o.id}async function r_(r,e,t,n,o){const l=fn(Gr,"supportChats",r,"messages");await yi(l,{senderId:e,senderName:t,isAdmin:n,text:o,timestamp:_e.now()}),await wr(pt(Rc,r),{lastMessage:o,lastMessageAt:_e.now()})}async function n_(r){const e=fn(Gr,"supportChats",r,"messages"),t=Rt(e,Ti("timestamp","asc"));return(await _t(t)).docs.map(o=>{const l=o.data();return{id:o.id,senderId:l.senderId,senderName:l.senderName,isAdmin:l.isAdmin,text:l.text,timestamp:l.timestamp instanceof _e?l.timestamp.toDate().toISOString():l.timestamp}})}async function d4(r){const e=Rt(Rc,At("userId","==",r));return(await _t(e)).docs.map(o=>{const l=o.data();return{id:o.id,userId:l.userId,userName:l.userName,userEmail:l.userEmail,status:l.status,createdAt:l.createdAt instanceof _e?l.createdAt.toDate().toISOString():l.createdAt,lastMessage:l.lastMessage,lastMessageAt:l.lastMessageAt instanceof _e?l.lastMessageAt.toDate().toISOString():l.lastMessageAt}}).sort((o,l)=>new Date(l.lastMessageAt).getTime()-new Date(o.lastMessageAt).getTime())}async function h4(){const r=Rt(Rc,Ti("lastMessageAt","desc"));return(await _t(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,status:n.status,createdAt:n.createdAt instanceof _e?n.createdAt.toDate().toISOString():n.createdAt,lastMessage:n.lastMessage,lastMessageAt:n.lastMessageAt instanceof _e?n.lastMessageAt.toDate().toISOString():n.lastMessageAt}})}async function f4(r,e){await wr(pt(Rc,r),{status:e})}async function xg(){const r=await vh(Yp);return r.exists()?r.data().platformFee||30:(await ng(Yp,{platformFee:30}),30)}async function p4(r){await ng(Yp,{platformFee:r},{merge:!0})}async function m4(r,e,t,n,o){const l=await xg(),u=o*(1-l/100),f=await yi(Co,{userId:r,userName:e,userEmail:t,upiId:n,grossAmount:o,platformFee:l,netAmount:u,status:"pending",requestedAt:_e.now()});return await wr(pt(Ii,r),{pendingPayout:!0}),f.id}async function g4(){const r=Rt(Co,At("status","==","pending"),Ti("requestedAt","desc"));return(await _t(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,upiId:n.upiId,grossAmount:n.grossAmount,platformFee:n.platformFee,netAmount:n.netAmount,status:n.status,requestedAt:n.requestedAt instanceof _e?n.requestedAt.toDate().toISOString():n.requestedAt}})}async function x4(){const r=Rt(Co,Ti("requestedAt","desc"));return(await _t(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,upiId:n.upiId,grossAmount:n.grossAmount,platformFee:n.platformFee,netAmount:n.netAmount,status:n.status,requestedAt:n.requestedAt instanceof _e?n.requestedAt.toDate().toISOString():n.requestedAt,completedAt:n.completedAt instanceof _e?n.completedAt.toDate().toISOString():n.completedAt}})}async function y4(r){const e=await vh(pt(Co,r));if(!e.exists())throw new Error("Payout request not found");const n=e.data().userId;await wr(pt(Co,r),{status:"completed",completedAt:_e.now()}),await wr(pt(Ii,n),{totalEarnings:0,pendingPayout:!1})}async function jv(r){const e=Rt(Co,At("userId","==",r),At("status","==","pending")),t=await _t(e);if(t.empty)return null;const n=t.docs[0],o=n.data();return{id:n.id,userId:o.userId,userName:o.userName,userEmail:o.userEmail,upiId:o.upiId,grossAmount:o.grossAmount,platformFee:o.platformFee,netAmount:o.netAmount,status:o.status,requestedAt:o.requestedAt instanceof _e?o.requestedAt.toDate().toISOString():o.requestedAt}}async function v4(r,e,t,n,o,l){return(await yi(Ac,{userId:r,userName:e,userEmail:t,title:n,description:o,category:l,status:"pending",createdAt:_e.now()})).id}async function w4(r){const e=Rt(Ac,At("userId","==",r),Ti("createdAt","desc"));return(await _t(e)).docs.map(n=>{const o=n.data();return{id:n.id,userId:o.userId,userName:o.userName,userEmail:o.userEmail,title:o.title,description:o.description,category:o.category,status:o.status,createdAt:o.createdAt instanceof _e?o.createdAt.toDate().toISOString():o.createdAt,response:o.response,responseLink:o.responseLink,respondedAt:o.respondedAt instanceof _e?o.respondedAt.toDate().toISOString():o.respondedAt}})}async function b4(){const r=Rt(Ac,Ti("createdAt","desc"));return(await _t(r)).docs.map(t=>{const n=t.data();return{id:t.id,userId:n.userId,userName:n.userName,userEmail:n.userEmail,title:n.title,description:n.description,category:n.category,status:n.status,createdAt:n.createdAt instanceof _e?n.createdAt.toDate().toISOString():n.createdAt,response:n.response,responseLink:n.responseLink,respondedAt:n.respondedAt instanceof _e?n.respondedAt.toDate().toISOString():n.respondedAt}})}async function k4(r,e,t){await wr(pt(Ac,r),{status:"responded",response:e,responseLink:t||null,respondedAt:_e.now()})}async function _4(r){await wr(pt(Ac,r),{status:"closed"})}const s_=I.createContext(void 0);function N4({children:r}){const[e,t]=I.useState(null),[n,o]=I.useState(null),[l,u]=I.useState(!0),[f,p]=I.useState(!1);I.useEffect(()=>{const L=uT(sd,async E=>{if(t(E),E){p(!1);const z=await gp(E.uid);o(z)}else o(null);u(!1)});return()=>L()},[]);const g=async()=>{if(e){const L=await gp(e.uid);o(L)}},v=()=>{p(!0)},b=()=>{p(!1)},_=async(L,E)=>{try{return await oT(sd,L,E),p(!1),{success:!0}}catch(z){let V="Failed to sign in";return z.code==="auth/user-not-found"?V="No account found with this email":z.code==="auth/wrong-password"?V="Incorrect password":z.code==="auth/invalid-email"?V="Invalid email address":z.code==="auth/invalid-credential"&&(V="Invalid email or password"),{success:!1,error:V}}},C=async(L,E,z)=>{try{const V=await aT(sd,E,z);await KR(V.user.uid,{name:L,email:E});const G=await gp(V.user.uid);return o(G),p(!1),{success:!0}}catch(V){let G="Failed to create account";return V.code==="auth/email-already-in-use"?G="An account with this email already exists":V.code==="auth/weak-password"?G="Password should be at least 6 characters":V.code==="auth/invalid-email"&&(G="Invalid email address"),{success:!1,error:G}}},T=async()=>{await dT(sd),t(null),o(null),p(!1)};return i.jsx(s_.Provider,{value:{user:e,userProfile:n,isAuthenticated:!!e,isGuest:f,isLoading:l,login:_,signup:C,logout:T,refreshUserProfile:g,enterGuestMode:v,exitGuestMode:b},children:r})}function br(){const r=I.useContext(s_);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Ev=r=>{const e=E4(r);return e.charAt(0).toUpperCase()+e.slice(1)},i_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=I.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...f},p)=>I.createElement("svg",{ref:p,...T4,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:i_("lucide",o),...f},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(r,e)=>{const t=I.forwardRef(({className:n,...o},l)=>I.createElement(I4,{ref:l,iconNode:e,className:i_(`lucide-${j4(Ev(r))}`,`lucide-${r}`,n),...o}));return t.displayName=Ev(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ct=be("arrow-left",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],id=be("ban",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],R4=be("bell",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],a_=be("book-open",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],dc=be("bookmark",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O4=be("calendar",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],M4=be("camera",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xp=be("chevron-left",U4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jp=be("chevron-right",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],o_=be("circle-alert",z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bt=be("circle-check-big",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tv=be("circle-x",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],vi=be("clock",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],an=be("download",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l_=be("external-link",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],c_=be("eye-off",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kh=be("eye",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],u_=be("file-check",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],aa=be("file-question",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cr=be("file-text",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Zp=be("file",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],em=be("graduation-cap",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xp=be("house",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rP=be("image",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],lr=be("indian-rupee",nP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iP=be("info",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],oP=be("library",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cP=be("link",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],d_=be("log-in",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Fd=be("log-out",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ao=be("mail",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],h_=be("menu",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Pr=be("message-square",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],wi=be("moon",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xP=be("plus",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vP=be("save",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bi=be("search",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hc=be("send",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tm=be("settings",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rm=be("shield-check",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],on=be("shield",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],EP=be("shopping-bag",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],IP=be("shopping-cart",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],CP=be("square-pen",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ca=be("star",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ki=be("sun",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],DP=be("tag",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],OP=be("trash-2",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zd=be("trending-up",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_h=be("truck",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],nr=be("upload",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zP=be("user-plus",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ws=be("user",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fc=be("users",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],nm=be("wallet",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ks=be("x",HP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],GP=be("zoom-in",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],QP=be("zoom-out",KP);function YP({currentPage:r,onNavigate:e,onLoginRequest:t}){const[n,o]=I.useState(!1),{isDark:l,toggleTheme:u}=xc(),{userProfile:f,logout:p,isGuest:g,exitGuestMode:v}=br(),b=f?.isAdmin||!1,_=["downloads","bookmarks","my-requests","earnings","profile","upload","support","settings"],C=[{id:"home",label:"Home",icon:xp},{id:"downloads",label:"Downloads",icon:an},{id:"bookmarks",label:"Bookmarks",icon:dc},{id:"my-requests",label:"My Requests",icon:aa},{id:"earnings",label:"Earnings",icon:lr},{id:"profile",label:"My Profile",icon:ws},{id:"upload",label:"Upload Notes",icon:nr},{id:"support",label:"Support",icon:Pr},{id:"settings",label:"Settings",icon:tm}],T=g?C.filter(D=>!_.includes(D.id)):C,E=b&&!g?[{id:"admin",label:"Dashboard",icon:on},{id:"admin-users",label:"Manage Users",icon:fc},{id:"admin-payouts",label:"Payouts",icon:nm},{id:"admin-requests",label:"Note Requests",icon:aa},{id:"admin-earnings",label:"User Earnings",icon:lr},{id:"admin-notes",label:"Manage Notes",icon:cr},{id:"admin-chats",label:"Support Chats",icon:Pr}]:T,z=b&&!g?[{id:"admin",label:"Dashboard",icon:on},{id:"admin-users",label:"Users",icon:fc},{id:"admin-notes",label:"Notes",icon:cr},{id:"admin-chats",label:"Chats",icon:Pr}]:g?[{id:"home",label:"Home",icon:xp}]:[{id:"home",label:"Home",icon:xp},{id:"downloads",label:"Downloads",icon:an},{id:"upload",label:"Upload",icon:nr},{id:"earnings",label:"Earnings",icon:lr},{id:"profile",label:"Profile",icon:ws}],V=b&&!g?[{id:"admin-payouts",label:"Payouts",icon:nm},{id:"admin-requests",label:"Note Requests",icon:aa},{id:"admin-earnings",label:"User Earnings",icon:lr}]:g?[]:[{id:"my-requests",label:"My Requests",icon:aa},{id:"bookmarks",label:"Bookmarks",icon:dc},{id:"support",label:"Support",icon:Pr},{id:"settings",label:"Settings",icon:tm}],G=()=>{p()};return i.jsxs(i.Fragment,{children:[i.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 h-screen w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50 isolate",style:{backgroundColor:"var(--sidebar-bg, #ffffff)"},children:[i.jsx("style",{children:".dark aside { --sidebar-bg: #0f172a !important; }"}),i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 ${b?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-xl flex items-center justify-center shadow-lg`,children:b?i.jsx(on,{className:"w-6 h-6 text-white"}):i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:b?"Admin Panel":"Notezy"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:b?"Management Console":"Knowledge Marketplace"})]})]})}),i.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:E.map(D=>{const Z=D.icon,Y=r===D.id;return i.jsxs("button",{onClick:()=>e(D.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${Y?"text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,style:Y?{backgroundColor:b?"#db2777":"#2563eb"}:{},children:[i.jsx(Z,{className:"w-5 h-5"}),i.jsx("span",{children:D.label})]},D.id)})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 space-y-1",children:[i.jsx("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:l?i.jsxs(i.Fragment,{children:[i.jsx(ki,{className:"w-5 h-5"}),i.jsx("span",{children:"Light Mode"})]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"w-5 h-5"}),i.jsx("span",{children:"Dark Mode"})]})}),g?i.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[i.jsx(d_,{className:"w-5 h-5"}),i.jsx("span",{children:"Login / Sign Up"})]}):b&&i.jsxs("button",{onClick:G,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(Fd,{className:"w-5 h-5"}),i.jsx("span",{children:"Logout"})]})]})]}),i.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 ${b?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-lg flex items-center justify-center`,children:b?i.jsx(on,{className:"w-5 h-5 text-white"}):i.jsx(nr,{className:"w-5 h-5 text-white"})}),i.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:b?"Admin":"Notezy"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:l?i.jsx(ki,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"}):i.jsx(wi,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"})}),b&&i.jsx("button",{onClick:G,className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:i.jsx(Fd,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),V.length>0&&i.jsx("button",{onClick:()=>o(!n),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:n?i.jsx(ks,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"}):i.jsx(h_,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"})})]})]})}),n&&V.length>0&&i.jsx("div",{className:"lg:hidden fixed left-0 right-0 z-40 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-lg",style:{top:"56px"},children:i.jsx("nav",{className:"p-2",children:V.map(D=>{const Z=D.icon,Y=r===D.id;return i.jsxs("button",{onClick:()=>{e(D.id),o(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${Y?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[i.jsx(Z,{className:"w-5 h-5"}),i.jsx("span",{children:D.label})]},D.id)})})}),i.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t border-gray-200 dark:border-slate-700",children:i.jsx("div",{className:"flex justify-around items-center h-16",children:z.map(D=>{const Z=D.icon,Y=r===D.id;return i.jsxs("button",{onClick:()=>e(D.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${Y?b?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-slate-400"}`,children:[i.jsx(Z,{className:"w-5 h-5"}),i.jsx("span",{className:"text-[10px] mt-1",children:D.label})]},D.id)})})})]})}function XP({searchQuery:r,onSearchChange:e,showSearch:t=!0}){const{userProfile:n}=br();return i.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 lg:ml-64",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 lg:px-8 py-4",children:[t&&i.jsx("div",{className:"flex-1 max-w-2xl",children:i.jsxs("div",{className:"relative",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:r,onChange:o=>e(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),i.jsxs("div",{className:"hidden lg:flex items-center gap-3 ml-auto",children:[i.jsxs("button",{className:"relative p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx(R4,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"})]}),i.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:n?.name||"User"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n?.uploadedNotes&&n.uploadedNotes.length>0?"Seller":"Member"})]}),i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ws,{className:"w-5 h-5 text-white"})})]})]})]})})}function yg({note:r,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,isBookmarked:l=!1,isPurchased:u=!1}){return i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all border border-gray-200 dark:border-slate-800 group",children:[i.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-slate-800 cursor-pointer overflow-hidden",onClick:()=>e(r),children:[i.jsx("img",{src:r.thumbnailUrl,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center",children:i.jsx(kh,{className:"w-12 h-12 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform"})}),i.jsx("div",{className:"absolute top-3 right-3",children:t&&i.jsx("button",{onClick:f=>{f.stopPropagation(),t(r.id)},className:`p-2.5 rounded-xl ${l?"bg-yellow-500 text-white shadow-lg":"bg-white/90 dark:bg-slate-900/90 text-gray-700 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-900 backdrop-blur-sm"} transition-all`,children:i.jsx(dc,{className:`w-4 h-4 ${l?"fill-current":""}`})})})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white line-clamp-2 flex-1",children:r.title}),i.jsxs("span",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent whitespace-nowrap",children:["",r.price]})]}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:r.description}),i.jsxs("div",{className:"flex items-center gap-3 mb-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ca,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:r.rating})]}),i.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["(",r.reviewCount,")"]}),i.jsx("span",{className:"text-gray-400 dark:text-slate-600",children:""}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[r.salesCount," sales"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:["by ",r.uploaderName]}),!u&&n&&i.jsxs("button",{onClick:()=>n(r.id),className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(IP,{className:"w-4 h-4"}),"Purchase Now"]}),u&&i.jsxs("button",{onClick:()=>o?o(r.id):e(r),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(cr,{className:"w-4 h-4"}),"View Notes"]})]})]})}function JP({notes:r,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,bookmarkedIds:l,purchasedIds:u,searchQuery:f,onSearchChange:p}){const[g,v]=I.useState(null),b=[{id:"assignment",label:"Assignments",icon:cr,color:"from-blue-500 to-blue-600"},{id:"pyq",label:"PYQ Papers",icon:a_,color:"from-green-500 to-green-600"},{id:"lecture-notes",label:"Lecture Notes",icon:oP,color:"from-purple-500 to-purple-600"}],_=r.filter(T=>{const L=T.title.toLowerCase().includes(f.toLowerCase())||T.description.toLowerCase().includes(f.toLowerCase()),E=!g||T.category===g;return L&&E}),C=[...r].sort((T,L)=>L.salesCount-T.salesCount).slice(0,8);return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[p&&i.jsx("div",{className:"lg:hidden mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-500"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:f,onChange:T=>p(T.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:b.map(T=>{const L=T.icon,E=g===T.id;return i.jsxs("button",{onClick:()=>v(E?null:T.id),className:`bg-gradient-to-br ${T.color} ${E?"ring-4 ring-offset-2 dark:ring-offset-gray-950 ring-gray-400 dark:ring-gray-600":""} text-white p-6 rounded-2xl hover:shadow-2xl transition-all flex items-center gap-4 shadow-lg`,children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl backdrop-blur-sm",children:i.jsx(L,{className:"w-8 h-8"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-white",children:T.label}),i.jsxs("div",{className:"text-white text-opacity-90 text-sm",children:[r.filter(z=>z.category===T.id).length," items"]})]})]},T.id)})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-gray-900 dark:text-white mb-6",children:g?`${b.find(T=>T.id===g)?.label}`:"Top Purchased Notes"}),_.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(g?_:C).map(T=>i.jsx(yg,{note:T,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,isBookmarked:l.includes(T.id),isPurchased:u.includes(T.id)},T.id))}):i.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(bi,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No notes found matching your search"})]})]})]})})}function ZP({purchasedNotes:r}){const e=(n,o)=>{window.open(n,"_blank")},t=n=>{n.pdfUrls&&n.pdfUrls.length>0&&n.pdfUrls.forEach((o,l)=>{setTimeout(()=>{window.open(o,"_blank")},l*500)})};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(an,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Downloads"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Download your purchased notes"})]})]}),r.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-xl p-4 mb-6",children:i.jsxs("p",{className:"text-blue-900 dark:text-blue-200",children:["You have purchased ",r.length," notes"]})}),i.jsx("div",{className:"space-y-4",children:r.map(n=>i.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-lg",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(cr,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-1",children:n.title}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2",children:n.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-slate-500",children:[i.jsx("span",{className:"capitalize",children:n.category}),i.jsx("span",{children:""}),i.jsxs("span",{children:["By ",n.uploaderName]}),n.pdfUrls&&n.pdfUrls.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[n.pdfUrls.length," PDF file(s)"]})]})]})]}),i.jsx("div",{className:"px-3 py-1 bg-green-500 text-white text-xs rounded-full flex-shrink-0",children:"Purchased"})]}),n.pdfUrls&&n.pdfUrls.length>0?i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[n.pdfUrls.length," PDF file(s) available"]}),n.pdfUrls.length>1&&i.jsxs("button",{onClick:()=>t(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm rounded-lg hover:shadow-lg transition-all",children:[i.jsx(an,{className:"w-4 h-4"}),"Download All"]})]}),i.jsx("div",{className:"space-y-2",children:n.pdfUrls.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Zp,{className:"w-5 h-5 text-red-500"}),i.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[n.title," - File ",l+1,".pdf"]})]}),i.jsxs("button",{onClick:()=>e(o,`${n.title}_${l+1}.pdf`),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:[i.jsx(an,{className:"w-4 h-4"}),"Download"]})]},l))})]}):i.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4 text-center",children:i.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No PDF files available for this note"})})]})},n.id))})]}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(an,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Downloads Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Purchase some notes to see them here"})]})]})})}function e6({bookmarkedNotes:r,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,purchasedIds:l}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(dc,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Bookmarks"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Your saved notes collection"})]})]}),r.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-xl p-4 mb-6",children:i.jsxs("p",{className:"text-yellow-900 dark:text-yellow-200",children:["You have ",r.length," bookmarked notes"]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>i.jsx(yg,{note:u,onPreview:e,onBookmark:t,onPurchase:n,onViewNotes:o,isBookmarked:!0,isPurchased:l.includes(u.id)},u.id))})]}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[i.jsx(dc,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Bookmarks Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Bookmark notes to save them for later"})]})]})})}function t6({totalEarnings:r,uploadedNotes:e}){const{user:t,userProfile:n}=br(),[o,l]=I.useState(!1),[u,f]=I.useState(""),[p,g]=I.useState(30),[v,b]=I.useState(null),[_,C]=I.useState(!1),[T,L]=I.useState(""),E=e.reduce((D,Z)=>D+Z.salesCount,0),z=e.map(D=>({...D,earnings:D.price*D.salesCount})).sort((D,Z)=>Z.earnings-D.earnings),V=r*(1-p/100);I.useEffect(()=>{async function D(){try{const Z=await xg();if(g(Z),t?.uid){const Y=await jv(t.uid);b(Y)}}catch(Z){console.error("Error loading payout data:",Z)}}D()},[t?.uid]);async function G(D){if(D.preventDefault(),!t||!n||!u.trim())return;if(!/^[\w.-]+@[\w]+$/.test(u.trim())){L("Invalid UPI ID format (e.g., name@upi)");return}C(!0),L("");try{await m4(t.uid,n.name,n.email,u.trim(),r);const Y=await jv(t.uid);b(Y),l(!1),f("")}catch(Y){L(Y.message||"Failed to submit request")}finally{C(!1)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(lr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Earnings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track your sales performance"})]})]}),v&&i.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-2xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vi,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Payout Request Pending"}),i.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:["",v.netAmount.toFixed(2)," will be sent to ",v.upiId]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(lr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Available Balance"})]}),i.jsxs("div",{className:"text-white text-3xl",children:["",r.toFixed(2)]}),i.jsxs("div",{className:"text-white text-opacity-75 text-sm mt-1",children:["You'll receive ",V.toFixed(2)," (",100-p,"% after ",p,"% platform fee)"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(EP,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),i.jsx("div",{className:"text-white text-3xl",children:E}),i.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Notes sold"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(cr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Active Listings"})]}),i.jsx("div",{className:"text-white text-3xl",children:e.length}),i.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Available for sale"})]})]}),r>0&&!v&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl font-medium text-lg shadow-xl hover:shadow-2xl transition-all flex items-center justify-center gap-3",children:[i.jsx(nm,{className:"w-6 h-6"}),"Redeem ",V.toFixed(2)," to UPI"]}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:["Platform fee: ",p,"%  You'll receive ",100-p,"% of your earnings"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:i.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Earnings Breakdown"})}),z.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note Title"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Rating"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Earnings"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:z.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:D.title}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",D.price]}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:D.salesCount}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:D.rating}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["(",D.reviewCount,")"]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["",D.earnings.toFixed(2)]})})]},D.id))})]})}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(zd,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("p",{children:"No earnings yet. Start uploading notes to earn!"})]})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Redeem Earnings"}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(ks,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-xl mb-6 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Earnings"}),i.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:["",r.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Platform Fee (",p,"%)"]}),i.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",(r*p/100).toFixed(2)]})]}),i.jsx("div",{className:"border-t border-green-200 dark:border-green-700 pt-2 mt-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-green-700 dark:text-green-400 font-medium",children:"You'll Receive"}),i.jsxs("span",{className:"text-green-700 dark:text-green-400 font-bold text-xl",children:["",V.toFixed(2)]})]})})]}),i.jsxs("form",{onSubmit:G,children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Your UPI ID"}),i.jsx("input",{type:"text",value:u,onChange:D=>f(D.target.value),placeholder:"yourname@upi",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white",required:!0}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:"Enter your UPI ID (e.g., name@paytm, name@gpay, 9876543210@ybl)"})]}),T&&i.jsx("div",{className:"mb-4 text-red-600 dark:text-red-400 text-sm",children:T}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:_||!u.trim(),className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50",children:_?"Submitting...":"Submit Request"})]})]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs text-center mt-4",children:"Admin will manually process your payout within 24-48 hours"})]})})]})}async function r6(r,e,t){const n=r.name.split(".").pop()||"jpg",o=`notes/${e}/preview_${t}.${n}`,l=dg(fg,o);return await cg(l,r),await ug(l)}async function n6(r,e){const t=r.name.split(".").pop()||"pdf",n=`notes/${e}/document.${t}`,o=dg(fg,n);return await cg(o,r),await ug(o)}async function s6(r,e){const t=r.name.split(".").pop()||"jpg",n=`avatars/${e}/avatar.${t}`,o=dg(fg,n);return await cg(o,r),await ug(o)}function i6({user:r,onPreview:e}){const{user:t,refreshUserProfile:n}=br(),[o,l]=I.useState(!1),[u,f]=I.useState(r.name),[p,g]=I.useState(r.email),[v,b]=I.useState(r.bio||""),[_,C]=I.useState(r.avatarUrl),[T,L]=I.useState(!1),E=I.useRef(null),z=async()=>{if(t)try{await Nv(t.uid,{name:u,avatarUrl:_,bio:v}),n&&await n(),l(!1)}catch(D){console.error("Error updating profile:",D)}},V=()=>{E.current?.click()},G=async D=>{if(!D.target.files||!D.target.files[0]||!t)return;const Z=D.target.files[0];L(!0);try{const Y=await s6(Z,t.uid);C(Y),await Nv(t.uid,{avatarUrl:Y}),n&&await n()}catch(Y){console.error("Error uploading avatar:",Y)}finally{L(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-8 shadow-lg",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl overflow-hidden",children:[_?i.jsx("img",{src:_,alt:r.name,className:"w-full h-full rounded-2xl object-cover"}):i.jsx(ws,{className:"w-12 h-12 text-white"}),T&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-2xl",children:i.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),i.jsx("button",{onClick:V,disabled:T,className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-50 flex items-center justify-center rounded-2xl transition-all cursor-pointer group",children:i.jsx(M4,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),i.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:G,className:"hidden"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-lg border-4 border-white dark:border-gray-900"})]}),i.jsx("div",{className:"flex-1",children:o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Name"}),i.jsx("input",{type:"text",value:u,onChange:D=>f(D.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Email"}),i.jsx("input",{type:"email",value:p,onChange:D=>g(D.target.value),disabled:!0,className:"w-full px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 dark:text-gray-400 cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Email cannot be changed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Bio"}),i.jsx("textarea",{value:v,onChange:D=>b(D.target.value),placeholder:"Tell us about yourself...",rows:3,maxLength:200,className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[v.length,"/200 characters"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:z,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Save Changes"}),i.jsx("button",{onClick:()=>{l(!1),f(r.name),g(r.email),b(r.bio||""),C(r.avatarUrl)},className:"px-6 py-2.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white mb-2",children:r.name}),r.bio&&i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-3 italic",children:['"',r.bio,'"']}),i.jsxs("div",{className:"flex flex-col gap-2 text-gray-600 dark:text-gray-400 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ao,{className:"w-4 h-4"}),i.jsx("span",{children:r.email})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(O4,{className:"w-4 h-4"}),i.jsx("span",{children:"Member since 2024"})]})]}),i.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2",children:[i.jsx(CP,{className:"w-4 h-4"}),"Edit Profile"]})]})}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-center shadow-xl",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Total Earnings"}),i.jsxs("div",{className:"text-white text-3xl",children:["",r.totalEarnings.toFixed(2)]})]})]})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-gray-900 dark:text-white mb-6",children:["My Uploaded Notes (",r.uploadedNotes.length,")"]}),r.uploadedNotes.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.uploadedNotes.map(D=>i.jsx(yg,{note:D,onPreview:e,isPurchased:!0},D.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(ws,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Uploaded Notes"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start uploading notes to build your collection"})]})]})]})})}function a6(){const{user:r,userProfile:e}=br(),[t,n]=I.useState(""),[o,l]=I.useState(""),[u,f]=I.useState(""),[p,g]=I.useState("assignment"),[v,b]=I.useState([]),[_,C]=I.useState([]),[T,L]=I.useState(!1),[E,z]=I.useState(!1),[V,G]=I.useState(""),[D,Z]=I.useState(""),Y=async O=>{if(O.preventDefault(),!r||!e){Z("You must be logged in to upload notes");return}if(_.length===0){Z("Please upload at least one PDF file");return}if(v.length===0){Z("Please upload at least one preview image");return}Z(""),z(!0);try{const M=`note_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;G(`Uploading ${_.length} PDF file(s)...`);const B=[];for(let je=0;je<_.length;je++){G(`Uploading PDF ${je+1} of ${_.length}...`);const $e=await n6(_[je],`${M}_${je}`);B.push($e)}G("Uploading preview images...");const S=[];for(let je=0;je<v.length;je++){const $e=await r6(v[je],M,je);S.push($e)}G("Creating note..."),await QR({title:t,description:o,category:p,price:parseFloat(u),previewPages:S,thumbnailUrl:S[0]||"",pdfUrls:B,uploaderId:r.uid,uploaderName:e.name}),L(!0),G(""),setTimeout(()=>{L(!1),n(""),l(""),f(""),g("assignment"),b([]),C([])},3e3)}catch(M){console.error("Error uploading note:",M),Z("Failed to upload note. Please try again."),G("")}finally{z(!1)}},P=O=>{O.target.files&&b(Array.from(O.target.files))},j=O=>{O.target.files&&C(Array.from(O.target.files))},R=()=>(_.reduce((M,B)=>M+B.size,0)/1024/1024).toFixed(2);return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Upload Notes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share your knowledge and earn"})]})]}),T?i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-8 text-center shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(nr,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-white mb-2",children:"Notes Uploaded Successfully!"}),i.jsx("p",{className:"text-white text-opacity-90",children:"Your notes are now live and available for purchase."})]}):i.jsxs("form",{onSubmit:Y,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 space-y-6 shadow-lg",children:[D&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:D}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(cr,{className:"w-4 h-4"}),i.jsx("span",{children:"Note Title *"})]}),i.jsx("input",{type:"text",value:t,onChange:O=>n(O.target.value),placeholder:"e.g., Advanced Mathematics Assignment Solutions",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(cr,{className:"w-4 h-4"}),i.jsx("span",{children:"Description *"})]}),i.jsx("textarea",{value:o,onChange:O=>l(O.target.value),placeholder:"Describe what's included in your notes...",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(DP,{className:"w-4 h-4"}),i.jsx("span",{children:"Category *"})]}),i.jsxs("select",{value:p,onChange:O=>g(O.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"assignment",children:"Assignment"}),i.jsx("option",{value:"pyq",children:"PYQ Paper"}),i.jsx("option",{value:"lecture-notes",children:"Lecture Notes"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(lr,{className:"w-4 h-4"}),i.jsx("span",{children:"Price ( INR) *"})]}),i.jsx("input",{type:"number",value:u,onChange:O=>f(O.target.value),placeholder:"9.99",step:"0.01",min:"0",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(Zp,{className:"w-4 h-4"}),i.jsx("span",{children:"PDF Files *"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload one or more PDF files (these are the files buyers will download)"}),i.jsx("input",{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:j,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 text-gray-900 dark:text-white"}),_.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[_.length," PDF file(s) selected (",R()," MB total)"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((O,M)=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400",children:[i.jsx(Zp,{className:"w-3 h-3"}),i.jsx("span",{className:"max-w-[150px] truncate",children:O.name})]},M))})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(rP,{className:"w-4 h-4"}),i.jsx("span",{children:"Preview Images *"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload 1-3 preview images (screenshots of your notes) to show potential buyers"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 text-gray-900 dark:text-white"}),v.length>0&&i.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:[v.length," preview image(s) selected"]})]}),i.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3.5 rounded-xl hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),V||"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"w-5 h-5"}),"Upload Notes"]})})]}),i.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6",children:[i.jsx("h3",{className:"text-blue-900 dark:text-blue-200 mb-3",children:"Upload Guidelines"}),i.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-300 text-sm",children:[i.jsx("li",{children:" Ensure your notes are original or you have permission to sell them"}),i.jsx("li",{children:" You can upload multiple PDF files for a single note listing"}),i.jsx("li",{children:" Provide 1-3 preview images showing sample pages from your notes"}),i.jsx("li",{children:" Write an accurate description of what's included"}),i.jsx("li",{children:" Price your notes fairly based on content quality and length"})]})]})]})})}function o6({note:r,onClose:e}){const{user:t,userProfile:n}=br(),[o,l]=I.useState(0),[u,f]=I.useState([]),[p,g]=I.useState(!0),[v,b]=I.useState(!1),[_,C]=I.useState(!1),[T,L]=I.useState(!1),[E,z]=I.useState(5),[V,G]=I.useState(""),[D,Z]=I.useState(!1),[Y,P]=I.useState("");I.useEffect(()=>{j(),R()},[r.id,t?.uid]);async function j(){g(!0);try{const S=await r4(r.id);f(S)}catch(S){console.error("Error loading reviews:",S)}finally{g(!1)}}async function R(){if(t?.uid)try{const S=await e_(t.uid,r.id);if(b(S),S){const je=await t_(t.uid,r.id);C(je)}}catch(S){console.error("Error checking purchase status:",S)}}async function O(S){if(S.preventDefault(),!(!t?.uid||!n)){Z(!0),P("");try{await n4({noteId:r.id,userId:t.uid,userName:n.name,rating:E,comment:V}),L(!1),G(""),C(!0),await j()}catch(je){P(je.message||"Failed to submit review")}finally{Z(!1)}}}const M=()=>{o<r.previewPages.length-1&&l(o+1)},B=()=>{o>0&&l(o-1)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 lg:p-6 flex items-center justify-between z-10 rounded-t-2xl",children:[i.jsx("h2",{className:"text-gray-900 dark:text-white pr-8",children:r.title}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors flex-shrink-0",children:i.jsx(ks,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),i.jsxs("div",{className:"p-4 lg:p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-gray-900 dark:text-white mb-3",children:["Preview Pages (",r.previewPages.length," pages)"]}),i.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden",children:[i.jsx("img",{src:r.previewPages[o],alt:`Page ${o+1}`,className:"w-full h-auto"}),r.previewPages.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:i.jsx(Xp,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsx("button",{onClick:M,disabled:o===r.previewPages.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:i.jsx(Jp,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-xl text-sm backdrop-blur-sm",children:[o+1," / ",r.previewPages.length]})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"Description"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Price"}),i.jsxs("div",{className:"text-white text-xl",children:["",r.price]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Rating"}),i.jsxs("div",{className:"flex items-center gap-1 text-white",children:[i.jsx(ca,{className:"w-4 h-4 fill-current"}),i.jsx("span",{className:"text-xl",children:r.rating})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Sales"}),i.jsx("div",{className:"text-white text-xl",children:r.salesCount})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-4 rounded-xl shadow-lg",children:[i.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Category"}),i.jsx("div",{className:"text-white text-xl capitalize",children:r.category})]})]}),i.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-2xl border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ws,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Uploaded by"}),i.jsx("div",{className:"text-gray-900 dark:text-white",children:r.uploaderName})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-gray-900 dark:text-white",children:["Reviews (",u.length,")"]}),v&&!_&&!T&&i.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all",children:"Write a Review"})]}),T&&i.jsxs("form",{onSubmit:O,className:"mb-6 bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Rating"}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(S=>i.jsx("button",{type:"button",onClick:()=>z(S),className:"p-1 transition-transform hover:scale-110",children:i.jsx(ca,{className:`w-8 h-8 ${S<=E?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`})},S))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Comment"}),i.jsx("textarea",{value:V,onChange:S=>G(S.target.value),placeholder:"Share your experience with this note...",rows:3,className:"w-full px-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none",required:!0})]}),Y&&i.jsx("div",{className:"mb-4 text-red-600 dark:text-red-400 text-sm",children:Y}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:D,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all disabled:opacity-50",children:D?"Submitting...":"Submit Review"}),i.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),p?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):u.length>0?i.jsx("div",{className:"space-y-4",children:u.map(S=>i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:S.userName}),i.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(je=>i.jsx(ca,{className:`w-4 h-4 ${je<=S.rating?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`},je))})]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:S.comment}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:S.date})]},S.id))}):i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No reviews yet. Be the first to review!"})]})]})]})})}function Iv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function l6(...r){return e=>{let t=!1;const n=r.map(o=>{const l=Iv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Iv(r[o],null)}}}}var c6=Symbol.for("react.lazy"),Bd=YN[" use ".trim().toString()];function u6(r){return typeof r=="object"&&r!==null&&"then"in r}function f_(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===c6&&"_payload"in r&&u6(r._payload)}function d6(r){const e=f6(r),t=I.forwardRef((n,o)=>{let{children:l,...u}=n;f_(l)&&typeof Bd=="function"&&(l=Bd(l._payload));const f=I.Children.toArray(l),p=f.find(m6);if(p){const g=p.props.children,v=f.map(b=>b===p?I.Children.count(g)>1?I.Children.only(null):I.isValidElement(g)?g.props.children:null:b);return i.jsx(e,{...u,ref:o,children:I.isValidElement(g)?I.cloneElement(g,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var h6=d6("Slot");function f6(r){const e=I.forwardRef((t,n)=>{let{children:o,...l}=t;if(f_(o)&&typeof Bd=="function"&&(o=Bd(o._payload)),I.isValidElement(o)){const u=x6(o),f=g6(l,o.props);return o.type!==I.Fragment&&(f.ref=n?l6(n,u):u),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var p6=Symbol("radix.slottable");function m6(r){return I.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===p6}function g6(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...f)=>{const p=l(...f);return o(...f),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function x6(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function p_(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=p_(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function m_(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=p_(r))&&(n&&(n+=" "),n+=e);return n}const Sv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Cv=m_,y6=(r,e)=>t=>{var n;if(e?.variants==null)return Cv(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(g=>{const v=t?.[g],b=l?.[g];if(v===null)return null;const _=Sv(v)||Sv(b);return o[g][_]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,_]=v;return _===void 0||(g[b]=_),g},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((g,v)=>{let{class:b,className:_,...C}=v;return Object.entries(C).every(T=>{let[L,E]=T;return Array.isArray(E)?E.includes({...l,...f}[L]):{...l,...f}[L]===E})?[...g,b,_]:g},[]);return Cv(r,u,p,t?.class,t?.className)},v6=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},w6=(r,e)=>({classGroupId:r,validator:e}),g_=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),$d="-",Av=[],b6="arbitrary..",k6=r=>{const e=N6(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return _6(u);const f=u.split($d),p=f[0]===""&&f.length>1?1:0;return x_(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=n[u],g=t[u];return p?g?v6(g,p):p:g||Av}return t[u]||Av}}},x_=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const g=x_(r,e+1,l);if(g)return g}const u=t.validators;if(u===null)return;const f=e===0?r.join($d):r.slice(e).join($d),p=u.length;for(let g=0;g<p;g++){const v=u[g];if(v.validator(f))return v.classGroupId}},_6=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?b6+n:void 0})(),N6=r=>{const{theme:e,classGroups:t}=r;return j6(t,e)},j6=(r,e)=>{const t=g_();for(const n in r){const o=r[n];vg(o,t,n,e)}return t},vg=(r,e,t,n)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];E6(u,e,t,n)}},E6=(r,e,t,n)=>{if(typeof r=="string"){T6(r,e,t);return}if(typeof r=="function"){I6(r,e,t,n);return}S6(r,e,t,n)},T6=(r,e,t)=>{const n=r===""?e:y_(e,r);n.classGroupId=t},I6=(r,e,t,n)=>{if(C6(r)){vg(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(w6(t,r))},S6=(r,e,t,n)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[f,p]=o[u];vg(p,y_(e,f),t,n)}},y_=(r,e)=>{let t=r;const n=e.split($d),o=n.length;for(let l=0;l<o;l++){const u=n[l];let f=t.nextPart.get(u);f||(f=g_(),t.nextPart.set(u,f)),t=f}return t},C6=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,A6=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=n[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},sm="!",Rv=":",R6=[],Pv=(r,e,t,n,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),P6=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const l=[];let u=0,f=0,p=0,g;const v=o.length;for(let L=0;L<v;L++){const E=o[L];if(u===0&&f===0){if(E===Rv){l.push(o.slice(p,L)),p=L+1;continue}if(E==="/"){g=L;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const b=l.length===0?o:o.slice(p);let _=b,C=!1;b.endsWith(sm)?(_=b.slice(0,-1),C=!0):b.startsWith(sm)&&(_=b.slice(1),C=!0);const T=g&&g>p?g-p:void 0;return Pv(l,C,_,T)};if(e){const o=e+Rv,l=n;n=u=>u.startsWith(o)?l(u.slice(o.length)):Pv(R6,!1,u,void 0,!0)}if(t){const o=n;n=l=>t({className:l,parseClassName:o})}return n},D6=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],f=u[0]==="[",p=e.has(u);f||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},L6=r=>({cache:A6(r.cacheSize),parseClassName:P6(r),sortModifiers:D6(r),...k6(r)}),O6=/\s+/,V6=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=r.trim().split(O6);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:_,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:L}=t(v);if(b){p=v+(p.length>0?" "+p:p);continue}let E=!!L,z=n(E?T.substring(0,L):T);if(!z){if(!E){p=v+(p.length>0?" "+p:p);continue}if(z=n(T),!z){p=v+(p.length>0?" "+p:p);continue}E=!1}const V=_.length===0?"":_.length===1?_[0]:l(_).join(":"),G=C?V+sm:V,D=G+z;if(u.indexOf(D)>-1)continue;u.push(D);const Z=o(z,E);for(let Y=0;Y<Z.length;++Y){const P=Z[Y];u.push(G+P)}p=v+(p.length>0?" "+p:p)}return p},M6=(...r)=>{let e=0,t,n,o="";for(;e<r.length;)(t=r[e++])&&(n=v_(t))&&(o&&(o+=" "),o+=n);return o},v_=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=v_(r[n]))&&(t&&(t+=" "),t+=e);return t},U6=(r,...e)=>{let t,n,o,l;const u=p=>{const g=e.reduce((v,b)=>b(v),r());return t=L6(g),n=t.cache.get,o=t.cache.set,l=f,f(p)},f=p=>{const g=n(p);if(g)return g;const v=V6(p,t);return o(p,v),v};return l=u,(...p)=>l(M6(...p))},F6=[],Lt=r=>{const e=t=>t[r]||F6;return e.isThemeGetter=!0,e},w_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,z6=/^\d+\/\d+$/,B6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,H6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=r=>z6.test(r),Ve=r=>!!r&&!Number.isNaN(Number(r)),ei=r=>!!r&&Number.isInteger(Number(r)),yp=r=>r.endsWith("%")&&Ve(r.slice(0,-1)),os=r=>B6.test(r),G6=()=>!0,K6=r=>$6.test(r)&&!q6.test(r),k_=()=>!1,Q6=r=>H6.test(r),Y6=r=>W6.test(r),X6=r=>!pe(r)&&!me(r),J6=r=>Bo(r,j_,k_),pe=r=>w_.test(r),ra=r=>Bo(r,E_,K6),vp=r=>Bo(r,n5,Ve),Dv=r=>Bo(r,__,k_),Z6=r=>Bo(r,N_,Y6),ad=r=>Bo(r,T_,Q6),me=r=>b_.test(r),Fl=r=>$o(r,E_),e5=r=>$o(r,s5),Lv=r=>$o(r,__),t5=r=>$o(r,j_),r5=r=>$o(r,N_),od=r=>$o(r,T_,!0),Bo=(r,e,t)=>{const n=w_.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},$o=(r,e,t=!1)=>{const n=b_.exec(r);return n?n[1]?e(n[1]):t:!1},__=r=>r==="position"||r==="percentage",N_=r=>r==="image"||r==="url",j_=r=>r==="length"||r==="size"||r==="bg-size",E_=r=>r==="length",n5=r=>r==="number",s5=r=>r==="family-name",T_=r=>r==="shadow",i5=()=>{const r=Lt("color"),e=Lt("font"),t=Lt("text"),n=Lt("font-weight"),o=Lt("tracking"),l=Lt("leading"),u=Lt("breakpoint"),f=Lt("container"),p=Lt("spacing"),g=Lt("radius"),v=Lt("shadow"),b=Lt("inset-shadow"),_=Lt("text-shadow"),C=Lt("drop-shadow"),T=Lt("blur"),L=Lt("perspective"),E=Lt("aspect"),z=Lt("ease"),V=Lt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...D(),me,pe],Y=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],j=()=>[me,pe,p],R=()=>[uo,"full","auto",...j()],O=()=>[ei,"none","subgrid",me,pe],M=()=>["auto",{span:["full",ei,me,pe]},ei,me,pe],B=()=>[ei,"auto",me,pe],S=()=>["auto","min","max","fr",me,pe],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$e=()=>["start","end","center","stretch","center-safe","end-safe"],Qe=()=>["auto",...j()],He=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],X=()=>[r,me,pe],xe=()=>[...D(),Lv,Dv,{position:[me,pe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",t5,J6,{size:[me,pe]}],ee=()=>[yp,Fl,ra],ye=()=>["","none","full",g,me,pe],ve=()=>["",Ve,Fl,ra],Re=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ve,yp,Lv,Dv],ke=()=>["","none",T,me,pe],Ie=()=>["none",Ve,me,pe],Je=()=>["none",Ve,me,pe],Dr=()=>[Ve,me,pe],pn=()=>[uo,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[os],breakpoint:[os],color:[G6],container:[os],"drop-shadow":[os],ease:["in","out","in-out"],font:[X6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[os],shadow:[os],spacing:["px",Ve],text:[os],"text-shadow":[os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,pe,me,E]}],container:["container"],columns:[{columns:[Ve,pe,me,f]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ei,"auto",me,pe]}],basis:[{basis:[uo,"full","auto",f,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,uo,"auto","initial","none",pe]}],grow:[{grow:["",Ve,me,pe]}],shrink:[{shrink:["",Ve,me,pe]}],order:[{order:[ei,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...$e(),"normal"]}],"justify-self":[{"justify-self":["auto",...$e()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...$e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$e(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...$e(),"baseline"]}],"place-self":[{"place-self":["auto",...$e()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:Qe()}],mx:[{mx:Qe()}],my:[{my:Qe()}],ms:[{ms:Qe()}],me:[{me:Qe()}],mt:[{mt:Qe()}],mr:[{mr:Qe()}],mb:[{mb:Qe()}],ml:[{ml:Qe()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:He()}],w:[{w:[f,"screen",...He()]}],"min-w":[{"min-w":[f,"screen","none",...He()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...He()]}],h:[{h:["screen","lh",...He()]}],"min-h":[{"min-h":["screen","lh","none",...He()]}],"max-h":[{"max-h":["screen","lh",...He()]}],"font-size":[{text:["base",t,Fl,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,me,vp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yp,pe]}],"font-family":[{font:[e5,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,pe]}],"line-clamp":[{"line-clamp":[Ve,"none",me,vp]}],leading:[{leading:[l,...j()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",me,ra]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Ve,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xe()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ei,me,pe],radial:["",me,pe],conic:[ei,me,pe]},r5,Z6]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,me,pe]}],"outline-w":[{outline:["",Ve,Fl,ra]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",v,od,ad]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",b,od,ad]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Ve,ra]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",_,od,ad]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Ve,me,pe]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xe()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:ke()}],brightness:[{brightness:[Ve,me,pe]}],contrast:[{contrast:[Ve,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",C,od,ad]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Ve,me,pe]}],"hue-rotate":[{"hue-rotate":[Ve,me,pe]}],invert:[{invert:["",Ve,me,pe]}],saturate:[{saturate:[Ve,me,pe]}],sepia:[{sepia:["",Ve,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",Ve,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",me,pe]}],ease:[{ease:["linear","initial",z,me,pe]}],delay:[{delay:[Ve,me,pe]}],animate:[{animate:["none",V,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[L,me,pe]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Je()}],"scale-x":[{"scale-x":Je()}],"scale-y":[{"scale-y":Je()}],"scale-z":[{"scale-z":Je()}],"scale-3d":["scale-3d"],skew:[{skew:Dr()}],"skew-x":[{"skew-x":Dr()}],"skew-y":[{"skew-y":Dr()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pn()}],"translate-x":[{"translate-x":pn()}],"translate-y":[{"translate-y":pn()}],"translate-z":[{"translate-z":pn()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Ve,Fl,ra,vp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},a5=U6(i5);function I_(...r){return a5(m_(r))}const o5=y6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function et({className:r,variant:e,size:t,asChild:n=!1,...o}){const l=n?h6:"button";return i.jsx(l,{"data-slot":"button",className:I_(o5({variant:e,size:t,className:r})),...o})}function l5({onNavigateToLogin:r,onNavigateToSignup:e}){const[t,n]=I.useState(!1),[o,l]=I.useState(""),{isDark:u,toggleTheme:f}=xc(),p=v=>{const b=document.getElementById(v);b&&(b.scrollIntoView({behavior:"smooth"}),n(!1))},g=[{icon:cr,title:"Assignments",description:"Access high-quality assignment solutions from top students across various subjects and courses."},{icon:a_,title:"PYQ Papers",description:"Download previous year question papers with detailed solutions to ace your exams."},{icon:em,title:"Lecture Notes",description:"Comprehensive lecture notes prepared by experienced students and educators."},{icon:lr,title:"Earn Money",description:"Upload your notes and earn from every download. Turn your knowledge into income."}];return i.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[i.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{onClick:()=>p("about"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"}),i.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors",children:u?i.jsx(ki,{className:"w-5 h-5"}):i.jsx(wi,{className:"w-5 h-5"})}),i.jsx(et,{onClick:r,variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),i.jsx(et,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg",children:"Sign Up"})]}),i.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[i.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:u?i.jsx(ki,{className:"w-5 h-5"}):i.jsx(wi,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:t?i.jsx(ks,{className:"w-6 h-6"}):i.jsx(h_,{className:"w-6 h-6"})})]})]}),t&&i.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-slate-800",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{onClick:()=>p("about"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Contact"}),i.jsxs("div",{className:"flex gap-2 px-4 pt-2",children:[i.jsx(et,{onClick:r,variant:"outline",className:"flex-1 border-gray-300 dark:border-slate-700 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),i.jsx(et,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Sign Up"})]})]})})]})}),i.jsxs("section",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 via-purple-100/50 to-pink-100/50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:i.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-slate-800/50 border border-green-200 dark:border-slate-700 rounded-full mb-8",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-green-700 dark:text-slate-300",children:"New Platform  Just Launched"})]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl text-gray-900 dark:text-white mb-6",children:["Your Academic Success",i.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Starts Here"})]}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Access quality assignments, PYQs, and lecture notes. Share your knowledge and earn from your notes."}),i.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:i.jsxs("div",{className:"relative",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQ papers...",value:o,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800/50 border border-gray-300 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(et,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-xl text-lg px-8 py-6",children:"Get Started Free"}),i.jsx(et,{onClick:()=>p("features"),variant:"outline",className:"border-gray-300 dark:border-slate-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-800 text-lg px-8 py-6",children:"Learn More"})]})]})})]}),i.jsx("section",{id:"features",className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 dark:text-white mb-4",children:"What We Offer"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Everything you need to excel in your studies and earn from your knowledge"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((v,b)=>{const _=v.icon;return i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all group hover:shadow-lg",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:i.jsx(_,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:v.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:v.description})]},b)})})]})}),i.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-950",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(em,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white",children:"About Us"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[i.jsxs("p",{children:["Welcome to ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),i.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),i.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),i.jsx("div",{className:"pt-4",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[i.jsx(lr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})})]})]})})}),i.jsx("section",{className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(on,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Privacy Policy"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"All user data is encrypted and stored securely"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"We never share your personal information with third parties"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment information is processed through secure gateways"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"You have full control over your data and can request deletion anytime"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(u_,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"By using Notezy, you agree to our terms of service designed to ensure a fair and transparent marketplace."}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"All uploaded content must be original or properly authorized"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:i.jsx("span",{className:"text-amber-600 dark:text-yellow-400",children:"Notes once purchased cannot be returned or refunded"})})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Sellers are responsible for the accuracy of their content"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Platform fees apply to all transactions"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(cr,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg",children:i.jsx("p",{className:"text-red-700 dark:text-red-400",children:i.jsx("span",{children:"No Refunds  No Cancellations"})})}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"Due to the digital nature of our products, all sales are final. Once you purchase and download notes, they cannot be returned or refunded."}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We encourage users to carefully review note previews, ratings, and reviews before making a purchase. If you encounter any issues with downloaded content, please contact our support team."})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(_h,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Shipping & Delivery"})]}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"All notes are delivered digitally - no physical shipping required!"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"Instant access after payment confirmation"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:'Download your purchased notes from the "Downloads" section'})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"Access your notes anytime, anywhere"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"No delivery charges or waiting time"})]})]})]})]})})}),i.jsx("section",{id:"contact",className:"py-20 bg-white dark:bg-slate-950",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/50 dark:to-slate-800/30 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 text-center shadow-lg",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6",children:i.jsx(Ao,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white mb-4",children:"Get in Touch"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-6 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."}),i.jsxs("a",{href:"mailto:notzy2026@gmail.com",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700/50 dark:hover:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white transition-colors",children:[i.jsx(Ao,{className:"w-5 h-5"}),i.jsx("span",{children:"notzy2026@gmail.com"})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-700",children:i.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})})}),i.jsx("footer",{className:"bg-gray-100 dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800 py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Knowledge Marketplace"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("button",{onClick:()=>p("about"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),i.jsx("button",{onClick:()=>p("features"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>p("contact"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"})]})]}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-800",children:[i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 text-sm text-gray-600 dark:text-slate-400 mb-6",children:[i.jsx(rr,{to:"/terms",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms & Conditions"}),i.jsx(rr,{to:"/privacy",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),i.jsx(rr,{to:"/refund",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Refund & Cancellation"}),i.jsx(rr,{to:"/shipping",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Shipping & Delivery"}),i.jsx(rr,{to:"/contact",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact Us"})]}),i.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-slate-500",children:" 2025 Notezy. All rights reserved. Built for students, by students."})]})]})})]})}function xo({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:I_("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function c5({onNavigateToSignup:r,onNavigateToLanding:e}){const[t,n]=I.useState(""),[o,l]=I.useState(""),[u,f]=I.useState(!1),[p,g]=I.useState(""),[v,b]=I.useState(!1),{login:_,enterGuestMode:C}=br(),{isDark:T,toggleTheme:L}=xc(),E=async z=>{if(z.preventDefault(),g(""),b(!0),!t||!o){g("Please fill in all fields"),b(!1);return}const V=await _(t,o);V.success||g(V.error||"Invalid email or password"),b(!1)};return i.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 ${T?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-gray-100 via-white to-gray-100"}`,children:[i.jsx("button",{onClick:L,className:`fixed top-4 right-4 p-3 rounded-xl transition-colors z-50 ${T?"bg-slate-800/50 hover:bg-slate-800 text-slate-300":"bg-white/80 hover:bg-white text-gray-700 shadow-lg"}`,children:T?i.jsx(ki,{className:"w-5 h-5"}):i.jsx(wi,{className:"w-5 h-5"})}),e&&i.jsxs("button",{onClick:e,className:`fixed top-4 left-4 flex items-center gap-2 px-4 py-2 rounded-lg transition-colors z-50 ${T?"bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-slate-300 hover:text-white":"bg-white/80 hover:bg-white shadow-lg text-gray-700 hover:text-gray-900"}`,children:[i.jsx(Ct,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:i.jsx(nr,{className:"w-8 h-8 text-white"})})}),i.jsx("h1",{className:`text-3xl mb-2 ${T?"text-white":"text-gray-900"}`,children:"Welcome Back"}),i.jsx("p",{className:T?"text-slate-400":"text-gray-600",children:"Sign in to access your notes marketplace"})]}),i.jsxs("div",{className:`backdrop-blur-xl rounded-2xl p-8 shadow-2xl ${T?"bg-slate-800/50 border border-slate-700/50":"bg-white/80 border border-gray-200"}`,children:[i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:p}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:`block text-sm ${T?"text-slate-300":"text-gray-700"}`,children:"Email Address"}),i.jsx(xo,{id:"email",type:"email",value:t,onChange:z=>n(z.target.value),placeholder:"Enter your email",className:T?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:`block text-sm ${T?"text-slate-300":"text-gray-700"}`,children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(xo,{id:"password",type:u?"text":"password",value:o,onChange:z=>l(z.target.value),placeholder:"Enter your password",className:`pr-10 ${T?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"}`}),i.jsx("button",{type:"button",onClick:()=>f(!u),className:`absolute right-3 top-1/2 -translate-y-1/2 ${T?"text-slate-400 hover:text-slate-300":"text-gray-400 hover:text-gray-600"}`,children:u?i.jsx(c_,{className:"w-5 h-5"}):i.jsx(kh,{className:"w-5 h-5"})})]})]}),i.jsx(et,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:v?"Signing in...":"Sign In"}),i.jsxs("div",{className:"relative my-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:`w-full border-t ${T?"border-slate-700":"border-gray-300"}`})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:`px-2 ${T?"bg-slate-800/50 text-slate-400":"bg-white/80 text-gray-500"}`,children:"or"})})]}),i.jsxs("button",{type:"button",onClick:C,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${T?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[i.jsx(ws,{className:"w-5 h-5"}),"Continue as Guest"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:T?"text-slate-400":"text-gray-600",children:["Don't have an account?"," ",i.jsx("button",{onClick:r,className:"text-purple-500 hover:text-purple-400 transition-colors font-medium",children:"Sign Up"})]})})]}),i.jsx("p",{className:`text-center text-xs mt-6 ${T?"text-slate-500":"text-gray-500"}`,children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}function u5({onNavigateToLogin:r,onNavigateToLanding:e}){const[t,n]=I.useState(""),[o,l]=I.useState(""),[u,f]=I.useState(""),[p,g]=I.useState(""),[v,b]=I.useState(!1),[_,C]=I.useState(""),[T,L]=I.useState(!1),{signup:E,enterGuestMode:z}=br(),{isDark:V,toggleTheme:G}=xc(),D=async Z=>{if(Z.preventDefault(),C(""),L(!0),!t||!o||!u||!p){C("Please fill in all fields"),L(!1);return}if(u!==p){C("Passwords do not match"),L(!1);return}if(u.length<6){C("Password must be at least 6 characters"),L(!1);return}const Y=await E(t,o,u);Y.success||C(Y.error||"Failed to create account"),L(!1)};return i.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 ${V?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-gray-100 via-white to-gray-100"}`,children:[i.jsx("button",{onClick:G,className:`fixed top-4 right-4 p-3 rounded-xl transition-colors z-50 ${V?"bg-slate-800/50 hover:bg-slate-800 text-slate-300":"bg-white/80 hover:bg-white text-gray-700 shadow-lg"}`,children:V?i.jsx(ki,{className:"w-5 h-5"}):i.jsx(wi,{className:"w-5 h-5"})}),e&&i.jsxs("button",{onClick:e,className:`fixed top-4 left-4 flex items-center gap-2 px-4 py-2 rounded-lg transition-colors z-50 ${V?"bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-slate-300 hover:text-white":"bg-white/80 hover:bg-white shadow-lg text-gray-700 hover:text-gray-900"}`,children:[i.jsx(Ct,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:i.jsx(nr,{className:"w-8 h-8 text-white"})})}),i.jsx("h1",{className:`text-3xl mb-2 ${V?"text-white":"text-gray-900"}`,children:"Create Account"}),i.jsx("p",{className:V?"text-slate-400":"text-gray-600",children:"Join the knowledge marketplace"})]}),i.jsxs("div",{className:`backdrop-blur-xl rounded-2xl p-8 shadow-2xl ${V?"bg-slate-800/50 border border-slate-700/50":"bg-white/80 border border-gray-200"}`,children:[i.jsxs("form",{onSubmit:D,className:"space-y-5",children:[_&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:_}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"name",className:`block text-sm ${V?"text-slate-300":"text-gray-700"}`,children:"Full Name"}),i.jsx(xo,{id:"name",type:"text",value:t,onChange:Z=>n(Z.target.value),placeholder:"Enter your full name",className:V?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:`block text-sm ${V?"text-slate-300":"text-gray-700"}`,children:"Email Address"}),i.jsx(xo,{id:"email",type:"email",value:o,onChange:Z=>l(Z.target.value),placeholder:"Enter your email",className:V?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:`block text-sm ${V?"text-slate-300":"text-gray-700"}`,children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(xo,{id:"password",type:v?"text":"password",value:u,onChange:Z=>f(Z.target.value),placeholder:"Create a password",className:`pr-10 ${V?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"}`}),i.jsx("button",{type:"button",onClick:()=>b(!v),className:`absolute right-3 top-1/2 -translate-y-1/2 ${V?"text-slate-400 hover:text-slate-300":"text-gray-400 hover:text-gray-600"}`,children:v?i.jsx(c_,{className:"w-5 h-5"}):i.jsx(kh,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm ${V?"text-slate-300":"text-gray-700"}`,children:"Confirm Password"}),i.jsx(xo,{id:"confirmPassword",type:v?"text":"password",value:p,onChange:Z=>g(Z.target.value),placeholder:"Confirm your password",className:V?"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20":"bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500/20"})]}),i.jsx(et,{type:"submit",disabled:T,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:T?"Creating Account...":"Create Account"}),i.jsxs("div",{className:"relative my-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:`w-full border-t ${V?"border-slate-700":"border-gray-300"}`})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:`px-2 ${V?"bg-slate-800/50 text-slate-400":"bg-white/80 text-gray-500"}`,children:"or"})})]}),i.jsxs("button",{type:"button",onClick:z,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${V?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[i.jsx(ws,{className:"w-5 h-5"}),"Continue as Guest"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:V?"text-slate-400":"text-gray-600",children:["Already have an account?"," ",i.jsx("button",{onClick:r,className:"text-purple-500 hover:text-purple-400 transition-colors font-medium",children:"Sign In"})]})})]}),i.jsx("p",{className:`text-center text-xs mt-6 ${V?"text-slate-500":"text-gray-500"}`,children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})}function d5({onNavigateToTerms:r,onNavigateToAbout:e,onNavigateToPrivacy:t,onNavigateToRefund:n,onNavigateToShipping:o}){const{userProfile:l,logout:u}=br(),{isDark:f,toggleTheme:p}=xc(),g=()=>{u()};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-24 lg:pb-8 mobile-page-content",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Settings"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and security"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:i.jsx(ws,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Account"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900 dark:text-white",children:l?.name||"User"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:l?.email})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:f?i.jsx(wi,{className:"w-5 h-5 text-white"}):i.jsx(ki,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Appearance"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900 dark:text-white",children:"Theme"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Current: ",f?"Dark Mode":"Light Mode"]})]}),i.jsx("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:f?i.jsxs(i.Fragment,{children:[i.jsx(ki,{className:"w-4 h-4"}),"Switch to Light"]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"w-4 h-4"}),"Switch to Dark"]})})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:i.jsx(on,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Legal"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:t,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(on,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Privacy Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u_,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Refund Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_h,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Shipping Policy"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),i.jsxs("button",{onClick:e,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(iP,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"About Us"})]}),i.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-red-200 dark:border-red-900/30 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-500 rounded-lg flex items-center justify-center",children:i.jsx(Fd,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Danger Zone"})]}),i.jsxs(et,{onClick:g,className:"w-full bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white",children:[i.jsx(Fd,{className:"w-5 h-5 mr-2"}),"Log Out"]})]})]})})}function h5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs(et,{onClick:r,variant:"ghost",className:"mb-6 text-slate-400 hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h1",{className:"text-3xl text-white mb-6",children:"Terms & Conditions"}),i.jsxs("div",{className:"space-y-6 text-slate-300",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"2. User Accounts"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Provide accurate and complete information"}),i.jsx("li",{children:"Maintain the security of your password"}),i.jsx("li",{children:"Accept responsibility for all activities under your account"}),i.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"3. Content Guidelines"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"You own the copyright or have permission to share the content"}),i.jsx("li",{children:"The content does not violate any intellectual property rights"}),i.jsx("li",{children:"The material is accurate and not misleading"}),i.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"4. Purchases and Payments"}),i.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"5. Intellectual Property"}),i.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"6. Prohibited Activities"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Uploading copyrighted material without permission"}),i.jsx("li",{children:"Engaging in fraudulent activities"}),i.jsx("li",{children:"Harassing or threatening other users"}),i.jsx("li",{children:"Attempting to compromise platform security"}),i.jsx("li",{children:"Using automated tools to scrape content"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"7. Termination"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"8. Limitation of Liability"}),i.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"9. Changes to Terms"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-white mb-3",children:"10. Contact Information"}),i.jsx("p",{className:"leading-relaxed",children:"For questions about these terms, please contact us at legal@noteshub.com"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:i.jsx("p",{className:"text-sm text-slate-400",children:"Last updated: December 16, 2024"})})]})]})]})})}function f5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(et,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"About Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Learn more about Notezy"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(em,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Welcome to Notezy"})]}),i.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[i.jsxs("p",{children:["Welcome to ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),i.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),i.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"What We Provide"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Assignments:"})," High-quality assignment solutions from top students across various subjects and courses"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"PYQ Papers:"})," Previous year question papers with detailed solutions to help you ace your exams"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Lecture Notes:"})," Comprehensive lecture notes prepared by experienced students and educators"]})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[i.jsx(lr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Contact Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-2",children:"Have questions or feedback? We'd love to hear from you!"}),i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]})]})]})})}function p5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(et,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:i.jsx(on,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Your Privacy Matters"})]}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Account information (name, email address)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Transaction history and purchase records"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Uploaded content and notes"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To provide and improve our services"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To process transactions and payments"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To send important account updates (with your permission)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),i.jsx("p",{className:"mb-3",children:"You have the right to:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Access your personal data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request correction of inaccurate data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request deletion of your account and data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})]})})}function m5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(et,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Refund & Cancellation Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:i.jsx(cr,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),i.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(o_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),i.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),i.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),i.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),i.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Download problems or corrupted files"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment processed but content not accessible"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Missing pages or incomplete content"})]})]}),i.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),i.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Significantly different from the description"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Plagiarized or violate copyright"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Completely unreadable or unusable"})]})]}),i.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})]})})}function g5({onBack:r}){return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(et,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),i.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Shipping & Delivery Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(_h,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Digital Delivery"})]}),i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(an,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"1"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Purchase Notes"}),i.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"2"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Instant Access"}),i.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"3"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:'Download from "Downloads" Section'}),i.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(vi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Processing Time"})]}),i.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(an,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Download Speed"})]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Accessing Your Notes"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 rounded-lg p-4 space-y-3",children:[i.jsx("p",{className:"text-sm",children:"To access your purchased notes:"}),i.jsxs("ol",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"1."}),i.jsxs("span",{children:["Navigate to the ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:'"Downloads"'})," section from the main menu"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"2."}),i.jsx("span",{children:"Find the notes you want to view"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"3."}),i.jsxs("span",{children:["Click ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:'"View Notes"'})," to open them in our built-in PDF viewer"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"4."}),i.jsx("span",{children:"You can view, zoom, and navigate through the notes at your convenience"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Internet connection for downloading"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),i.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Check your internet connection"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Ensure your payment was successfully processed"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Try refreshing the Downloads page"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),i.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),i.jsx("div",{className:"pt-4",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})]})})}function x5({note:r,onClose:e}){const[t,n]=I.useState(1),[o,l]=I.useState(100),u=r.previewPages.length,f=()=>{n(_=>Math.max(1,_-1))},p=()=>{n(_=>Math.min(u,_+1))},g=()=>{l(_=>Math.min(200,_+25))},v=()=>{l(_=>Math.max(50,_-25))},b=()=>{alert(`Downloading ${r.title}...`)};return i.jsxs("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-sm z-50 flex flex-col",children:[i.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(et,{onClick:e,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:i.jsx(ks,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white",children:r.title}),i.jsxs("p",{className:"text-sm text-slate-400",children:["by ",r.uploaderName]})]})]}),i.jsxs(et,{onClick:b,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:[i.jsx(an,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),i.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{onClick:f,disabled:t===1,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(Xp,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-lg",children:[i.jsx("span",{className:"text-white",children:t}),i.jsx("span",{className:"text-slate-500",children:"/"}),i.jsx("span",{className:"text-slate-400",children:u})]}),i.jsx(et,{onClick:p,disabled:t===u,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(Jp,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{onClick:v,disabled:o===50,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(QP,{className:"w-5 h-5"})}),i.jsx("div",{className:"px-4 py-2 bg-slate-800/50 rounded-lg",children:i.jsxs("span",{className:"text-white",children:[o,"%"]})}),i.jsx(et,{onClick:g,disabled:o===200,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:i.jsx(GP,{className:"w-5 h-5"})})]})]})}),i.jsx("div",{className:"flex-1 overflow-auto bg-slate-900 p-4 lg:p-8",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden transition-transform",style:{transform:`scale(${o/100})`,transformOrigin:"top center"},children:i.jsxs("div",{className:"aspect-[8.5/11] relative",children:[i.jsx("img",{src:r.previewPages[t-1],alt:`Page ${t}`,className:"w-full h-full object-contain"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"transform -rotate-45 text-6xl font-bold text-black/5 select-none",children:"PREVIEW"})})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-slate-400",children:["Page ",t," of ",u]})})]})}),i.jsx("div",{className:"lg:hidden bg-slate-900/80 backdrop-blur-xl border-t border-slate-800 px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(et,{onClick:f,disabled:t===1,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:[i.jsx(Xp,{className:"w-5 h-5 mr-1"}),"Previous"]}),i.jsxs("span",{className:"text-white",children:[t," / ",u]}),i.jsxs(et,{onClick:p,disabled:t===u,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:["Next",i.jsx(Jp,{className:"w-5 h-5 ml-1"})]})]})})]})}function Ov({onBack:r}){const{user:e,userProfile:t}=br(),[n,o]=I.useState(null),[l,u]=I.useState([]),[f,p]=I.useState(""),[g,v]=I.useState(!0),[b,_]=I.useState(!1),C=I.useRef(null);I.useEffect(()=>{e&&T()},[e]),I.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[l]),I.useEffect(()=>{if(!n)return;const z=setInterval(()=>{L(n)},3e3);return()=>clearInterval(z)},[n]);async function T(){if(e)try{const z=await d4(e.uid);z.length>0&&(o(z[0].id),await L(z[0].id))}catch(z){console.error("Error initializing chat:",z)}finally{v(!1)}}async function L(z){try{const V=await n_(z);u(V)}catch(V){console.error("Error loading messages:",V)}}async function E(z){if(z.preventDefault(),!(!f.trim()||!e||!t)){_(!0);try{if(n)await r_(n,e.uid,t.name,!1,f),p(""),await L(n);else{const V=await u4(e.uid,t.name,t.email,f);o(V),p(""),await L(V)}}catch(V){console.error("Error sending message:",V)}finally{_(!1)}}}return g?i.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex items-center justify-center z-50",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex flex-col z-50",children:[i.jsxs("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 flex items-center gap-4",children:[i.jsx("button",{onClick:r,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(Ct,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx(Pr,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customer Support"}),i.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"We typically reply within minutes"]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:l.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(Pr,{className:"w-10 h-10 text-white"})}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-2",children:"Welcome to Notezy Support!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Have a question or need help? Send us a message and our team will get back to you as soon as possible."})]}):i.jsxs(i.Fragment,{children:[l.map(z=>{const V=z.isAdmin===!1;return i.jsx("div",{style:{display:"flex",justifyContent:V?"flex-end":"flex-start"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",maxWidth:"75%",flexDirection:V?"row-reverse":"row"},children:[!V&&i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(Pr,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{style:{borderRadius:"16px",borderBottomRightRadius:V?"4px":"16px",borderBottomLeftRadius:V?"16px":"4px",padding:"12px 16px",background:V?"linear-gradient(to right, #2563eb, #9333ea)":void 0,backgroundColor:V?void 0:"white",color:V?"white":"#111827",border:V?"none":"1px solid #e5e7eb"},className:V?"":"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[!V&&i.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium block mb-1",children:"Support Team"}),i.jsx("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:z.text}),i.jsx("span",{style:{fontSize:"11px",marginTop:"4px",display:"block",opacity:V?.7:.5,textAlign:V?"right":"left"},children:new Date(z.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},z.id)}),i.jsx("div",{ref:C})]})}),i.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 p-4 safe-area-inset-bottom",children:i.jsx("form",{onSubmit:E,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"text",value:f,onChange:z=>p(z.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500"}),i.jsx("button",{type:"submit",disabled:b||!f.trim(),className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:b?i.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(hc,{className:"w-6 h-6"})})]})})})]})}function y5({onNavigate:r}){const[e,t]=I.useState([]),[n,o]=I.useState([]),[l,u]=I.useState(!0);I.useEffect(()=>{async function g(){try{const[v,b]=await Promise.all([gg(),mg()]);t(v),o(b)}catch(v){console.error("Error loading admin data:",v)}finally{u(!1)}}g()},[]);const f=e.reduce((g,v)=>g+v.totalEarnings,0),p=n.reduce((g,v)=>g+v.salesCount,0);return l?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx(zd,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Admin Dashboard"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your platform"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(fc,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Users"})]}),i.jsx("div",{className:"text-3xl font-bold",children:e.length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(cr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Notes"})]}),i.jsx("div",{className:"text-3xl font-bold",children:n.length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(lr,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Revenue"})]}),i.jsxs("div",{className:"text-3xl font-bold",children:["",f.toFixed(2)]})]}),i.jsxs("div",{className:"text-white p-6 rounded-2xl shadow-xl",style:{backgroundColor:"#f97316"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ca,{className:"w-8 h-8"}),i.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),i.jsx("div",{className:"text-3xl font-bold",children:p})]})]}),i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Admin Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("button",{onClick:()=>r("admin-earnings"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(lr,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"User Earnings"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View earnings for all users"})]}),i.jsxs("button",{onClick:()=>r("admin-notes"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(ca,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Manage Notes"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mark notes as top selling"})]}),i.jsxs("button",{onClick:()=>r("admin-chats"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4",children:i.jsx(Pr,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Support Chats"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respond to customer queries"})]})]})]})})}function v5({onBack:r}){const[e,t]=I.useState([]),[n,o]=I.useState(!0),[l,u]=I.useState("");I.useEffect(()=>{async function g(){try{const v=await gg();t(v.sort((b,_)=>_.totalEarnings-b.totalEarnings))}catch(v){console.error("Error loading users:",v)}finally{o(!1)}}g()},[]);const f=e.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())||g.email.toLowerCase().includes(l.toLowerCase())),p=e.reduce((g,v)=>g+v.totalEarnings,0);return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(Ct,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(lr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"User Earnings"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Platform Revenue: ",p.toFixed(2)]})]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:g=>u(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Notes Uploaded"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Total Earnings"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:f.map(g=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-medium",children:g.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:g.name}),g.isAdmin&&i.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-xs rounded-full",children:"Admin"})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:g.email}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:g.uploadedNotes.length}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["",g.totalEarnings.toFixed(2)]})})]},g.id))})]})}),f.length===0&&i.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})]})]})})}function w5({onBack:r}){const[e,t]=I.useState([]),[n,o]=I.useState(!0),[l,u]=I.useState(""),[f,p]=I.useState(null),[g,v]=I.useState(null);I.useEffect(()=>{b()},[]);async function b(){try{const E=await mg();t(E)}catch(E){console.error("Error loading notes:",E)}finally{o(!1)}}async function _(E,z){p(E);try{await o4(E,!z),t(e.map(V=>V.id===E?{...V,isTopSelling:!z}:V))}catch(V){console.error("Error updating note:",V)}finally{p(null)}}async function C(E,z){p(E);try{await l4(E,!z),t(e.map(V=>V.id===E?{...V,isVerified:!z}:V))}catch(V){console.error("Error updating note:",V)}finally{p(null)}}async function T(E,z){if(confirm(`Are you sure you want to delete "${z}"? This action cannot be undone.`)){v(E);try{await c4(E),t(e.filter(V=>V.id!==E))}catch(V){console.error("Error deleting note:",V),alert("Failed to delete note")}finally{v(null)}}}const L=e.filter(E=>E.title.toLowerCase().includes(l.toLowerCase())||E.uploaderName.toLowerCase().includes(l.toLowerCase()));return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(Ct,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(ca,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Notes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verify, feature, or delete notes"})]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search notes...",value:l,onChange:E=>u(E.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Uploader"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:L.map(E=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[E.thumbnailUrl?i.jsx("img",{src:E.thumbnailUrl,alt:E.title,className:"w-12 h-12 rounded-lg object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:E.title}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:E.category})]})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:E.uploaderName}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",E.price]}),i.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:E.salesCount}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[i.jsx(rm,{className:"w-3 h-3"}),"Verified"]}),E.isTopSelling&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 text-xs rounded-full",children:[i.jsx(zd,{className:"w-3 h-3"}),"Top"]}),!E.isVerified&&!E.isTopSelling&&i.jsx("span",{className:"text-gray-400 text-xs",children:"None"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>C(E.id,E.isVerified||!1),disabled:f===E.id,className:`p-2 rounded-lg transition-all ${E.isVerified?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-green-100 dark:hover:bg-green-900/30 hover:text-green-700 dark:hover:text-green-400"} ${f===E.id?"opacity-50":""}`,title:E.isVerified?"Remove verification":"Verify note",children:i.jsx(bt,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>_(E.id,E.isTopSelling||!1),disabled:f===E.id,className:`p-2 rounded-lg transition-all ${E.isTopSelling?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 hover:text-yellow-700 dark:hover:text-yellow-400"} ${f===E.id?"opacity-50":""}`,title:E.isTopSelling?"Remove from top selling":"Mark as top selling",children:i.jsx(zd,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>T(E.id,E.title),disabled:g===E.id,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-700 dark:hover:text-red-400 transition-all",title:"Delete note",children:g===E.id?i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.jsx(OP,{className:"w-5 h-5"})})]})})]},E.id))})]})}),L.length===0&&i.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:l?"No notes found matching your search":"No notes found"})]})]})})}function b5({onBack:r}){const{userProfile:e}=br(),[t,n]=I.useState([]),[o,l]=I.useState(null),[u,f]=I.useState([]),[p,g]=I.useState(""),[v,b]=I.useState(!0),[_,C]=I.useState(!1),T=I.useRef(null);I.useEffect(()=>{L()},[]),I.useEffect(()=>{o&&E(o.id)},[o]),I.useEffect(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[u]);async function L(){try{const D=await h4();n(D)}catch(D){console.error("Error loading chats:",D)}finally{b(!1)}}async function E(D){try{const Z=await n_(D);f(Z)}catch(Z){console.error("Error loading messages:",Z)}}async function z(D){if(D.preventDefault(),!(!p.trim()||!o||!e)){C(!0);try{await r_(o.id,e.id,e.name,!0,p),g(""),await E(o.id),await L()}catch(Z){console.error("Error sending message:",Z)}finally{C(!1)}}}async function V(D,Z){try{await f4(D,Z),await L(),o?.id===D&&l({...o,status:Z})}catch(Y){console.error("Error updating status:",Y)}}function G(){l(null)}return v?i.jsx("div",{style:{minHeight:"100vh",marginLeft:"256px",display:"flex",alignItems:"center",justifyContent:"center"},className:"bg-gray-50 dark:bg-gray-950 lg:ml-64 ml-0",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-white dark:bg-gray-950 flex flex-col",children:[i.jsxs("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("button",{onClick:G,style:{padding:"8px",marginLeft:"-4px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(Ct,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsx("div",{style:{width:"36px",height:"36px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px"},children:o.userName.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:o.userName}),i.jsx("div",{style:{fontSize:"12px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?i.jsx("button",{onClick:()=>V(o.id,"closed"),style:{padding:"8px",borderRadius:"8px"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:i.jsx(Tv,{style:{width:"16px",height:"16px"}})}):i.jsx("button",{onClick:()=>V(o.id,"open"),style:{padding:"8px",borderRadius:"8px"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:i.jsx(bt,{style:{width:"16px",height:"16px"}})})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",paddingBottom:"80px"},children:[u.map(D=>i.jsx("div",{style:{display:"flex",justifyContent:D.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:i.jsxs("div",{style:{maxWidth:"80%",borderRadius:"16px",padding:"10px 16px",background:D.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:D.isAdmin?"white":"#111827"},children:[i.jsx("p",{style:{fontSize:"14px",margin:0},children:D.text}),i.jsx("span",{style:{fontSize:"11px",marginTop:"2px",display:"block",color:D.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(D.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},D.id)),i.jsx("div",{ref:T})]}),i.jsx("form",{onSubmit:z,style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"12px",paddingBottom:"max(12px, env(safe-area-inset-bottom))"},className:"dark:bg-gray-900 dark:border-gray-800",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"10px 16px",borderRadius:"9999px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:_||!p.trim(),style:{padding:"10px",borderRadius:"50%",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:_||!p.trim()?.5:1},children:_?i.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):i.jsx(hc,{style:{width:"20px",height:"20px"}})})]})})]}),i.jsx("div",{className:"hidden lg:block",style:{marginLeft:"256px",height:"100vh",display:"flex"},children:i.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[i.jsxs("div",{style:{width:"320px",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",flexShrink:0},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px"},className:"dark:border-gray-800",children:[i.jsx("button",{onClick:r,style:{padding:"8px",marginLeft:"-8px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(Ct,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsx(Pr,{style:{width:"20px",height:"20px"},className:"text-blue-600"}),i.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:"Chats"})]}),i.jsx("div",{style:{flex:1,overflowY:"auto"},children:t.map(D=>i.jsxs("button",{onClick:()=>l(D),style:{width:"100%",padding:"12px 16px",textAlign:"left",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",backgroundColor:o?.id===D.id?"rgba(59, 130, 246, 0.1)":"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 dark:border-gray-800",children:[i.jsx("div",{style:{width:"40px",height:"40px",minWidth:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"14px"},children:D.userName.charAt(0).toUpperCase()}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2px"},children:[i.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:D.userName}),i.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:D.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:D.status==="open"?"#16a34a":"#6b7280"},children:D.status})]}),i.jsx("p",{style:{fontSize:"13px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:D.lastMessage})]})]},D.id))})]}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},className:"bg-gray-50 dark:bg-gray-950",children:[i.jsxs("div",{style:{padding:"12px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500"},children:o.userName.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:o.userName}),i.jsx("div",{style:{fontSize:"14px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?i.jsxs("button",{onClick:()=>V(o.id,"closed"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200",children:[i.jsx(Tv,{style:{width:"16px",height:"16px"}})," Close"]}):i.jsxs("button",{onClick:()=>V(o.id,"open"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200",children:[i.jsx(bt,{style:{width:"16px",height:"16px"}})," Reopen"]})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:[u.map(D=>i.jsx("div",{style:{display:"flex",justifyContent:D.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:i.jsxs("div",{style:{maxWidth:"70%",borderRadius:"16px",padding:"12px 16px",background:D.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:D.isAdmin?"white":"#111827"},children:[i.jsx("p",{style:{margin:0},children:D.text}),i.jsx("span",{style:{fontSize:"12px",marginTop:"4px",display:"block",color:D.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(D.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},D.id)),i.jsx("div",{ref:T})]}),i.jsx("form",{onSubmit:z,style:{padding:"16px",borderTop:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"12px 16px",borderRadius:"12px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:_||!p.trim(),style:{padding:"12px",borderRadius:"12px",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:_||!p.trim()?.5:1},children:_?i.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):i.jsx(hc,{style:{width:"20px",height:"20px"}})})]})})]})]})})]}):i.jsx("div",{className:"bg-gray-50 dark:bg-gray-950",style:{minHeight:"100vh",paddingBottom:"80px"},children:i.jsxs("div",{className:"lg:ml-64",style:{padding:"16px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[i.jsx("button",{onClick:r,style:{padding:"8px",borderRadius:"12px"},className:"hover:bg-gray-200 dark:hover:bg-gray-800",children:i.jsx(Ct,{style:{width:"24px",height:"24px"},className:"text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Pr,{style:{width:"20px",height:"20px",color:"white"}})}),i.jsxs("div",{children:[i.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",margin:0},className:"text-gray-900 dark:text-white",children:"Support Chats"}),i.jsxs("p",{style:{fontSize:"12px",margin:0},className:"text-gray-500 dark:text-gray-400",children:[t.length," conversations"]})]})]})]}),i.jsx("div",{style:{borderRadius:"16px",overflow:"hidden",border:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:t.length>0?t.map((D,Z)=>i.jsxs("button",{onClick:()=>l(D),style:{width:"100%",padding:"16px",textAlign:"left",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",borderBottom:Z<t.length-1?"1px solid #e5e7eb":"none",backgroundColor:"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 active:bg-gray-100 dark:active:bg-gray-800 dark:border-gray-800",children:[i.jsx("div",{style:{width:"48px",height:"48px",minWidth:"48px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"18px"},children:D.userName.charAt(0).toUpperCase()}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[i.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:D.userName}),i.jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:D.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:D.status==="open"?"#16a34a":"#6b7280"},children:D.status})]}),i.jsx("p",{style:{fontSize:"14px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:D.lastMessage})]})]},D.id)):i.jsxs("div",{style:{padding:"48px",textAlign:"center"},className:"text-gray-500 dark:text-gray-400",children:[i.jsx(Pr,{style:{width:"64px",height:"64px",margin:"0 auto 16px",opacity:.3}}),i.jsx("p",{children:"No support chats yet"})]})})]})})}function k5(){const[r,e]=I.useState([]),[t,n]=I.useState(!0),[o,l]=I.useState(null),[u,f]=I.useState(""),[p,g]=I.useState(null);I.useEffect(()=>{v()},[]);async function v(){try{const T=await gg();e(T.filter(L=>!L.isAdmin))}catch(T){console.error("Error loading users:",T)}finally{n(!1)}}async function b(T,L){l(T);try{await i4(T,!L),e(E=>E.map(z=>z.id===T?{...z,isVerified:!L}:z)),p?.id===T&&g(E=>E?{...E,isVerified:!L}:null)}catch(E){console.error("Error updating verification status:",E)}finally{l(null)}}async function _(T,L){l(T);try{await a4(T,!L),e(E=>E.map(z=>z.id===T?{...z,isBlocked:!L}:z)),p?.id===T&&g(E=>E?{...E,isBlocked:!L}:null)}catch(E){console.error("Error updating block status:",E)}finally{l(null)}}const C=r.filter(T=>T.name.toLowerCase().includes(u.toLowerCase())||T.email.toLowerCase().includes(u.toLowerCase()));return t?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"#db2777"},children:i.jsx(fc,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Users"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verify or block platform users"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name or email...",value:u,onChange:T=>f(T.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-800",children:[i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"User"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Email"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Status"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Notes"}),i.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Earnings"}),i.jsx("th",{className:"text-right p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Actions"})]})}),i.jsx("tbody",{children:C.map(T=>i.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium overflow-hidden",style:{backgroundColor:"#6366f1"},children:T.avatarUrl?i.jsx("img",{src:T.avatarUrl,alt:T.name,className:"w-full h-full object-cover"}):T.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:T.name})]})}),i.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:T.email}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[T.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#dcfce7",color:"#166534"},children:[i.jsx(rm,{className:"w-3 h-3"}),"Verified"]}),T.isBlocked&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#fee2e2",color:"#991b1b"},children:[i.jsx(id,{className:"w-3 h-3"}),"Blocked"]}),!T.isVerified&&!T.isBlocked&&i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#f3f4f6",color:"#6b7280"},children:"Unverified"})]})}),i.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:T.uploadedNotes.length}),i.jsxs("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:["",T.totalEarnings.toFixed(2)]}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:()=>g(T),className:"p-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Profile",children:i.jsx(kh,{className:"w-4 h-4"})}),i.jsxs("button",{onClick:()=>b(T.id,T.isVerified||!1),disabled:o===T.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${T.isVerified?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700":"text-white hover:opacity-90"}`,style:T.isVerified?{}:{backgroundColor:"#16a34a"},children:[i.jsx(bt,{className:"w-4 h-4"}),T.isVerified?"Unverify":"Verify"]}),i.jsx("button",{onClick:()=>_(T.id,T.isBlocked||!1),disabled:o===T.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${T.isBlocked?"text-white hover:opacity-90":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-700 dark:hover:text-red-400"}`,style:T.isBlocked?{backgroundColor:"#16a34a"}:{},children:T.isBlocked?i.jsxs(i.Fragment,{children:[i.jsx(on,{className:"w-4 h-4"}),"Unblock"]}):i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4"}),"Block"]})})]})})]},T.id))})]})}),C.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(fc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u?"No users found matching your search":"No users found"})]})]})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-auto shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"User Profile"}),i.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(ks,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-white text-2xl font-medium overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600",children:p.avatarUrl?i.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-full h-full object-cover"}):p.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white font-medium mb-1",children:p.name}),p.bio&&i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 italic mb-2",children:['"',p.bio,'"']}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.isVerified&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:[i.jsx(rm,{className:"w-3 h-3"}),"Verified"]}),p.isBlocked&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:[i.jsx(id,{className:"w-3 h-3"}),"Blocked"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(Ao,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),i.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate",children:p.email})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(cr,{className:"w-6 h-6 text-purple-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Uploaded Notes"}),i.jsx("p",{className:"text-2xl text-gray-900 dark:text-white font-bold",children:p.uploadedNotes.length})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center",children:[i.jsx(lr,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Earnings"}),i.jsxs("p",{className:"text-2xl text-gray-900 dark:text-white font-bold",children:["",p.totalEarnings.toFixed(0)]})]})]}),p.uploadedNotes.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-3",children:"Uploaded Notes"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.uploadedNotes.map(T=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[T.thumbnailUrl?i.jsx("img",{src:T.thumbnailUrl,alt:T.title,className:"w-12 h-12 rounded-lg object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:T.title}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["",T.price,"  ",T.salesCount," sales"]})]}),i.jsx("div",{className:"flex gap-1",children:T.isVerified&&i.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded",children:"Verified"})})]},T.id))})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:[i.jsxs("button",{onClick:()=>b(p.id,p.isVerified||!1),disabled:o===p.id,className:`flex-1 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${p.isVerified?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300":"bg-green-600 text-white"}`,children:[i.jsx(bt,{className:"w-5 h-5"}),p.isVerified?"Remove Verification":"Verify User"]}),i.jsx("button",{onClick:()=>_(p.id,p.isBlocked||!1),disabled:o===p.id,className:`flex-1 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${p.isBlocked?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:p.isBlocked?i.jsxs(i.Fragment,{children:[i.jsx(on,{className:"w-5 h-5"}),"Unblock User"]}):i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-5 h-5"}),"Block User"]})})]})]})]})})]})}function _5({onBack:r}){const[e,t]=I.useState([]),[n,o]=I.useState(!0),[l,u]=I.useState(30),[f,p]=I.useState("30"),[g,v]=I.useState(!1),[b,_]=I.useState(null),[C,T]=I.useState(!1);I.useEffect(()=>{L()},[C]);async function L(){o(!0);try{const[D,Z]=await Promise.all([C?x4():g4(),xg()]);t(D),u(Z),p(Z.toString())}catch(D){console.error("Error loading payouts:",D)}finally{o(!1)}}async function E(D){_(D);try{await y4(D),await L()}catch(Z){console.error("Error marking payout complete:",Z),alert("Failed to process payout")}finally{_(null)}}async function z(){const D=parseFloat(f);if(isNaN(D)||D<0||D>100){alert("Fee must be between 0 and 100");return}v(!0);try{await p4(D),u(D),alert("Platform fee updated successfully")}catch(Z){console.error("Error updating fee:",Z),alert("Failed to update fee")}finally{v(!1)}}const V=e.filter(D=>D.status==="pending").length,G=e.filter(D=>D.status==="pending").reduce((D,Z)=>D+Z.netAmount,0);return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(Ct,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(lr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Payout Requests"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V," pending  ",G.toFixed(2)," to pay"]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(tm,{className:"w-5 h-5 text-gray-500"}),i.jsx("h2",{className:"text-lg text-gray-900 dark:text-white",children:"Platform Fee Settings"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1 max-w-xs",children:[i.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Platform Fee Percentage"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",value:f,onChange:D=>p(D.target.value),min:"0",max:"100",className:"w-24 px-4 py-2 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"}),i.jsx("span",{className:"text-gray-500",children:"%"})]})]}),i.jsxs("button",{onClick:z,disabled:g||f===l.toString(),className:"px-4 py-2 bg-blue-600 text-white rounded-xl flex items-center gap-2 hover:bg-blue-700 transition-colors disabled:opacity-50 mt-6",children:[i.jsx(vP,{className:"w-4 h-4"}),g?"Saving...":"Save"]})]}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:["Current: ",l,"%  Sellers receive ",100-l,"% of their earnings"]})]}),i.jsxs("div",{className:"flex gap-2 mb-6",children:[i.jsxs("button",{onClick:()=>T(!1),className:`px-4 py-2 rounded-xl font-medium transition-colors flex items-center gap-2 ${C?"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700":"text-white"}`,style:C?void 0:{backgroundColor:"#2563eb"},children:[i.jsx(vi,{className:"w-4 h-4"}),"Pending"]}),i.jsx("button",{onClick:()=>T(!0),className:`px-4 py-2 rounded-xl font-medium transition-colors ${C?"text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:C?{backgroundColor:"#2563eb"}:void 0,children:"All Payouts"})]}),i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"UPI ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Gross"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Fee"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Net Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:e.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:D.userName}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:D.userEmail})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-lg text-sm font-mono",children:D.upiId})}),i.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",D.grossAmount.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 text-red-600 dark:text-red-400",children:[D.platformFee,"%"]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-bold",children:["",D.netAmount.toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4",children:D.status==="pending"?i.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[i.jsx(vi,{className:"w-4 h-4"}),"Pending"]}):i.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(bt,{className:"w-4 h-4"}),"Completed"]})}),i.jsx("td",{className:"px-6 py-4",children:D.status==="pending"&&i.jsx("button",{onClick:()=>E(D.id),disabled:b===D.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:b===D.id?i.jsx(i.Fragment,{children:"Processing..."}):i.jsxs(i.Fragment,{children:[i.jsx(bt,{className:"w-4 h-4"}),"Mark Paid"]})})})]},D.id))})]})}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(bt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsxs("p",{children:["No ",C?"":"pending ","payout requests"]})]})})]})})}function N5({onBack:r}){const[e,t]=I.useState([]),[n,o]=I.useState(!0),[l,u]=I.useState(null),[f,p]=I.useState(""),[g,v]=I.useState(""),[b,_]=I.useState(!1),[C,T]=I.useState("pending"),[L,E]=I.useState("");I.useEffect(()=>{z()},[]);async function z(){try{const Y=await b4();t(Y)}catch(Y){console.error("Error loading requests:",Y)}finally{o(!1)}}async function V(){if(!(!l||!f.trim())){_(!0);try{await k4(l.id,f.trim(),g.trim()||void 0),t(Y=>Y.map(P=>P.id===l.id?{...P,status:"responded",response:f.trim(),responseLink:g.trim()}:P)),u(null),p(""),v("")}catch(Y){console.error("Error responding:",Y),alert("Failed to send response")}finally{_(!1)}}}async function G(Y){try{await _4(Y),t(P=>P.map(j=>j.id===Y?{...j,status:"closed"}:j))}catch(P){console.error("Error closing request:",P)}}const D=e.filter(Y=>{const P=C==="all"||Y.status===C,j=Y.title.toLowerCase().includes(L.toLowerCase())||Y.userName.toLowerCase().includes(L.toLowerCase())||Y.description.toLowerCase().includes(L.toLowerCase());return P&&j}),Z=e.filter(Y=>Y.status==="pending").length;return n?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(Ct,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:i.jsx(aa,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Note Requests"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Z," pending requests"]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search requests...",value:L,onChange:Y=>E(Y.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-white"})]}),i.jsx("div",{className:"flex gap-2",children:["pending","responded","all"].map(Y=>i.jsx("button",{onClick:()=>T(Y),className:`px-4 py-2 rounded-xl font-medium transition-colors capitalize ${C===Y?"text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:C===Y?{backgroundColor:"#2563eb"}:void 0,children:Y},Y))})]}),D.length>0?i.jsx("div",{className:"space-y-4",children:D.map(Y=>i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white font-medium",children:Y.title}),i.jsx("span",{className:"text-sm px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded capitalize",children:Y.category.replace("-"," ")})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["by ",Y.userName,"  ",Y.userEmail]})]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Y.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":Y.status==="responded"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[Y.status==="pending"&&i.jsx(vi,{className:"w-3 h-3"}),Y.status==="responded"&&i.jsx(bt,{className:"w-3 h-3"}),Y.status.charAt(0).toUpperCase()+Y.status.slice(1)]})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:Y.description}),Y.response&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 mb-4 border border-green-200 dark:border-green-800",children:[i.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium mb-1",children:"Your Response:"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:Y.response}),Y.responseLink&&i.jsxs("a",{href:Y.responseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 mt-2 text-sm",children:[i.jsx(l_,{className:"w-3 h-3"}),Y.responseLink]})]}),i.jsxs("div",{className:"flex gap-2",children:[Y.status==="pending"&&i.jsxs("button",{onClick:()=>u(Y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[i.jsx(hc,{className:"w-4 h-4"}),"Respond"]}),Y.status!=="closed"&&i.jsx("button",{onClick:()=>G(Y.id),className:"px-4 py-2 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Close Request"})]})]},Y.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(bt,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Requests Found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C==="pending"?"All pending requests have been handled!":"No requests match your search."})]})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-lg w-full shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Respond to Request"}),i.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl",children:i.jsx(ks,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 mb-4",children:[i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:l.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:l.description})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Your Response"}),i.jsx("textarea",{value:f,onChange:Y=>p(Y.target.value),placeholder:"Provide helpful information or let them know if notes are available...",rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(cP,{className:"w-4 h-4 inline mr-1"}),"Link to Notes (optional)"]}),i.jsx("input",{type:"url",value:g,onChange:Y=>v(Y.target.value),placeholder:"https://example.com/notes or link to uploaded note",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("button",{onClick:V,disabled:b||!f.trim(),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[i.jsx(hc,{className:"w-5 h-5"}),b?"Sending...":"Send Response"]})]})]})]})})]})}function j5(){const{user:r,userProfile:e}=br(),[t,n]=I.useState([]),[o,l]=I.useState(!0),[u,f]=I.useState(!1),[p,g]=I.useState(!1),[v,b]=I.useState(""),[_,C]=I.useState(""),[T,L]=I.useState("lecture-notes");I.useEffect(()=>{r&&E()},[r]);async function E(){if(r)try{const G=await w4(r.uid);n(G)}catch(G){console.error("Error loading requests:",G)}finally{l(!1)}}async function z(G){if(G.preventDefault(),!(!r||!e||!v.trim()||!_.trim())){g(!0);try{await v4(r.uid,e.name,e.email,v.trim(),_.trim(),T),b(""),C(""),L("lecture-notes"),f(!1),await E()}catch(D){console.error("Error creating request:",D),alert("Failed to submit request")}finally{g(!1)}}}const V=G=>{switch(G){case"pending":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 text-xs rounded-full",children:[i.jsx(vi,{className:"w-3 h-3"}),"Pending"]});case"responded":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[i.jsx(bt,{className:"w-3 h-3"}),"Responded"]});case"closed":return i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs rounded-full",children:"Closed"})}};return o?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:i.jsx(aa,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"My Requests"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Request notes you can't find"})]})]}),i.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl flex items-center gap-2 hover:shadow-lg transition-all",children:[i.jsx(xP,{className:"w-5 h-5"}),"New Request"]})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-lg w-full shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Request Notes"}),i.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl",children:i.jsx(ks,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Title / Subject"}),i.jsx("input",{type:"text",value:v,onChange:G=>b(G.target.value),placeholder:"e.g., Data Structures - Unit 3",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),i.jsxs("select",{value:T,onChange:G=>L(G.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"lecture-notes",children:"Lecture Notes"}),i.jsx("option",{value:"assignment",children:"Assignment"}),i.jsx("option",{value:"pyq",children:"PYQ (Previous Year Question)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:_,onChange:G=>C(G.target.value),placeholder:"Describe what you're looking for, course code, semester, etc.",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none"})]}),i.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50",children:p?"Submitting...":"Submit Request"})]})]})}),t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(G=>i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white font-medium",children:G.title}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:G.category.replace("-"," ")})]}),V(G.status)]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:G.description}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:["Requested on ",new Date(G.createdAt).toLocaleDateString()]}),G.response&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 mb-2",children:[i.jsx(Pr,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Admin Response"})]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:G.response}),G.responseLink&&i.jsxs("a",{href:G.responseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(l_,{className:"w-4 h-4"}),"View Notes"]})]})]},G.id))}):i.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[i.jsx(aa,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Requests Yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Can't find notes you need? Submit a request!"}),i.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Submit Your First Request"})]})]})})}function E5({isOpen:r,onClose:e,onLogin:t,onSignup:n,message:o}){return r?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full shadow-2xl animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Login Required"}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:i.jsx(ks,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:o||"Please login or create an account to access this feature."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:t,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(d_,{className:"w-5 h-5"}),"Sign In"]}),i.jsxs("button",{onClick:n,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(zP,{className:"w-5 h-5"}),"Create Account"]})]})]})]})}):null}function T5(){const r=Lo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(rr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(et,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white mb-6",children:"Terms & Conditions"}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"2. User Accounts"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Provide accurate and complete information"}),i.jsx("li",{children:"Maintain the security of your password"}),i.jsx("li",{children:"Accept responsibility for all activities under your account"}),i.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"3. Content Guidelines"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"You own the copyright or have permission to share the content"}),i.jsx("li",{children:"The content does not violate any intellectual property rights"}),i.jsx("li",{children:"The material is accurate and not misleading"}),i.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"4. Purchases and Payments"}),i.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"5. Intellectual Property"}),i.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"6. Prohibited Activities"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[i.jsx("li",{children:"Uploading copyrighted material without permission"}),i.jsx("li",{children:"Engaging in fraudulent activities"}),i.jsx("li",{children:"Harassing or threatening other users"}),i.jsx("li",{children:"Attempting to compromise platform security"}),i.jsx("li",{children:"Using automated tools to scrape content"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"7. Termination"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"8. Limitation of Liability"}),i.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"9. Changes to Terms"}),i.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"10. Contact Information"}),i.jsxs("p",{className:"leading-relaxed",children:["For questions about these terms, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-800",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Last updated: December 2025"})})]})]})})]})}function I5(){const r=Lo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(rr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(et,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:i.jsx(on,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Privacy Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]})]}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Account information (name, email address)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Transaction history and purchase records"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Uploaded content and notes"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To provide and improve our services"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To process transactions and payments"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To send important account updates (with your permission)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),i.jsx("p",{className:"mb-3",children:"You have the right to:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Access your personal data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request correction of inaccurate data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Request deletion of your account and data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),i.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})})]})}function S5(){const r=Lo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(rr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(et,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:i.jsx(cr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Refund & Cancellation Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]})]}),i.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(o_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),i.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),i.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),i.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),i.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Download problems or corrupted files"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Payment processed but content not accessible"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Missing pages or incomplete content"})]})]}),i.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),i.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Significantly different from the description"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Plagiarized or violate copyright"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Completely unreadable or unusable"})]})]}),i.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})})]})}function C5(){const r=Lo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(rr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(et,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:i.jsx(_h,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Shipping & Delivery Policy"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]})]}),i.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(an,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),i.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),i.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"1"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Purchase Notes"}),i.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"2"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Instant Access"}),i.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-pink-600 dark:text-pink-400 font-semibold",children:"3"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:'Download from "Downloads" Section'}),i.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(vi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Processing Time"})]}),i.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(an,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Download Speed"})]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(bt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Internet connection for downloading"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),i.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),i.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),i.jsxs("ul",{className:"space-y-2 mb-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Check your internet connection"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Ensure your payment was successfully processed"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Try refreshing the Downloads page"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),i.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),i.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),i.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),i.jsx("div",{className:"pt-4",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})})]})}function A5(){const r=Lo();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(rr,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(nr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),i.jsxs(et,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6 shadow-xl",children:i.jsx(Ao,{className:"w-10 h-10 text-white"})}),i.jsx("h1",{className:"text-4xl text-gray-900 dark:text-white mb-4",children:"Contact Us"}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"Get in Touch"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(Ao,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Email Us"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"For general inquiries and support"}),i.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline font-medium",children:"notzy2026@gmail.com"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(vi,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Response Time"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"We typically respond within 24-48 hours during business days"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx(Pr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"In-App Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Logged-in users can access our support chat directly from the app for faster assistance"})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[i.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"How Can We Help?"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Purchase Issues"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Problems with payments, accessing purchased notes, or transaction disputes"})]}),i.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Seller Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Help with uploading notes, earnings withdrawals, or seller account issues"})]}),i.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Technical Support"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"App bugs, download issues, or account-related technical problems"})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Feedback & Suggestions"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Ideas for new features, improvements, or general feedback about the platform"})]}),i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-xl",children:[i.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Report Content"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Report plagiarized, inappropriate, or misleading content on the platform"})]})]})]})]}),i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-2xl p-6 lg:p-8 text-center",children:[i.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Contact Us"}),i.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Many common questions are answered in our policy pages. Check them out for quick answers!"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(rr,{to:"/terms",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Terms & Conditions"}),i.jsx(rr,{to:"/privacy",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Privacy Policy"}),i.jsx(rr,{to:"/refund",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Refund Policy"}),i.jsx(rr,{to:"/shipping",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Shipping & Delivery"})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="type.googleapis.com/google.protobuf.Int64Value",P5="type.googleapis.com/google.protobuf.UInt64Value";function S_(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function qd(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>qd(e));if(typeof r=="function"||typeof r=="object")return S_(r,e=>qd(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Ro(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case R5:case P5:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Ro(e)):typeof r=="function"||typeof r=="object"?S_(r,e=>Ro(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vr extends hn{constructor(e,t,n){super(`${wg}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,vr.prototype)}}function D5(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Hd(r,e){let t=D5(r),n=t,o;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!Vv[u])return new vr("internal","internal");t=Vv[u],n=u}const f=l.message;typeof f=="string"&&(n=f),o=l.details,o!==void 0&&(o=Ro(o))}}catch{}return t==="ok"?null:new vr(t,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,t,n,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||n.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="us-central1",O5=/^data: (.*?)(?:\n|$)/;function V5(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new vr("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class M5{constructor(e,t,n,o,l=im,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new L5(e,t,n,o),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=im}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function U5(r,e,t){const n=Bn(e);r.emulatorOrigin=`http${n?"s":""}://${e}:${t}`,n&&(Qd(r.emulatorOrigin+"/backends"),Yd("Functions",!0))}function F5(r,e,t){const n=o=>B5(r,e,o,{});return n.stream=(o,l)=>q5(r,e,o,l),n}function C_(r){return r.emulatorOrigin&&Bn(r.emulatorOrigin)?"include":void 0}async function z5(r,e,t,n,o){t["Content-Type"]="application/json";let l;try{l=await n(r,{method:"POST",body:JSON.stringify(e),headers:t,credentials:C_(o)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function A_(r,e){const t={},n=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(t.Authorization="Bearer "+n.authToken),n.messagingToken&&(t["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=n.appCheckToken),t}function B5(r,e,t,n){const o=r._url(e);return $5(r,o,t,n)}async function $5(r,e,t,n){t=qd(t);const o={data:t},l=await A_(r,n),u=n.timeout||7e4,f=V5(u),p=await Promise.race([z5(e,o,l,r.fetchImpl,r),f.promise,r.cancelAllRequests]);if(f.cancel(),!p)throw new vr("cancelled","Firebase Functions instance was deleted.");const g=Hd(p.status,p.json);if(g)throw g;if(!p.json)throw new vr("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new vr("internal","Response is missing data field.");return{data:Ro(v)}}function q5(r,e,t,n){const o=r._url(e);return H5(r,o,t,n||{})}async function H5(r,e,t,n){t=qd(t);const o={data:t},l=await A_(r,n);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:l,signal:n?.signal,credentials:C_(r)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const T=new vr("cancelled","Request was cancelled.");return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}const C=Hd(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let f,p;const g=new Promise((_,C)=>{f=_,p=C});n?.signal?.addEventListener("abort",()=>{const _=new vr("cancelled","Request was cancelled.");p(_)});const v=u.body.getReader(),b=W5(v,f,p,n?.signal);return{stream:{[Symbol.asyncIterator](){const _=b.getReader();return{async next(){const{value:C,done:T}=await _.read();return{value:C,done:T}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:g}}function W5(r,e,t,n){const o=(u,f)=>{const p=u.match(O5);if(!p)return;const g=p[1];try{const v=JSON.parse(g);if("result"in v){e(Ro(v.result));return}if("message"in v){f.enqueue(Ro(v.message));return}if("error"in v){const b=Hd(0,v);f.error(b),t(b);return}}catch(v){if(v instanceof vr){f.error(v),t(v);return}}},l=new TextDecoder;return new ReadableStream({start(u){let f="";return p();async function p(){if(n?.aborted){const g=new vr("cancelled","Request was cancelled");return u.error(g),t(g),Promise.resolve()}try{const{value:g,done:v}=await r.read();if(v){f.trim()&&o(f.trim(),u),u.close();return}if(n?.aborted){const _=new vr("cancelled","Request was cancelled");u.error(_),t(_),await r.cancel();return}f+=l.decode(g,{stream:!0});const b=f.split(`
`);f=b.pop()||"";for(const _ of b)_.trim()&&o(_.trim(),u);return p()}catch(g){const v=g instanceof vr?g:Hd(0,null);u.error(v),t(v)}}},cancel(){return r.cancel()}})}const Mv="@firebase/functions",Uv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="auth-internal",K5="app-check-internal",Q5="messaging-internal";function Y5(r){const e=(t,{instanceIdentifier:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider(G5),u=t.getProvider(Q5),f=t.getProvider(K5);return new M5(o,l,u,f,n)};di(new ps(wg,e,"PUBLIC").setMultipleInstances(!0)),qr(Mv,Uv,r),qr(Mv,Uv,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(r=Xd(),e=im){const n=wc(at(r),wg).getImmediate({identifier:e}),o=hm("functions");return o&&J5(n,...o),n}function J5(r,e,t){U5(at(r),e,t)}function Fv(r,e,t){return F5(at(r),e)}Y5();function Z5(){const{user:r,userProfile:e}=br(),[t,n]=I.useState(!1),[o,l]=I.useState(null);return{initiatePayment:async(f,p,g)=>{if(!r||!e)return{success:!1,error:"Please login to make a purchase"};n(!0),l(null);try{const v=X5(),C=(await Fv(v,"createRazorpayOrder")({noteId:f,amount:p})).data;return new Promise(T=>{const L={key:"rzp_live_RtZARbkXo0ilnE",amount:C.amount,currency:C.currency,name:"Notezy",description:`Purchase: ${g}`,order_id:C.orderId,prefill:{name:e.name,email:e.email},theme:{color:"#6366f1"},handler:async function(z){try{const D=(await Fv(v,"verifyRazorpayPayment")({razorpay_order_id:z.razorpay_order_id,razorpay_payment_id:z.razorpay_payment_id,razorpay_signature:z.razorpay_signature})).data;n(!1),T({success:!0,noteId:D.noteId})}catch(V){n(!1),l(V.message||"Payment verification failed"),T({success:!1,error:V.message})}},modal:{ondismiss:function(){n(!1),T({success:!1,error:"Payment cancelled"})}}},E=new window.Razorpay(L);E.on("payment.failed",function(z){n(!1),l(z.error.description),T({success:!1,error:z.error.description})}),E.open()})}catch(v){n(!1);const b=v.message||"Failed to initiate payment";return l(b),{success:!1,error:b}}},loading:t,error:o,clearError:()=>l(null)}}function e3(){const{isAuthenticated:r,isLoading:e,user:t,userProfile:n,logout:o,isGuest:l,exitGuestMode:u}=br(),{initiatePayment:f}=Z5(),[p,g]=I.useState("landing"),[v,b]=I.useState("home"),[_,C]=I.useState(""),[T,L]=I.useState(null),[E,z]=I.useState(null),[V,G]=I.useState(!1),[D,Z]=I.useState("");I.useEffect(()=>{n?.isAdmin&&v==="home"&&b("admin")},[n?.isAdmin]);const Y=n?.isBlocked||!1,[P,j]=I.useState([]),[R,O]=I.useState([]),[M,B]=I.useState([]),[S,je]=I.useState([]),[$e,Qe]=I.useState([]),[He,X]=I.useState(!0);if(I.useEffect(()=>{async function ce(){try{const ke=await mg();j(ke)}catch(ke){console.error("Error fetching notes:",ke)}}ce()},[]),I.useEffect(()=>{async function ce(){if(!t){O([]),B([]),je([]),Qe([]),X(!1);return}try{X(!0);const[ke,Ie,Je,Dr]=await Promise.all([YR(t.uid),XR(t.uid),e4(t.uid),t4(t.uid)]);O(ke),B(Ie),je(Je),Qe(Dr)}catch(ke){console.error("Error fetching user data:",ke)}finally{X(!1)}}ce()},[t]),e)return i.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!r&&!l)return p==="login"?i.jsx(c5,{onNavigateToSignup:()=>g("signup"),onNavigateToLanding:()=>g("landing")}):p==="signup"?i.jsx(u5,{onNavigateToLogin:()=>g("login"),onNavigateToLanding:()=>g("landing")}):i.jsx(l5,{onNavigateToLogin:()=>g("login"),onNavigateToSignup:()=>g("signup")});const xe=ce=>l?(Z(ce),G(!0),!1):!0,oe=()=>{G(!1),u(),g("login")},$=()=>{G(!1),u(),g("signup")},ee=async ce=>{if(!xe("Please login to purchase notes.")||!t)return;const ke=P.find(Ie=>Ie.id===ce);if(ke&&!$e.includes(ce))try{const Ie=await f(ce,ke.price,ke.title);Ie.success?(O([...R,ke]),Qe([...$e,ce]),alert(`Successfully purchased "${ke.title}"!`)):Ie.error&&Ie.error!=="Payment cancelled"&&alert(`Payment failed: ${Ie.error}`)}catch(Ie){console.error("Error purchasing note:",Ie),alert("Failed to initiate payment. Please try again.")}},ye=async ce=>{if(!xe("Please login to bookmark notes.")||!t)return;const ke=P.find(Ie=>Ie.id===ce);if(ke){const Ie=S.includes(ce);try{Ie?(await ZR(t.uid,ce),B(M.filter(Je=>Je.id!==ce)),je(S.filter(Je=>Je!==ce))):(await JR(t.uid,ce),B([...M,ke]),je([...S,ce]))}catch(Je){console.error("Error updating bookmark:",Je)}}},ve=async ce=>{if(!xe("Please login to view full notes."))return;const ke=[...R,...P].find(Ie=>Ie.id===ce);ke&&z(ke)},Re=n||{id:t?.uid||"",name:t?.displayName||"User",email:t?.email||"",avatarUrl:"",totalEarnings:0,uploadedNotes:[]},Oe=v==="home";return Y?v==="support"?i.jsx("div",{className:"min-h-screen bg-slate-950",children:i.jsx(Ov,{onBack:()=>b("home")})}):i.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-2xl p-8 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:"#dc2626"},children:i.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsx("h1",{className:"text-2xl text-white mb-2",children:"Account Blocked"}),i.jsx("p",{className:"text-slate-400 mb-8",children:"Your account has been blocked. If you believe this is a mistake or need help, please contact our support team."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>b("support"),className:"w-full py-3 px-6 rounded-xl text-white font-medium transition-colors",style:{backgroundColor:"#2563eb"},children:" Chat with Customer Care"}),i.jsx("button",{onClick:()=>o(),className:"w-full py-3 px-6 rounded-xl bg-slate-800 text-white font-medium hover:bg-slate-700 transition-colors",children:" Logout"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-slate-950",children:[i.jsx(YP,{currentPage:v,onNavigate:b,onLoginRequest:oe}),i.jsx("div",{className:"hidden lg:block",children:i.jsx(XP,{searchQuery:_,onSearchChange:C,showSearch:Oe})}),v==="home"&&i.jsx(JP,{notes:P,onPreview:L,onBookmark:ye,onPurchase:ee,onViewNotes:ve,bookmarkedIds:S,purchasedIds:$e,searchQuery:_,onSearchChange:C}),v==="downloads"&&i.jsx(ZP,{purchasedNotes:R,onPreview:L,onViewNotes:ve}),v==="bookmarks"&&i.jsx(e6,{bookmarkedNotes:M,onPreview:L,onBookmark:ye,onPurchase:ee,onViewNotes:ve,purchasedIds:$e}),v==="earnings"&&i.jsx(t6,{totalEarnings:Re.totalEarnings,uploadedNotes:Re.uploadedNotes}),v==="profile"&&i.jsx(i6,{user:Re,onPreview:L}),v==="upload"&&i.jsx(a6,{}),v==="settings"&&i.jsx(d5,{onNavigateToTerms:()=>b("terms"),onNavigateToAbout:()=>b("about"),onNavigateToPrivacy:()=>b("privacy"),onNavigateToRefund:()=>b("refund"),onNavigateToShipping:()=>b("shipping")}),v==="terms"&&i.jsx(h5,{onBack:()=>b("settings")}),v==="about"&&i.jsx(f5,{onBack:()=>b("settings")}),v==="privacy"&&i.jsx(p5,{onBack:()=>b("settings")}),v==="refund"&&i.jsx(m5,{onBack:()=>b("settings")}),v==="shipping"&&i.jsx(g5,{onBack:()=>b("settings")}),v==="support"&&i.jsx(Ov,{onBack:()=>b("home")}),v==="admin"&&i.jsx(y5,{onNavigate:b}),v==="admin-earnings"&&i.jsx(v5,{onBack:()=>b("admin")}),v==="admin-notes"&&i.jsx(w5,{onBack:()=>b("admin")}),v==="admin-chats"&&i.jsx(b5,{onBack:()=>b("admin")}),v==="admin-users"&&i.jsx(k5,{}),v==="admin-payouts"&&i.jsx(_5,{onBack:()=>b("admin")}),v==="admin-requests"&&i.jsx(N5,{onBack:()=>b("admin")}),v==="my-requests"&&i.jsx(j5,{}),T&&i.jsx(o6,{note:T,onClose:()=>L(null)}),E&&i.jsx(x5,{note:E,onClose:()=>z(null)}),i.jsx(E5,{isOpen:V,onClose:()=>G(!1),onLogin:oe,onSignup:$,message:D})]})}function t3(){return i.jsx(T2,{children:i.jsx(N4,{children:i.jsxs(G1,{children:[i.jsx(na,{path:"/terms",element:i.jsx(T5,{})}),i.jsx(na,{path:"/privacy",element:i.jsx(I5,{})}),i.jsx(na,{path:"/refund",element:i.jsx(S5,{})}),i.jsx(na,{path:"/shipping",element:i.jsx(C5,{})}),i.jsx(na,{path:"/contact",element:i.jsx(A5,{})}),i.jsx(na,{path:"/*",element:i.jsx(e3,{})})]})})})}KN.createRoot(document.getElementById("root")).render(i.jsx(x2,{children:i.jsx(t3,{})}));
