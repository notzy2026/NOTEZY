function mN(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function gN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pf={exports:{}},Sl={},Df={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function xN(){if(dx)return Ve;dx=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function k(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function D(F,Z,ye){this.props=F,this.context=Z,this.refs=V,this.updater=ye||C}D.prototype.isReactComponent={},D.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=D.prototype;function z(F,Z,ye){this.props=F,this.context=Z,this.refs=V,this.updater=ye||C}var X=z.prototype=new W;X.constructor=z,P(X,D.prototype),X.isPureReactComponent=!0;var Q=Array.isArray,ie=Object.prototype.hasOwnProperty,de={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function E(F,Z,ye){var ve,De={},Oe=null,Ee=null;if(Z!=null)for(ve in Z.ref!==void 0&&(Ee=Z.ref),Z.key!==void 0&&(Oe=""+Z.key),Z)ie.call(Z,ve)&&!R.hasOwnProperty(ve)&&(De[ve]=Z[ve]);var Me=arguments.length-2;if(Me===1)De.children=ye;else if(1<Me){for(var He=Array(Me),wt=0;wt<Me;wt++)He[wt]=arguments[wt+2];De.children=He}if(F&&F.defaultProps)for(ve in Me=F.defaultProps,Me)De[ve]===void 0&&(De[ve]=Me[ve]);return{$$typeof:r,type:F,key:Oe,ref:Ee,props:De,_owner:de.current}}function I(F,Z){return{$$typeof:r,type:F.type,key:Z,ref:F.ref,props:F.props,_owner:F._owner}}function A(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function O(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ye){return Z[ye]})}var U=/\/+/g;function j(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):Z.toString(36)}function be(F,Z,ye,ve,De){var Oe=typeof F;(Oe==="undefined"||Oe==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(Oe){case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case r:case e:Ee=!0}}if(Ee)return Ee=F,De=De(Ee),F=ve===""?"."+j(Ee,0):ve,Q(De)?(ye="",F!=null&&(ye=F.replace(U,"$&/")+"/"),be(De,Z,ye,"",function(wt){return wt})):De!=null&&(A(De)&&(De=I(De,ye+(!De.key||Ee&&Ee.key===De.key?"":(""+De.key).replace(U,"$&/")+"/")+F)),Z.push(De)),1;if(Ee=0,ve=ve===""?".":ve+":",Q(F))for(var Me=0;Me<F.length;Me++){Oe=F[Me];var He=ve+j(Oe,Me);Ee+=be(Oe,Z,ye,He,De)}else if(He=k(F),typeof He=="function")for(F=He.call(F),Me=0;!(Oe=F.next()).done;)Oe=Oe.value,He=ve+j(Oe,Me++),Ee+=be(Oe,Z,ye,He,De);else if(Oe==="object")throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ee}function qe(F,Z,ye){if(F==null)return F;var ve=[],De=0;return be(F,ve,"","",function(Oe){return Z.call(ye,Oe,De++)}),ve}function Xe(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(ye){(F._status===0||F._status===-1)&&(F._status=1,F._result=ye)},function(ye){(F._status===0||F._status===-1)&&(F._status=2,F._result=ye)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},G={transition:null},ce={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:G,ReactCurrentOwner:de};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:qe,forEach:function(F,Z,ye){qe(F,function(){Z.apply(this,arguments)},ye)},count:function(F){var Z=0;return qe(F,function(){Z++}),Z},toArray:function(F){return qe(F,function(Z){return Z})||[]},only:function(F){if(!A(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ve.Component=D,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=z,Ve.StrictMode=s,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ve.act=ae,Ve.cloneElement=function(F,Z,ye){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=P({},F.props),De=F.key,Oe=F.ref,Ee=F._owner;if(Z!=null){if(Z.ref!==void 0&&(Oe=Z.ref,Ee=de.current),Z.key!==void 0&&(De=""+Z.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(He in Z)ie.call(Z,He)&&!R.hasOwnProperty(He)&&(ve[He]=Z[He]===void 0&&Me!==void 0?Me[He]:Z[He])}var He=arguments.length-2;if(He===1)ve.children=ye;else if(1<He){Me=Array(He);for(var wt=0;wt<He;wt++)Me[wt]=arguments[wt+2];ve.children=Me}return{$$typeof:r,type:F.type,key:De,ref:Oe,props:ve,_owner:Ee}},Ve.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ve.createElement=E,Ve.createFactory=function(F){var Z=E.bind(null,F);return Z.type=F,Z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(F){return{$$typeof:f,render:F}},Ve.isValidElement=A,Ve.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:Xe}},Ve.memo=function(F,Z){return{$$typeof:g,type:F,compare:Z===void 0?null:Z}},Ve.startTransition=function(F){var Z=G.transition;G.transition={};try{F()}finally{G.transition=Z}},Ve.unstable_act=ae,Ve.useCallback=function(F,Z){return Ne.current.useCallback(F,Z)},Ve.useContext=function(F){return Ne.current.useContext(F)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},Ve.useEffect=function(F,Z){return Ne.current.useEffect(F,Z)},Ve.useId=function(){return Ne.current.useId()},Ve.useImperativeHandle=function(F,Z,ye){return Ne.current.useImperativeHandle(F,Z,ye)},Ve.useInsertionEffect=function(F,Z){return Ne.current.useInsertionEffect(F,Z)},Ve.useLayoutEffect=function(F,Z){return Ne.current.useLayoutEffect(F,Z)},Ve.useMemo=function(F,Z){return Ne.current.useMemo(F,Z)},Ve.useReducer=function(F,Z,ye){return Ne.current.useReducer(F,Z,ye)},Ve.useRef=function(F){return Ne.current.useRef(F)},Ve.useState=function(F){return Ne.current.useState(F)},Ve.useSyncExternalStore=function(F,Z,ye){return Ne.current.useSyncExternalStore(F,Z,ye)},Ve.useTransition=function(){return Ne.current.useTransition()},Ve.version="18.3.1",Ve}var hx;function Fp(){return hx||(hx=1,Df.exports=xN()),Df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function yN(){if(fx)return Sl;fx=1;var r=Fp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var v,b={},k=null,C=null;g!==void 0&&(k=""+g),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)s.call(p,v)&&!l.hasOwnProperty(v)&&(b[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)b[v]===void 0&&(b[v]=p[v]);return{$$typeof:e,type:f,key:k,ref:C,props:b,_owner:o.current}}return Sl.Fragment=t,Sl.jsx=u,Sl.jsxs=u,Sl}var px;function vN(){return px||(px=1,Pf.exports=yN()),Pf.exports}var a=vN(),Uu={},Of={exports:{}},dr={},Lf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function wN(){return mx||(mx=1,(function(r){function e(G,ce){var ae=G.length;G.push(ce);e:for(;0<ae;){var F=ae-1>>>1,Z=G[F];if(0<o(Z,ce))G[F]=ce,G[ae]=Z,ae=F;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ce=G[0],ae=G.pop();if(ae!==ce){G[0]=ae;e:for(var F=0,Z=G.length,ye=Z>>>1;F<ye;){var ve=2*(F+1)-1,De=G[ve],Oe=ve+1,Ee=G[Oe];if(0>o(De,ae))Oe<Z&&0>o(Ee,De)?(G[F]=Ee,G[Oe]=ae,F=Oe):(G[F]=De,G[ve]=ae,F=ve);else if(Oe<Z&&0>o(Ee,ae))G[F]=Ee,G[Oe]=ae,F=Oe;else break e}}return ce}function o(G,ce){var ae=G.sortIndex-ce.sortIndex;return ae!==0?ae:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,b=null,k=3,C=!1,P=!1,V=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(G){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=G)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function Q(G){if(V=!1,X(G),!P)if(t(p)!==null)P=!0,Xe(ie);else{var ce=t(g);ce!==null&&Ne(Q,ce.startTime-G)}}function ie(G,ce){P=!1,V&&(V=!1,W(E),E=-1),C=!0;var ae=k;try{for(X(ce),b=t(p);b!==null&&(!(b.expirationTime>ce)||G&&!O());){var F=b.callback;if(typeof F=="function"){b.callback=null,k=b.priorityLevel;var Z=F(b.expirationTime<=ce);ce=r.unstable_now(),typeof Z=="function"?b.callback=Z:b===t(p)&&s(p),X(ce)}else s(p);b=t(p)}if(b!==null)var ye=!0;else{var ve=t(g);ve!==null&&Ne(Q,ve.startTime-ce),ye=!1}return ye}finally{b=null,k=ae,C=!1}}var de=!1,R=null,E=-1,I=5,A=-1;function O(){return!(r.unstable_now()-A<I)}function U(){if(R!==null){var G=r.unstable_now();A=G;var ce=!0;try{ce=R(!0,G)}finally{ce?j():(de=!1,R=null)}}else de=!1}var j;if(typeof z=="function")j=function(){z(U)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,qe=be.port2;be.port1.onmessage=U,j=function(){qe.postMessage(null)}}else j=function(){D(U,0)};function Xe(G){R=G,de||(de=!0,j())}function Ne(G,ce){E=D(function(){G(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){P||C||(P=!0,Xe(ie))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(G){switch(k){case 1:case 2:case 3:var ce=3;break;default:ce=k}var ae=k;k=ce;try{return G()}finally{k=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=k;k=G;try{return ce()}finally{k=ae}},r.unstable_scheduleCallback=function(G,ce,ae){var F=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,G={id:v++,callback:ce,priorityLevel:G,startTime:ae,expirationTime:Z,sortIndex:-1},ae>F?(G.sortIndex=ae,e(g,G),t(p)===null&&G===t(g)&&(V?(W(E),E=-1):V=!0,Ne(Q,ae-F))):(G.sortIndex=Z,e(p,G),P||C||(P=!0,Xe(ie))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var ce=k;return function(){var ae=k;k=ce;try{return G.apply(this,arguments)}finally{k=ae}}}})(Vf)),Vf}var gx;function bN(){return gx||(gx=1,Lf.exports=wN()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function _N(){if(xx)return dr;xx=1;var r=Fp(),e=bN();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function k(n){return p.call(b,n)?!0:p.call(v,n)?!1:g.test(n)?b[n]=!0:(v[n]=!0,!1)}function C(n,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,c,h){if(i===null||typeof i>"u"||C(n,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(n,i,c,h,m,x,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=x,this.removeEmptyString=_}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){D[n]=new V(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];D[i]=new V(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){D[n]=new V(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){D[n]=new V(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){D[n]=new V(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){D[n]=new V(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){D[n]=new V(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){D[n]=new V(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){D[n]=new V(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(W,z);D[i]=new V(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(W,z);D[i]=new V(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(W,z);D[i]=new V(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){D[n]=new V(n,1,!1,n.toLowerCase(),null,!1,!1)}),D.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){D[n]=new V(n,1,!1,n.toLowerCase(),null,!0,!0)});function X(n,i,c,h){var m=D.hasOwnProperty(i)?D[i]:null;(m!==null?m.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,c,m,h)&&(c=null),h||m===null?k(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):m.mustUseProperty?n[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,h=m.attributeNamespace,c===null?n.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?n.setAttributeNS(h,i,c):n.setAttribute(i,c))))}var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),de=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),G=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=G&&n[G]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,F;function Z(n){if(F===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var ye=!1;function ve(n,i){if(!n||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var h=H}Reflect.construct(n,[],i)}else{try{i.call()}catch(H){h=H}n.call(i.prototype)}else{try{throw Error()}catch(H){h=H}n()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),x=h.stack.split(`
`),_=m.length-1,T=x.length-1;1<=_&&0<=T&&m[_]!==x[T];)T--;for(;1<=_&&0<=T;_--,T--)if(m[_]!==x[T]){if(_!==1||T!==1)do if(_--,T--,0>T||m[_]!==x[T]){var L=`
`+m[_].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=_&&0<=T);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?Z(n):""}function De(n){switch(n.tag){case 5:return Z(n.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function Oe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case de:return"Portal";case I:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case A:return(n._context.displayName||"Context")+".Provider";case U:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case qe:return i=n.displayName||null,i!==null?i:Oe(n.type)||"Memo";case Xe:i=n._payload,n=n._init;try{return Oe(n(i))}catch{}}return null}function Ee(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function He(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=He(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){h=""+_,x.call(this,_)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function an(n){n._valueTracker||(n._valueTracker=wt(n))}function on(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return n&&(h=He(n)?n.checked?"true":"false":n.value),n=h,n!==c?(i.setValue(n),!0):!1}function xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pa(n,i){var c=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function Nc(n,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=Me(i.value!=null?i.value:c),n._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ma(n,i){i=i.checked,i!=null&&X(n,"checked",i,!1)}function yi(n,i){ma(n,i);var c=Me(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?bt(n,i.type,c):i.hasOwnProperty("defaultValue")&&bt(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Lo(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function bt(n,i,c){(i!=="number"||xs(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var mt=Array.isArray;function Br(n,i,c,h){if(n=n.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<n.length;c++)m=i.hasOwnProperty("$"+n[c].value),n[c].selected!==m&&(n[c].selected=m),m&&h&&(n[c].defaultSelected=!0)}else{for(c=""+Me(c),i=null,m=0;m<n.length;m++){if(n[m].value===c){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Vo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Mo(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(mt(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:Me(c)}}function Ec(n,i){var c=Me(i.value),h=Me(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),h!=null&&(n.defaultValue=""+h)}function ys(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Uo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Uo(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vs,jc=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,m){MSApp.execUnsafeLocalFunction(function(){return n(i,c,h,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=vs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function vi(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tc=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(n){Tc.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ws[i]=ws[n]})});function bs(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ws.hasOwnProperty(n)&&ws[n]?(""+i).trim():i+"px"}function xa(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=bs(c,i[c],h);c==="float"&&(c="cssFloat"),h?n.setProperty(c,m):n[c]=m}}var Fo=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $r(n,i){if(i){if(Fo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ya(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function va(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mn=null,Un=null,ut=null;function zo(n){if(n=pl(n)){if(typeof Mn!="function")throw Error(t(280));var i=n.stateNode;i&&(i=eu(i),Mn(n.stateNode,n.type,i))}}function ks(n){Un?ut?ut.push(n):ut=[n]:Un=n}function Ns(){if(Un){var n=Un,i=ut;if(ut=Un=null,zo(n),i)for(n=0;n<i.length;n++)zo(i[n])}}function Ic(n,i){return n(i)}function Sc(){}var ln=!1;function Cc(n,i,c){if(ln)return n(i,c);ln=!0;try{return Ic(n,i,c)}finally{ln=!1,(Un!==null||ut!==null)&&(Sc(),Ns())}}function wi(n,i){var c=n.stateNode;if(c===null)return null;var h=eu(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Es=!1;if(f)try{var js={};Object.defineProperty(js,"passive",{get:function(){Es=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Es=!1}function Rc(n,i,c,h,m,x,_,T,L){var H=Array.prototype.slice.call(arguments,3);try{i.apply(c,H)}catch(te){this.onError(te)}}var Fn=!1,cn=null,wa=!1,Sr=null,Ac={onError:function(n){Fn=!0,cn=n}};function Pc(n,i,c,h,m,x,_,T,L){Fn=!1,cn=null,Rc.apply(Ac,arguments)}function Bo(n,i,c,h,m,x,_,T,L){if(Pc.apply(this,arguments),Fn){if(Fn){var H=cn;Fn=!1,cn=null}else throw Error(t(198));wa||(wa=!0,Sr=H)}}function qr(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function $o(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Dc(n){if(qr(n)!==n)throw Error(t(188))}function Oc(n){var i=n.alternate;if(!i){if(i=qr(n),i===null)throw Error(t(188));return i!==n?null:n}for(var c=n,h=i;;){var m=c.return;if(m===null)break;var x=m.alternate;if(x===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===c)return Dc(m),n;if(x===h)return Dc(m),i;x=x.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=x;else{for(var _=!1,T=m.child;T;){if(T===c){_=!0,c=m,h=x;break}if(T===h){_=!0,h=m,c=x;break}T=T.sibling}if(!_){for(T=x.child;T;){if(T===c){_=!0,c=x,h=m;break}if(T===h){_=!0,h=x,c=m;break}T=T.sibling}if(!_)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?n:i}function Lc(n){return n=Oc(n),n!==null?bi(n):null}function bi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=bi(n);if(i!==null)return i;n=n.sibling}return null}var qo=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,_i=e.unstable_shouldYield,zn=e.unstable_requestPaint,rt=e.unstable_now,ch=e.unstable_getCurrentPriorityLevel,_a=e.unstable_ImmediatePriority,Wo=e.unstable_UserBlockingPriority,ki=e.unstable_NormalPriority,Ho=e.unstable_LowPriority,ka=e.unstable_IdlePriority,Ni=null,gr=null;function Vc(n){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Ei,un=Math.log,Cr=Math.LN2;function Ei(n){return n>>>=0,n===0?32:31-(un(n)/Cr|0)|0}var dn=64,Ts=4194304;function Ke(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bn(n,i){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,x=n.pingedLanes,_=c&268435455;if(_!==0){var T=_&~m;T!==0?h=Ke(T):(x&=_,x!==0&&(h=Ke(x)))}else _=c&~m,_!==0?h=Ke(_):x!==0&&(h=Ke(x));if(h===0)return 0;if(i!==0&&i!==h&&(i&m)===0&&(m=h&-h,x=i&-i,m>=x||m===16&&(x&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)c=31-xr(i),m=1<<c,h|=n[c],i&=~m;return h}function ji(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(n,i){for(var c=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,x=n.pendingLanes;0<x;){var _=31-xr(x),T=1<<_,L=m[_];L===-1?((T&c)===0||(T&h)!==0)&&(m[_]=ji(T,i)):L<=i&&(n.expiredLanes|=T),x&=~T}}function Go(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ko(){var n=dn;return dn<<=1,(dn&4194240)===0&&(dn=64),n}function Qo(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Ii(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-xr(i),n[i]=c}function uh(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<c;){var m=31-xr(c),x=1<<m;i[m]=0,h[m]=-1,n[m]=-1,c&=~x}}function Yo(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var h=31-xr(c),m=1<<h;m&i|n[h]&i&&(n[h]|=i),c&=~m}}var Be=0;function hn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Xo,Na,Jo,Zo,el,fn=!1,Ea=[],pn=null,mn=null,Vt=null,Si=new Map,$n=new Map,yr=[],Mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Is(n,i){switch(n){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Si.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(i.pointerId)}}function Wr(n,i,c,h,m,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[m]},i!==null&&(i=pl(i),i!==null&&Na(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function Uc(n,i,c,h,m){switch(i){case"focusin":return pn=Wr(pn,n,i,c,h,m),!0;case"dragenter":return mn=Wr(mn,n,i,c,h,m),!0;case"mouseover":return Vt=Wr(Vt,n,i,c,h,m),!0;case"pointerover":var x=m.pointerId;return Si.set(x,Wr(Si.get(x)||null,n,i,c,h,m)),!0;case"gotpointercapture":return x=m.pointerId,$n.set(x,Wr($n.get(x)||null,n,i,c,h,m)),!0}return!1}function ja(n){var i=Pi(n.target);if(i!==null){var c=qr(i);if(c!==null){if(i=c.tag,i===13){if(i=$o(c),i!==null){n.blockedOn=i,el(n.priority,function(){Jo(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Je(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Ta(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);_s=h,c.target.dispatchEvent(h),_s=null}else return i=pl(c),i!==null&&Na(i),n.blockedOn=c,!1;i.shift()}return!0}function Fc(n,i,c){Je(n)&&c.delete(i)}function dh(){fn=!1,pn!==null&&Je(pn)&&(pn=null),mn!==null&&Je(mn)&&(mn=null),Vt!==null&&Je(Vt)&&(Vt=null),Si.forEach(Fc),$n.forEach(Fc)}function Ss(n,i){n.blockedOn===i&&(n.blockedOn=null,fn||(fn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function Cs(n){function i(m){return Ss(m,n)}if(0<Ea.length){Ss(Ea[0],n);for(var c=1;c<Ea.length;c++){var h=Ea[c];h.blockedOn===n&&(h.blockedOn=null)}}for(pn!==null&&Ss(pn,n),mn!==null&&Ss(mn,n),Vt!==null&&Ss(Vt,n),Si.forEach(i),$n.forEach(i),c=0;c<yr.length;c++)h=yr[c],h.blockedOn===n&&(h.blockedOn=null);for(;0<yr.length&&(c=yr[0],c.blockedOn===null);)ja(c),c.blockedOn===null&&yr.shift()}var qn=Q.ReactCurrentBatchConfig,Wn=!0;function gn(n,i,c,h){var m=Be,x=qn.transition;qn.transition=null;try{Be=1,tl(n,i,c,h)}finally{Be=m,qn.transition=x}}function zc(n,i,c,h){var m=Be,x=qn.transition;qn.transition=null;try{Be=4,tl(n,i,c,h)}finally{Be=m,qn.transition=x}}function tl(n,i,c,h){if(Wn){var m=Ta(n,i,c,h);if(m===null)_h(n,i,h,xn,c),Is(n,h);else if(Uc(m,n,i,c,h))h.stopPropagation();else if(Is(n,h),i&4&&-1<Mc.indexOf(n)){for(;m!==null;){var x=pl(m);if(x!==null&&Xo(x),x=Ta(n,i,c,h),x===null&&_h(n,i,h,xn,c),x===m)break;m=x}m!==null&&h.stopPropagation()}else _h(n,i,h,null,c)}}var xn=null;function Ta(n,i,c,h){if(xn=null,n=va(h),n=Pi(n),n!==null)if(i=qr(n),i===null)n=null;else if(c=i.tag,c===13){if(n=$o(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return xn=n,null}function Ia(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ch()){case _a:return 1;case Wo:return 4;case ki:case Ho:return 16;case ka:return 536870912;default:return 16}default:return 16}}var vr=null,Sa=null,Hn=null;function Bc(){if(Hn)return Hn;var n,i=Sa,c=i.length,h,m="value"in vr?vr.value:vr.textContent,x=m.length;for(n=0;n<c&&i[n]===m[n];n++);var _=c-n;for(h=1;h<=_&&i[c-h]===m[x-h];h++);return Hn=m.slice(n,1<h?1-h:void 0)}function Ci(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function yn(){return!0}function rl(){return!1}function Wt(n){function i(c,h,m,x,_){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(c=n[T],this[T]=c?c(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?yn:rl,this.isPropagationStopped=rl,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=yn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=yn)},persist:function(){},isPersistent:yn}),i}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Wt(vn),Rs=ae({},vn,{view:0,detail:0}),Ca=Wt(Rs),Ra,Aa,wr,Ai=ae({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wr&&(wr&&n.type==="mousemove"?(Ra=n.screenX-wr.screenX,Aa=n.screenY-wr.screenY):Aa=Ra=0,wr=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:Aa}}),nl=Wt(Ai),$c=ae({},Ai,{dataTransfer:0}),qc=Wt($c),Pa=ae({},Rs,{relatedTarget:0}),Mt=Wt(Pa),Wc=ae({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hc=Wt(Wc),As=ae({},vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),d=Wt(As),y=ae({},vn,{data:0}),w=Wt(y),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=K[n])?!!i[n]:!1}function Re(){return se}var gt=ae({},Rs,{key:function(n){if(n.key){var i=N[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(n){return n.type==="keypress"?Ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ye=Wt(gt),_t=ae({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),br=Wt(_t),Gn=ae({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),wn=Wt(Gn),bn=ae({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=Wt(bn),sl=ae({},Ai,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=Wt(sl),uk=[9,13,27,32],hh=f&&"CompositionEvent"in window,il=null;f&&"documentMode"in document&&(il=document.documentMode);var dk=f&&"TextEvent"in window&&!il,ng=f&&(!hh||il&&8<il&&11>=il),sg=" ",ig=!1;function ag(n,i){switch(n){case"keyup":return uk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Oa=!1;function hk(n,i){switch(n){case"compositionend":return og(i);case"keypress":return i.which!==32?null:(ig=!0,sg);case"textInput":return n=i.data,n===sg&&ig?null:n;default:return null}}function fk(n,i){if(Oa)return n==="compositionend"||!hh&&ag(n,i)?(n=Bc(),Hn=Sa=vr=null,Oa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ng&&i.locale!=="ko"?null:i.data;default:return null}}var pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!pk[n.type]:i==="textarea"}function cg(n,i,c,h){ks(h),i=Xc(i,"onChange"),0<i.length&&(c=new Ri("onChange","change",null,c,h),n.push({event:c,listeners:i}))}var al=null,ol=null;function mk(n){Tg(n,0)}function Gc(n){var i=Fa(n);if(on(i))return n}function gk(n,i){if(n==="change")return i}var ug=!1;if(f){var fh;if(f){var ph="oninput"in document;if(!ph){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),ph=typeof dg.oninput=="function"}fh=ph}else fh=!1;ug=fh&&(!document.documentMode||9<document.documentMode)}function hg(){al&&(al.detachEvent("onpropertychange",fg),ol=al=null)}function fg(n){if(n.propertyName==="value"&&Gc(ol)){var i=[];cg(i,ol,n,va(n)),Cc(mk,i)}}function xk(n,i,c){n==="focusin"?(hg(),al=i,ol=c,al.attachEvent("onpropertychange",fg)):n==="focusout"&&hg()}function yk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gc(ol)}function vk(n,i){if(n==="click")return Gc(i)}function wk(n,i){if(n==="input"||n==="change")return Gc(i)}function bk(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Hr=typeof Object.is=="function"?Object.is:bk;function ll(n,i){if(Hr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!p.call(i,m)||!Hr(n[m],i[m]))return!1}return!0}function pg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mg(n,i){var c=pg(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=i&&h>=i)return{node:c,offset:i-n};n=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pg(c)}}function gg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?gg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function xg(){for(var n=window,i=xs();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=xs(n.document)}return i}function mh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function _k(n){var i=xg(),c=n.focusedElem,h=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&gg(c.ownerDocument.documentElement,c)){if(h!==null&&mh(c)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=c.textContent.length,x=Math.min(h.start,m);h=h.end===void 0?x:Math.min(h.end,m),!n.extend&&x>h&&(m=h,h=x,x=m),m=mg(c,x);var _=mg(c,h);m&&_&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),x>h?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var kk=f&&"documentMode"in document&&11>=document.documentMode,La=null,gh=null,cl=null,xh=!1;function yg(n,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xh||La==null||La!==xs(h)||(h=La,"selectionStart"in h&&mh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),cl&&ll(cl,h)||(cl=h,h=Xc(gh,"onSelect"),0<h.length&&(i=new Ri("onSelect","select",null,i,c),n.push({event:i,listeners:h}),i.target=La)))}function Kc(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Va={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},yh={},vg={};f&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Qc(n){if(yh[n])return yh[n];if(!Va[n])return n;var i=Va[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in vg)return yh[n]=i[c];return n}var wg=Qc("animationend"),bg=Qc("animationiteration"),_g=Qc("animationstart"),kg=Qc("transitionend"),Ng=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(n,i){Ng.set(n,i),l(i,[n])}for(var vh=0;vh<Eg.length;vh++){var wh=Eg[vh],Nk=wh.toLowerCase(),Ek=wh[0].toUpperCase()+wh.slice(1);Ps(Nk,"on"+Ek)}Ps(wg,"onAnimationEnd"),Ps(bg,"onAnimationIteration"),Ps(_g,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(kg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function jg(n,i,c){var h=n.type||"unknown-event";n.currentTarget=c,Bo(h,i,void 0,n),n.currentTarget=null}function Tg(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],m=h.event;h=h.listeners;e:{var x=void 0;if(i)for(var _=h.length-1;0<=_;_--){var T=h[_],L=T.instance,H=T.currentTarget;if(T=T.listener,L!==x&&m.isPropagationStopped())break e;jg(m,T,H),x=L}else for(_=0;_<h.length;_++){if(T=h[_],L=T.instance,H=T.currentTarget,T=T.listener,L!==x&&m.isPropagationStopped())break e;jg(m,T,H),x=L}}}if(wa)throw n=Sr,wa=!1,Sr=null,n}function nt(n,i){var c=i[Ih];c===void 0&&(c=i[Ih]=new Set);var h=n+"__bubble";c.has(h)||(Ig(i,n,2,!1),c.add(h))}function bh(n,i,c){var h=0;i&&(h|=4),Ig(c,n,h,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function dl(n){if(!n[Yc]){n[Yc]=!0,s.forEach(function(c){c!=="selectionchange"&&(jk.has(c)||bh(c,!1,n),bh(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,bh("selectionchange",!1,i))}}function Ig(n,i,c,h){switch(Ia(i)){case 1:var m=gn;break;case 4:m=zc;break;default:m=tl}c=m.bind(null,i,c,n),m=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(i,c,{capture:!0,passive:m}):n.addEventListener(i,c,!0):m!==void 0?n.addEventListener(i,c,{passive:m}):n.addEventListener(i,c,!1)}function _h(n,i,c,h,m){var x=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var T=h.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(_===4)for(_=h.return;_!==null;){var L=_.tag;if((L===3||L===4)&&(L=_.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;_=_.return}for(;T!==null;){if(_=Pi(T),_===null)return;if(L=_.tag,L===5||L===6){h=x=_;continue e}T=T.parentNode}}h=h.return}Cc(function(){var H=x,te=va(c),re=[];e:{var ee=Ng.get(n);if(ee!==void 0){var le=Ri,fe=n;switch(n){case"keypress":if(Ci(c)===0)break e;case"keydown":case"keyup":le=Ye;break;case"focusin":fe="focus",le=Mt;break;case"focusout":fe="blur",le=Mt;break;case"beforeblur":case"afterblur":le=Mt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=wn;break;case wg:case bg:case _g:le=Hc;break;case kg:le=Da;break;case"scroll":le=Ca;break;case"wheel":le=ck;break;case"copy":case"cut":case"paste":le=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=br}var ge=(i&4)!==0,xt=!ge&&n==="scroll",B=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var M=H,q;M!==null;){q=M;var ne=q.stateNode;if(q.tag===5&&ne!==null&&(q=ne,B!==null&&(ne=wi(M,B),ne!=null&&ge.push(hl(M,ne,q)))),xt)break;M=M.return}0<ge.length&&(ee=new le(ee,fe,null,c,te),re.push({event:ee,listeners:ge}))}}if((i&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",ee&&c!==_s&&(fe=c.relatedTarget||c.fromElement)&&(Pi(fe)||fe[Kn]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(fe=c.relatedTarget||c.toElement,le=H,fe=fe?Pi(fe):null,fe!==null&&(xt=qr(fe),fe!==xt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(le=null,fe=H),le!==fe)){if(ge=nl,ne="onMouseLeave",B="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ge=br,ne="onPointerLeave",B="onPointerEnter",M="pointer"),xt=le==null?ee:Fa(le),q=fe==null?ee:Fa(fe),ee=new ge(ne,M+"leave",le,c,te),ee.target=xt,ee.relatedTarget=q,ne=null,Pi(te)===H&&(ge=new ge(B,M+"enter",fe,c,te),ge.target=q,ge.relatedTarget=xt,ne=ge),xt=ne,le&&fe)t:{for(ge=le,B=fe,M=0,q=ge;q;q=Ma(q))M++;for(q=0,ne=B;ne;ne=Ma(ne))q++;for(;0<M-q;)ge=Ma(ge),M--;for(;0<q-M;)B=Ma(B),q--;for(;M--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=Ma(ge),B=Ma(B)}ge=null}else ge=null;le!==null&&Sg(re,ee,le,ge,!1),fe!==null&&xt!==null&&Sg(re,xt,fe,ge,!0)}}e:{if(ee=H?Fa(H):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var xe=gk;else if(lg(ee))if(ug)xe=wk;else{xe=yk;var _e=xk}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(xe=vk);if(xe&&(xe=xe(n,H))){cg(re,xe,c,te);break e}_e&&_e(n,ee,H),n==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&bt(ee,"number",ee.value)}switch(_e=H?Fa(H):window,n){case"focusin":(lg(_e)||_e.contentEditable==="true")&&(La=_e,gh=H,cl=null);break;case"focusout":cl=gh=La=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,yg(re,c,te);break;case"selectionchange":if(kk)break;case"keydown":case"keyup":yg(re,c,te)}var ke;if(hh)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Oa?ag(n,c)&&(Se="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(ng&&c.locale!=="ko"&&(Oa||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Oa&&(ke=Bc()):(vr=te,Sa="value"in vr?vr.value:vr.textContent,Oa=!0)),_e=Xc(H,Se),0<_e.length&&(Se=new w(Se,n,null,c,te),re.push({event:Se,listeners:_e}),ke?Se.data=ke:(ke=og(c),ke!==null&&(Se.data=ke)))),(ke=dk?hk(n,c):fk(n,c))&&(H=Xc(H,"onBeforeInput"),0<H.length&&(te=new w("onBeforeInput","beforeinput",null,c,te),re.push({event:te,listeners:H}),te.data=ke))}Tg(re,i)})}function hl(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Xc(n,i){for(var c=i+"Capture",h=[];n!==null;){var m=n,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=wi(n,c),x!=null&&h.unshift(hl(n,x,m)),x=wi(n,i),x!=null&&h.push(hl(n,x,m))),n=n.return}return h}function Ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Sg(n,i,c,h,m){for(var x=i._reactName,_=[];c!==null&&c!==h;){var T=c,L=T.alternate,H=T.stateNode;if(L!==null&&L===h)break;T.tag===5&&H!==null&&(T=H,m?(L=wi(c,x),L!=null&&_.unshift(hl(c,L,T))):m||(L=wi(c,x),L!=null&&_.push(hl(c,L,T)))),c=c.return}_.length!==0&&n.push({event:i,listeners:_})}var Tk=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function Cg(n){return(typeof n=="string"?n:""+n).replace(Tk,`
`).replace(Ik,"")}function Jc(n,i,c){if(i=Cg(i),Cg(n)!==i&&c)throw Error(t(425))}function Zc(){}var kh=null,Nh=null;function Eh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,Sk=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(n){return Rg.resolve(null).then(n).catch(Rk)}:jh;function Rk(n){setTimeout(function(){throw n})}function Th(n,i){var c=i,h=0;do{var m=c.nextSibling;if(n.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){n.removeChild(m),Cs(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Cs(i)}function Ds(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ag(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),_n="__reactFiber$"+Ua,fl="__reactProps$"+Ua,Kn="__reactContainer$"+Ua,Ih="__reactEvents$"+Ua,Ak="__reactListeners$"+Ua,Pk="__reactHandles$"+Ua;function Pi(n){var i=n[_n];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Kn]||c[_n]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Ag(n);n!==null;){if(c=n[_n])return c;n=Ag(n)}return i}n=c,c=n.parentNode}return null}function pl(n){return n=n[_n]||n[Kn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function eu(n){return n[fl]||null}var Sh=[],za=-1;function Os(n){return{current:n}}function st(n){0>za||(n.current=Sh[za],Sh[za]=null,za--)}function et(n,i){za++,Sh[za]=n.current,n.current=i}var Ls={},Ht=Os(Ls),ar=Os(!1),Di=Ls;function Ba(n,i){var c=n.type.contextTypes;if(!c)return Ls;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in c)m[x]=i[x];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function or(n){return n=n.childContextTypes,n!=null}function tu(){st(ar),st(Ht)}function Pg(n,i,c){if(Ht.current!==Ls)throw Error(t(168));et(Ht,i),et(ar,c)}function Dg(n,i,c){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in i))throw Error(t(108,Ee(n)||"Unknown",m));return ae({},c,h)}function ru(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,Di=Ht.current,et(Ht,n),et(ar,ar.current),!0}function Og(n,i,c){var h=n.stateNode;if(!h)throw Error(t(169));c?(n=Dg(n,i,Di),h.__reactInternalMemoizedMergedChildContext=n,st(ar),st(Ht),et(Ht,n)):st(ar),et(ar,c)}var Qn=null,nu=!1,Ch=!1;function Lg(n){Qn===null?Qn=[n]:Qn.push(n)}function Dk(n){nu=!0,Lg(n)}function Vs(){if(!Ch&&Qn!==null){Ch=!0;var n=0,i=Be;try{var c=Qn;for(Be=1;n<c.length;n++){var h=c[n];do h=h(!0);while(h!==null)}Qn=null,nu=!1}catch(m){throw Qn!==null&&(Qn=Qn.slice(n+1)),qo(_a,Vs),m}finally{Be=i,Ch=!1}}return null}var $a=[],qa=0,su=null,iu=0,Rr=[],Ar=0,Oi=null,Yn=1,Xn="";function Li(n,i){$a[qa++]=iu,$a[qa++]=su,su=n,iu=i}function Vg(n,i,c){Rr[Ar++]=Yn,Rr[Ar++]=Xn,Rr[Ar++]=Oi,Oi=n;var h=Yn;n=Xn;var m=32-xr(h)-1;h&=~(1<<m),c+=1;var x=32-xr(i)+m;if(30<x){var _=m-m%5;x=(h&(1<<_)-1).toString(32),h>>=_,m-=_,Yn=1<<32-xr(i)+m|c<<m|h,Xn=x+n}else Yn=1<<x|c<<m|h,Xn=n}function Rh(n){n.return!==null&&(Li(n,1),Vg(n,1,0))}function Ah(n){for(;n===su;)su=$a[--qa],$a[qa]=null,iu=$a[--qa],$a[qa]=null;for(;n===Oi;)Oi=Rr[--Ar],Rr[Ar]=null,Xn=Rr[--Ar],Rr[Ar]=null,Yn=Rr[--Ar],Rr[Ar]=null}var _r=null,kr=null,it=!1,Gr=null;function Mg(n,i){var c=Lr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Ug(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,_r=n,kr=Ds(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,_r=n,kr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Oi!==null?{id:Yn,overflow:Xn}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Lr(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,_r=n,kr=null,!0):!1;default:return!1}}function Ph(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dh(n){if(it){var i=kr;if(i){var c=i;if(!Ug(n,i)){if(Ph(n))throw Error(t(418));i=Ds(c.nextSibling);var h=_r;i&&Ug(n,i)?Mg(h,c):(n.flags=n.flags&-4097|2,it=!1,_r=n)}}else{if(Ph(n))throw Error(t(418));n.flags=n.flags&-4097|2,it=!1,_r=n}}}function Fg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;_r=n}function au(n){if(n!==_r)return!1;if(!it)return Fg(n),it=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Eh(n.type,n.memoizedProps)),i&&(i=kr)){if(Ph(n))throw zg(),Error(t(418));for(;i;)Mg(n,i),i=Ds(i.nextSibling)}if(Fg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){kr=Ds(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}kr=null}}else kr=_r?Ds(n.stateNode.nextSibling):null;return!0}function zg(){for(var n=kr;n;)n=Ds(n.nextSibling)}function Wa(){kr=_r=null,it=!1}function Oh(n){Gr===null?Gr=[n]:Gr.push(n)}var Ok=Q.ReactCurrentBatchConfig;function ml(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,n));var m=h,x=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(_){var T=m.refs;_===null?delete T[x]:T[x]=_},i._stringRef=x,i)}if(typeof n!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,n))}return n}function ou(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Bg(n){var i=n._init;return i(n._payload)}function $g(n){function i(B,M){if(n){var q=B.deletions;q===null?(B.deletions=[M],B.flags|=16):q.push(M)}}function c(B,M){if(!n)return null;for(;M!==null;)i(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function m(B,M){return B=Ws(B,M),B.index=0,B.sibling=null,B}function x(B,M,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<M?(B.flags|=2,M):q):(B.flags|=2,M)):(B.flags|=1048576,M)}function _(B){return n&&B.alternate===null&&(B.flags|=2),B}function T(B,M,q,ne){return M===null||M.tag!==6?(M=Tf(q,B.mode,ne),M.return=B,M):(M=m(M,q),M.return=B,M)}function L(B,M,q,ne){var xe=q.type;return xe===R?te(B,M,q.props.children,ne,q.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Xe&&Bg(xe)===M.type)?(ne=m(M,q.props),ne.ref=ml(B,M,q),ne.return=B,ne):(ne=Ru(q.type,q.key,q.props,null,B.mode,ne),ne.ref=ml(B,M,q),ne.return=B,ne)}function H(B,M,q,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=If(q,B.mode,ne),M.return=B,M):(M=m(M,q.children||[]),M.return=B,M)}function te(B,M,q,ne,xe){return M===null||M.tag!==7?(M=qi(q,B.mode,ne,xe),M.return=B,M):(M=m(M,q),M.return=B,M)}function re(B,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Tf(""+M,B.mode,q),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ie:return q=Ru(M.type,M.key,M.props,null,B.mode,q),q.ref=ml(B,null,M),q.return=B,q;case de:return M=If(M,B.mode,q),M.return=B,M;case Xe:var ne=M._init;return re(B,ne(M._payload),q)}if(mt(M)||ce(M))return M=qi(M,B.mode,q,null),M.return=B,M;ou(B,M)}return null}function ee(B,M,q,ne){var xe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return xe!==null?null:T(B,M,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:return q.key===xe?L(B,M,q,ne):null;case de:return q.key===xe?H(B,M,q,ne):null;case Xe:return xe=q._init,ee(B,M,xe(q._payload),ne)}if(mt(q)||ce(q))return xe!==null?null:te(B,M,q,ne,null);ou(B,q)}return null}function le(B,M,q,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(q)||null,T(M,B,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ie:return B=B.get(ne.key===null?q:ne.key)||null,L(M,B,ne,xe);case de:return B=B.get(ne.key===null?q:ne.key)||null,H(M,B,ne,xe);case Xe:var _e=ne._init;return le(B,M,q,_e(ne._payload),xe)}if(mt(ne)||ce(ne))return B=B.get(q)||null,te(M,B,ne,xe,null);ou(M,ne)}return null}function fe(B,M,q,ne){for(var xe=null,_e=null,ke=M,Se=M=0,Pt=null;ke!==null&&Se<q.length;Se++){ke.index>Se?(Pt=ke,ke=null):Pt=ke.sibling;var Ge=ee(B,ke,q[Se],ne);if(Ge===null){ke===null&&(ke=Pt);break}n&&ke&&Ge.alternate===null&&i(B,ke),M=x(Ge,M,Se),_e===null?xe=Ge:_e.sibling=Ge,_e=Ge,ke=Pt}if(Se===q.length)return c(B,ke),it&&Li(B,Se),xe;if(ke===null){for(;Se<q.length;Se++)ke=re(B,q[Se],ne),ke!==null&&(M=x(ke,M,Se),_e===null?xe=ke:_e.sibling=ke,_e=ke);return it&&Li(B,Se),xe}for(ke=h(B,ke);Se<q.length;Se++)Pt=le(ke,B,Se,q[Se],ne),Pt!==null&&(n&&Pt.alternate!==null&&ke.delete(Pt.key===null?Se:Pt.key),M=x(Pt,M,Se),_e===null?xe=Pt:_e.sibling=Pt,_e=Pt);return n&&ke.forEach(function(Hs){return i(B,Hs)}),it&&Li(B,Se),xe}function ge(B,M,q,ne){var xe=ce(q);if(typeof xe!="function")throw Error(t(150));if(q=xe.call(q),q==null)throw Error(t(151));for(var _e=xe=null,ke=M,Se=M=0,Pt=null,Ge=q.next();ke!==null&&!Ge.done;Se++,Ge=q.next()){ke.index>Se?(Pt=ke,ke=null):Pt=ke.sibling;var Hs=ee(B,ke,Ge.value,ne);if(Hs===null){ke===null&&(ke=Pt);break}n&&ke&&Hs.alternate===null&&i(B,ke),M=x(Hs,M,Se),_e===null?xe=Hs:_e.sibling=Hs,_e=Hs,ke=Pt}if(Ge.done)return c(B,ke),it&&Li(B,Se),xe;if(ke===null){for(;!Ge.done;Se++,Ge=q.next())Ge=re(B,Ge.value,ne),Ge!==null&&(M=x(Ge,M,Se),_e===null?xe=Ge:_e.sibling=Ge,_e=Ge);return it&&Li(B,Se),xe}for(ke=h(B,ke);!Ge.done;Se++,Ge=q.next())Ge=le(ke,B,Se,Ge.value,ne),Ge!==null&&(n&&Ge.alternate!==null&&ke.delete(Ge.key===null?Se:Ge.key),M=x(Ge,M,Se),_e===null?xe=Ge:_e.sibling=Ge,_e=Ge);return n&&ke.forEach(function(pN){return i(B,pN)}),it&&Li(B,Se),xe}function xt(B,M,q,ne){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:e:{for(var xe=q.key,_e=M;_e!==null;){if(_e.key===xe){if(xe=q.type,xe===R){if(_e.tag===7){c(B,_e.sibling),M=m(_e,q.props.children),M.return=B,B=M;break e}}else if(_e.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Xe&&Bg(xe)===_e.type){c(B,_e.sibling),M=m(_e,q.props),M.ref=ml(B,_e,q),M.return=B,B=M;break e}c(B,_e);break}else i(B,_e);_e=_e.sibling}q.type===R?(M=qi(q.props.children,B.mode,ne,q.key),M.return=B,B=M):(ne=Ru(q.type,q.key,q.props,null,B.mode,ne),ne.ref=ml(B,M,q),ne.return=B,B=ne)}return _(B);case de:e:{for(_e=q.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){c(B,M.sibling),M=m(M,q.children||[]),M.return=B,B=M;break e}else{c(B,M);break}else i(B,M);M=M.sibling}M=If(q,B.mode,ne),M.return=B,B=M}return _(B);case Xe:return _e=q._init,xt(B,M,_e(q._payload),ne)}if(mt(q))return fe(B,M,q,ne);if(ce(q))return ge(B,M,q,ne);ou(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(c(B,M.sibling),M=m(M,q),M.return=B,B=M):(c(B,M),M=Tf(q,B.mode,ne),M.return=B,B=M),_(B)):c(B,M)}return xt}var Ha=$g(!0),qg=$g(!1),lu=Os(null),cu=null,Ga=null,Lh=null;function Vh(){Lh=Ga=cu=null}function Mh(n){var i=lu.current;st(lu),n._currentValue=i}function Uh(n,i,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===c)break;n=n.return}}function Ka(n,i){cu=n,Lh=Ga=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(lr=!0),n.firstContext=null)}function Pr(n){var i=n._currentValue;if(Lh!==n)if(n={context:n,memoizedValue:i,next:null},Ga===null){if(cu===null)throw Error(t(308));Ga=n,cu.dependencies={lanes:0,firstContext:n}}else Ga=Ga.next=n;return i}var Vi=null;function Fh(n){Vi===null?Vi=[n]:Vi.push(n)}function Wg(n,i,c,h){var m=i.interleaved;return m===null?(c.next=c,Fh(i)):(c.next=m.next,m.next=c),i.interleaved=c,Jn(n,h)}function Jn(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var Ms=!1;function zh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Zn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Us(n,i,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),h.pending=i,Jn(n,c)}return m=h.interleaved,m===null?(i.next=i,Fh(h)):(i.next=m.next,m.next=i),h.interleaved=i,Jn(n,c)}function uu(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Yo(n,c)}}function Gg(n,i){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?m=x=_:x=x.next=_,c=c.next}while(c!==null);x===null?m=x=i:x=x.next=i}else m=x=i;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:h.shared,effects:h.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function du(n,i,c,h){var m=n.updateQueue;Ms=!1;var x=m.firstBaseUpdate,_=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var L=T,H=L.next;L.next=null,_===null?x=H:_.next=H,_=L;var te=n.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==_&&(T===null?te.firstBaseUpdate=H:T.next=H,te.lastBaseUpdate=L))}if(x!==null){var re=m.baseState;_=0,te=H=L=null,T=x;do{var ee=T.lane,le=T.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var fe=n,ge=T;switch(ee=i,le=c,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){re=fe.call(le,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,ee=typeof fe=="function"?fe.call(le,re,ee):fe,ee==null)break e;re=ae({},re,ee);break e;case 2:Ms=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,ee=m.effects,ee===null?m.effects=[T]:ee.push(T))}else le={eventTime:le,lane:ee,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(H=te=le,L=re):te=te.next=le,_|=ee;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(L=re),m.baseState=L,m.firstBaseUpdate=H,m.lastBaseUpdate=te,i=m.shared.interleaved,i!==null){m=i;do _|=m.lane,m=m.next;while(m!==i)}else x===null&&(m.shared.lanes=0);Fi|=_,n.lanes=_,n.memoizedState=re}}function Kg(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var gl={},kn=Os(gl),xl=Os(gl),yl=Os(gl);function Mi(n){if(n===gl)throw Error(t(174));return n}function Bh(n,i){switch(et(yl,i),et(xl,n),et(kn,gl),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ga(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ga(i,n)}st(kn),et(kn,i)}function Qa(){st(kn),st(xl),st(yl)}function Qg(n){Mi(yl.current);var i=Mi(kn.current),c=ga(i,n.type);i!==c&&(et(xl,n),et(kn,c))}function $h(n){xl.current===n&&(st(kn),st(xl))}var at=Os(0);function hu(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qh=[];function Wh(){for(var n=0;n<qh.length;n++)qh[n]._workInProgressVersionPrimary=null;qh.length=0}var fu=Q.ReactCurrentDispatcher,Hh=Q.ReactCurrentBatchConfig,Ui=0,ot=null,Tt=null,Rt=null,pu=!1,vl=!1,wl=0,Lk=0;function Gt(){throw Error(t(321))}function Gh(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!Hr(n[c],i[c]))return!1;return!0}function Kh(n,i,c,h,m,x){if(Ui=x,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fu.current=n===null||n.memoizedState===null?Fk:zk,n=c(h,m),vl){x=0;do{if(vl=!1,wl=0,25<=x)throw Error(t(301));x+=1,Rt=Tt=null,i.updateQueue=null,fu.current=Bk,n=c(h,m)}while(vl)}if(fu.current=xu,i=Tt!==null&&Tt.next!==null,Ui=0,Rt=Tt=ot=null,pu=!1,i)throw Error(t(300));return n}function Qh(){var n=wl!==0;return wl=0,n}function Nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Dr(){if(Tt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var i=Rt===null?ot.memoizedState:Rt.next;if(i!==null)Rt=i,Tt=n;else{if(n===null)throw Error(t(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?ot.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function bl(n,i){return typeof i=="function"?i(n):i}function Yh(n){var i=Dr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var h=Tt,m=h.baseQueue,x=c.pending;if(x!==null){if(m!==null){var _=m.next;m.next=x.next,x.next=_}h.baseQueue=m=x,c.pending=null}if(m!==null){x=m.next,h=h.baseState;var T=_=null,L=null,H=x;do{var te=H.lane;if((Ui&te)===te)L!==null&&(L=L.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:n(h,H.action);else{var re={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};L===null?(T=L=re,_=h):L=L.next=re,ot.lanes|=te,Fi|=te}H=H.next}while(H!==null&&H!==x);L===null?_=h:L.next=T,Hr(h,i.memoizedState)||(lr=!0),i.memoizedState=h,i.baseState=_,i.baseQueue=L,c.lastRenderedState=h}if(n=c.interleaved,n!==null){m=n;do x=m.lane,ot.lanes|=x,Fi|=x,m=m.next;while(m!==n)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Xh(n){var i=Dr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var h=c.dispatch,m=c.pending,x=i.memoizedState;if(m!==null){c.pending=null;var _=m=m.next;do x=n(x,_.action),_=_.next;while(_!==m);Hr(x,i.memoizedState)||(lr=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,h]}function Yg(){}function Xg(n,i){var c=ot,h=Dr(),m=i(),x=!Hr(h.memoizedState,m);if(x&&(h.memoizedState=m,lr=!0),h=h.queue,Jh(e0.bind(null,c,h,n),[n]),h.getSnapshot!==i||x||Rt!==null&&Rt.memoizedState.tag&1){if(c.flags|=2048,_l(9,Zg.bind(null,c,h,m,i),void 0,null),At===null)throw Error(t(349));(Ui&30)!==0||Jg(c,i,m)}return m}function Jg(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Zg(n,i,c,h){i.value=c,i.getSnapshot=h,t0(i)&&r0(n)}function e0(n,i,c){return c(function(){t0(i)&&r0(n)})}function t0(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!Hr(n,c)}catch{return!0}}function r0(n){var i=Jn(n,1);i!==null&&Xr(i,n,1,-1)}function n0(n){var i=Nn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:n},i.queue=n,n=n.dispatch=Uk.bind(null,ot,n),[i.memoizedState,n]}function _l(n,i,c,h){return n={tag:n,create:i,destroy:c,deps:h,next:null},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,i.lastEffect=n)),n}function s0(){return Dr().memoizedState}function mu(n,i,c,h){var m=Nn();ot.flags|=n,m.memoizedState=_l(1|i,c,void 0,h===void 0?null:h)}function gu(n,i,c,h){var m=Dr();h=h===void 0?null:h;var x=void 0;if(Tt!==null){var _=Tt.memoizedState;if(x=_.destroy,h!==null&&Gh(h,_.deps)){m.memoizedState=_l(i,c,x,h);return}}ot.flags|=n,m.memoizedState=_l(1|i,c,x,h)}function i0(n,i){return mu(8390656,8,n,i)}function Jh(n,i){return gu(2048,8,n,i)}function a0(n,i){return gu(4,2,n,i)}function o0(n,i){return gu(4,4,n,i)}function l0(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function c0(n,i,c){return c=c!=null?c.concat([n]):null,gu(4,4,l0.bind(null,i,n),c)}function Zh(){}function u0(n,i){var c=Dr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Gh(i,h[1])?h[0]:(c.memoizedState=[n,i],n)}function d0(n,i){var c=Dr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Gh(i,h[1])?h[0]:(n=n(),c.memoizedState=[n,i],n)}function h0(n,i,c){return(Ui&21)===0?(n.baseState&&(n.baseState=!1,lr=!0),n.memoizedState=c):(Hr(c,i)||(c=Ko(),ot.lanes|=c,Fi|=c,n.baseState=!0),i)}function Vk(n,i){var c=Be;Be=c!==0&&4>c?c:4,n(!0);var h=Hh.transition;Hh.transition={};try{n(!1),i()}finally{Be=c,Hh.transition=h}}function f0(){return Dr().memoizedState}function Mk(n,i,c){var h=$s(n);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},p0(n))m0(i,c);else if(c=Wg(n,i,c,h),c!==null){var m=sr();Xr(c,n,h,m),g0(c,i,h)}}function Uk(n,i,c){var h=$s(n),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(p0(n))m0(i,m);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var _=i.lastRenderedState,T=x(_,c);if(m.hasEagerState=!0,m.eagerState=T,Hr(T,_)){var L=i.interleaved;L===null?(m.next=m,Fh(i)):(m.next=L.next,L.next=m),i.interleaved=m;return}}catch{}finally{}c=Wg(n,i,m,h),c!==null&&(m=sr(),Xr(c,n,h,m),g0(c,i,h))}}function p0(n){var i=n.alternate;return n===ot||i!==null&&i===ot}function m0(n,i){vl=pu=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function g0(n,i,c){if((c&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Yo(n,c)}}var xu={readContext:Pr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Fk={readContext:Pr,useCallback:function(n,i){return Nn().memoizedState=[n,i===void 0?null:i],n},useContext:Pr,useEffect:i0,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,mu(4194308,4,l0.bind(null,i,n),c)},useLayoutEffect:function(n,i){return mu(4194308,4,n,i)},useInsertionEffect:function(n,i){return mu(4,2,n,i)},useMemo:function(n,i){var c=Nn();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var h=Nn();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=Mk.bind(null,ot,n),[h.memoizedState,n]},useRef:function(n){var i=Nn();return n={current:n},i.memoizedState=n},useState:n0,useDebugValue:Zh,useDeferredValue:function(n){return Nn().memoizedState=n},useTransition:function(){var n=n0(!1),i=n[0];return n=Vk.bind(null,n[1]),Nn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var h=ot,m=Nn();if(it){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),At===null)throw Error(t(349));(Ui&30)!==0||Jg(h,i,c)}m.memoizedState=c;var x={value:c,getSnapshot:i};return m.queue=x,i0(e0.bind(null,h,x,n),[n]),h.flags|=2048,_l(9,Zg.bind(null,h,x,c,i),void 0,null),c},useId:function(){var n=Nn(),i=At.identifierPrefix;if(it){var c=Xn,h=Yn;c=(h&~(1<<32-xr(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=wl++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Lk++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},zk={readContext:Pr,useCallback:u0,useContext:Pr,useEffect:Jh,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:Yh,useRef:s0,useState:function(){return Yh(bl)},useDebugValue:Zh,useDeferredValue:function(n){var i=Dr();return h0(i,Tt.memoizedState,n)},useTransition:function(){var n=Yh(bl)[0],i=Dr().memoizedState;return[n,i]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:f0,unstable_isNewReconciler:!1},Bk={readContext:Pr,useCallback:u0,useContext:Pr,useEffect:Jh,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:d0,useReducer:Xh,useRef:s0,useState:function(){return Xh(bl)},useDebugValue:Zh,useDeferredValue:function(n){var i=Dr();return Tt===null?i.memoizedState=n:h0(i,Tt.memoizedState,n)},useTransition:function(){var n=Xh(bl)[0],i=Dr().memoizedState;return[n,i]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:f0,unstable_isNewReconciler:!1};function Kr(n,i){if(n&&n.defaultProps){i=ae({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function ef(n,i,c,h){i=n.memoizedState,c=c(h,i),c=c==null?i:ae({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var yu={isMounted:function(n){return(n=n._reactInternals)?qr(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var h=sr(),m=$s(n),x=Zn(h,m);x.payload=i,c!=null&&(x.callback=c),i=Us(n,x,m),i!==null&&(Xr(i,n,m,h),uu(i,n,m))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var h=sr(),m=$s(n),x=Zn(h,m);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Us(n,x,m),i!==null&&(Xr(i,n,m,h),uu(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=sr(),h=$s(n),m=Zn(c,h);m.tag=2,i!=null&&(m.callback=i),i=Us(n,m,h),i!==null&&(Xr(i,n,h,c),uu(i,n,h))}};function x0(n,i,c,h,m,x,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,x,_):i.prototype&&i.prototype.isPureReactComponent?!ll(c,h)||!ll(m,x):!0}function y0(n,i,c){var h=!1,m=Ls,x=i.contextType;return typeof x=="object"&&x!==null?x=Pr(x):(m=or(i)?Di:Ht.current,h=i.contextTypes,x=(h=h!=null)?Ba(n,m):Ls),i=new i(c,x),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yu,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=x),i}function v0(n,i,c,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==n&&yu.enqueueReplaceState(i,i.state,null)}function tf(n,i,c,h){var m=n.stateNode;m.props=c,m.state=n.memoizedState,m.refs={},zh(n);var x=i.contextType;typeof x=="object"&&x!==null?m.context=Pr(x):(x=or(i)?Di:Ht.current,m.context=Ba(n,x)),m.state=n.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(ef(n,i,x,c),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&yu.enqueueReplaceState(m,m.state,null),du(n,c,m,h),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ya(n,i){try{var c="",h=i;do c+=De(h),h=h.return;while(h);var m=c}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:i,stack:m,digest:null}}function rf(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function nf(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var $k=typeof WeakMap=="function"?WeakMap:Map;function w0(n,i,c){c=Zn(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Eu||(Eu=!0,vf=h),nf(n,i)},c}function b0(n,i,c){c=Zn(-1,c),c.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var m=i.value;c.payload=function(){return h(m)},c.callback=function(){nf(n,i)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){nf(n,i),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),c}function _0(n,i,c){var h=n.pingCache;if(h===null){h=n.pingCache=new $k;var m=new Set;h.set(i,m)}else m=h.get(i),m===void 0&&(m=new Set,h.set(i,m));m.has(c)||(m.add(c),n=nN.bind(null,n,i,c),i.then(n,n))}function k0(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function N0(n,i,c,h,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Zn(-1,1),i.tag=2,Us(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var qk=Q.ReactCurrentOwner,lr=!1;function nr(n,i,c,h){i.child=n===null?qg(i,null,c,h):Ha(i,n.child,c,h)}function E0(n,i,c,h,m){c=c.render;var x=i.ref;return Ka(i,m),h=Kh(n,i,c,h,x,m),c=Qh(),n!==null&&!lr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,es(n,i,m)):(it&&c&&Rh(i),i.flags|=1,nr(n,i,h,m),i.child)}function j0(n,i,c,h,m){if(n===null){var x=c.type;return typeof x=="function"&&!jf(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,T0(n,i,x,h,m)):(n=Ru(c.type,null,h,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,(n.lanes&m)===0){var _=x.memoizedProps;if(c=c.compare,c=c!==null?c:ll,c(_,h)&&n.ref===i.ref)return es(n,i,m)}return i.flags|=1,n=Ws(x,h),n.ref=i.ref,n.return=i,i.child=n}function T0(n,i,c,h,m){if(n!==null){var x=n.memoizedProps;if(ll(x,h)&&n.ref===i.ref)if(lr=!1,i.pendingProps=h=x,(n.lanes&m)!==0)(n.flags&131072)!==0&&(lr=!0);else return i.lanes=n.lanes,es(n,i,m)}return sf(n,i,c,h,m)}function I0(n,i,c){var h=i.pendingProps,m=h.children,x=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ja,Nr),Nr|=c;else{if((c&1073741824)===0)return n=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,et(Ja,Nr),Nr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,et(Ja,Nr),Nr|=h}else x!==null?(h=x.baseLanes|c,i.memoizedState=null):h=c,et(Ja,Nr),Nr|=h;return nr(n,i,m,c),i.child}function S0(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function sf(n,i,c,h,m){var x=or(c)?Di:Ht.current;return x=Ba(i,x),Ka(i,m),c=Kh(n,i,c,h,x,m),h=Qh(),n!==null&&!lr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,es(n,i,m)):(it&&h&&Rh(i),i.flags|=1,nr(n,i,c,m),i.child)}function C0(n,i,c,h,m){if(or(c)){var x=!0;ru(i)}else x=!1;if(Ka(i,m),i.stateNode===null)wu(n,i),y0(i,c,h),tf(i,c,h,m),h=!0;else if(n===null){var _=i.stateNode,T=i.memoizedProps;_.props=T;var L=_.context,H=c.contextType;typeof H=="object"&&H!==null?H=Pr(H):(H=or(c)?Di:Ht.current,H=Ba(i,H));var te=c.getDerivedStateFromProps,re=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function";re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==h||L!==H)&&v0(i,_,h,H),Ms=!1;var ee=i.memoizedState;_.state=ee,du(i,h,_,m),L=i.memoizedState,T!==h||ee!==L||ar.current||Ms?(typeof te=="function"&&(ef(i,c,te,h),L=i.memoizedState),(T=Ms||x0(i,c,T,h,ee,L,H))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=L),_.props=h,_.state=L,_.context=H,h=T):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{_=i.stateNode,Hg(n,i),T=i.memoizedProps,H=i.type===i.elementType?T:Kr(i.type,T),_.props=H,re=i.pendingProps,ee=_.context,L=c.contextType,typeof L=="object"&&L!==null?L=Pr(L):(L=or(c)?Di:Ht.current,L=Ba(i,L));var le=c.getDerivedStateFromProps;(te=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==re||ee!==L)&&v0(i,_,h,L),Ms=!1,ee=i.memoizedState,_.state=ee,du(i,h,_,m);var fe=i.memoizedState;T!==re||ee!==fe||ar.current||Ms?(typeof le=="function"&&(ef(i,c,le,h),fe=i.memoizedState),(H=Ms||x0(i,c,H,h,ee,fe,L)||!1)?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,fe,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,fe,L)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=fe),_.props=h,_.state=fe,_.context=L,h=H):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),h=!1)}return af(n,i,c,h,x,m)}function af(n,i,c,h,m,x){S0(n,i);var _=(i.flags&128)!==0;if(!h&&!_)return m&&Og(i,c,!1),es(n,i,x);h=i.stateNode,qk.current=i;var T=_&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&_?(i.child=Ha(i,n.child,null,x),i.child=Ha(i,null,T,x)):nr(n,i,T,x),i.memoizedState=h.state,m&&Og(i,c,!0),i.child}function R0(n){var i=n.stateNode;i.pendingContext?Pg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Pg(n,i.context,!1),Bh(n,i.containerInfo)}function A0(n,i,c,h,m){return Wa(),Oh(m),i.flags|=256,nr(n,i,c,h),i.child}var of={dehydrated:null,treeContext:null,retryLane:0};function lf(n){return{baseLanes:n,cachePool:null,transitions:null}}function P0(n,i,c){var h=i.pendingProps,m=at.current,x=!1,_=(i.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(m&2)!==0),T?(x=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),et(at,m&1),n===null)return Dh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=h.children,n=h.fallback,x?(h=i.mode,x=i.child,_={mode:"hidden",children:_},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=_):x=Au(_,h,0,null),n=qi(n,h,c,null),x.return=i,n.return=i,x.sibling=n,i.child=x,i.child.memoizedState=lf(c),i.memoizedState=of,n):cf(i,_));if(m=n.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Wk(n,i,_,h,T,m,c);if(x){x=h.fallback,_=i.mode,m=n.child,T=m.sibling;var L={mode:"hidden",children:h.children};return(_&1)===0&&i.child!==m?(h=i.child,h.childLanes=0,h.pendingProps=L,i.deletions=null):(h=Ws(m,L),h.subtreeFlags=m.subtreeFlags&14680064),T!==null?x=Ws(T,x):(x=qi(x,_,c,null),x.flags|=2),x.return=i,h.return=i,h.sibling=x,i.child=h,h=x,x=i.child,_=n.child.memoizedState,_=_===null?lf(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},x.memoizedState=_,x.childLanes=n.childLanes&~c,i.memoizedState=of,h}return x=n.child,n=x.sibling,h=Ws(x,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=h,i.memoizedState=null,h}function cf(n,i){return i=Au({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function vu(n,i,c,h){return h!==null&&Oh(h),Ha(i,n.child,null,c),n=cf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Wk(n,i,c,h,m,x,_){if(c)return i.flags&256?(i.flags&=-257,h=rf(Error(t(422))),vu(n,i,_,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(x=h.fallback,m=i.mode,h=Au({mode:"visible",children:h.children},m,0,null),x=qi(x,m,_,null),x.flags|=2,h.return=i,x.return=i,h.sibling=x,i.child=h,(i.mode&1)!==0&&Ha(i,n.child,null,_),i.child.memoizedState=lf(_),i.memoizedState=of,x);if((i.mode&1)===0)return vu(n,i,_,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var T=h.dgst;return h=T,x=Error(t(419)),h=rf(x,h,void 0),vu(n,i,_,h)}if(T=(_&n.childLanes)!==0,lr||T){if(h=At,h!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|_))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,Jn(n,m),Xr(h,n,m,-1))}return Ef(),h=rf(Error(t(421))),vu(n,i,_,h)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=sN.bind(null,n),m._reactRetry=i,null):(n=x.treeContext,kr=Ds(m.nextSibling),_r=i,it=!0,Gr=null,n!==null&&(Rr[Ar++]=Yn,Rr[Ar++]=Xn,Rr[Ar++]=Oi,Yn=n.id,Xn=n.overflow,Oi=i),i=cf(i,h.children),i.flags|=4096,i)}function D0(n,i,c){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Uh(n.return,i,c)}function uf(n,i,c,h,m){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m)}function O0(n,i,c){var h=i.pendingProps,m=h.revealOrder,x=h.tail;if(nr(n,i,h.children,c),h=at.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&D0(n,c,i);else if(n.tag===19)D0(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(et(at,h),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)n=c.alternate,n!==null&&hu(n)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),uf(i,!1,m,c,x);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&hu(n)===null){i.child=m;break}n=m.sibling,m.sibling=c,c=m,m=n}uf(i,!0,c,null,x);break;case"together":uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wu(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function es(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,c=Ws(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Ws(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function Hk(n,i,c){switch(i.tag){case 3:R0(i),Wa();break;case 5:Qg(i);break;case 1:or(i.type)&&ru(i);break;case 4:Bh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,m=i.memoizedProps.value;et(lu,h._currentValue),h._currentValue=m;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(et(at,at.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?P0(n,i,c):(et(at,at.current&1),n=es(n,i,c),n!==null?n.sibling:null);et(at,at.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(n.flags&128)!==0){if(h)return O0(n,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(at,at.current),h)break;return null;case 22:case 23:return i.lanes=0,I0(n,i,c)}return es(n,i,c)}var L0,df,V0,M0;L0=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},df=function(){},V0=function(n,i,c,h){var m=n.memoizedProps;if(m!==h){n=i.stateNode,Mi(kn.current);var x=null;switch(c){case"input":m=pa(n,m),h=pa(n,h),x=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),x=[];break;case"textarea":m=Vo(n,m),h=Vo(n,h),x=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Zc)}$r(c,h);var _;c=null;for(H in m)if(!h.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var T=m[H];for(_ in T)T.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?x||(x=[]):(x=x||[]).push(H,null));for(H in h){var L=h[H];if(T=m?.[H],h.hasOwnProperty(H)&&L!==T&&(L!=null||T!=null))if(H==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||L&&L.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in L)L.hasOwnProperty(_)&&T[_]!==L[_]&&(c||(c={}),c[_]=L[_])}else c||(x||(x=[]),x.push(H,c)),c=L;else H==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,T=T?T.__html:void 0,L!=null&&T!==L&&(x=x||[]).push(H,L)):H==="children"?typeof L!="string"&&typeof L!="number"||(x=x||[]).push(H,""+L):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(L!=null&&H==="onScroll"&&nt("scroll",n),x||T===L||(x=[])):(x=x||[]).push(H,L))}c&&(x=x||[]).push("style",c);var H=x;(i.updateQueue=H)&&(i.flags|=4)}},M0=function(n,i,c,h){c!==h&&(i.flags|=4)};function kl(n,i){if(!it)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Kt(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(i)for(var m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=c,i}function Gk(n,i,c){var h=i.pendingProps;switch(Ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return or(i.type)&&tu(),Kt(i),null;case 3:return h=i.stateNode,Qa(),st(ar),st(Ht),Wh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(au(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gr!==null&&(_f(Gr),Gr=null))),df(n,i),Kt(i),null;case 5:$h(i);var m=Mi(yl.current);if(c=i.type,n!==null&&i.stateNode!=null)V0(n,i,c,h,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Kt(i),null}if(n=Mi(kn.current),au(i)){h=i.stateNode,c=i.type;var x=i.memoizedProps;switch(h[_n]=i,h[fl]=x,n=(i.mode&1)!==0,c){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":Nc(h,x),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},nt("invalid",h);break;case"textarea":Mo(h,x),nt("invalid",h)}$r(c,x),m=null;for(var _ in x)if(x.hasOwnProperty(_)){var T=x[_];_==="children"?typeof T=="string"?h.textContent!==T&&(x.suppressHydrationWarning!==!0&&Jc(h.textContent,T,n),m=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&Jc(h.textContent,T,n),m=["children",""+T]):o.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&nt("scroll",h)}switch(c){case"input":an(h),Lo(h,x,!0);break;case"textarea":an(h),ys(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Zc)}h=m,i.updateQueue=h,h!==null&&(i.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Uo(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=_.createElement(c,{is:h.is}):(n=_.createElement(c),c==="select"&&(_=n,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):n=_.createElementNS(n,c),n[_n]=i,n[fl]=h,L0(n,i,!1,!1),i.stateNode=n;e:{switch(_=ya(c,h),c){case"dialog":nt("cancel",n),nt("close",n),m=h;break;case"iframe":case"object":case"embed":nt("load",n),m=h;break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],n);m=h;break;case"source":nt("error",n),m=h;break;case"img":case"image":case"link":nt("error",n),nt("load",n),m=h;break;case"details":nt("toggle",n),m=h;break;case"input":Nc(n,h),m=pa(n,h),nt("invalid",n);break;case"option":m=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),nt("invalid",n);break;case"textarea":Mo(n,h),m=Vo(n,h),nt("invalid",n);break;default:m=h}$r(c,m),T=m;for(x in T)if(T.hasOwnProperty(x)){var L=T[x];x==="style"?xa(n,L):x==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&jc(n,L)):x==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&vi(n,L):typeof L=="number"&&vi(n,""+L):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?L!=null&&x==="onScroll"&&nt("scroll",n):L!=null&&X(n,x,L,_))}switch(c){case"input":an(n),Lo(n,h,!1);break;case"textarea":an(n),ys(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Me(h.value));break;case"select":n.multiple=!!h.multiple,x=h.value,x!=null?Br(n,!!h.multiple,x,!1):h.defaultValue!=null&&Br(n,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Zc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Kt(i),null;case 6:if(n&&i.stateNode!=null)M0(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(c=Mi(yl.current),Mi(kn.current),au(i)){if(h=i.stateNode,c=i.memoizedProps,h[_n]=i,(x=h.nodeValue!==c)&&(n=_r,n!==null))switch(n.tag){case 3:Jc(h.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jc(h.nodeValue,c,(n.mode&1)!==0)}x&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[_n]=i,i.stateNode=h}return Kt(i),null;case 13:if(st(at),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&kr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)zg(),Wa(),i.flags|=98560,x=!1;else if(x=au(i),h!==null&&h.dehydrated!==null){if(n===null){if(!x)throw Error(t(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[_n]=i}else Wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),x=!1}else Gr!==null&&(_f(Gr),Gr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(at.current&1)!==0?It===0&&(It=3):Ef())),i.updateQueue!==null&&(i.flags|=4),Kt(i),null);case 4:return Qa(),df(n,i),n===null&&dl(i.stateNode.containerInfo),Kt(i),null;case 10:return Mh(i.type._context),Kt(i),null;case 17:return or(i.type)&&tu(),Kt(i),null;case 19:if(st(at),x=i.memoizedState,x===null)return Kt(i),null;if(h=(i.flags&128)!==0,_=x.rendering,_===null)if(h)kl(x,!1);else{if(It!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=hu(n),_!==null){for(i.flags|=128,kl(x,!1),h=_.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)x=c,n=h,x.flags&=14680066,_=x.alternate,_===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,n=_.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return et(at,at.current&1|2),i.child}n=n.sibling}x.tail!==null&&rt()>Za&&(i.flags|=128,h=!0,kl(x,!1),i.lanes=4194304)}else{if(!h)if(n=hu(_),n!==null){if(i.flags|=128,h=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),kl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!it)return Kt(i),null}else 2*rt()-x.renderingStartTime>Za&&c!==1073741824&&(i.flags|=128,h=!0,kl(x,!1),i.lanes=4194304);x.isBackwards?(_.sibling=i.child,i.child=_):(c=x.last,c!==null?c.sibling=_:i.child=_,x.last=_)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=rt(),i.sibling=null,c=at.current,et(at,h?c&1|2:c&1),i):(Kt(i),null);case 22:case 23:return Nf(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Nr&1073741824)!==0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Kk(n,i){switch(Ah(i),i.tag){case 1:return or(i.type)&&tu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qa(),st(ar),st(Ht),Wh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return $h(i),null;case 13:if(st(at),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Wa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return st(at),null;case 4:return Qa(),null;case 10:return Mh(i.type._context),null;case 22:case 23:return Nf(),null;case 24:return null;default:return null}}var bu=!1,Qt=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,he=null;function Xa(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(n,i,h)}else c.current=null}function hf(n,i,c){try{c()}catch(h){dt(n,i,h)}}var U0=!1;function Yk(n,i){if(kh=Wn,n=xg(),mh(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var _=0,T=-1,L=-1,H=0,te=0,re=n,ee=null;t:for(;;){for(var le;re!==c||m!==0&&re.nodeType!==3||(T=_+m),re!==x||h!==0&&re.nodeType!==3||(L=_+h),re.nodeType===3&&(_+=re.nodeValue.length),(le=re.firstChild)!==null;)ee=re,re=le;for(;;){if(re===n)break t;if(ee===c&&++H===m&&(T=_),ee===x&&++te===h&&(L=_),(le=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=le}c=T===-1||L===-1?null:{start:T,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nh={focusedElem:n,selectionRange:c},Wn=!1,he=i;he!==null;)if(i=he,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,he=n;else for(;he!==null;){i=he;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,xt=fe.memoizedState,B=i.stateNode,M=B.getSnapshotBeforeUpdate(i.elementType===i.type?ge:Kr(i.type,ge),xt);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){dt(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,he=n;break}he=i.return}return fe=U0,U0=!1,fe}function Nl(n,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&n)===n){var x=m.destroy;m.destroy=void 0,x!==void 0&&hf(i,c,x)}m=m.next}while(m!==h)}}function _u(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function ff(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function F0(n){var i=n.alternate;i!==null&&(n.alternate=null,F0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[_n],delete i[fl],delete i[Ih],delete i[Ak],delete i[Pk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function z0(n){return n.tag===5||n.tag===3||n.tag===4}function B0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||z0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pf(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Zc));else if(h!==4&&(n=n.child,n!==null))for(pf(n,i,c),n=n.sibling;n!==null;)pf(n,i,c),n=n.sibling}function mf(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(mf(n,i,c),n=n.sibling;n!==null;)mf(n,i,c),n=n.sibling}var Ut=null,Qr=!1;function Fs(n,i,c){for(c=c.child;c!==null;)$0(n,i,c),c=c.sibling}function $0(n,i,c){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Ni,c)}catch{}switch(c.tag){case 5:Qt||Xa(c,i);case 6:var h=Ut,m=Qr;Ut=null,Fs(n,i,c),Ut=h,Qr=m,Ut!==null&&(Qr?(n=Ut,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Ut.removeChild(c.stateNode));break;case 18:Ut!==null&&(Qr?(n=Ut,c=c.stateNode,n.nodeType===8?Th(n.parentNode,c):n.nodeType===1&&Th(n,c),Cs(n)):Th(Ut,c.stateNode));break;case 4:h=Ut,m=Qr,Ut=c.stateNode.containerInfo,Qr=!0,Fs(n,i,c),Ut=h,Qr=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var x=m,_=x.destroy;x=x.tag,_!==void 0&&((x&2)!==0||(x&4)!==0)&&hf(c,i,_),m=m.next}while(m!==h)}Fs(n,i,c);break;case 1:if(!Qt&&(Xa(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(T){dt(c,i,T)}Fs(n,i,c);break;case 21:Fs(n,i,c);break;case 22:c.mode&1?(Qt=(h=Qt)||c.memoizedState!==null,Fs(n,i,c),Qt=h):Fs(n,i,c);break;default:Fs(n,i,c)}}function q0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new Qk),i.forEach(function(h){var m=iN.bind(null,n,h);c.has(h)||(c.add(h),h.then(m,m))})}}function Yr(n,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var x=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 5:Ut=T.stateNode,Qr=!1;break e;case 3:Ut=T.stateNode.containerInfo,Qr=!0;break e;case 4:Ut=T.stateNode.containerInfo,Qr=!0;break e}T=T.return}if(Ut===null)throw Error(t(160));$0(x,_,m),Ut=null,Qr=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(H){dt(m,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)W0(i,n),i=i.sibling}function W0(n,i){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yr(i,n),En(n),h&4){try{Nl(3,n,n.return),_u(3,n)}catch(ge){dt(n,n.return,ge)}try{Nl(5,n,n.return)}catch(ge){dt(n,n.return,ge)}}break;case 1:Yr(i,n),En(n),h&512&&c!==null&&Xa(c,c.return);break;case 5:if(Yr(i,n),En(n),h&512&&c!==null&&Xa(c,c.return),n.flags&32){var m=n.stateNode;try{vi(m,"")}catch(ge){dt(n,n.return,ge)}}if(h&4&&(m=n.stateNode,m!=null)){var x=n.memoizedProps,_=c!==null?c.memoizedProps:x,T=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&ma(m,x),ya(T,_);var H=ya(T,x);for(_=0;_<L.length;_+=2){var te=L[_],re=L[_+1];te==="style"?xa(m,re):te==="dangerouslySetInnerHTML"?jc(m,re):te==="children"?vi(m,re):X(m,te,re,H)}switch(T){case"input":yi(m,x);break;case"textarea":Ec(m,x);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var le=x.value;le!=null?Br(m,!!x.multiple,le,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Br(m,!!x.multiple,x.defaultValue,!0):Br(m,!!x.multiple,x.multiple?[]:"",!1))}m[fl]=x}catch(ge){dt(n,n.return,ge)}}break;case 6:if(Yr(i,n),En(n),h&4){if(n.stateNode===null)throw Error(t(162));m=n.stateNode,x=n.memoizedProps;try{m.nodeValue=x}catch(ge){dt(n,n.return,ge)}}break;case 3:if(Yr(i,n),En(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Cs(i.containerInfo)}catch(ge){dt(n,n.return,ge)}break;case 4:Yr(i,n),En(n);break;case 13:Yr(i,n),En(n),m=n.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(yf=rt())),h&4&&q0(n);break;case 22:if(te=c!==null&&c.memoizedState!==null,n.mode&1?(Qt=(H=Qt)||te,Yr(i,n),Qt=H):Yr(i,n),En(n),h&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!te&&(n.mode&1)!==0)for(he=n,te=n.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:Nl(4,ee,ee.return);break;case 1:Xa(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){h=ee,c=ee.return;try{i=h,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(ge){dt(h,c,ge)}}break;case 5:Xa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){K0(re);continue}}le!==null?(le.return=ee,he=le):K0(re)}te=te.sibling}e:for(te=null,re=n;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,H?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=re.stateNode,L=re.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null,T.style.display=bs("display",_))}catch(ge){dt(n,n.return,ge)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(ge){dt(n,n.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===n)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===n)break e;for(;re.sibling===null;){if(re.return===null||re.return===n)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Yr(i,n),En(n),h&4&&q0(n);break;case 21:break;default:Yr(i,n),En(n)}}function En(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(z0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(vi(m,""),h.flags&=-33);var x=B0(n);mf(n,x,m);break;case 3:case 4:var _=h.stateNode.containerInfo,T=B0(n);pf(n,T,_);break;default:throw Error(t(161))}}catch(L){dt(n,n.return,L)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Xk(n,i,c){he=n,H0(n)}function H0(n,i,c){for(var h=(n.mode&1)!==0;he!==null;){var m=he,x=m.child;if(m.tag===22&&h){var _=m.memoizedState!==null||bu;if(!_){var T=m.alternate,L=T!==null&&T.memoizedState!==null||Qt;T=bu;var H=Qt;if(bu=_,(Qt=L)&&!H)for(he=m;he!==null;)_=he,L=_.child,_.tag===22&&_.memoizedState!==null?Q0(m):L!==null?(L.return=_,he=L):Q0(m);for(;x!==null;)he=x,H0(x),x=x.sibling;he=m,bu=T,Qt=H}G0(n)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,he=x):G0(n)}}function G0(n){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Qt||_u(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Qt)if(c===null)h.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:Kr(i.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Kg(i,x,h);break;case 3:var _=i.updateQueue;if(_!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Kg(i,_,c)}break;case 5:var T=i.stateNode;if(c===null&&i.flags&4){c=T;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Cs(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||i.flags&512&&ff(i)}catch(ee){dt(i,i.return,ee)}}if(i===n){he=null;break}if(c=i.sibling,c!==null){c.return=i.return,he=c;break}he=i.return}}function K0(n){for(;he!==null;){var i=he;if(i===n){he=null;break}var c=i.sibling;if(c!==null){c.return=i.return,he=c;break}he=i.return}}function Q0(n){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{_u(4,i)}catch(L){dt(i,c,L)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var m=i.return;try{h.componentDidMount()}catch(L){dt(i,m,L)}}var x=i.return;try{ff(i)}catch(L){dt(i,x,L)}break;case 5:var _=i.return;try{ff(i)}catch(L){dt(i,_,L)}}}catch(L){dt(i,i.return,L)}if(i===n){he=null;break}var T=i.sibling;if(T!==null){T.return=i.return,he=T;break}he=i.return}}var Jk=Math.ceil,ku=Q.ReactCurrentDispatcher,gf=Q.ReactCurrentOwner,Or=Q.ReactCurrentBatchConfig,We=0,At=null,kt=null,Ft=0,Nr=0,Ja=Os(0),It=0,El=null,Fi=0,Nu=0,xf=0,jl=null,cr=null,yf=0,Za=1/0,ts=null,Eu=!1,vf=null,zs=null,ju=!1,Bs=null,Tu=0,Tl=0,wf=null,Iu=-1,Su=0;function sr(){return(We&6)!==0?rt():Iu!==-1?Iu:Iu=rt()}function $s(n){return(n.mode&1)===0?1:(We&2)!==0&&Ft!==0?Ft&-Ft:Ok.transition!==null?(Su===0&&(Su=Ko()),Su):(n=Be,n!==0||(n=window.event,n=n===void 0?16:Ia(n.type)),n)}function Xr(n,i,c,h){if(50<Tl)throw Tl=0,wf=null,Error(t(185));Ii(n,c,h),((We&2)===0||n!==At)&&(n===At&&((We&2)===0&&(Nu|=c),It===4&&qs(n,Ft)),ur(n,h),c===1&&We===0&&(i.mode&1)===0&&(Za=rt()+500,nu&&Vs()))}function ur(n,i){var c=n.callbackNode;Ti(n,i);var h=Bn(n,n===At?Ft:0);if(h===0)c!==null&&ba(c),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(c!=null&&ba(c),i===1)n.tag===0?Dk(X0.bind(null,n)):Lg(X0.bind(null,n)),Ck(function(){(We&6)===0&&Vs()}),c=null;else{switch(hn(h)){case 1:c=_a;break;case 4:c=Wo;break;case 16:c=ki;break;case 536870912:c=ka;break;default:c=ki}c=ix(c,Y0.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function Y0(n,i){if(Iu=-1,Su=0,(We&6)!==0)throw Error(t(327));var c=n.callbackNode;if(eo()&&n.callbackNode!==c)return null;var h=Bn(n,n===At?Ft:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=Cu(n,h);else{i=h;var m=We;We|=2;var x=Z0();(At!==n||Ft!==i)&&(ts=null,Za=rt()+500,Bi(n,i));do try{tN();break}catch(T){J0(n,T)}while(!0);Vh(),ku.current=x,We=m,kt!==null?i=0:(At=null,Ft=0,i=It)}if(i!==0){if(i===2&&(m=Go(n),m!==0&&(h=m,i=bf(n,m))),i===1)throw c=El,Bi(n,0),qs(n,h),ur(n,rt()),c;if(i===6)qs(n,h);else{if(m=n.current.alternate,(h&30)===0&&!Zk(m)&&(i=Cu(n,h),i===2&&(x=Go(n),x!==0&&(h=x,i=bf(n,x))),i===1))throw c=El,Bi(n,0),qs(n,h),ur(n,rt()),c;switch(n.finishedWork=m,n.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:$i(n,cr,ts);break;case 3:if(qs(n,h),(h&130023424)===h&&(i=yf+500-rt(),10<i)){if(Bn(n,0)!==0)break;if(m=n.suspendedLanes,(m&h)!==h){sr(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=jh($i.bind(null,n,cr,ts),i);break}$i(n,cr,ts);break;case 4:if(qs(n,h),(h&4194240)===h)break;for(i=n.eventTimes,m=-1;0<h;){var _=31-xr(h);x=1<<_,_=i[_],_>m&&(m=_),h&=~x}if(h=m,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Jk(h/1960))-h,10<h){n.timeoutHandle=jh($i.bind(null,n,cr,ts),h);break}$i(n,cr,ts);break;case 5:$i(n,cr,ts);break;default:throw Error(t(329))}}}return ur(n,rt()),n.callbackNode===c?Y0.bind(null,n):null}function bf(n,i){var c=jl;return n.current.memoizedState.isDehydrated&&(Bi(n,i).flags|=256),n=Cu(n,i),n!==2&&(i=cr,cr=c,i!==null&&_f(i)),n}function _f(n){cr===null?cr=n:cr.push.apply(cr,n)}function Zk(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],x=m.getSnapshot;m=m.value;try{if(!Hr(x(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(n,i){for(i&=~xf,i&=~Nu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-xr(i),h=1<<c;n[c]=-1,i&=~h}}function X0(n){if((We&6)!==0)throw Error(t(327));eo();var i=Bn(n,0);if((i&1)===0)return ur(n,rt()),null;var c=Cu(n,i);if(n.tag!==0&&c===2){var h=Go(n);h!==0&&(i=h,c=bf(n,h))}if(c===1)throw c=El,Bi(n,0),qs(n,i),ur(n,rt()),c;if(c===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,$i(n,cr,ts),ur(n,rt()),null}function kf(n,i){var c=We;We|=1;try{return n(i)}finally{We=c,We===0&&(Za=rt()+500,nu&&Vs())}}function zi(n){Bs!==null&&Bs.tag===0&&(We&6)===0&&eo();var i=We;We|=1;var c=Or.transition,h=Be;try{if(Or.transition=null,Be=1,n)return n()}finally{Be=h,Or.transition=c,We=i,(We&6)===0&&Vs()}}function Nf(){Nr=Ja.current,st(Ja)}function Bi(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Sk(c)),kt!==null)for(c=kt.return;c!==null;){var h=c;switch(Ah(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&tu();break;case 3:Qa(),st(ar),st(Ht),Wh();break;case 5:$h(h);break;case 4:Qa();break;case 13:st(at);break;case 19:st(at);break;case 10:Mh(h.type._context);break;case 22:case 23:Nf()}c=c.return}if(At=n,kt=n=Ws(n.current,null),Ft=Nr=i,It=0,El=null,xf=Nu=Fi=0,cr=jl=null,Vi!==null){for(i=0;i<Vi.length;i++)if(c=Vi[i],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,x=c.pending;if(x!==null){var _=x.next;x.next=m,h.next=_}c.pending=h}Vi=null}return n}function J0(n,i){do{var c=kt;try{if(Vh(),fu.current=xu,pu){for(var h=ot.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}pu=!1}if(Ui=0,Rt=Tt=ot=null,vl=!1,wl=0,gf.current=null,c===null||c.return===null){It=1,El=i,kt=null;break}e:{var x=n,_=c.return,T=c,L=i;if(i=Ft,T.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var H=L,te=T,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=k0(_);if(le!==null){le.flags&=-257,N0(le,_,T,x,i),le.mode&1&&_0(x,H,i),i=le,L=H;var fe=i.updateQueue;if(fe===null){var ge=new Set;ge.add(L),i.updateQueue=ge}else fe.add(L);break e}else{if((i&1)===0){_0(x,H,i),Ef();break e}L=Error(t(426))}}else if(it&&T.mode&1){var xt=k0(_);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),N0(xt,_,T,x,i),Oh(Ya(L,T));break e}}x=L=Ya(L,T),It!==4&&(It=2),jl===null?jl=[x]:jl.push(x),x=_;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var B=w0(x,L,i);Gg(x,B);break e;case 1:T=L;var M=x.type,q=x.stateNode;if((x.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(zs===null||!zs.has(q)))){x.flags|=65536,i&=-i,x.lanes|=i;var ne=b0(x,T,i);Gg(x,ne);break e}}x=x.return}while(x!==null)}tx(c)}catch(xe){i=xe,kt===c&&c!==null&&(kt=c=c.return);continue}break}while(!0)}function Z0(){var n=ku.current;return ku.current=xu,n===null?xu:n}function Ef(){(It===0||It===3||It===2)&&(It=4),At===null||(Fi&268435455)===0&&(Nu&268435455)===0||qs(At,Ft)}function Cu(n,i){var c=We;We|=2;var h=Z0();(At!==n||Ft!==i)&&(ts=null,Bi(n,i));do try{eN();break}catch(m){J0(n,m)}while(!0);if(Vh(),We=c,ku.current=h,kt!==null)throw Error(t(261));return At=null,Ft=0,It}function eN(){for(;kt!==null;)ex(kt)}function tN(){for(;kt!==null&&!_i();)ex(kt)}function ex(n){var i=sx(n.alternate,n,Nr);n.memoizedProps=n.pendingProps,i===null?tx(n):kt=i,gf.current=null}function tx(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=Gk(c,i,Nr),c!==null){kt=c;return}}else{if(c=Kk(c,i),c!==null){c.flags&=32767,kt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{It=6,kt=null;return}}if(i=i.sibling,i!==null){kt=i;return}kt=i=n}while(i!==null);It===0&&(It=5)}function $i(n,i,c){var h=Be,m=Or.transition;try{Or.transition=null,Be=1,rN(n,i,c,h)}finally{Or.transition=m,Be=h}return null}function rN(n,i,c,h){do eo();while(Bs!==null);if((We&6)!==0)throw Error(t(327));c=n.finishedWork;var m=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var x=c.lanes|c.childLanes;if(uh(n,x),n===At&&(kt=At=null,Ft=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ju||(ju=!0,ix(ki,function(){return eo(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Or.transition,Or.transition=null;var _=Be;Be=1;var T=We;We|=4,gf.current=null,Yk(n,c),W0(c,n),_k(Nh),Wn=!!kh,Nh=kh=null,n.current=c,Xk(c),zn(),We=T,Be=_,Or.transition=x}else n.current=c;if(ju&&(ju=!1,Bs=n,Tu=m),x=n.pendingLanes,x===0&&(zs=null),Vc(c.stateNode),ur(n,rt()),i!==null)for(h=n.onRecoverableError,c=0;c<i.length;c++)m=i[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Eu)throw Eu=!1,n=vf,vf=null,n;return(Tu&1)!==0&&n.tag!==0&&eo(),x=n.pendingLanes,(x&1)!==0?n===wf?Tl++:(Tl=0,wf=n):Tl=0,Vs(),null}function eo(){if(Bs!==null){var n=hn(Tu),i=Or.transition,c=Be;try{if(Or.transition=null,Be=16>n?16:n,Bs===null)var h=!1;else{if(n=Bs,Bs=null,Tu=0,(We&6)!==0)throw Error(t(331));var m=We;for(We|=4,he=n.current;he!==null;){var x=he,_=x.child;if((he.flags&16)!==0){var T=x.deletions;if(T!==null){for(var L=0;L<T.length;L++){var H=T[L];for(he=H;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:Nl(8,te,x)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,le=te.return;if(F0(te),te===H){he=null;break}if(ee!==null){ee.return=le,he=ee;break}he=le}}}var fe=x.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var xt=ge.sibling;ge.sibling=null,ge=xt}while(ge!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&_!==null)_.return=x,he=_;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Nl(9,x,x.return)}var B=x.sibling;if(B!==null){B.return=x.return,he=B;break e}he=x.return}}var M=n.current;for(he=M;he!==null;){_=he;var q=_.child;if((_.subtreeFlags&2064)!==0&&q!==null)q.return=_,he=q;else e:for(_=M;he!==null;){if(T=he,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:_u(9,T)}}catch(xe){dt(T,T.return,xe)}if(T===_){he=null;break e}var ne=T.sibling;if(ne!==null){ne.return=T.return,he=ne;break e}he=T.return}}if(We=m,Vs(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Ni,n)}catch{}h=!0}return h}finally{Be=c,Or.transition=i}}return!1}function rx(n,i,c){i=Ya(c,i),i=w0(n,i,1),n=Us(n,i,1),i=sr(),n!==null&&(Ii(n,1,i),ur(n,i))}function dt(n,i,c){if(n.tag===3)rx(n,n,c);else for(;i!==null;){if(i.tag===3){rx(i,n,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zs===null||!zs.has(h))){n=Ya(c,n),n=b0(i,n,1),i=Us(i,n,1),n=sr(),i!==null&&(Ii(i,1,n),ur(i,n));break}}i=i.return}}function nN(n,i,c){var h=n.pingCache;h!==null&&h.delete(i),i=sr(),n.pingedLanes|=n.suspendedLanes&c,At===n&&(Ft&c)===c&&(It===4||It===3&&(Ft&130023424)===Ft&&500>rt()-yf?Bi(n,0):xf|=c),ur(n,i)}function nx(n,i){i===0&&((n.mode&1)===0?i=1:(i=Ts,Ts<<=1,(Ts&130023424)===0&&(Ts=4194304)));var c=sr();n=Jn(n,i),n!==null&&(Ii(n,i,c),ur(n,c))}function sN(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),nx(n,c)}function iN(n,i){var c=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),nx(n,c)}var sx;sx=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||ar.current)lr=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return lr=!1,Hk(n,i,c);lr=(n.flags&131072)!==0}else lr=!1,it&&(i.flags&1048576)!==0&&Vg(i,iu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;wu(n,i),n=i.pendingProps;var m=Ba(i,Ht.current);Ka(i,c),m=Kh(null,i,h,n,m,c);var x=Qh();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,or(h)?(x=!0,ru(i)):x=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zh(i),m.updater=yu,i.stateNode=m,m._reactInternals=i,tf(i,h,n,c),i=af(null,i,h,!0,x,c)):(i.tag=0,it&&x&&Rh(i),nr(null,i,m,c),i=i.child),i;case 16:h=i.elementType;e:{switch(wu(n,i),n=i.pendingProps,m=h._init,h=m(h._payload),i.type=h,m=i.tag=oN(h),n=Kr(h,n),m){case 0:i=sf(null,i,h,n,c);break e;case 1:i=C0(null,i,h,n,c);break e;case 11:i=E0(null,i,h,n,c);break e;case 14:i=j0(null,i,h,Kr(h.type,n),c);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Kr(h,m),sf(n,i,h,m,c);case 1:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Kr(h,m),C0(n,i,h,m,c);case 3:e:{if(R0(i),n===null)throw Error(t(387));h=i.pendingProps,x=i.memoizedState,m=x.element,Hg(n,i),du(i,h,null,c);var _=i.memoizedState;if(h=_.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){m=Ya(Error(t(423)),i),i=A0(n,i,h,c,m);break e}else if(h!==m){m=Ya(Error(t(424)),i),i=A0(n,i,h,c,m);break e}else for(kr=Ds(i.stateNode.containerInfo.firstChild),_r=i,it=!0,Gr=null,c=qg(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wa(),h===m){i=es(n,i,c);break e}nr(n,i,h,c)}i=i.child}return i;case 5:return Qg(i),n===null&&Dh(i),h=i.type,m=i.pendingProps,x=n!==null?n.memoizedProps:null,_=m.children,Eh(h,m)?_=null:x!==null&&Eh(h,x)&&(i.flags|=32),S0(n,i),nr(n,i,_,c),i.child;case 6:return n===null&&Dh(i),null;case 13:return P0(n,i,c);case 4:return Bh(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Ha(i,null,h,c):nr(n,i,h,c),i.child;case 11:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Kr(h,m),E0(n,i,h,m,c);case 7:return nr(n,i,i.pendingProps,c),i.child;case 8:return nr(n,i,i.pendingProps.children,c),i.child;case 12:return nr(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,m=i.pendingProps,x=i.memoizedProps,_=m.value,et(lu,h._currentValue),h._currentValue=_,x!==null)if(Hr(x.value,_)){if(x.children===m.children&&!ar.current){i=es(n,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var T=x.dependencies;if(T!==null){_=x.child;for(var L=T.firstContext;L!==null;){if(L.context===h){if(x.tag===1){L=Zn(-1,c&-c),L.tag=2;var H=x.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?L.next=L:(L.next=te.next,te.next=L),H.pending=L}}x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),Uh(x.return,c,i),T.lanes|=c;break}L=L.next}}else if(x.tag===10)_=x.type===i.type?null:x.child;else if(x.tag===18){if(_=x.return,_===null)throw Error(t(341));_.lanes|=c,T=_.alternate,T!==null&&(T.lanes|=c),Uh(_,c,i),_=x.sibling}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===i){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}nr(n,i,m.children,c),i=i.child}return i;case 9:return m=i.type,h=i.pendingProps.children,Ka(i,c),m=Pr(m),h=h(m),i.flags|=1,nr(n,i,h,c),i.child;case 14:return h=i.type,m=Kr(h,i.pendingProps),m=Kr(h.type,m),j0(n,i,h,m,c);case 15:return T0(n,i,i.type,i.pendingProps,c);case 17:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Kr(h,m),wu(n,i),i.tag=1,or(h)?(n=!0,ru(i)):n=!1,Ka(i,c),y0(i,h,m),tf(i,h,m,c),af(null,i,h,!0,n,c);case 19:return O0(n,i,c);case 22:return I0(n,i,c)}throw Error(t(156,i.tag))};function ix(n,i){return qo(n,i)}function aN(n,i,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(n,i,c,h){return new aN(n,i,c,h)}function jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oN(n){if(typeof n=="function")return jf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===qe)return 14}return 2}function Ws(n,i){var c=n.alternate;return c===null?(c=Lr(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function Ru(n,i,c,h,m,x){var _=2;if(h=n,typeof n=="function")jf(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case R:return qi(c.children,m,x,i);case E:_=8,m|=8;break;case I:return n=Lr(12,c,i,m|2),n.elementType=I,n.lanes=x,n;case j:return n=Lr(13,c,i,m),n.elementType=j,n.lanes=x,n;case be:return n=Lr(19,c,i,m),n.elementType=be,n.lanes=x,n;case Ne:return Au(c,m,x,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:_=10;break e;case O:_=9;break e;case U:_=11;break e;case qe:_=14;break e;case Xe:_=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Lr(_,c,i,m),i.elementType=n,i.type=h,i.lanes=x,i}function qi(n,i,c,h){return n=Lr(7,n,h,i),n.lanes=c,n}function Au(n,i,c,h){return n=Lr(22,n,h,i),n.elementType=Ne,n.lanes=c,n.stateNode={isHidden:!1},n}function Tf(n,i,c){return n=Lr(6,n,null,i),n.lanes=c,n}function If(n,i,c){return i=Lr(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function lN(n,i,c,h,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Sf(n,i,c,h,m,x,_,T,L){return n=new lN(n,i,c,T,L),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Lr(3,null,null,i),n.current=x,x.stateNode=n,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(x),n}function cN(n,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:n,containerInfo:i,implementation:c}}function ax(n){if(!n)return Ls;n=n._reactInternals;e:{if(qr(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(or(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var c=n.type;if(or(c))return Dg(n,c,i)}return i}function ox(n,i,c,h,m,x,_,T,L){return n=Sf(c,h,!0,n,m,x,_,T,L),n.context=ax(null),c=n.current,h=sr(),m=$s(c),x=Zn(h,m),x.callback=i??null,Us(c,x,m),n.current.lanes=m,Ii(n,m,h),ur(n,h),n}function Pu(n,i,c,h){var m=i.current,x=sr(),_=$s(m);return c=ax(c),i.context===null?i.context=c:i.pendingContext=c,i=Zn(x,_),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=Us(m,i,_),n!==null&&(Xr(n,m,_,x),uu(n,m,_)),_}function Du(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function lx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Cf(n,i){lx(n,i),(n=n.alternate)&&lx(n,i)}function uN(){return null}var cx=typeof reportError=="function"?reportError:function(n){console.error(n)};function Rf(n){this._internalRoot=n}Ou.prototype.render=Rf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Pu(n,i,null,null)},Ou.prototype.unmount=Rf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;zi(function(){Pu(null,n,null,null)}),i[Kn]=null}};function Ou(n){this._internalRoot=n}Ou.prototype.unstable_scheduleHydration=function(n){if(n){var i=Zo();n={blockedOn:null,target:n,priority:i};for(var c=0;c<yr.length&&i!==0&&i<yr[c].priority;c++);yr.splice(c,0,n),c===0&&ja(n)}};function Af(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ux(){}function dN(n,i,c,h,m){if(m){if(typeof h=="function"){var x=h;h=function(){var H=Du(_);x.call(H)}}var _=ox(i,h,n,0,null,!1,!1,"",ux);return n._reactRootContainer=_,n[Kn]=_.current,dl(n.nodeType===8?n.parentNode:n),zi(),_}for(;m=n.lastChild;)n.removeChild(m);if(typeof h=="function"){var T=h;h=function(){var H=Du(L);T.call(H)}}var L=Sf(n,0,!1,null,null,!1,!1,"",ux);return n._reactRootContainer=L,n[Kn]=L.current,dl(n.nodeType===8?n.parentNode:n),zi(function(){Pu(i,L,c,h)}),L}function Vu(n,i,c,h,m){var x=c._reactRootContainer;if(x){var _=x;if(typeof m=="function"){var T=m;m=function(){var L=Du(_);T.call(L)}}Pu(i,_,n,m)}else _=dN(c,i,n,m,h);return Du(_)}Xo=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Ke(i.pendingLanes);c!==0&&(Yo(i,c|1),ur(i,rt()),(We&6)===0&&(Za=rt()+500,Vs()))}break;case 13:zi(function(){var h=Jn(n,1);if(h!==null){var m=sr();Xr(h,n,1,m)}}),Cf(n,1)}},Na=function(n){if(n.tag===13){var i=Jn(n,134217728);if(i!==null){var c=sr();Xr(i,n,134217728,c)}Cf(n,134217728)}},Jo=function(n){if(n.tag===13){var i=$s(n),c=Jn(n,i);if(c!==null){var h=sr();Xr(c,n,i,h)}Cf(n,i)}},Zo=function(){return Be},el=function(n,i){var c=Be;try{return Be=n,i()}finally{Be=c}},Mn=function(n,i,c){switch(i){case"input":if(yi(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==n&&h.form===n.form){var m=eu(h);if(!m)throw Error(t(90));on(h),yi(h,m)}}}break;case"textarea":Ec(n,c);break;case"select":i=c.value,i!=null&&Br(n,!!c.multiple,i,!1)}},Ic=kf,Sc=zi;var hN={usingClientEntryPoint:!1,Events:[pl,Fa,eu,ks,Ns,kf]},Il={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fN={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Lc(n),n===null?null:n.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||uN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Ni=Mu.inject(fN),gr=Mu}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN,dr.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(i))throw Error(t(200));return cN(n,i,null,c)},dr.createRoot=function(n,i){if(!Af(n))throw Error(t(299));var c=!1,h="",m=cx;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Sf(n,1,!1,null,null,c,!1,h,m),n[Kn]=i.current,dl(n.nodeType===8?n.parentNode:n),new Rf(i)},dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Lc(i),n=n===null?null:n.stateNode,n},dr.flushSync=function(n){return zi(n)},dr.hydrate=function(n,i,c){if(!Lu(i))throw Error(t(200));return Vu(null,n,i,!0,c)},dr.hydrateRoot=function(n,i,c){if(!Af(n))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,x="",_=cx;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),i=ox(i,null,n,1,c??null,m,!1,x,_),n[Kn]=i.current,dl(n),h)for(n=0;n<h.length;n++)c=h[n],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new Ou(i)},dr.render=function(n,i,c){if(!Lu(i))throw Error(t(200));return Vu(null,n,i,!1,c)},dr.unmountComponentAtNode=function(n){if(!Lu(n))throw Error(t(40));return n._reactRootContainer?(zi(function(){Vu(null,null,n,!1,function(){n._reactRootContainer=null,n[Kn]=null})}),!0):!1},dr.unstable_batchedUpdates=kf,dr.unstable_renderSubtreeIntoContainer=function(n,i,c,h){if(!Lu(c))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Vu(n,i,c,!1,h)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var yx;function kN(){if(yx)return Of.exports;yx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=_N(),Of.exports}var vx;function NN(){if(vx)return Uu;vx=1;var r=kN();return Uu.createRoot=r.createRoot,Uu.hydrateRoot=r.hydrateRoot,Uu}var EN=NN(),S=Fp();const jN=gN(S),TN=mN({__proto__:null,default:jN},[S]);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wx="popstate";function IN(r={}){function e(s,o){let{pathname:l,search:u,hash:f}=s.location;return sp("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Hl(o)}return CN(e,t,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function en(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function bx(r,e){return{usr:r.state,key:r.key,idx:e}}function sp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||s||SN()}}function Hl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function No(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function CN(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let D=v(),W=D==null?null:D-g;g=D,p&&p({action:f,location:V.location,delta:W})}function k(D,W){f="PUSH";let z=sp(V.location,D,W);g=v()+1;let X=bx(z,g),Q=V.createHref(z);try{u.pushState(X,"",Q)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(Q)}l&&p&&p({action:f,location:V.location,delta:1})}function C(D,W){f="REPLACE";let z=sp(V.location,D,W);g=v();let X=bx(z,g),Q=V.createHref(z);u.replaceState(X,"",Q),l&&p&&p({action:f,location:V.location,delta:0})}function P(D){return RN(D)}let V={get action(){return f},get location(){return r(o,u)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(wx,b),p=D,()=>{o.removeEventListener(wx,b),p=null}},createHref(D){return e(o,D)},createURL:P,encodeLocation(D){let W=P(D);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:k,replace:C,go(D){return u.go(D)}};return V}function RN(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Hl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function bv(r,e,t="/"){return AN(r,e,t,!1)}function AN(r,e,t,s){let o=typeof e=="string"?No(e):e,l=ls(o.pathname||"/",t);if(l==null)return null;let u=_v(r);PN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=qN(l);f=BN(u[p],g,s)}return f}function _v(r,e=[],t=[],s="",o=!1){let l=(u,f,p=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;lt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=is([s,v.relativePath]),k=t.concat(v);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_v(u.children,e,k,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:FN(b,u.index),routesMeta:k})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of kv(u.path))l(u,f,!0,p)}),e}function kv(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=kv(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function PN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var DN=/^:[\w-]+$/,ON=3,LN=2,VN=1,MN=10,UN=-2,_x=r=>r==="*";function FN(r,e){let t=r.split("/"),s=t.length;return t.some(_x)&&(s+=UN),e&&(s+=LN),t.filter(o=>!_x(o)).reduce((o,l)=>o+(DN.test(l)?ON:l===""?VN:MN),s)}function zN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function BN(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=ud({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),k=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=ud({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:is([l,b.pathname]),pathnameBase:KN(is([l,b.pathnameBase])),route:k}),b.pathnameBase!=="/"&&(l=is([l,b.pathnameBase]))}return u}function ud(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=$N(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},k)=>{if(v==="*"){let P=f[k]||"";u=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const C=f[k];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function $N(r,e=!1,t=!0){en(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ls(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=r=>Nv.test(r);function HN(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?No(r):r,l;if(t)if(WN(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=kx(t.substring(1),"/"):l=kx(t,e)}else l=e;return{pathname:l,search:QN(s),hash:YN(o)}}function kx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mf(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ev(r){let e=GN(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function jv(r,e,t,s=!1){let o;typeof r=="string"?o=No(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!s&&u.startsWith("..")){let k=u.split("/");for(;k[0]==="..";)k.shift(),b-=1;o.pathname=k.join("/")}f=b>=0?e[b]:"/"}let p=HN(o,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var is=r=>r.join("/").replace(/\/\/+/g,"/"),KN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,XN=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function JN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ZN(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Iv(r,e){let t=r;if(typeof t!="string"||!Nv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(Tv)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=ls(u.pathname,e);u.origin===l.origin&&f!=null?t=f+u.search+u.hash:o=!0}catch{en(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var e1=["GET",...Sv];new Set(e1);var Eo=S.createContext(null);Eo.displayName="DataRouter";var Ad=S.createContext(null);Ad.displayName="DataRouterState";var t1=S.createContext(!1),Cv=S.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var r1=S.createContext(new Map);r1.displayName="Fetchers";var n1=S.createContext(null);n1.displayName="Await";var zr=S.createContext(null);zr.displayName="Navigation";var lc=S.createContext(null);lc.displayName="Location";var ps=S.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var zp=S.createContext(null);zp.displayName="RouteError";var Rv="REACT_ROUTER_ERROR",s1="REDIRECT",i1="ROUTE_ERROR_RESPONSE";function a1(r){if(r.startsWith(`${Rv}:${s1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function o1(r){if(r.startsWith(`${Rv}:${i1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XN(e.status,e.statusText,e.data)}catch{}}function l1(r,{relative:e}={}){lt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(zr),{hash:o,pathname:l,search:u}=uc(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:is([t,l])),s.createHref({pathname:f,search:u,hash:o})}function cc(){return S.useContext(lc)!=null}function oa(){return lt(cc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(lc).location}var Av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pv(r){S.useContext(zr).static||S.useLayoutEffect(r)}function jo(){let{isDataRoute:r}=S.useContext(ps);return r?b1():c1()}function c1(){lt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Eo),{basename:e,navigator:t}=S.useContext(zr),{matches:s}=S.useContext(ps),{pathname:o}=oa(),l=JSON.stringify(Ev(s)),u=S.useRef(!1);return Pv(()=>{u.current=!0}),S.useCallback((p,g={})=>{if(en(u.current,Av),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=jv(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:is([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}S.createContext(null);function uc(r,{relative:e}={}){let{matches:t}=S.useContext(ps),{pathname:s}=oa(),o=JSON.stringify(Ev(t));return S.useMemo(()=>jv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function u1(r,e){return Dv(r,e)}function Dv(r,e,t,s,o){lt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(zr),{matches:u}=S.useContext(ps),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";Lv(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let k=oa(),C;if(e){let z=typeof e=="string"?No(e):e;lt(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),C=z}else C=k;let P=C.pathname||"/",V=P;if(v!=="/"){let z=v.replace(/^\//,"").split("/");V="/"+P.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=bv(r,{pathname:V});en(b||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),en(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=m1(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:is([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:is([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,t,s,o);return e&&W?S.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},W):W}function d1(){let r=w1(),e=JN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:o},t):null,u)}var h1=S.createElement(d1,null),Ov=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=o1(r.digest);t&&(r=t)}let e=r!==void 0?S.createElement(ps.Provider,{value:this.props.routeContext},S.createElement(zp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?S.createElement(f1,{error:r},e):e}};Ov.contextType=t1;var Uf=new WeakMap;function f1({children:r,error:e}){let{basename:t}=S.useContext(zr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=a1(e.digest);if(s){let o=Uf.get(e);if(o)throw o;let l=Iv(s.location,t);if(Tv&&!Uf.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Uf.set(e,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function p1({routeContext:r,match:e,children:t}){let s=S.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ps.Provider,{value:r},t)}function m1(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=t?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);lt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:k,errors:C}=t,P=b.route.loader&&!k.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||P){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&s?(v,b)=>{s(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ZN(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,k)=>{let C,P=!1,V=null,D=null;t&&(C=u&&b.route.id?u[b.route.id]:void 0,V=b.route.errorElement||h1,f&&(p<0&&k===0?(Lv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,D=null):p===k&&(P=!0,D=b.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,k+1)),z=()=>{let X;return C?X=V:P?X=D:b.route.Component?X=S.createElement(b.route.Component,null):b.route.element?X=b.route.element:X=v,S.createElement(p1,{match:b,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:X})};return t&&(b.route.ErrorBoundary||b.route.errorElement||k===0)?S.createElement(Ov,{location:t.location,revalidation:t.revalidation,component:V,error:C,children:z(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):z()},null)}function Bp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(r){let e=S.useContext(Eo);return lt(e,Bp(r)),e}function x1(r){let e=S.useContext(Ad);return lt(e,Bp(r)),e}function y1(r){let e=S.useContext(ps);return lt(e,Bp(r)),e}function $p(r){let e=y1(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function v1(){return $p("useRouteId")}function w1(){let r=S.useContext(zp),e=x1("useRouteError"),t=$p("useRouteError");return r!==void 0?r:e.errors?.[t]}function b1(){let{router:r}=g1("useNavigate"),e=$p("useNavigate"),t=S.useRef(!1);return Pv(()=>{t.current=!0}),S.useCallback(async(o,l={})=>{en(t.current,Av),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Nx={};function Lv(r,e,t){!e&&!Nx[r]&&(Nx[r]=!0,en(!1,t))}S.memo(_1);function _1({routes:r,future:e,state:t,onError:s}){return Dv(r,void 0,t,s,e)}function Hi(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){lt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[f,o,l,u]);typeof t=="string"&&(t=No(t));let{pathname:g="/",search:v="",hash:b="",state:k=null,key:C="default"}=t,P=S.useMemo(()=>{let V=ls(g,f);return V==null?null:{location:{pathname:V,search:v,hash:b,state:k,key:C},navigationType:s}},[f,g,v,b,k,C,s]);return en(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:S.createElement(zr.Provider,{value:p},S.createElement(lc.Provider,{children:e,value:P}))}function N1({children:r,location:e}){return u1(ip(r),e)}function ip(r,e=[]){let t=[];return S.Children.forEach(r,(s,o)=>{if(!S.isValidElement(s))return;let l=[...e,o];if(s.type===S.Fragment){t.push.apply(t,ip(s.props.children,l));return}lt(s.type===Hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ip(s.props.children,l)),t.push(u)}),t}var Ju="get",Zu="application/x-www-form-urlencoded";function Pd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function E1(r){return Pd(r)&&r.tagName.toLowerCase()==="button"}function j1(r){return Pd(r)&&r.tagName.toLowerCase()==="form"}function T1(r){return Pd(r)&&r.tagName.toLowerCase()==="input"}function I1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function S1(r,e){return r.button===0&&(!e||e==="_self")&&!I1(r)}var Fu=null;function C1(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(r){return r!=null&&!R1.has(r)?(en(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):r}function A1(r,e){let t,s,o,l,u;if(j1(r)){let f=r.getAttribute("action");s=f?ls(f,e):null,t=r.getAttribute("method")||Ju,o=Ff(r.getAttribute("enctype"))||Zu,l=new FormData(r)}else if(E1(r)||T1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?ls(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Ju,o=Ff(r.getAttribute("formenctype"))||Ff(f.getAttribute("enctype"))||Zu,l=new FormData(f,r),!C1()){let{name:g,type:v,value:b}=r;if(v==="image"){let k=g?`${g}.`:"";l.append(`${k}x`,"0"),l.append(`${k}y`,"0")}else g&&l.append(g,b)}}else{if(Pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ju,s=null,o=Zu,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function P1(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ls(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function D1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function L1(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await D1(l,t);return u.links?u.links():[]}return[]}));return F1(s.flat(1).filter(O1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ex(r,e,t,s,o,l){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function V1(r,e,{includeHydrateFallback:t}={}){return M1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function M1(r){return[...new Set(r)]}function U1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function F1(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(U1(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Vv(){let r=S.useContext(Eo);return qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function z1(){let r=S.useContext(Ad);return qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wp=S.createContext(void 0);Wp.displayName="FrameworkContext";function Mv(){let r=S.useContext(Wp);return qp(r,"You must render this element inside a <HydratedRouter> element"),r}function B1(r,e){let t=S.useContext(Wp),[s,o]=S.useState(!1),[l,u]=S.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,k=S.useRef(null);S.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let V=W=>{W.forEach(z=>{u(z.isIntersecting)})},D=new IntersectionObserver(V,{threshold:.5});return k.current&&D.observe(k.current),()=>{D.disconnect()}}},[r]),S.useEffect(()=>{if(s){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[s]);let C=()=>{o(!0)},P=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,k,{}]:[l,k,{onFocus:Cl(f,C),onBlur:Cl(p,P),onMouseEnter:Cl(g,C),onMouseLeave:Cl(v,P),onTouchStart:Cl(b,C)}]:[!1,k,{}]}function Cl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function $1({page:r,...e}){let{router:t}=Vv(),s=S.useMemo(()=>bv(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?S.createElement(W1,{page:r,matches:s,...e}):null}function q1(r){let{manifest:e,routeModules:t}=Mv(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return L1(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),s}function W1({page:r,matches:e,...t}){let s=oa(),{manifest:o,routeModules:l}=Mv(),{basename:u}=Vv(),{loaderData:f,matches:p}=z1(),g=S.useMemo(()=>Ex(r,e,p,o,s,"data"),[r,e,p,o,s]),v=S.useMemo(()=>Ex(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=S.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,V=!1;if(e.forEach(W=>{let z=o.routes[W.route.id];!z||!z.hasLoader||(!g.some(X=>X.route.id===W.route.id)&&W.route.id in f&&l[W.route.id]?.shouldRevalidate||z.hasClientLoader?V=!0:P.add(W.route.id))}),P.size===0)return[];let D=P1(r,u,"data");return V&&P.size>0&&D.searchParams.set("_routes",e.filter(W=>P.has(W.route.id)).map(W=>W.route.id).join(",")),[D.pathname+D.search]},[u,f,s,o,g,e,r,l]),k=S.useMemo(()=>V1(v,o),[v,o]),C=q1(v);return S.createElement(S.Fragment,null,b.map(P=>S.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),k.map(P=>S.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),C.map(({key:P,link:V})=>S.createElement("link",{key:P,nonce:t.nonce,...V})))}function H1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.11.0")}catch{}function K1({basename:r,children:e,unstable_useTransitions:t,window:s}){let o=S.useRef();o.current==null&&(o.current=IN({window:s,v5Compat:!0}));let l=o.current,[u,f]=S.useState({action:l.action,location:l.location}),p=S.useCallback(g=>{t===!1?f(g):S.startTransition(()=>f(g))},[t]);return S.useLayoutEffect(()=>l.listen(p),[l,p]),S.createElement(k1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=S.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:k,...C},P){let{basename:V,unstable_useTransitions:D}=S.useContext(zr),W=typeof g=="string"&&Uv.test(g),z=Iv(g,V);g=z.to;let X=l1(g,{relative:o}),[Q,ie,de]=B1(s,C),R=J1(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:k,unstable_useTransitions:D});function E(A){e&&e(A),A.defaultPrevented||R(A)}let I=S.createElement("a",{...C,...de,href:z.absoluteURL||X,onClick:z.isExternal||l?e:E,ref:H1(P,ie),target:p,"data-discover":!W&&t==="render"?"true":void 0});return Q&&!W?S.createElement(S.Fragment,null,I,S.createElement($1,{page:X})):I});Zt.displayName="Link";var Q1=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let b=uc(u,{relative:g.relative}),k=oa(),C=S.useContext(Ad),{navigator:P,basename:V}=S.useContext(zr),D=C!=null&&nE(b)&&f===!0,W=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,z=k.pathname,X=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(z=z.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&V&&(X=ls(X,V)||X);const Q=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ie=z===W||!o&&z.startsWith(W)&&z.charAt(Q)==="/",de=X!=null&&(X===W||!o&&X.startsWith(W)&&X.charAt(W.length)==="/"),R={isActive:ie,isPending:de,isTransitioning:D},E=ie?e:void 0,I;typeof s=="function"?I=s(R):I=[s,ie?"active":null,de?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(R):l;return S.createElement(Zt,{...g,"aria-current":E,className:I,ref:v,style:A,to:u,viewTransition:f},typeof p=="function"?p(R):p)});Q1.displayName="NavLink";var Y1=S.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:u=Ju,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:k,...C},P)=>{let{unstable_useTransitions:V}=S.useContext(zr),D=tE(),W=rE(f,{relative:g}),z=u.toLowerCase()==="get"?"get":"post",X=typeof f=="string"&&Uv.test(f),Q=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let de=ie.nativeEvent.submitter,R=de?.getAttribute("formmethod")||u,E=()=>D(de||ie.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:k});V&&t!==!1?S.startTransition(()=>E()):E()};return S.createElement("form",{ref:P,method:z,action:W,onSubmit:s?p:Q,...C,"data-discover":!X&&r==="render"?"true":void 0})});Y1.displayName="Form";function X1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fv(r){let e=S.useContext(Eo);return lt(e,X1(r)),e}function J1(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=jo(),v=oa(),b=uc(r,{relative:l});return S.useCallback(k=>{if(S1(k,e)){k.preventDefault();let C=t!==void 0?t:Hl(v)===Hl(b),P=()=>g(r,{replace:C,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?S.startTransition(()=>P()):P()}},[v,g,b,t,s,e,r,o,l,u,f,p])}var Z1=0,eE=()=>`__${String(++Z1)}__`;function tE(){let{router:r}=Fv("useSubmit"),{basename:e}=S.useContext(zr),t=v1(),s=r.fetch,o=r.navigate;return S.useCallback(async(l,u={})=>{let{action:f,method:p,encType:g,formData:v,body:b}=A1(l,e);if(u.navigate===!1){let k=u.fetcherKey||eE();await s(k,t,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,t])}function rE(r,{relative:e}={}){let{basename:t}=S.useContext(zr),s=S.useContext(ps);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...uc(r||".",{relative:e})},u=oa();if(r==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:is([t,l.pathname])),Hl(l)}function nE(r,{relative:e}={}){let t=S.useContext(Cv);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Fv("useViewTransitionState"),o=uc(r,{relative:e});if(!t.isTransitioning)return!1;let l=ls(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=ls(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ud(o.pathname,u)!=null||ud(o.pathname,l)!=null}const zv=S.createContext(void 0);function sE({children:r}){const[e,t]=S.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o===null});S.useEffect(()=>{e?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")},[e]);const s=()=>{t(!e)};return a.jsx(zv.Provider,{value:{isDark:e,toggleTheme:s},children:a.jsx("div",{className:e?"dark":"",children:r})})}function Hp(){const r=S.useContext(zv);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}const iE=()=>{};var jx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,f=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let k=(f&15)<<2|g>>6,C=g&63;p||(C=64,u||(k=64)),s.push(t[v],t[b],t[k],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Bv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||g==null||b==null)throw new oE;const k=l<<2|f>>4;if(s.push(k),g!==64){const C=f<<4&240|g>>2;if(s.push(C),b!==64){const P=g<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(r){const e=Bv(r);return $v.encodeByteArray(e,!0)},dd=function(r){return lE(r).replace(/\./g,"")},qv=function(r){try{return $v.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=()=>cE().__FIREBASE_DEFAULTS__,dE=()=>{if(typeof process>"u"||typeof jx>"u")return;const r=jx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qv(r[1]);return e&&JSON.parse(e)},Dd=()=>{try{return iE()||uE()||dE()||hE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Wv=r=>Dd()?.emulatorHosts?.[r],Hv=r=>{const e=Wv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Gv=()=>Dd()?.config,Kv=r=>Dd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dd(JSON.stringify(t)),dd(JSON.stringify(u)),""].join(".")}const Ul={};function pE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?r.emulator.push(e):r.prod.push(e);return r}function mE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Tx=!1;function Kp(r,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||Ul[r]===e||Ul[r]||Tx)return;Ul[r]=e;function t(k){return`__firebase__banner__${k}`}const s="__firebase__banner",l=pE().prod.length>0;function u(){const k=document.getElementById(s);k&&k.remove()}function f(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function p(k,C){k.setAttribute("width","24"),k.setAttribute("id",C),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function g(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{Tx=!0,u()},k}function v(k,C){k.setAttribute("id",C),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function b(){const k=mE(s),C=t("text"),P=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),D=document.getElementById(V)||document.createElement("a"),W=t("preprendIcon"),z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const X=k.element;f(X),v(D,V);const Q=g();p(z,W),X.append(z,P,D,Q),document.body.appendChild(X)}l?(P.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function xE(){const r=Dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bE(){const r=tr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _E(){return!xE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="FirebaseError";class Vn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EE,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?jE(l,s):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Vn(o,f,s)}}function jE(r,e){return r.replace(TE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TE=/\{\$([^}]+)}/g;function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ji(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],u=e[o];if(Ix(l)&&Ix(u)){if(!Ji(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ix(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Dl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function SE(r,e){const t=new CE(r,e);return t.subscribe.bind(t)}class CE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=zf),o.error===void 0&&(o.error=zf),o.complete===void 0&&(o.complete=zf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r){return r&&r._delegate?r._delegate:r}class ii{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DE(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PE(r){return r===Gi?void 0:r}function DE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const LE={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},VE=Ue.INFO,ME={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},UE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ME[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=VE,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const FE=(r,e)=>e.some(t=>r instanceof t);let Sx,Cx;function zE(){return Sx||(Sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BE(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yv=new WeakMap,ap=new WeakMap,Xv=new WeakMap,Bf=new WeakMap,Yp=new WeakMap;function $E(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(ti(r.result)),o()},u=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Yv.set(t,r)}).catch(()=>{}),Yp.set(e,r),e}function qE(r){if(ap.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});ap.set(r,e)}let op={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WE(r){op=r(op)}function HE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call($f(this),e,...t);return Xv.set(s,e.sort?e.sort():[e]),ti(s)}:BE().includes(r)?function(...e){return r.apply($f(this),e),ti(Yv.get(this))}:function(...e){return ti(r.apply($f(this),e))}}function GE(r){return typeof r=="function"?HE(r):(r instanceof IDBTransaction&&qE(r),FE(r,zE())?new Proxy(r,op):r)}function ti(r){if(r instanceof IDBRequest)return $E(r);if(Bf.has(r))return Bf.get(r);const e=GE(r);return e!==r&&(Bf.set(r,e),Yp.set(e,r)),e}const $f=r=>Yp.get(r);function KE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),f=ti(u);return s&&u.addEventListener("upgradeneeded",p=>{s(ti(u.result),p.oldVersion,p.newVersion,ti(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const QE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],qf=new Map;function Rx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QE.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return qf.set(e,l),l}WE(r=>({...r,get:(e,t,s)=>Rx(e,t)||r.get(e,t,s),has:(e,t)=>!!Rx(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function JE(r){return r.getComponent()?.type==="VERSION"}const lp="@firebase/app",Ax="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Qp("@firebase/app"),ZE="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",r2="@firebase/app-check-compat",n2="@firebase/app-check",s2="@firebase/auth",i2="@firebase/auth-compat",a2="@firebase/database",o2="@firebase/data-connect",l2="@firebase/database-compat",c2="@firebase/functions",u2="@firebase/functions-compat",d2="@firebase/installations",h2="@firebase/installations-compat",f2="@firebase/messaging",p2="@firebase/messaging-compat",m2="@firebase/performance",g2="@firebase/performance-compat",x2="@firebase/remote-config",y2="@firebase/remote-config-compat",v2="@firebase/storage",w2="@firebase/storage-compat",b2="@firebase/firestore",_2="@firebase/ai",k2="@firebase/firestore-compat",N2="firebase",E2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",j2={[lp]:"fire-core",[ZE]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[n2]:"fire-app-check",[r2]:"fire-app-check-compat",[s2]:"fire-auth",[i2]:"fire-auth-compat",[a2]:"fire-rtdb",[o2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[c2]:"fire-fn",[u2]:"fire-fn-compat",[d2]:"fire-iid",[h2]:"fire-iid-compat",[f2]:"fire-fcm",[p2]:"fire-fcm-compat",[m2]:"fire-perf",[g2]:"fire-perf-compat",[x2]:"fire-rc",[y2]:"fire-rc-compat",[v2]:"fire-gcs",[w2]:"fire-gcs-compat",[b2]:"fire-fst",[k2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,T2=new Map,up=new Map;function Px(r,e){try{r.container.addComponent(e)}catch(t){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Zi(r){const e=r.name;if(up.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,r);for(const t of hd.values())Px(t,r);for(const t of T2.values())Px(t,r);return!0}function Od(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new dc("app","Firebase",I2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=E2;function Jv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:cp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(t||(t=Gv()),!t)throw ri.create("no-options");const l=hd.get(o);if(l){if(Ji(t,l.options)&&Ji(s,l.config))return l;throw ri.create("duplicate-app",{appName:o})}const u=new OE(o);for(const p of up.values())u.addComponent(p);const f=new S2(t,s,u);return hd.set(o,f),f}function Xp(r=cp){const e=hd.get(r);if(!e&&r===cp&&Gv())return Jv();if(!e)throw ri.create("no-app",{appName:r});return e}function Sn(r,e,t){let s=j2[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(u.join(" "));return}Zi(new ii(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebase-heartbeat-database",R2=1,Gl="firebase-heartbeat-store";let Wf=null;function Zv(){return Wf||(Wf=KE(C2,R2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gl)}catch(t){console.warn(t)}}}}).catch(r=>{throw ri.create("idb-open",{originalErrorMessage:r.message})})),Wf}async function A2(r){try{const t=(await Zv()).transaction(Gl),s=await t.objectStore(Gl).get(ew(r));return await t.done,s}catch(e){if(e instanceof Vn)cs.warn(e.message);else{const t=ri.create("idb-get",{originalErrorMessage:e?.message});cs.warn(t.message)}}}async function Dx(r,e){try{const s=(await Zv()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(e,ew(r)),await s.done}catch(t){if(t instanceof Vn)cs.warn(t.message);else{const s=ri.create("idb-set",{originalErrorMessage:t?.message});cs.warn(s.message)}}}function ew(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1024,D2=30;class O2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new V2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ox();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>D2){const o=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ox(),{heartbeatsToSend:t,unsentEntries:s}=L2(this._heartbeatsCache.heartbeats),o=dd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function Ox(){return new Date().toISOString().substring(0,10)}function L2(r,e=P2){const t=[];let s=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Lx(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Lx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class V2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await A2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lx(r){return dd(JSON.stringify({version:2,heartbeats:r})).length}function M2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){Zi(new ii("platform-logger",e=>new XE(e),"PRIVATE")),Zi(new ii("heartbeat",e=>new O2(e),"PRIVATE")),Sn(lp,Ax,r),Sn(lp,Ax,"esm2020"),Sn("fire-js","")}U2("");function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=tw,rw=new dc("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Qp("@firebase/auth");function z2(r,...e){fd.logLevel<=Ue.WARN&&fd.warn(`Auth (${la}): ${r}`,...e)}function ed(r,...e){fd.logLevel<=Ue.ERROR&&fd.error(`Auth (${la}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r,...e){throw Jp(r,...e)}function Cn(r,...e){return Jp(r,...e)}function nw(r,e,t){const s={...F2(),[e]:t};return new dc("auth","Firebase",s).create(e,{appName:r.name})}function as(r){return nw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return rw.create(r,...e)}function je(r,e,...t){if(!r)throw Jp(e,...t)}function ns(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ed(e),new Error(e)}function us(r,e){r||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function B2(){return Vx()==="http:"||Vx()==="https:"}function Vx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B2()||vE()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,us(t>e,"Short delay should be less than long delay!"),this.isMobile=gE()||wE()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r,e){us(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new fc(3e4,6e4);function pi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function mi(r,e,t,s,o={}){return iw(r,o,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=hc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return yE()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&fi(r.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await aw(r,r.config.apiHost,t,f),g)})}async function iw(r,e,t){r._canInitEmulator=!1;const s={...W2,...e};try{const o=new Q2(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw zu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw zu(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw zu(r,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nw(r,v,g);tn(r,v)}}catch(o){if(o instanceof Vn)throw o;tn(r,"network-request-failed",{message:String(o)})}}async function pc(r,e,t,s,o={}){const l=await mi(r,e,t,s,o);return"mfaPendingCredential"in l&&tn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function aw(r,e,t,s){const o=`${e}${t}?${s}`,l=r,u=l.config.emulator?Zp(r.config,o):`${r.config.apiScheme}://${o}`;return H2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function K2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Cn(this.auth,"network-request-failed")),G2.get())})}}function zu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Cn(r,e,s);return o.customData._tokenResponse=t,o}function Mx(r){return r!==void 0&&r.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return K2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X2(r,e){return mi(r,"GET","/v2/recaptchaConfig",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e){return mi(r,"POST","/v1/accounts:delete",e)}async function pd(r,e){return mi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z2(r,e=!1){const t=ht(r),s=await t.getIdToken(e),o=em(s);je(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:s,authTime:Fl(Hf(o.auth_time)),issuedAtTime:Fl(Hf(o.iat)),expirationTime:Fl(Hf(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Hf(r){return Number(r)*1e3}function em(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const o=qv(t);return o?JSON.parse(o):(ed("Failed to decode base64 JWT payload"),null)}catch(o){return ed("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ux(r){const e=em(r);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vn&&ej(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ej({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(r){const e=r.auth,t=await r.getIdToken(),s=await Kl(r,pd(e,{idToken:t}));je(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?ow(o.providerUserInfo):[],u=nj(r.providerData,l),f=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,g=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function rj(r){const e=ht(r);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nj(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ow(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(r,e){const t=await iw(r,{},async()=>{const s=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await aw(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return r.emulatorConfig&&fi(r.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ij(r,e){return mi(r,"POST","/v2/accounts:revokeToken",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=Ux(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await sj(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,u=new lo;return s&&(je(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(je(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(je(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(r,e){je(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z2(this,e)}reload(){return rj(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await md(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Kl(this,J2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:k,isAnonymous:C,providerData:P,stsTokenManager:V}=t;je(b&&V,e,"internal-error");const D=lo.fromJSON(this.name,V);je(typeof b=="string",e,"internal-error"),Gs(s,e.name),Gs(o,e.name),je(typeof k=="boolean",e,"internal-error"),je(typeof C=="boolean",e,"internal-error"),Gs(l,e.name),Gs(u,e.name),Gs(f,e.name),Gs(p,e.name),Gs(g,e.name),Gs(v,e.name);const W=new Jr({uid:b,auth:e,email:o,emailVerified:k,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(W.providerData=P.map(z=>({...z}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,s=!1){const o=new lo;o.updateFromServerResponse(t);const l=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await md(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];je(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ow(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,f=new lo;f.updateFromIdToken(s);const p=new Jr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function ss(r){us(r instanceof Function,"Expected a class definition");let e=Fx.get(r);return e?(us(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fx.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lw.type="NONE";const zx=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(r,e,t){return`firebase:${r}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=td(this.userKey,o.apiKey,l),this.fullPersistenceKey=td("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await pd(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(ss(zx),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ss(zx);const u=td(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const k=await pd(e,{idToken:v}).catch(()=>{});if(!k)break;b=await Jr._fromGetAccountInfoResponse(e,k,v)}else b=Jr._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new co(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new co(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(mw(e))return"Webos";if(uw(e))return"Safari";if((e.includes("chrome/")||dw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function cw(r=tr()){return/firefox\//i.test(r)}function uw(r=tr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dw(r=tr()){return/crios\//i.test(r)}function hw(r=tr()){return/iemobile/i.test(r)}function fw(r=tr()){return/android/i.test(r)}function pw(r=tr()){return/blackberry/i.test(r)}function mw(r=tr()){return/webos/i.test(r)}function tm(r=tr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aj(r=tr()){return tm(r)&&!!window.navigator?.standalone}function oj(){return bE()&&document.documentMode===10}function gw(r=tr()){return tm(r)||fw(r)||mw(r)||pw(r)||/windows phone/i.test(r)||hw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r,e=[]){let t;switch(r){case"Browser":t=Bx(tr());break;case"Worker":t=`${Bx(tr())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(r,e={}){return mi(r,"GET","/v2/passwordPolicy",pi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6;class dj{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $x(this),this.idTokenSubscription=new $x(this),this.beforeStateQueue=new lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ss(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pd(this,{idToken:e}),s=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Er(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(as(this));const t=e?ht(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cj(this),t=new dj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ij(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ss(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&z2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return ht(r)}class $x{constructor(e){this.auth=e,this.observer=null,this.addObserver=SE(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fj(r){Ld=r}function yw(r){return Ld.loadJS(r)}function pj(){return Ld.recaptchaEnterpriseScript}function mj(){return Ld.gapiScript}function gj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class xj{constructor(){this.enterprise=new yj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vj="recaptcha-enterprise",vw="NO_RECAPTCHA";class wj{constructor(e){this.type=vj,this.auth=ca(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{X2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Y2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function o(l,u,f){const p=window.grecaptcha;Mx(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(vw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xj().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!t&&Mx(window.grecaptcha))o(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pj();p.length!==0&&(p+=f),yw(p).then(()=>{o(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function qx(r,e,t,s=!1,o=!1){const l=new wj(r);let u;if(o)u=vw;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function fp(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qx(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qx(r,e,t,t==="getOobCode");return s(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(r,e){const t=Od(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ji(l,e??{}))return o;tn(o,"already-initialized")}return t.initialize({options:e})}function _j(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ss);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function kj(r,e,t){const s=ca(r);je(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=ww(e),{host:u,port:f}=Nj(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){je(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),je(Ji(g,s.config.emulator)&&Ji(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,fi(u)?(Gp(`${l}//${u}${p}`),Kp("Auth",!0)):Ej()}function ww(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nj(r){const e=ww(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Wx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Wx(u)}}}function Wx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Ej(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,t){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function jj(r,e){return mi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(r,e){return pc(r,"POST","/v1/accounts:signInWithPassword",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(r,e){return pc(r,"POST","/v1/accounts:signInWithEmailLink",pi(r,e))}async function Sj(r,e){return pc(r,"POST","/v1/accounts:signInWithEmailLink",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends rm{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ql(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ql(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,t,"signInWithPassword",Tj);case"emailLink":return Ij(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,s,"signUpPassword",jj);case"emailLink":return Sj(e,{idToken:t,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return pc(r,"POST","/v1/accounts:signInWithIdp",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="http://localhost";class ea extends rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const u=new ea(s,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:Cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aj(r){const e=Pl(Dl(r)).link,t=e?Pl(Dl(e)).deep_link_id:null,s=Pl(Dl(r)).deep_link_id;return(s?Pl(Dl(s)).link:null)||s||t||e||r}class nm{constructor(e){const t=Pl(Dl(e)),s=t.apiKey??null,o=t.oobCode??null,l=Rj(t.mode??null);je(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Aj(e);try{return new nm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,t){return Ql._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=nm.parseLink(t);return je(s,"argument-error"),Ql._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends mc{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ys.credential(t,s)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends mc{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends mc{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Js.credential(t,s)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(r,e){return pc(r,"POST","/v1/accounts:signUp",pi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Jr._fromIdTokenResponse(e,s,o),u=Hx(s);return new ta({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Hx(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Hx(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Vn{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new gd(e,t,s,o)}}function _w(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(r,l,e,s):l})}async function Dj(r,e,t=!1){const s=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ta._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(r,e,t=!1){const{auth:s}=r;if(Er(s.app))return Promise.reject(as(s));const o="reauthenticate";try{const l=await Kl(r,_w(s,o,e,r),t);je(l.idToken,s,"internal-error");const u=em(l.idToken);je(u,s,"internal-error");const{sub:f}=u;return je(r.uid===f,s,"user-mismatch"),ta._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,e,t=!1){if(Er(r.app))return Promise.reject(as(r));const s="signIn",o=await _w(r,s,e),l=await ta._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function Lj(r,e){return kw(ca(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vj(r,e,t){if(Er(r.app))return Promise.reject(as(r));const s=ca(r),u=await fp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Nw(r),p}),f=await ta._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function Mj(r,e,t){return Er(r.app)?Promise.reject(as(r)):Lj(ht(r),To.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Nw(r),s})}function Uj(r,e,t,s){return ht(r).onIdTokenChanged(e,t,s)}function Fj(r,e,t){return ht(r).beforeAuthStateChanged(e,t)}function zj(r,e,t,s){return ht(r).onAuthStateChanged(e,t,s)}function Bj(r){return ht(r).signOut()}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=1e3,qj=10;class jw extends Ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);oj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qj):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const Wj=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tw.type="SESSION";const Iw=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(u).map(async g=>g(t.origin,l)),p=await Hj(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=sm("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(b){const k=b;if(k.data.eventId===g)switch(k.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(k.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function Kj(r){Rn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function Qj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yj(){return navigator?.serviceWorker?.controller||null}function Xj(){return Sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebaseLocalStorageDb",Jj=1,yd="firebaseLocalStorage",Rw="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Md(r,e){return r.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function Zj(){const r=indexedDB.deleteDatabase(Cw);return new gc(r).toPromise()}function pp(){const r=indexedDB.open(Cw,Jj);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yd,{keyPath:Rw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yd)?e(s):(s.close(),await Zj(),e(await pp()))})})}async function Gx(r,e,t){const s=Md(r,!0).put({[Rw]:e,value:t});return new gc(s).toPromise()}async function eT(r,e){const t=Md(r,!1).get(e),s=await new gc(t).toPromise();return s===void 0?null:s.value}function Kx(r,e){const t=Md(r,!0).delete(e);return new gc(t).toPromise()}const tT=800,rT=3;class Aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>rT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(Xj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Qj(),!this.activeServiceWorker)return;this.sender=new Gj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await Gx(e,xd,"1"),await Kx(e,xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Gx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>eT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Md(o,!1).getAll();return new gc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aw.type="LOCAL";const nT=Aw;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e){return e?ss(e):(je(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iT(r){return kw(r.auth,new im(r),r.bypassAuthState)}function aT(r){const{auth:e,user:t}=r;return je(t,e,"internal-error"),Oj(t,new im(r),r.bypassAuthState)}async function oT(r){const{auth:e,user:t}=r;return je(t,e,"internal-error"),Dj(t,new im(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iT;case"linkViaPopup":case"linkViaRedirect":return oT;case"reauthViaPopup":case"reauthViaRedirect":return aT;default:tn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new fc(2e3,1e4);class ao extends Pw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lT.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",rd=new Map;class uT extends Pw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const s=await dT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dT(r,e){const t=pT(e),s=fT(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function hT(r,e){rd.set(r._key(),e)}function fT(r){return ss(r._redirectPersistence)}function pT(r){return td(cT,r.config.apiKey,r.name)}async function mT(r,e,t=!1){if(Er(r.app))return Promise.reject(as(r));const s=ca(r),o=sT(s,e),u=await new uT(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=600*1e3;class xT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Dw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Cn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qx(e))}saveEventToCache(e){this.cachedEventUids.add(Qx(e)),this.lastProcessedEventTime=Date.now()}}function Qx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Dw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function yT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(r,e={}){return mi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bT=/^https?/;async function _T(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vT(r);for(const t of e)try{if(kT(t))return}catch{}tn(r,"unauthorized-domain")}function kT(r){const e=dp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!bT.test(t))return!1;if(wT.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new fc(3e4,6e4);function Yx(){const r=Rn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function ET(r){return new Promise((e,t)=>{function s(){Yx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yx(),t(Cn(r,"network-request-failed"))},timeout:NT.get()})}if(Rn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rn().gapi?.load)s();else{const o=gj("iframefcb");return Rn()[o]=()=>{gapi.load?s():t(Cn(r,"network-request-failed"))},yw(`${mj()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw nd=null,e})}let nd=null;function jT(r){return nd=nd||ET(r),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new fc(5e3,15e3),IT="__/auth/iframe",ST="emulator/auth/iframe",CT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AT(r){const e=r.config;je(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Zp(e,ST):`https://${r.config.authDomain}/${IT}`,s={apiKey:e.apiKey,appName:r.name,v:la},o=RT.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${hc(s).slice(1)}`}async function PT(r){const e=await jT(r),t=Rn().gapi;return je(t,r,"internal-error"),e.open({where:document.body,url:AT(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CT,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const u=Cn(r,"network-request-failed"),f=Rn().setTimeout(()=>{l(u)},TT.get());function p(){Rn().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OT=500,LT=600,VT="_blank",MT="http://localhost";class Xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UT(r,e,t,s=OT,o=LT){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...DT,width:s.toString(),height:o.toString(),top:l,left:u},g=tr().toLowerCase();t&&(f=dw(g)?VT:t),cw(g)&&(e=e||MT,p.scrollbars="yes");const v=Object.entries(p).reduce((k,[C,P])=>`${k}${C}=${P},`,"");if(aj(g)&&f!=="_self")return FT(e||"",f),new Xx(null);const b=window.open(e||"",f,v);je(b,r,"popup-blocked");try{b.focus()}catch{}return new Xx(b)}function FT(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__/auth/handler",BT="emulator/auth/handler",$T=encodeURIComponent("fac");async function Jx(r,e,t,s,o,l){je(r.config.authDomain,r,"auth-domain-config-required"),je(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:la,eventId:o};if(e instanceof bw){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",IE(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof mc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),g=p?`#${$T}=${encodeURIComponent(p)}`:"";return`${qT(r)}?${hc(f).slice(1)}${g}`}function qT({config:r}){return r.emulator?Zp(r,BT):`https://${r.authDomain}/${zT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class WT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iw,this._completeRedirectFn=mT,this._overrideRedirectResult=hT}async _openPopup(e,t,s,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Jx(e,t,s,dp(),o);return UT(e,l,sm())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Jx(e,t,s,dp(),o);return Kj(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(us(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await PT(e),s=new xT(e);return t.register("authEvent",o=>(je(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gf,{type:Gf},o=>{const l=o?.[0]?.[Gf];l!==void 0&&t(!!l),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_T(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gw()||uw()||tm()}}const HT=WT;var Zx="@firebase/auth",ey="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QT(r){Zi(new ii("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xw(r)},g=new hj(s,o,l,p);return _j(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zi(new ii("auth-internal",e=>{const t=ca(e.getProvider("auth").getImmediate());return(s=>new GT(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Zx,ey,KT(r)),Sn(Zx,ey,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=300,XT=Kv("authIdTokenMaxAge")||YT;let ty=null;const JT=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>XT)return;const o=t?.token;ty!==o&&(ty=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZT(r=Xp()){const e=Od(r,"auth");if(e.isInitialized())return e.getImmediate();const t=bj(r,{popupRedirectResolver:HT,persistence:[nT,Wj,Iw]}),s=Kv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=JT(l.toString());Fj(t,u,()=>u(t.currentUser)),Uj(t,f=>u(f))}}const o=Wv("auth");return o&&kj(t,`http://${o}`),t}function eI(){return document.getElementsByTagName("head")?.[0]??document}fj({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Cn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",eI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QT("Browser");var tI="firebase",rI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(tI,rI,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,Ow;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,E){function I(){}I.prototype=E.prototype,R.F=E.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(A,O,U){for(var j=Array(arguments.length-2),be=2;be<arguments.length;be++)j[be-2]=arguments[be];return E.prototype[O].apply(A,j)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,E,I){I||(I=0);const A=Array(16);if(typeof E=="string")for(var O=0;O<16;++O)A[O]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(O=0;O<16;++O)A[O]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=R.g[0],I=R.g[1],O=R.g[2];let U=R.g[3],j;j=E+(U^I&(O^U))+A[0]+3614090360&4294967295,E=I+(j<<7&4294967295|j>>>25),j=U+(O^E&(I^O))+A[1]+3905402710&4294967295,U=E+(j<<12&4294967295|j>>>20),j=O+(I^U&(E^I))+A[2]+606105819&4294967295,O=U+(j<<17&4294967295|j>>>15),j=I+(E^O&(U^E))+A[3]+3250441966&4294967295,I=O+(j<<22&4294967295|j>>>10),j=E+(U^I&(O^U))+A[4]+4118548399&4294967295,E=I+(j<<7&4294967295|j>>>25),j=U+(O^E&(I^O))+A[5]+1200080426&4294967295,U=E+(j<<12&4294967295|j>>>20),j=O+(I^U&(E^I))+A[6]+2821735955&4294967295,O=U+(j<<17&4294967295|j>>>15),j=I+(E^O&(U^E))+A[7]+4249261313&4294967295,I=O+(j<<22&4294967295|j>>>10),j=E+(U^I&(O^U))+A[8]+1770035416&4294967295,E=I+(j<<7&4294967295|j>>>25),j=U+(O^E&(I^O))+A[9]+2336552879&4294967295,U=E+(j<<12&4294967295|j>>>20),j=O+(I^U&(E^I))+A[10]+4294925233&4294967295,O=U+(j<<17&4294967295|j>>>15),j=I+(E^O&(U^E))+A[11]+2304563134&4294967295,I=O+(j<<22&4294967295|j>>>10),j=E+(U^I&(O^U))+A[12]+1804603682&4294967295,E=I+(j<<7&4294967295|j>>>25),j=U+(O^E&(I^O))+A[13]+4254626195&4294967295,U=E+(j<<12&4294967295|j>>>20),j=O+(I^U&(E^I))+A[14]+2792965006&4294967295,O=U+(j<<17&4294967295|j>>>15),j=I+(E^O&(U^E))+A[15]+1236535329&4294967295,I=O+(j<<22&4294967295|j>>>10),j=E+(O^U&(I^O))+A[1]+4129170786&4294967295,E=I+(j<<5&4294967295|j>>>27),j=U+(I^O&(E^I))+A[6]+3225465664&4294967295,U=E+(j<<9&4294967295|j>>>23),j=O+(E^I&(U^E))+A[11]+643717713&4294967295,O=U+(j<<14&4294967295|j>>>18),j=I+(U^E&(O^U))+A[0]+3921069994&4294967295,I=O+(j<<20&4294967295|j>>>12),j=E+(O^U&(I^O))+A[5]+3593408605&4294967295,E=I+(j<<5&4294967295|j>>>27),j=U+(I^O&(E^I))+A[10]+38016083&4294967295,U=E+(j<<9&4294967295|j>>>23),j=O+(E^I&(U^E))+A[15]+3634488961&4294967295,O=U+(j<<14&4294967295|j>>>18),j=I+(U^E&(O^U))+A[4]+3889429448&4294967295,I=O+(j<<20&4294967295|j>>>12),j=E+(O^U&(I^O))+A[9]+568446438&4294967295,E=I+(j<<5&4294967295|j>>>27),j=U+(I^O&(E^I))+A[14]+3275163606&4294967295,U=E+(j<<9&4294967295|j>>>23),j=O+(E^I&(U^E))+A[3]+4107603335&4294967295,O=U+(j<<14&4294967295|j>>>18),j=I+(U^E&(O^U))+A[8]+1163531501&4294967295,I=O+(j<<20&4294967295|j>>>12),j=E+(O^U&(I^O))+A[13]+2850285829&4294967295,E=I+(j<<5&4294967295|j>>>27),j=U+(I^O&(E^I))+A[2]+4243563512&4294967295,U=E+(j<<9&4294967295|j>>>23),j=O+(E^I&(U^E))+A[7]+1735328473&4294967295,O=U+(j<<14&4294967295|j>>>18),j=I+(U^E&(O^U))+A[12]+2368359562&4294967295,I=O+(j<<20&4294967295|j>>>12),j=E+(I^O^U)+A[5]+4294588738&4294967295,E=I+(j<<4&4294967295|j>>>28),j=U+(E^I^O)+A[8]+2272392833&4294967295,U=E+(j<<11&4294967295|j>>>21),j=O+(U^E^I)+A[11]+1839030562&4294967295,O=U+(j<<16&4294967295|j>>>16),j=I+(O^U^E)+A[14]+4259657740&4294967295,I=O+(j<<23&4294967295|j>>>9),j=E+(I^O^U)+A[1]+2763975236&4294967295,E=I+(j<<4&4294967295|j>>>28),j=U+(E^I^O)+A[4]+1272893353&4294967295,U=E+(j<<11&4294967295|j>>>21),j=O+(U^E^I)+A[7]+4139469664&4294967295,O=U+(j<<16&4294967295|j>>>16),j=I+(O^U^E)+A[10]+3200236656&4294967295,I=O+(j<<23&4294967295|j>>>9),j=E+(I^O^U)+A[13]+681279174&4294967295,E=I+(j<<4&4294967295|j>>>28),j=U+(E^I^O)+A[0]+3936430074&4294967295,U=E+(j<<11&4294967295|j>>>21),j=O+(U^E^I)+A[3]+3572445317&4294967295,O=U+(j<<16&4294967295|j>>>16),j=I+(O^U^E)+A[6]+76029189&4294967295,I=O+(j<<23&4294967295|j>>>9),j=E+(I^O^U)+A[9]+3654602809&4294967295,E=I+(j<<4&4294967295|j>>>28),j=U+(E^I^O)+A[12]+3873151461&4294967295,U=E+(j<<11&4294967295|j>>>21),j=O+(U^E^I)+A[15]+530742520&4294967295,O=U+(j<<16&4294967295|j>>>16),j=I+(O^U^E)+A[2]+3299628645&4294967295,I=O+(j<<23&4294967295|j>>>9),j=E+(O^(I|~U))+A[0]+4096336452&4294967295,E=I+(j<<6&4294967295|j>>>26),j=U+(I^(E|~O))+A[7]+1126891415&4294967295,U=E+(j<<10&4294967295|j>>>22),j=O+(E^(U|~I))+A[14]+2878612391&4294967295,O=U+(j<<15&4294967295|j>>>17),j=I+(U^(O|~E))+A[5]+4237533241&4294967295,I=O+(j<<21&4294967295|j>>>11),j=E+(O^(I|~U))+A[12]+1700485571&4294967295,E=I+(j<<6&4294967295|j>>>26),j=U+(I^(E|~O))+A[3]+2399980690&4294967295,U=E+(j<<10&4294967295|j>>>22),j=O+(E^(U|~I))+A[10]+4293915773&4294967295,O=U+(j<<15&4294967295|j>>>17),j=I+(U^(O|~E))+A[1]+2240044497&4294967295,I=O+(j<<21&4294967295|j>>>11),j=E+(O^(I|~U))+A[8]+1873313359&4294967295,E=I+(j<<6&4294967295|j>>>26),j=U+(I^(E|~O))+A[15]+4264355552&4294967295,U=E+(j<<10&4294967295|j>>>22),j=O+(E^(U|~I))+A[6]+2734768916&4294967295,O=U+(j<<15&4294967295|j>>>17),j=I+(U^(O|~E))+A[13]+1309151649&4294967295,I=O+(j<<21&4294967295|j>>>11),j=E+(O^(I|~U))+A[4]+4149444226&4294967295,E=I+(j<<6&4294967295|j>>>26),j=U+(I^(E|~O))+A[11]+3174756917&4294967295,U=E+(j<<10&4294967295|j>>>22),j=O+(E^(U|~I))+A[2]+718787259&4294967295,O=U+(j<<15&4294967295|j>>>17),j=I+(U^(O|~E))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+E&4294967295,R.g[1]=R.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,E){E===void 0&&(E=R.length);const I=E-this.blockSize,A=this.C;let O=this.h,U=0;for(;U<E;){if(O==0)for(;U<=I;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<E;)if(A[O++]=R.charCodeAt(U++),O==this.blockSize){o(this,A),O=0;break}}else for(;U<E;)if(A[O++]=R[U++],O==this.blockSize){o(this,A),O=0;break}}this.h=O,this.o+=E},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var E=1;E<R.length-8;++E)R[E]=0;E=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=E&255,E/=256;for(this.v(R),R=Array(16),E=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)R[E++]=this.g[I]>>>A&255;return R};function l(R,E){var I=f;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=E(R)}function u(R,E){this.h=E;const I=[];let A=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;A&&U==E||(I[O]=U,A=!1)}this.g=I}var f={};function p(R){return-128<=R&&R<128?l(R,function(E){return new u([E|0],E<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return D(g(-R));const E=[];let I=1;for(let A=0;R>=I;A++)E[A]=R/I|0,I*=4294967296;return new u(E,0)}function v(R,E){if(R.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(R.charAt(0)=="-")return D(v(R.substring(1),E));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(E,8));let A=b;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const j=parseInt(R.substring(U,U+O),E);O<8?(O=g(Math.pow(E,O)),A=A.j(O).add(g(j))):(A=A.j(I),A=A.add(g(j)))}return A}var b=p(0),k=p(1),C=p(16777216);r=u.prototype,r.m=function(){if(V(this))return-D(this).m();let R=0,E=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);R+=(A>=0?A:4294967296+A)*E,E*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(V(this))return"-"+D(this).toString(R);const E=g(Math.pow(R,6));var I=this;let A="";for(;;){const O=Q(I,E).g;I=W(I,O.j(E));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,P(I))return U+A;for(;U.length<6;)U="0"+U;A=U+A}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let E=0;E<R.g.length;E++)if(R.g[E]!=0)return!1;return!0}function V(R){return R.h==-1}r.l=function(R){return R=W(this,R),V(R)?-1:P(R)?0:1};function D(R){const E=R.g.length,I=[];for(let A=0;A<E;A++)I[A]=~R.g[A];return new u(I,~R.h).add(k)}r.abs=function(){return V(this)?D(this):this},r.add=function(R){const E=Math.max(this.g.length,R.g.length),I=[];let A=0;for(let O=0;O<=E;O++){let U=A+(this.i(O)&65535)+(R.i(O)&65535),j=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);A=j>>>16,U&=65535,j&=65535,I[O]=j<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function W(R,E){return R.add(D(E))}r.j=function(R){if(P(this)||P(R))return b;if(V(this))return V(R)?D(this).j(D(R)):D(D(this).j(R));if(V(R))return D(this.j(D(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const E=this.g.length+R.g.length,I=[];for(var A=0;A<2*E;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let O=0;O<R.g.length;O++){const U=this.i(A)>>>16,j=this.i(A)&65535,be=R.i(O)>>>16,qe=R.i(O)&65535;I[2*A+2*O]+=j*qe,z(I,2*A+2*O),I[2*A+2*O+1]+=U*qe,z(I,2*A+2*O+1),I[2*A+2*O+1]+=j*be,z(I,2*A+2*O+1),I[2*A+2*O+2]+=U*be,z(I,2*A+2*O+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new u(I,0)};function z(R,E){for(;(R[E]&65535)!=R[E];)R[E+1]+=R[E]>>>16,R[E]&=65535,E++}function X(R,E){this.g=R,this.h=E}function Q(R,E){if(P(E))throw Error("division by zero");if(P(R))return new X(b,b);if(V(R))return E=Q(D(R),E),new X(D(E.g),D(E.h));if(V(E))return E=Q(R,D(E)),new X(D(E.g),E.h);if(R.g.length>30){if(V(R)||V(E))throw Error("slowDivide_ only works with positive integers.");for(var I=k,A=E;A.l(R)<=0;)I=ie(I),A=ie(A);var O=de(I,1),U=de(A,1);for(A=de(A,2),I=de(I,2);!P(A);){var j=U.add(A);j.l(R)<=0&&(O=O.add(I),U=j),A=de(A,1),I=de(I,1)}return E=W(R,O.j(E)),new X(O,E)}for(O=b;R.l(E)>=0;){for(I=Math.max(1,Math.floor(R.m()/E.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),U=g(I),j=U.j(E);V(j)||j.l(R)>0;)I-=A,U=g(I),j=U.j(E);P(U)&&(U=k),O=O.add(U),R=W(R,j)}return new X(O,R)}r.B=function(R){return Q(this,R).h},r.and=function(R){const E=Math.max(this.g.length,R.g.length),I=[];for(let A=0;A<E;A++)I[A]=this.i(A)&R.i(A);return new u(I,this.h&R.h)},r.or=function(R){const E=Math.max(this.g.length,R.g.length),I=[];for(let A=0;A<E;A++)I[A]=this.i(A)|R.i(A);return new u(I,this.h|R.h)},r.xor=function(R){const E=Math.max(this.g.length,R.g.length),I=[];for(let A=0;A<E;A++)I[A]=this.i(A)^R.i(A);return new u(I,this.h^R.h)};function ie(R){const E=R.g.length+1,I=[];for(let A=0;A<E;A++)I[A]=R.i(A)<<1|R.i(A-1)>>>31;return new u(I,R.h)}function de(R,E){const I=E>>5;E%=32;const A=R.g.length-I,O=[];for(let U=0;U<A;U++)O[U]=E>0?R.i(U+I)>>>E|R.i(U+I+1)<<32-E:R.i(U+I);return new u(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ow=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ni=u}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lw,Ol,Vw,sd,mp,Mw,Uw,Fw;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(d,y){if(y)e:{var w=s;d=d.split(".");for(var N=0;N<d.length-1;N++){var $=d[N];if(!($ in w))break e;w=w[$]}d=d[d.length-1],N=w[d],y=y(N),y!=N&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(y){var w=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&w.push([N,y[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,w){return d.call.apply(d.bind,arguments)}function g(d,y,w){return g=p,g.apply(null,arguments)}function v(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function b(d,y){function w(){}w.prototype=y.prototype,d.Z=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,$,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[$].apply(N,se)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const y=d.length;if(y>0){const w=Array(y);for(let N=0;N<y;N++)w[N]=d[N];return w}return[]}function P(d,y){for(let N=1;N<arguments.length;N++){const $=arguments[N];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=d.length||0;const K=$.length||0;d.length=w+K;for(let se=0;se<K;se++)d[w+se]=$[se]}else d.push($)}}class V{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(d){u.setTimeout(()=>{throw d},0)}function W(){var d=R;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,w){const N=X.get();N.set(y,w),this.h?this.h.next=N:this.g=N,this.h=N}}var X=new V(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,de=!1,R=new z,E=()=>{const d=Promise.resolve(void 0);ie=()=>{d.then(I)}};function I(){for(var d;d=W();){try{d.h.call(d.g)}catch(w){D(w)}var y=X;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}de=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return d})();function j(d){return/^[\s\xa0]*$/.test(d)}function be(d,y){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}b(be,O),be.prototype.init=function(d,y){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),Xe=0;function Ne(d,y,w,N,$){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!N,this.ha=$,this.key=++Xe,this.da=this.fa=!1}function G(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ce(d,y,w){for(const N in d)y.call(w,d[N],N,d)}function ae(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function F(d){const y={};for(const w in d)y[w]=d[w];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,y){let w,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(w in N)d[w]=N[w];for(let K=0;K<Z.length;K++)w=Z[K],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function ve(d){this.src=d,this.g={},this.h=0}ve.prototype.add=function(d,y,w,N,$){const K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);const se=Oe(d,y,N,$);return se>-1?(y=d[se],w||(y.fa=!1)):(y=new Ne(y,this.src,K,!!N,$),y.fa=w,d.push(y)),y};function De(d,y){const w=y.type;if(w in d.g){var N=d.g[w],$=Array.prototype.indexOf.call(N,y,void 0),K;(K=$>=0)&&Array.prototype.splice.call(N,$,1),K&&(G(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Oe(d,y,w,N){for(let $=0;$<d.length;++$){const K=d[$];if(!K.da&&K.listener==y&&K.capture==!!w&&K.ha==N)return $}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Me={};function He(d,y,w,N,$){if(Array.isArray(y)){for(let K=0;K<y.length;K++)He(d,y[K],w,N,$);return null}return w=Lo(w),d&&d[qe]?d.J(y,w,f(N)?!!N.capture:!1,$):wt(d,y,w,!1,N,$)}function wt(d,y,w,N,$,K){if(!y)throw Error("Invalid event type");const se=f($)?!!$.capture:!!$;let Re=ma(d);if(Re||(d[Ee]=Re=new ve(d)),w=Re.add(y,w,N,se,K),w.proxy)return w;if(N=an(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)U||($=se),$===void 0&&($=!1),d.addEventListener(y.toString(),N,$);else if(d.attachEvent)d.attachEvent(pa(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function an(){function d(w){return y.call(d.src,d.listener,w)}const y=Nc;return d}function on(d,y,w,N,$){if(Array.isArray(y))for(var K=0;K<y.length;K++)on(d,y[K],w,N,$);else N=f(N)?!!N.capture:!!N,w=Lo(w),d&&d[qe]?(d=d.i,K=String(y).toString(),K in d.g&&(y=d.g[K],w=Oe(y,w,N,$),w>-1&&(G(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete d.g[K],d.h--)))):d&&(d=ma(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Oe(y,w,N,$)),(w=d>-1?y[d]:null)&&xs(w))}function xs(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[qe])De(y.i,d);else{var w=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(w,N,d.capture):y.detachEvent?y.detachEvent(pa(w),N):y.addListener&&y.removeListener&&y.removeListener(N),(w=ma(y))?(De(w,d),w.h==0&&(w.src=null,y[Ee]=null)):G(d)}}}function pa(d){return d in Me?Me[d]:Me[d]="on"+d}function Nc(d,y){if(d.da)d=!0;else{y=new be(y,this);const w=d.listener,N=d.ha||d.src;d.fa&&xs(d),d=w.call(N,y)}return d}function ma(d){return d=d[Ee],d instanceof ve?d:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(d){return typeof d=="function"?d:(d[yi]||(d[yi]=function(y){return d.handleEvent(y)}),d[yi])}function bt(){A.call(this),this.i=new ve(this),this.M=this,this.G=null}b(bt,A),bt.prototype[qe]=!0,bt.prototype.removeEventListener=function(d,y,w,N){on(this,d,y,w,N)};function mt(d,y){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new O(y,d);else if(y instanceof O)y.target=y.target||d;else{var $=y;y=new O(N,d),ye(y,$)}$=!0;let K,se;if(w)for(se=w.length-1;se>=0;se--)K=y.g=w[se],$=Br(K,N,!0,y)&&$;if(K=y.g=d,$=Br(K,N,!0,y)&&$,$=Br(K,N,!1,y)&&$,w)for(se=0;se<w.length;se++)K=y.g=w[se],$=Br(K,N,!1,y)&&$}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const w=d.g[y];for(let N=0;N<w.length;N++)G(w[N]);delete d.g[y],d.h--}}this.G=null},bt.prototype.J=function(d,y,w,N){return this.i.add(String(d),y,!1,w,N)},bt.prototype.K=function(d,y,w,N){return this.i.add(String(d),y,!0,w,N)};function Br(d,y,w,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let $=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==w){const Re=se.listener,gt=se.ha||se.src;se.fa&&De(d.i,se),$=Re.call(gt,N)!==!1&&$}}return $&&!N.defaultPrevented}function Vo(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(d,y||0)}function Mo(d){d.g=Vo(()=>{d.g=null,d.i&&(d.i=!1,Mo(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Ec extends A{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(d){A.call(this),this.h=d,this.g={}}b(ys,A);var Uo=[];function ga(d){ce(d.g,function(y,w){this.g.hasOwnProperty(w)&&xs(y)},d),d.g={}}ys.prototype.N=function(){ys.Z.N.call(this),ga(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=u.JSON.stringify,jc=u.JSON.parse,vi=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ws(){}function Tc(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xa(){O.call(this,"d")}b(xa,O);function Fo(){O.call(this,"c")}b(Fo,O);var $r={},ya=null;function _s(){return ya=ya||new bt}$r.Ia="serverreachability";function va(d){O.call(this,$r.Ia,d)}b(va,O);function Mn(d){const y=_s();mt(y,new va(y))}$r.STAT_EVENT="statevent";function Un(d,y){O.call(this,$r.STAT_EVENT,d),this.stat=y}b(Un,O);function ut(d){const y=_s();mt(y,new Un(y,d))}$r.Ja="timingevent";function zo(d,y){O.call(this,$r.Ja,d),this.size=y}b(zo,O);function ks(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function Ns(){this.g=!0}Ns.prototype.ua=function(){this.g=!1};function Ic(d,y,w,N,$,K){d.info(function(){if(d.g)if(K){var se="",Re=K.split("&");for(let Ye=0;Ye<Re.length;Ye++){var gt=Re[Ye].split("=");if(gt.length>1){const _t=gt[0];gt=gt[1];const br=_t.split("_");se=br.length>=2&&br[1]=="type"?se+(_t+"="+gt+"&"):se+(_t+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+y+`
`+w+`
`+se})}function Sc(d,y,w,N,$,K,se){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+y+`
`+w+`
`+K+" "+se})}function ln(d,y,w,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+wi(d,w)+(N?" "+N:"")})}function Cc(d,y){d.info(function(){return"TIMEOUT: "+y})}Ns.prototype.info=function(){};function wi(d,y){if(!d.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(d=0;d<K.length;d++)if(Array.isArray(K[d])){var w=K[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var $=N[0];if($!="noop"&&$!="stop"&&$!="close")for(let se=1;se<N.length;se++)N[se]=""}}}}return vs(K)}catch{return y}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rc;function Fn(){}b(Fn,ws),Fn.prototype.g=function(){return new XMLHttpRequest},Rc=new Fn;function cn(d){return encodeURIComponent(String(d))}function wa(d){var y=1;d=d.split(":");const w=[];for(;y>0&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function Sr(d,y,w,N){this.j=d,this.i=y,this.l=w,this.S=N||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ac}function Ac(){this.i=null,this.g="",this.h=!1}var Pc={},Bo={};function qr(d,y,w){d.M=1,d.A=Bn(Cr(y)),d.u=w,d.R=!0,$o(d,null)}function $o(d,y){d.F=Date.now(),bi(d),d.B=Cr(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Zo(w.i,"t",N),d.C=0,w=d.j.L,d.h=new Ac,d.g=$c(d.j,w?y:null,!d.u),d.P>0&&(d.O=new Ec(g(d.Y,d,d.g),d.P)),y=d.V,w=d.g,N=d.ba;var $="readystatechange";Array.isArray($)||($&&(Uo[0]=$.toString()),$=Uo);for(let K=0;K<$.length;K++){const se=He(w,$[K],N||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Mn(),Ic(d.i,d.v,d.B,d.l,d.S,d.u)}Sr.prototype.ba=function(d){d=d.target;const y=this.O;y&&gn(d)==3?y.j():this.Y(d)},Sr.prototype.Y=function(d){try{if(d==this.g)e:{const Re=gn(this.g),gt=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||zc(this.g)))){this.K||Re!=4||gt==7||(gt==8||Ye<=0?Mn(3):Mn(2)),ba(this);var y=this.g.ca();this.X=y;var w=Dc(this);if(this.o=y==200,Sc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(N)){var K=N;break t}}K=null}if(d=K)ln(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rt(this,d);else{this.o=!1,this.m=3,ut(12),zn(this),_i(this);break e}}if(this.R){d=!0;let _t;for(;!this.K&&this.C<w.length;)if(_t=Lc(this,w),_t==Bo){Re==4&&(this.m=4,ut(14),d=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Pc){this.m=4,ut(15),ln(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else ln(this.i,this.l,_t,null),rt(this,_t);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||w.length!=0||this.h.h||(this.m=1,ut(16),d=!1),this.o=this.o&&d,!d)ln(this.i,this.l,w,"[Invalid Chunked Response]"),zn(this),_i(this);else if(w.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ri(se),se.P=!0,ut(11))}}else ln(this.i,this.l,w,null),rt(this,w);Re==4&&zn(this),this.o&&!this.K&&(Re==4?Ra(this.j,this):(this.o=!1,bi(this)))}else tl(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),zn(this),_i(this)}}}catch{}finally{}};function Dc(d){if(!Oc(d))return d.g.la();const y=zc(d.g);if(y==="")return"";let w="";const N=y.length,$=gn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zn(d),_i(d),"";d.h.i=new u.TextDecoder}for(let K=0;K<N;K++)d.h.h=!0,w+=d.h.i.decode(y[K],{stream:!($&&K==N-1)});return y.length=0,d.h.g+=w,d.C=0,d.h.g}function Oc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Lc(d,y){var w=d.C,N=y.indexOf(`
`,w);return N==-1?Bo:(w=Number(y.substring(w,N)),isNaN(w)?Pc:(N+=1,N+w>y.length?Bo:(y=y.slice(N,N+w),d.C=N+w,y)))}Sr.prototype.cancel=function(){this.K=!0,zn(this)};function bi(d){d.T=Date.now()+d.H,qo(d,d.H)}function qo(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ks(g(d.aa,d),y)}function ba(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Sr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Cc(this.i,this.B),this.M!=2&&(Mn(),ut(17)),zn(this),this.m=2,_i(this)):qo(this,this.T-d)};function _i(d){d.j.I==0||d.K||Ra(d.j,d)}function zn(d){ba(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,ga(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function rt(d,y){try{var w=d.j;if(w.I!=0&&(w.g==d||Ho(w.h,d))){if(!d.L&&Ho(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Ca(w),vr(w);else break e;vn(w),ut(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ks(g(w.Va,w),6e3));ki(w.h)<=1&&w.ta&&(w.ta=void 0)}else wr(w,11)}else if((d.L||w.g==d)&&Ca(w),!j(y))for($=w.Ba.g.parse(y),y=0;y<$.length;y++){let Ye=$[y];const _t=Ye[0];if(!(_t<=w.K))if(w.K=_t,Ye=Ye[1],w.I==2)if(Ye[0]=="c"){w.M=Ye[1],w.ba=Ye[2];const br=Ye[3];br!=null&&(w.ka=br,w.j.info("VER="+w.ka));const Gn=Ye[4];Gn!=null&&(w.za=Gn,w.j.info("SVER="+w.za));const wn=Ye[5];wn!=null&&typeof wn=="number"&&wn>0&&(N=1.5*wn,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const bn=d.g;if(bn){const Da=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var K=N.h;K.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ka(K,K.h),K.h=null))}if(N.G){const sl=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(N.wa=sl,Ke(N.J,N.G,sl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var se=d;if(N.na=nl(N,N.L?N.ba:null,N.W),se.L){Ni(N.h,se);var Re=se,gt=N.O;gt&&(Re.H=gt),Re.D&&(ba(Re),bi(Re)),N.g=se}else Wt(N);w.i.length>0&&Hn(w)}else Ye[0]!="stop"&&Ye[0]!="close"||wr(w,7);else w.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?wr(w,7):Ia(w):Ye[0]!="noop"&&w.l&&w.l.qa(Ye),w.A=0)}}Mn(4)}catch{}}var ch=class{constructor(d,y){this.g=d,this.map=y}};function _a(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ki(d){return d.h?1:d.g?d.g.size:0}function Ho(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ka(d,y){d.g?d.g.add(y):d.h=y}function Ni(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}_a.prototype.cancel=function(){if(this.i=gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function gr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.G);return y}return C(d.i)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xr(d,y){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let $,K=null;N>=0?($=d[w].substring(0,N),K=d[w].substring(N+1)):$=d[w],y($,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function un(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof un?(this.l=d.l,Ei(this,d.j),this.o=d.o,this.g=d.g,dn(this,d.u),this.h=d.h,Ts(this,el(d.i)),this.m=d.m):d&&(y=String(d).match(Vc))?(this.l=!1,Ei(this,y[1]||"",!0),this.o=ji(y[2]||""),this.g=ji(y[3]||"",!0),dn(this,y[4]),this.h=ji(y[5]||"",!0),Ts(this,y[6]||"",!0),this.m=ji(y[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}un.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Ti(y,Ko,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ti(y,Ko,!0),"@"),d.push(cn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ti(w,w.charAt(0)=="/"?Ii:Qo,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ti(w,Yo)),d.join("")},un.prototype.resolve=function(d){const y=Cr(this);let w=!!d.j;w?Ei(y,d.j):w=!!d.o,w?y.o=d.o:w=!!d.g,w?y.g=d.g:w=d.u!=null;var N=d.h;if(w)dn(y,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var $=y.h.lastIndexOf("/");$!=-1&&(N=y.h.slice(0,$+1)+N)}if($=N,$==".."||$==".")N="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){N=$.lastIndexOf("/",0)==0,$=$.split("/");const K=[];for(let se=0;se<$.length;){const Re=$[se++];Re=="."?N&&se==$.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),N&&se==$.length&&K.push("")):(K.push(Re),N=!0)}N=K.join("/")}else N=$}return w?y.h=N:w=d.i.toString()!=="",w?Ts(y,el(d.i)):w=!!d.m,w&&(y.m=d.m),y};function Cr(d){return new un(d)}function Ei(d,y,w){d.j=w?ji(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function dn(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Ts(d,y,w){y instanceof Be?(d.i=y,Ea(d.i,d.l)):(w||(y=Ti(y,uh)),d.i=new Be(y,d.l))}function Ke(d,y,w){d.i.set(y,w)}function Bn(d){return Ke(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ji(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ti(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,Go),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Go(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ko=/[#\/\?@]/g,Qo=/[#\?:]/g,Ii=/[#\?]/g,uh=/[#\?@]/g,Yo=/#/g;function Be(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function hn(d){d.g||(d.g=new Map,d.h=0,d.i&&xr(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}r=Be.prototype,r.add=function(d,y){hn(this),this.i=null,d=fn(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Xo(d,y){hn(d),y=fn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Na(d,y){return hn(d),y=fn(d,y),d.g.has(y)}r.forEach=function(d,y){hn(this),this.g.forEach(function(w,N){w.forEach(function($){d.call(y,$,N,this)},this)},this)};function Jo(d,y){hn(d);let w=[];if(typeof y=="string")Na(d,y)&&(w=w.concat(d.g.get(fn(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)w=w.concat(d[y]);return w}r.set=function(d,y){return hn(this),this.i=null,d=fn(this,d),Na(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=Jo(this,d),d.length>0?String(d[0]):y):y};function Zo(d,y,w){Xo(d,y),w.length>0&&(d.i=null,d.g.set(fn(d,y),C(w)),d.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var w=y[N];const $=cn(w);w=Jo(this,w);for(let K=0;K<w.length;K++){let se=$;w[K]!==""&&(se+="="+cn(w[K])),d.push(se)}}return this.i=d.join("&")};function el(d){const y=new Be;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function fn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ea(d,y){y&&!d.j&&(hn(d),d.i=null,d.g.forEach(function(w,N){const $=N.toLowerCase();N!=$&&(Xo(this,N),Zo(this,$,w))},d)),d.j=y}function pn(d,y){const w=new Ns;if(u.Image){const N=new Image;N.onload=v(Vt,w,"TestLoadImage: loaded",!0,y,N),N.onerror=v(Vt,w,"TestLoadImage: error",!1,y,N),N.onabort=v(Vt,w,"TestLoadImage: abort",!1,y,N),N.ontimeout=v(Vt,w,"TestLoadImage: timeout",!1,y,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function mn(d,y){const w=new Ns,N=new AbortController,$=setTimeout(()=>{N.abort(),Vt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(K=>{clearTimeout($),K.ok?Vt(w,"TestPingServer: ok",!0,y):Vt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Vt(w,"TestPingServer: error",!1,y)})}function Vt(d,y,w,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(w)}catch{}}function Si(){this.g=new vi}function $n(d){this.i=d.Sb||null,this.h=d.ab||!1}b($n,ws),$n.prototype.g=function(){return new yr(this.i,this.h)};function yr(d,y){bt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(yr,bt),r=yr.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Wr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mc(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mc(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Is(this):Wr(this),this.readyState==3&&Mc(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Is(this))},r.Na=function(d){this.g&&(this.response=d,Is(this))},r.ga=function(){this.g&&Is(this)};function Is(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Wr(d)}r.setRequestHeader=function(d,y){this.A.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Wr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Uc(d){let y="";return ce(d,function(w,N){y+=N,y+=":",y+=w,y+=`\r
`}),y}function ja(d,y,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Uc(w),typeof d=="string"?w!=null&&cn(w):Ke(d,y,w))}function Je(d){bt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,bt);var Fc=/^https?$/i,dh=["POST","PUT"];r=Je.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,y,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rc.g(),this.g.onreadystatechange=k(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(K){Ss(this,K);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)w.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const K of N.keys())w.set(K,N.get(K));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),$=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(dh,y,void 0)>=0)||N||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of w)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(K){Ss(this,K)}};function Ss(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Cs(d),Wn(d)}function Cs(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,mt(this,"complete"),mt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qn(this):this.Xa())},r.Xa=function(){qn(this)};function qn(d){if(d.h&&typeof l<"u"){if(d.v&&gn(d)==4)setTimeout(d.Ca.bind(d),0);else if(mt(d,"readystatechange"),gn(d)==4){d.h=!1;try{const K=d.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var N;if(N=K===0){let se=String(d.D).match(Vc)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),N=!Fc.test(se?se.toLowerCase():"")}w=N}if(w)mt(d,"complete"),mt(d,"success");else{d.o=6;try{var $=gn(d)>2?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.ca()+"]",Cs(d)}}finally{Wn(d)}}}}function Wn(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,y||mt(d,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gn(d){return d.g?d.g.readyState:0}r.ca=function(){try{return gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),jc(y)}};function zc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(d){const y={};d=(d.g&&gn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(j(d[N]))continue;var w=wa(d[N]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=y[$]||[];y[$]=K,K.push(w)}ae(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Ta(d){this.za=0,this.i=[],this.j=new Ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xn("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xn("baseRetryDelayMs",5e3,d),this.Za=xn("retryDelaySeedMs",1e4,d),this.Ta=xn("forwardChannelMaxRetries",2,d),this.va=xn("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new _a(d&&d.concurrentRequestLimit),this.Ba=new Si,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ta.prototype,r.ka=8,r.I=1,r.connect=function(d,y,w,N){ut(0),this.W=d,this.H=y||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=nl(this,null,this.W),Hn(this)};function Ia(d){if(Sa(d),d.I==3){var y=d.V++,w=Cr(d.J);if(Ke(w,"SID",d.M),Ke(w,"RID",y),Ke(w,"TYPE","terminate"),yn(d,w),y=new Sr(d,d.j,y),y.M=2,y.A=Bn(Cr(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=$c(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bi(y)}Ai(d)}function vr(d){d.g&&(Ri(d),d.g.cancel(),d.g=null)}function Sa(d){vr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ca(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Hn(d){if(!Wo(d.h)&&!d.m){d.m=!0;var y=d.Ea;ie||E(),de||(ie(),de=!0),R.add(y,d),d.D=0}}function Bc(d,y){return ki(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ks(g(d.Ea,d,y),Aa(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const $=new Sr(this,this.j,d);let K=this.o;if(this.U&&(K?(K=F(K),ye(K,this.U)):K=this.U),this.u!==null||this.R||($.J=K,K=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=rl(this,$,y),w=Cr(this.J),Ke(w,"RID",d),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),yn(this,w),K&&(this.R?y="headers="+cn(Uc(K))+"&"+y:this.u&&ja(w,this.u,K)),ka(this.h,$),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",y),Ke(w,"SID","null"),$.U=!0,qr($,w,null)):qr($,w,y),this.I=2}}else this.I==3&&(d?Ci(this,d):this.i.length==0||Wo(this.h)||Ci(this))};function Ci(d,y){var w;y?w=y.l:w=d.V++;const N=Cr(d.J);Ke(N,"SID",d.M),Ke(N,"RID",w),Ke(N,"AID",d.K),yn(d,N),d.u&&d.o&&ja(N,d.u,d.o),w=new Sr(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),y&&(d.i=y.G.concat(d.i)),y=rl(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ka(d.h,w),qr(w,N,y)}function yn(d,y){d.H&&ce(d.H,function(w,N){Ke(y,N,w)}),d.l&&ce({},function(w,N){Ke(y,N,w)})}function rl(d,y,w){w=Math.min(d.i.length,w);const N=d.l?g(d.l.Ka,d.l,d):null;e:{var $=d.i;let Re=-1;for(;;){const gt=["count="+w];Re==-1?w>0?(Re=$[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Ye=!0;for(let _t=0;_t<w;_t++){var K=$[_t].g;const br=$[_t].map;if(K-=Re,K<0)Re=Math.max(0,$[_t].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var se=br instanceof Map?br:Object.entries(br);for(const[Gn,wn]of se){let bn=wn;f(wn)&&(bn=vs(wn)),gt.push(K+Gn+"="+encodeURIComponent(bn))}}catch(Gn){throw gt.push(K+"type="+encodeURIComponent("_badmap")),Gn}}catch{N&&N(br)}}if(Ye){se=gt.join("&");break e}}se=void 0}return d=d.i.splice(0,w),y.G=d,se}function Wt(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;ie||E(),de||(ie(),de=!0),R.add(y,d),d.A=0}}function vn(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ks(g(d.Da,d),Aa(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Rs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ks(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),vr(this),Rs(this))};function Ri(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Rs(d){d.g=new Sr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Cr(d.na);Ke(y,"RID","rpc"),Ke(y,"SID",d.M),Ke(y,"AID",d.K),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ke(y,"TO",d.ia),Ke(y,"TYPE","xmlhttp"),yn(d,y),d.u&&d.o&&ja(y,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Bn(Cr(y)),w.u=null,w.R=!0,$o(w,d)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),vn(this),ut(19))};function Ca(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Ra(d,y){var w=null;if(d.g==y){Ca(d),Ri(d),d.g=null;var N=2}else if(Ho(d.h,y))w=y.G,Ni(d.h,y),N=1;else return;if(d.I!=0){if(y.o)if(N==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var $=d.D;N=_s(),mt(N,new zo(N,w)),Hn(d)}else Wt(d);else if($=y.m,$==3||$==0&&y.X>0||!(N==1&&Bc(d,y)||N==2&&vn(d)))switch(w&&w.length>0&&(y=d.h,y.i=y.i.concat(w)),$){case 1:wr(d,5);break;case 4:wr(d,10);break;case 3:wr(d,6);break;default:wr(d,2)}}}function Aa(d,y){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*y}function wr(d,y){if(d.j.info("Error code "+y),y==2){var w=g(d.bb,d),N=d.Ua;const $=!N;N=new un(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ei(N,"https"),Bn(N),$?pn(N.toString(),w):mn(N.toString(),w)}else ut(2);d.I=0,d.l&&d.l.pa(y),Ai(d),Sa(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ai(d){if(d.I=0,d.ja=[],d.l){const y=gr(d.h);(y.length!=0||d.i.length!=0)&&(P(d.ja,y),P(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function nl(d,y,w){var N=w instanceof un?Cr(w):new un(w);if(N.g!="")y&&(N.g=y+"."+N.g),dn(N,N.u);else{var $=u.location;N=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;const K=new un(null);N&&Ei(K,N),y&&(K.g=y),$&&dn(K,$),w&&(K.h=w),N=K}return w=d.G,y=d.wa,w&&y&&Ke(N,w,y),Ke(N,"VER",d.ka),yn(d,N),N}function $c(d,y,w){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new Je(new $n({ab:w})):new Je(d.ma),y.Fa(d.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}r=qc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pa(){}Pa.prototype.g=function(d,y){return new Mt(d,y)};function Mt(d,y){bt.call(this),this.g=new Ta(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!j(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new As(this)}b(Mt,bt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Ia(this.g)},Mt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=vs(d),d=w);y.i.push(new ch(y.Ya++,d)),y.I==3&&Hn(y)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,Mt.Z.N.call(this)};function Wc(d){xa.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}b(Wc,xa);function Hc(){Fo.call(this),this.status=1}b(Hc,Fo);function As(d){this.g=d}b(As,qc),As.prototype.ra=function(){mt(this.g,"a")},As.prototype.qa=function(d){mt(this.g,new Wc(d))},As.prototype.pa=function(d){mt(this.g,new Hc)},As.prototype.oa=function(){mt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Fw=function(){return new Pa},Uw=function(){return _s()},Mw=$r,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,sd=Es,js.COMPLETE="complete",Vw=js,Tc.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ol=Tc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Lw=Je}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore",sy="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Qp("@firebase/firestore");function ro(){return ra.logLevel}function ue(r,...e){if(ra.logLevel<=Ue.DEBUG){const t=e.map(am);ra.debug(`Firestore (${Io}): ${r}`,...t)}}function ds(r,...e){if(ra.logLevel<=Ue.ERROR){const t=e.map(am);ra.error(`Firestore (${Io}): ${r}`,...t)}}function po(r,...e){if(ra.logLevel<=Ue.WARN){const t=e.map(am);ra.warn(`Firestore (${Io}): ${r}`,...t)}}function am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,zw(r,s,t)}function zw(r,e,t){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ds(s),new Error(s)}function Qe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||zw(e,o,s)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xt.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new os)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new Bw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class aI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new aI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cI(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Fe(r,e){return r<e?-1:r>e?1:0}function gp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),l=e.charAt(s);if(o!==l)return Kf(o)===Kf(l)?Fe(o,l):Kf(o)?1:-1}return Fe(r.length,e.length)}const uI=55296,dI=57343;function Kf(r){const e=r.charCodeAt(0);return e>=uI&&e<=dI}function mo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="__name__";class jn{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=jn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const s=jn.isNumericId(e),o=jn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?jn.extractNumericId(e).compare(jn.extractNumericId(t)):gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class tt extends jn{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends jn{construct(e,t,s){return new Bt(e,t,s)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ay}static keyField(){return new Bt([ay])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new oe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(s+=f,o++):(l(),o++)}if(l(),u)throw new oe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(tt.fromString(e))}static fromName(e){return new we(tt.fromString(e).popFirst(5))}static empty(){return new we(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e,t){if(!t)throw new oe(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fI(r,e,t,s){if(e===!0&&s===!0)throw new oe(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function oy(r){if(!we.isDocumentKey(r))throw new oe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ly(r){if(we.isDocumentKey(r))throw new oe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function rn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(r);throw new oe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,e){const t={typeString:r};return e&&(t.value=e),t}function xc(r,e){if(!qw(r))throw new oe(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const u=r[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new oe(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-62135596800,uy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*uy);return new Ae(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cy)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uy}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:jt("string",Ae._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ae(0,0))}static max(){return new Ce(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function pI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ae(t+1,0):new Ae(t,s));return new ai(o,we.empty(),e)}function mI(r){return new ai(r.readTime,r.key,Yl)}class ai{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ai(Ce.min(),we.empty(),Yl)}static max(){return new ai(Ce.max(),we.empty(),Yl)}}function gI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(r.documentKey,e.documentKey),t!==0?t:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==xI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&t()}),(p=>s(p)))})),u=!0,l===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{u[g]=v,++f,f===l&&s(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new J(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function vI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function zd(r){return r==null}function vd(r){return r===0&&1/r==-1/0}function wI(r){return typeof r=="number"&&Number.isInteger(r)&&!vd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="";function bI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dy(e)),e=_I(r.get(t),e);return dy(e)}function _I(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Ww:t+="";break;default:t+=l}}return t}function dy(r){return r+Ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function gi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Hw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=l??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new zt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new Ct(Bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Gw("Invalid base64 string: "+l):l}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const t=kI.exec(r);if(Qe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function li(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="server_timestamp",Qw="__type__",Yw="__previous_value__",Xw="__local_write_time__";function cm(r){return(r?.mapValue?.fields||{})[Qw]?.stringValue===Kw}function Bd(r){const e=r.mapValue.fields[Yw];return cm(e)?Bd(e):e}function Xl(r){const e=oi(r.mapValue.fields[Xw].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,s,o,l,u,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const wd="(default)";class Jl{constructor(e,t){this.projectId=e,this.database=t||wd}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__type__",EI="__max__",qu={mapValue:{}},Zw="__vector__",bd="value";function ci(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cm(r)?4:TI(r)?9007199254740991:jI(r)?10:11:Te(28295,{value:r})}function Ln(r,e){if(r===e)return!0;const t=ci(r);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=oi(o.timestampValue),f=oi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return li(o.bytesValue).isEqual(li(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return yt(o.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return yt(o.integerValue)===yt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=yt(o.doubleValue),f=yt(l.doubleValue);return u===f?vd(u)===vd(f):isNaN(u)&&isNaN(f)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(hy(u)!==hy(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Ln(u[p],f[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((t=>Ln(t,e)))!==void 0}function go(r,e){if(r===e)return 0;const t=ci(r),s=ci(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=yt(l.integerValue||l.doubleValue),p=yt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return py(r.timestampValue,e.timestampValue);case 4:return py(Xl(r),Xl(e));case 5:return gp(r.stringValue,e.stringValue);case 6:return(function(l,u){const f=li(l),p=li(u);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Fe(f[g],p[g]);if(v!==0)return v}return Fe(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Fe(yt(l.latitude),yt(u.latitude));return f!==0?f:Fe(yt(l.longitude),yt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return my(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[bd]?.arrayValue,v=p[bd]?.arrayValue,b=Fe(g?.values?.length||0,v?.values?.length||0);return b!==0?b:my(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===qu.mapValue&&u===qu.mapValue)return 0;if(l===qu.mapValue)return 1;if(u===qu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const k=gp(p[b],v[b]);if(k!==0)return k;const C=go(f[p[b]],g[v[b]]);if(C!==0)return C}return Fe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function py(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const t=oi(r),s=oi(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function my(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=go(t[o],s[o]);if(l)return l}return Fe(t.length,s.length)}function xo(r){return xp(r)}function xp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=oi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return li(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return we.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=xp(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${xp(t.fields[u])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function id(r){switch(ci(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(r);return e?16+id(e):16;case 5:return 2*r.stringValue.length;case 6:return li(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+id(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gi(s.fields,((l,u)=>{o+=l.length+id(u)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function gy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yp(r){return!!r&&"integerValue"in r}function um(r){return!!r&&"arrayValue"in r}function xy(r){return!!r&&"nullValue"in r}function yy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ad(r){return!!r&&"mapValue"in r}function jI(r){return(r?.mapValue?.fields||{})[Jw]?.stringValue===Zw}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gi(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(r.arrayValue.values[t]);return e}return{...r}}function TI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ad(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=Bt.emptyPath(),s={},o=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}u?s[f.lastSegment()]=zl(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ad(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){gi(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new fr(zl(this.value))}}function eb(r){const e=[];return gi(r.fields,((t,s)=>{const o=new Bt([t]);if(ad(s)){const l=eb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,u,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Jt(e,0,Ce.min(),Ce.min(),Ce.min(),fr.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Ce.min(),Ce.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Ce.min(),Ce.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.position=e,this.inclusive=t}}function vy(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=go(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function wy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ln(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t="asc"){this.field=e,this.dir=t}}function II(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class Et extends tb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new CI(e,t,s):t==="array-contains"?new PI(e,s):t==="in"?new DI(e,s):t==="not-in"?new OI(e,s):t==="array-contains-any"?new LI(e,s):new Et(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RI(e,s):new AI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(go(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends tb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nn(e,t)}matches(e){return rb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rb(r){return r.op==="and"}function nb(r){return SI(r)&&rb(r)}function SI(r){for(const e of r.filters)if(e instanceof nn)return!1;return!0}function vp(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+xo(r.value);if(nb(r))return r.filters.map((e=>vp(e))).join(",");{const e=r.filters.map((t=>vp(t))).join(",");return`${r.op}(${e})`}}function sb(r,e){return r instanceof Et?(function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Ln(s.value,o.value)})(r,e):r instanceof nn?(function(s,o){return o instanceof nn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,u,f)=>l&&sb(u,o.filters[f])),!0):!1})(r,e):void Te(19439)}function ib(r){return r instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`})(r):r instanceof nn?(function(t){return t.op.toString()+" {"+t.getFilters().map(ib).join(" ,")+"}"})(r):"Filter"}class CI extends Et{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class RI extends Et{constructor(e,t){super(e,"in",t),this.keys=ab("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class AI extends Et{constructor(e,t){super(e,"not-in",t),this.keys=ab("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ab(r,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class PI extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return um(t)&&Zl(t.arrayValue,this.value)}}class DI extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zl(this.value.arrayValue,t)}}class OI extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zl(this.value.arrayValue,t)}}class LI extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!um(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t=null,s=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function by(r,e=null,t=[],s=[],o=null,l=null,u=null){return new VI(r,e,t,s,o,l,u)}function dm(r){const e=Pe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>vp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=t}return e.Te}function hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!II(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!sb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wy(r.startAt,e.startAt)&&wy(r.endAt,e.endAt)}function wp(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t=null,s=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MI(r,e,t,s,o,l,u,f){return new Ro(r,e,t,s,o,l,u,f)}function fm(r){return new Ro(r)}function _y(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ob(r){return r.collectionGroup!==null}function Bl(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ct(Bt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ec(l,s))})),t.has(Bt.keyField().canonicalString())||e.Ie.push(new ec(Bt.keyField(),s))}return e.Ie}function An(r){const e=Pe(r);return e.Ee||(e.Ee=UI(e,Bl(r))),e.Ee}function UI(r,e){if(r.limitType==="F")return by(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ec(o.field,l)}));const t=r.endAt?new _d(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _d(r.startAt.position,r.startAt.inclusive):null;return by(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function bp(r,e){const t=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function _p(r,e,t){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $d(r,e){return hm(An(r),An(e))&&r.limitType===e.limitType}function lb(r){return`${dm(An(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>ib(o))).join(", ")}]`),zd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>xo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(An(r))}; limitType=${r.limitType})`}function qd(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of Bl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(u,f,p){const g=vy(u,f,p);return u.inclusive?g<=0:g<0})(s.startAt,Bl(s),o)||s.endAt&&!(function(u,f,p){const g=vy(u,f,p);return u.inclusive?g>=0:g>0})(s.endAt,Bl(s),o))})(r,e)}function FI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cb(r){return(e,t)=>{let s=!1;for(const o of Bl(r)){const l=zI(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function zI(r,e,t){const s=r.field.isKeyField()?we.comparator(e.key,t.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?go(p,g):Te(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new ct(we.comparator);function hs(){return BI}const ub=new ct(we.comparator);function Ll(...r){let e=ub;for(const t of r)e=e.insert(t.key,t);return e}function db(r){let e=ub;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ki(){return $l()}function hb(){return $l()}function $l(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $I=new ct(we.comparator),qI=new Ct(we.comparator);function ze(...r){let e=qI;for(const t of r)e=e.add(t);return e}const WI=new Ct(Fe);function HI(){return WI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function fb(r){return{integerValue:""+r}}function pb(r,e){return wI(e)?fb(e):pm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function GI(r,e,t){return r instanceof kd?(function(o,l){const u={fields:{[Qw]:{stringValue:Kw},[Xw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&cm(l)&&(l=Bd(l)),l&&(u.fields[Yw]=l),{mapValue:u}})(t,e):r instanceof tc?gb(r,e):r instanceof rc?xb(r,e):(function(o,l){const u=mb(o,l),f=ky(u)+ky(o.Ae);return yp(u)&&yp(o.Ae)?fb(f):pm(o.serializer,f)})(r,e)}function KI(r,e,t){return r instanceof tc?gb(r,e):r instanceof rc?xb(r,e):t}function mb(r,e){return r instanceof nc?(function(s){return yp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class kd extends Wd{}class tc extends Wd{constructor(e){super(),this.elements=e}}function gb(r,e){const t=yb(e);for(const s of r.elements)t.some((o=>Ln(o,s)))||t.push(s);return{arrayValue:{values:t}}}class rc extends Wd{constructor(e){super(),this.elements=e}}function xb(r,e){let t=yb(e);for(const s of r.elements)t=t.filter((o=>!Ln(o,s)));return{arrayValue:{values:t}}}class nc extends Wd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ky(r){return yt(r.integerValue||r.doubleValue)}function yb(r){return um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.field=e,this.transform=t}}function YI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tc&&o instanceof tc||s instanceof rc&&o instanceof rc?mo(s.elements,o.elements,Ln):s instanceof nc&&o instanceof nc?Ln(s.Ae,o.Ae):s instanceof kd&&o instanceof kd})(r.transform,e.transform)}class XI{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hd{}function vb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mm(r.key,Ur.none()):new yc(r.key,r.data,Ur.none());{const t=r.data,s=fr.empty();let o=new Ct(Bt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new xi(r.key,s,new Tr(o.toArray()),Ur.none())}}function JI(r,e,t){r instanceof yc?(function(o,l,u){const f=o.value.clone(),p=Ey(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):r instanceof xi?(function(o,l,u){if(!od(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Ey(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(wb(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function ql(r,e,t,s){return r instanceof yc?(function(l,u,f,p){if(!od(l.precondition,u))return f;const g=l.value.clone(),v=jy(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(r,e,t,s):r instanceof xi?(function(l,u,f,p){if(!od(l.precondition,u))return f;const g=jy(l.fieldTransforms,p,u),v=u.data;return v.setAll(wb(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,s):(function(l,u,f){return od(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(r,e,t)}function ZI(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=mb(s.transform,o||null);l!=null&&(t===null&&(t=fr.empty()),t.set(s.field,l))}return t||null}function Ny(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((l,u)=>YI(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yc extends Hd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xi extends Hd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Ey(r,e,t){const s=new Map;Qe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,f=e.data.field(l.field);s.set(l.field,KI(u,f,t[o]))}return s}function jy(r,e,t){const s=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);s.set(o.field,GI(l,u,e))}return s}class mm extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eS extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&JI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ql(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ql(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hb();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=vb(u,f);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((t,s)=>Ny(t,s)))&&mo(this.baseMutations,e.baseMutations,((t,s)=>Ny(t,s)))}}class gm{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $I})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new gm(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,$e;function sS(r){switch(r){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function bb(r){if(r===void 0)return ds("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Nt.OK:return Y.OK;case Nt.CANCELLED:return Y.CANCELLED;case Nt.UNKNOWN:return Y.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Y.INTERNAL;case Nt.UNAVAILABLE:return Y.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Y.NOT_FOUND;case Nt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Nt.ABORTED:return Y.ABORTED;case Nt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Nt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:r})}}($e=Nt||(Nt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new ni([4294967295,4294967295],0);function Ty(r){const e=iS().encode(r),t=new Ow;return t.update(e),new Uint8Array(t.digest())}function Iy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ni([t,s],0),new ni([o,l],0)]}class xm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ni.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ni.fromNumber(s)));return o.compare(aS)===1&&(o=new ni([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ty(e),[s,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new xm(l,o,t);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=Ty(e),[s,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gd(Ce.min(),o,new ct(Fe),hs(),ze())}}class vc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vc(s,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class _b{constructor(e,t){this.targetId=e,this.Ce=t}}class kb{constructor(e,t,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Sy{constructor(){this.ve=0,this.Fe=Cy(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),s=ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}})),new vc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Cy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oS{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=Wu(),this.He=Wu(),this.Ye=new ct(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(wp(l))if(s===0){const u=new we(l.path);this.et(t,u,Jt.newNoDocument(u,Ce.min()))}else Qe(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=li(s).toUint8Array()}catch(p){if(p instanceof Gw)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new xm(u,o,l)}catch(p){return po(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&wp(f.target)){const p=new we(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Jt.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Gd(e,t,this.Ye,this.je,s);return this.je=hs(),this.Je=Wu(),this.He=Wu(),this.Ye=new ct(Fe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Sy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ct(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ct(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wu(){return new ct(we.comparator)}function Cy(){return new ct(we.comparator)}const lS={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uS={and:"AND",or:"OR"};class dS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(r,e){return r.useProto3Json||zd(e)?e:{value:e}}function Nd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hS(r,e){return Nd(r,e.toTimestamp())}function Pn(r){return Qe(!!r,49232),Ce.fromTimestamp((function(t){const s=oi(t);return new Ae(s.seconds,s.nanos)})(r))}function ym(r,e){return Np(r,e).canonicalString()}function Np(r,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Eb(r){const e=tt.fromString(r);return Qe(Cb(e),10190,{key:e.toString()}),e}function Ep(r,e){return ym(r.databaseId,e.path)}function Qf(r,e){const t=Eb(e);if(t.get(1)!==r.databaseId.projectId)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new we(Tb(t))}function jb(r,e){return ym(r.databaseId,e)}function fS(r){const e=Eb(r);return e.length===4?tt.emptyPath():Tb(e)}function jp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Tb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ry(r,e,t){return{name:Ep(r,e),fields:t.value.mapValue.fields}}function pS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),$t.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$t.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?Y.UNKNOWN:bb(g.code);return new oe(v,g.message||"")})(u);t=new kb(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(r,s.document.name),l=Pn(s.document.updateTime),u=s.document.createTime?Pn(s.document.createTime):Ce.min(),f=new fr({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];t=new ld(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(r,s.document),l=s.readTime?Pn(s.readTime):Ce.min(),u=Jt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new ld([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(r,s.document),l=s.removedTargetIds||[];t=new ld([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new nS(o,l),f=s.targetId;t=new _b(f,u)}}return t}function mS(r,e){let t;if(e instanceof yc)t={update:Ry(r,e.key,e.value)};else if(e instanceof mm)t={delete:Ep(r,e.key)};else if(e instanceof xi)t={update:Ry(r,e.key,e.data),updateMask:NS(e.fieldMask)};else{if(!(e instanceof eS))return Te(16599,{Vt:e.type});t={verify:Ep(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof kd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:hS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(r,e.precondition)),t}function gS(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?Pn(o.updateTime):Pn(l);return u.isEqual(Ce.min())&&(u=Pn(l)),new XI(u,o.transformResults||[])})(t,e)))):[]}function xS(r,e){return{documents:[jb(r,e.path)]}}function yS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jb(r,o);const l=(function(g){if(g.length!==0)return Sb(nn.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(k){return{field:so(k.field),direction:bS(k.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=kp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function vS(r){let e=fS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const k=Ib(b);return k instanceof nn&&nb(k)?k.getFilters():[k]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((k=>(function(P){return new ec(io(P.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(k)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let k;return k=typeof b=="object"?b.value:b,zd(k)?null:k})(t.limit));let p=null;t.startAt&&(p=(function(b){const k=!!b.before,C=b.values||[];return new _d(C,k)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const k=!b.before,C=b.values||[];return new _d(C,k)})(t.endAt)),MI(e,o,u,l,f,"F",p,g)}function wS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ib(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=io(t.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=io(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=io(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Et.create(io(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return nn.create(t.compositeFilter.filters.map((s=>Ib(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(r):Te(30097,{filter:r})}function bS(r){return lS[r]}function _S(r){return cS[r]}function kS(r){return uS[r]}function so(r){return{fieldPath:r.canonicalString()}}function io(r){return Bt.fromServerFormat(r.fieldPath)}function Sb(r){return r instanceof Et?(function(t){if(t.op==="=="){if(yy(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(xy(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yy(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(xy(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:_S(t.op),value:t.value}}})(r):r instanceof nn?(function(t){const s=t.getFilters().map((o=>Sb(o)));return s.length===1?s[0]:{compositeFilter:{op:kS(t.op),filters:s}}})(r):Te(54877,{filter:r})}function NS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Cb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,s,o,l=Ce.min(),u=Ce.min(),f=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.yt=e}}function jS(r){const e=vS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Cn=new IS}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ai.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class IS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(tt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(Rb,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",SS=1048576;function Dy([r,e],[t,s]){const o=Fe(r,t);return o===0?Fe(e,s):o}class CS{constructor(e){this.Ir=e,this.buffer=new Ct(Dy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Dy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Py,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Co(t)?ue(Py,"Ignoring IndexedDB error during garbage collection: ",t):await So(t)}await this.Vr(3e5)}))}}class AS{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Fd.ce);const s=new CS(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ay)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),ro()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b}))))}}function PS(r,e){return new AS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.changes=new ua((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ql(s.mutation,o,Tr.empty(),Ae.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ze()){const o=Ki();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let u=Ll();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Ki();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ze())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,s,o){let l=hs();const u=$l(),f=(function(){return $l()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof xi)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),ql(v.mutation,g,v.mutation.getFieldMask(),Ae.now())):u.set(g.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>f.set(g,new OS(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const s=$l();let o=new ct(((u,f)=>u-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Tr.empty();v=f.applyToLocalView(g,v),s.set(p,v);const b=(o.get(f.batchId)||ze()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=hb();v.forEach((k=>{if(!l.has(k)){const C=vb(t.get(k),s.get(k));C!==null&&b.set(k,C),l=l.add(k)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return J.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ob(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):J.resolve(Ki());let f=Yl,p=l;return u.next((g=>J.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((k=>{p=p.insert(v,k)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ze()))).next((v=>({batchId:f,changes:db(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let u=Ll();return this.indexManager.getCollectionParents(e,l).next((f=>J.forEach(f,(p=>{const g=(function(b,k){return new Ro(k,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((b,k)=>{u=u.insert(b,k)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Jt.newInvalidDocument(v)))}));let f=Ll();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&ql(v.mutation,g,Tr.empty(),Ae.now()),qd(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Pn(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:jS(o.bundledQuery),readTime:Pn(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.overlays=new ct(we.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ki();return J.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Ki(),l=t.length+1,u=new we(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ct(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Ki(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ki(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=o)););return J.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new rS(t,s));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.Qr=new Ct(Dt.$r),this.Ur=new Ct(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Dt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Dt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new we(new tt([])),s=new Dt(t,e),o=new Dt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new tt([])),s=new Dt(t,e),o=new Dt(t,e+1);let l=ze();return this.Ur.forEachInRange([s,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Dt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Dt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Dt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new tS(l,t,s,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Dt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?lm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Dt(t,0),o=new Dt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Fe);return t.forEach((o=>{const l=new Dt(o,0),u=new Dt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new Dt(new we(l),0);let f=new Ct(Fe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),u),J.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const l=new Dt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Dt(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.ri=e,this.docs=(function(){return new ct(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=hs();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=hs();const u=t.path,f=new we(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||gI(mI(v),s)<=0||(o.has(v.key)||qd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new BS(this)}getSize(e){return J.resolve(this.size)}}class BS extends DS{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.persistence=e,this.si=new ua((t=>dm(t)),hm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new vm,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),J.waitFor(l).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new US,this.referenceDelegate=e(this),this.Pi=new $S(this),this.indexManager=new TS,this.remoteDocumentCache=(function(o){return new zS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ES(t),this.Ii=new VS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new FS(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new qS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class qS extends yI{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Ri=new vm,this.Vi=null}static mi(e){return new wm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=we.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ed{constructor(e,t){this.persistence=e,this.pi=new ua((s=>bI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PS(this,t)}static mi(e,t){return new Ed(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((f=>{f||(s++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=id(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new bm(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _E()?8:vI(tr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new WS;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(ro()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(ro()<=Ue.DEBUG&&ue("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):J.resolve())}ys(e,t){if(_y(t))return J.resolve(null);let s=An(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),s=An(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=ze(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,u,p.readTime)?this.ys(e,_p(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return _y(t)||o.isEqual(Ce.min())?J.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,o)?J.resolve(null):(ro()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(t)),this.vs(e,u,t,pI(o,Yl)).next((f=>f)))}))}Ds(e,t){let s=new Ct(cb(e));return t.forEach(((o,l)=>{qd(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return ro()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",no(t)),this.ps.getDocumentsMatchingQuery(e,t,ai.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",GS=3e8;class KS{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Fe),this.xs=new ua((l=>dm(l)),hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function QS(r,e,t,s){return new KS(r,e,t,s)}async function Pb(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=ze();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function YS(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const b=g.batch,k=b.keys();let C=J.resolve();return k.forEach((P=>{C=C.next((()=>v.getEntry(p,P))).next((V=>{const D=g.docVersions.get(P);Qe(D!==null,48541),V.version.compareTo(D)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=ze();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Db(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function XS(r,e){const t=Pe(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const k=o.get(b);if(!k)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,b))));let C=k.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(b,C),(function(V,D,W){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=GS?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(k,C,v)&&f.push(t.Pi.updateTargetData(l,C))}));let p=hs(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(JS(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return J.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function JS(r,e,t){let s=ze(),o=ze();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let u=hs();return t.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):ue(_m,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function ZS(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lm),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eC(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,J.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new ei(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Tp(r,e,t){const s=Pe(r),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Co(u))throw u;ue(_m,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Oy(r,e,t){const s=Pe(r);let o=Ce.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const b=Pe(p),k=b.xs.get(v);return k!==void 0?J.resolve(b.Ms.get(k)):b.Pi.getTargetData(g,v)})(s,u,An(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?l:ze()))).next((f=>(tC(s,FI(e),f),{documents:f,Qs:l})))))}function tC(r,e,t){let s=r.Os.get(e)||Ce.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class Ly{constructor(){this.activeTargetIds=HI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rC{constructor(){this.Mo=new Ly,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ly,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="ConnectivityMonitor";class My{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Vy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Vy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Ip(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",sC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const u=Ip(),f=this.zo(e,t.toUriEncodedString());ue(Yf,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(f),v=fi(g);return this.Jo(e,f,p,s,v).then((b=>(ue(Yf,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw po(Yf,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,t,s,o,l,u){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=sC[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class oC extends iC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const u=Ip();return new Promise(((f,p)=>{const g=new Lw;g.setWithCredentials(!0),g.listenOnce(Vw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case sd.NO_ERROR:const b=g.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case sd.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),p(new oe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const k=g.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,k,"response text:",g.getResponseText()),k>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C?.error;if(P&&P.status&&P.message){const V=(function(W){const z=W.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(z)>=0?z:Y.UNKNOWN})(P.status);p(new oe(V,P.message))}else p(new oe(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=Ip(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Fw(),f=Uw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=u.createWebChannel(v,p);this.I_(b);let k=!1,C=!1;const P=new aC({Yo:D=>{C?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(k||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),k=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,D),b.send(D))},Zo:()=>b.close()}),V=(D,W,z)=>{D.listen(W,(X=>{try{z(X)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return V(b,Ol.EventType.OPEN,(()=>{C||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),V(b,Ol.EventType.CLOSE,(()=>{C||(C=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(b))})),V(b,Ol.EventType.ERROR,(D=>{C||(C=!0,po(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),P.a_(new oe(Y.UNAVAILABLE,"The operation could not be completed")))})),V(b,Ol.EventType.MESSAGE,(D=>{if(!C){const W=D.data[0];Qe(!!W,16349);const z=W,X=z?.error||z[0]?.error;if(X){ue(Yt,`RPC '${e}' stream ${o} received error:`,X);const Q=X.status;let ie=(function(E){const I=Nt[E];if(I!==void 0)return bb(I)})(Q),de=X.message;ie===void 0&&(ie=Y.INTERNAL,de="Unknown error status: "+Q+" with message "+X.message),C=!0,P.a_(new oe(ie,de)),b.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,W),P.u_(W)}})),V(f,Mw.STAT_EVENT,(D=>{D.stat===mp.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===mp.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(r){return new dS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="PersistentStream";class Lb{constructor(e,t,s,o,l,u,f,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ob(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ds(t.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(Uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lC extends Lb{constructor(e,t,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=pS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Pn(u.readTime):Ce.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=jp(this.serializer),t.addTarget=(function(l,u){let f;const p=u.target;if(f=wp(p)?{documents:xS(l,p)}:{query:yS(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Nb(l,u.resumeToken);const g=kp(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Nd(l,u.snapshotVersion.toTimestamp());const g=kp(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=wS(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=jp(this.serializer),t.removeTarget=e,this.q_(t)}}class cC extends Lb{constructor(e,t,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=gS(e.writeResults,e.commitTime),s=Pn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=jp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>mS(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class dC extends uC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Np(t,s),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Y.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Np(t,s),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class fC{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{da(this)&&(ue(na,"Restarting streams for network reachability change."),await(async function(p){const g=Pe(p);g.Ea.add(4),await wc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Qd(g)})(this))}))})),this.Ra=new hC(s,o)}}async function Qd(r){if(da(r))for(const e of r.da)await e(!0)}async function wc(r){for(const e of r.da)await e(!1)}function Vb(r,e){const t=Pe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jm(t)?Em(t):Ao(t).O_()&&Nm(t,e))}function km(r,e){const t=Pe(r),s=Ao(t);t.Ia.delete(e),s.O_()&&Mb(t,e),t.Ia.size===0&&(s.O_()?s.L_():da(t)&&t.Ra.set("Unknown"))}function Nm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ao(r).Y_(e)}function Mb(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function Em(r){r.Va=new oS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function jm(r){return da(r)&&!Ao(r).x_()&&r.Ia.size>0}function da(r){return Pe(r).Ea.size===0}function Ub(r){r.Va=void 0}async function pC(r){r.Ra.set("Online")}async function mC(r){r.Ia.forEach(((e,t)=>{Nm(r,e)}))}async function gC(r,e){Ub(r),jm(r)?(r.Ra.ha(e),Em(r)):r.Ra.set("Unknown")}async function xC(r,e,t){if(r.Ra.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(s){ue(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jd(r,s)}else if(e instanceof ld?r.Va.Ze(e):e instanceof _b?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ce.min()))try{const s=await Db(r.localStore);t.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),Mb(l,p);const b=new ei(v.target,p,g,v.sequenceNumber);Nm(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(s){ue(na,"Failed to raise snapshot:",s),await jd(r,s)}}async function jd(r,e,t){if(!Co(e))throw e;r.Ea.add(1),await wc(r),r.Ra.set("Offline"),t||(t=()=>Db(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(na,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Qd(r)}))}function Fb(r,e){return e().catch((t=>jd(r,t,e)))}async function Yd(r){const e=Pe(r),t=ui(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lm;for(;yC(e);)try{const o=await ZS(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,vC(e,o)}catch(o){await jd(e,o)}zb(e)&&Bb(e)}function yC(r){return da(r)&&r.Ta.length<10}function vC(r,e){r.Ta.push(e);const t=ui(r);t.O_()&&t.X_&&t.ea(e.mutations)}function zb(r){return da(r)&&!ui(r).x_()&&r.Ta.length>0}function Bb(r){ui(r).start()}async function wC(r){ui(r).ra()}async function bC(r){const e=ui(r);for(const t of r.Ta)e.ea(t.mutations)}async function _C(r,e,t){const s=r.Ta.shift(),o=gm.from(s,e,t);await Fb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yd(r)}async function kC(r,e){e&&ui(r).X_&&await(async function(s,o){if((function(u){return sS(u)&&u!==Y.ABORTED})(o.code)){const l=s.Ta.shift();ui(s).B_(),await Fb(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Yd(s)}})(r,e),zb(r)&&Bb(r)}async function Fy(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ue(na,"RemoteStore received new credentials");const s=da(t);t.Ea.add(3),await wc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Qd(t)}async function NC(r,e){const t=Pe(r);e?(t.Ea.delete(2),await Qd(t)):e||(t.Ea.add(2),await wc(t),t.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(t,s,o){const l=Pe(t);return l.sa(),new lC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pC.bind(null,r),t_:mC.bind(null,r),r_:gC.bind(null,r),H_:xC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),jm(r)?Em(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ub(r))}))),r.ma}function ui(r){return r.fa||(r.fa=(function(t,s,o){const l=Pe(t);return l.sa(),new cC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:wC.bind(null,r),r_:kC.bind(null,r),ta:bC.bind(null,r),na:_C.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yd(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const u=Date.now()+s,f=new Tm(e,t,u,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(r,e){if(ds("AsyncQueue",`${e}: ${r}`),Co(r))return new oe(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.ga=new ct(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class vo{constructor(e,t,s,o,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new vo(e,t,ho.emptySet(t),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jC{constructor(){this.queries=By(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Pe(t),l=o.queries;o.queries=By(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new oe(Y.ABORTED,"Firestore shutting down"))}}function By(){return new ua((r=>lb(r)),$d)}async function $b(r,e){const t=Pe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new EC,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Im(u,`Initialization of query '${no(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Sm(t)}async function qb(r,e){const t=Pe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TC(r,e){const t=Pe(r);let s=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(s=!0);u.wa=o}}s&&Sm(t)}function IC(r,e,t){const s=Pe(r),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Sm(r){r.Ca.forEach((e=>{e.next()}))}var Sp,$y;($y=Sp||(Sp={})).Ma="default",$y.Cache="cache";class Wb{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class SC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=cb(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new zy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const k=o.get(v),C=qd(this.query,b)?b:null,P=!!k&&this.mutatedKeys.has(k.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;k&&C?k.data.isEqual(C.data)?P!==V&&(s.track({type:3,doc:C}),D=!0):this.su(k,C)||(s.track({type:2,doc:C}),D=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(f=!0)):!k&&C?(s.track({type:0,doc:C}),D=!0):k&&!C&&(s.track({type:1,doc:k}),D=!0,(p||g)&&(f=!0)),D&&(C?(u=u.add(C),l=V?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(C,P){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:D})}};return V(C)-V(P)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new vo(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Gb(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Hb(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class CC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class RC{constructor(e){this.key=e,this.hu=!1}}class AC{constructor(e,t,s,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ua((f=>lb(f)),$d),this.Iu=new Map,this.Eu=new Set,this.du=new ct(we.comparator),this.Au=new Map,this.Ru=new vm,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PC(r,e,t=!0){const s=Zb(r);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Kb(s,e,t,!0),o}async function DC(r,e){const t=Zb(r);await Kb(t,e,!0,!1)}async function Kb(r,e,t,s){const o=await eC(r.localStore,An(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await OC(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&Vb(r.remoteStore,o),f}async function OC(r,e,t,s,o){r.pu=(b,k,C)=>(async function(V,D,W,z){let X=D.view.ru(W);X.Cs&&(X=await Oy(V.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,X))));const Q=z&&z.targetChanges.get(D.targetId),ie=z&&z.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges(X,V.isPrimaryClient,Q,ie);return Wy(V,D.targetId,de.au),de.snapshot})(r,b,k,C);const l=await Oy(r.localStore,e,!0),u=new SC(e,l.Qs),f=u.ru(l.documents),p=vc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=u.applyChanges(f,r.isPrimaryClient,p);Wy(r,t,g.au);const v=new CC(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function LC(r,e,t){const s=Pe(r),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((u=>!$d(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&km(s.remoteStore,o.targetId),Cp(s,o.targetId)})).catch(So)):(Cp(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function VC(r,e){const t=Pe(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),km(t.remoteStore,s.targetId))}async function MC(r,e,t){const s=WC(r);try{const o=await(function(u,f){const p=Pe(u),g=Ae.now(),v=f.reduce(((C,P)=>C.add(P.key)),ze());let b,k;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let P=hs(),V=ze();return p.Ns.getEntries(C,v).next((D=>{P=D,P.forEach(((W,z)=>{z.isValidDocument()||(V=V.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,P))).next((D=>{b=D;const W=[];for(const z of f){const X=ZI(z,b.get(z.key).overlayedDocument);X!=null&&W.push(new xi(z.key,X,eb(X.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,W,f)})).next((D=>{k=D;const W=D.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(C,D.batchId,W)}))})).then((()=>({batchId:k.batchId,changes:db(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new ct(Fe)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,t),await bc(s,o.changes),await Yd(s.remoteStore)}catch(o){const l=Im(o,"Failed to persist write");t.reject(l)}}async function Qb(r,e){const t=Pe(r);try{const s=await XS(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Qe(u.hu,14607):o.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await bc(t,s,e)}catch(s){await So(s)}}function qy(r,e,t){const s=Pe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=Pe(u);p.onlineState=f;let g=!1;p.queries.forEach(((v,b)=>{for(const k of b.Sa)k.va(f)&&(g=!0)})),g&&Sm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UC(r,e,t){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let u=new ct(we.comparator);u=u.insert(l,Jt.newNoDocument(l,Ce.min()));const f=ze().add(l),p=new Gd(Ce.min(),new Map,new ct(Fe),u,f);await Qb(s,p),s.du=s.du.remove(l),s.Au.delete(e),Rm(s)}else await Tp(s.localStore,e,!1).then((()=>Cp(s,e,t))).catch(So)}async function FC(r,e){const t=Pe(r),s=e.batch.batchId;try{const o=await YS(t.localStore,e);Xb(t,s,null),Yb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await bc(t,o)}catch(o){await So(o)}}async function zC(r,e,t){const s=Pe(r);try{const o=await(function(u,f){const p=Pe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(Qe(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Xb(s,e,t),Yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await bc(s,o)}catch(o){await So(o)}}function Yb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Xb(r,e,t){const s=Pe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Jb(r,s)}))}function Jb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(km(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Rm(r))}function Wy(r,e,t){for(const s of t)s instanceof Hb?(r.Ru.addReference(s.key,e),BC(r,s)):s instanceof Gb?(ue(Cm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Jb(r,s.key)):Te(19791,{wu:s})}function BC(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ue(Cm,"New document in limbo: "+t),r.Eu.add(s),Rm(r))}function Rm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new we(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new RC(t)),r.du=r.du.insert(t,s),Vb(r.remoteStore,new ei(An(fm(t.path)),s,"TargetPurposeLimboResolution",Fd.ce))}}async function bc(r,e,t){const s=Pe(r),o=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=bm.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(p,g){const v=Pe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(g,(k=>J.forEach(k.Es,(C=>v.persistence.referenceDelegate.addReference(b,k.targetId,C))).next((()=>J.forEach(k.ds,(C=>v.persistence.referenceDelegate.removeReference(b,k.targetId,C)))))))))}catch(b){if(!Co(b))throw b;ue(_m,"Failed to update sequence numbers: "+b)}for(const b of g){const k=b.targetId;if(!b.fromCache){const C=v.Ms.get(k),P=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(k,V)}}})(s.localStore,l))}async function $C(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ue(Cm,"User change. New user:",e.toKey());const s=await Pb(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new oe(Y.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bc(t,s.Ls)}}function qC(r,e){const t=Pe(r),s=t.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const f=t.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function Zb(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UC.bind(null,e),e.Pu.H_=TC.bind(null,e.eventManager),e.Pu.yu=IC.bind(null,e.eventManager),e}function WC(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zC.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return QS(this.persistence,new HS,e.initialUser,this.serializer)}Cu(e){return new Ab(wm.mi,this.serializer)}Du(e){return new rC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class HC extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new Ab((s=>Ed.mi(s,t)),this.serializer)}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,this.syncEngine),await NC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jC})()}createDatastore(e){const t=Kd(e.databaseInfo.databaseId),s=(function(l){return new oC(l)})(e.databaseInfo);return(function(l,u,f,p){return new dC(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,u,f){return new fC(s,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>qy(this.syncEngine,t,0)),(function(){return My.v()?new My:new nC})())}createSyncEngine(e,t){return(function(o,l,u,f,p,g,v){const b=new AC(o,l,u,f,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Pe(t);ue(na,"RemoteStore shutting down."),s.Ea.add(5),await wc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class GC{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ue(di,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ue(di,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Im(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jf(r,e){r.asyncQueue.verifyOperationInProgress(),ue(di,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Pb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Hy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await KC(r);ue(di,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>Fy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Fy(e.remoteStore,o))),r._onlineComponents=e}async function KC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(di,"Using user provided OfflineComponentProvider");try{await Jf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await Jf(r,new Td)}}else ue(di,"Using default OfflineComponentProvider"),await Jf(r,new HC(void 0));return r._offlineComponents}async function t_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(di,"Using user provided OnlineComponentProvider"),await Hy(r,r._uninitializedComponentsProvider._online)):(ue(di,"Using default OnlineComponentProvider"),await Hy(r,new Rp))),r._onlineComponents}function QC(r){return t_(r).then((e=>e.syncEngine))}async function r_(r){const e=await t_(r),t=e.eventManager;return t.onListen=PC.bind(null,e.syncEngine),t.onUnlisten=LC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VC.bind(null,e.syncEngine),t}function YC(r,e,t={}){const s=new os;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new e_({next:k=>{v.Nu(),u.enqueueAndForget((()=>qb(l,b)));const C=k.docs.has(f);!C&&k.fromCache?g.reject(new oe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&k.fromCache&&p&&p.source==="server"?g.reject(new oe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(k)},error:k=>g.reject(k)}),b=new Wb(fm(f.path),v,{includeMetadataChanges:!0,qa:!0});return $b(l,b)})(await r_(r),r.asyncQueue,e,t,s))),s.promise}function XC(r,e,t={}){const s=new os;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new e_({next:k=>{v.Nu(),u.enqueueAndForget((()=>qb(l,b))),k.fromCache&&p.source==="server"?g.reject(new oe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(k)},error:k=>g.reject(k)}),b=new Wb(f,v,{includeMetadataChanges:!0,qa:!0});return $b(l,b)})(await r_(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firestore.googleapis.com",Ky=!0;class Qy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s_,this.ssl=Ky}else this.host=e.host,this.ssl=e.ssl??Ky;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SS)throw new oe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nI;switch(s.type){case"firstParty":return new oI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Gy.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Gy.delete(t),s.terminate())})(this),Promise.resolve()}}function JC(r,e,t,s={}){r=rn(r,Xd);const o=fi(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(Gp(`https://${f}`),Kp("Firestore",!0)),l.host!==s_&&l.host!==f&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:s};if(!Ji(p,u)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Xt.MOCK_USER;else{g=Qv(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Xt(b)}r._authCredentials=new sI(new Bw(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(xc(t,vt._jsonSchema))return new vt(e,s||null,new we(tt.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:jt("string",vt._jsonSchemaVersion),referencePath:jt("string")};class si extends ha{constructor(e,t,s){super(e,t,fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new we(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function ms(r,e,...t){if(r=ht(r),$w("collection","path",e),r instanceof Xd){const s=tt.fromString(e,...t);return ly(s),new si(r,null,s)}{if(!(r instanceof vt||r instanceof si))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return ly(s),new si(r.firestore,null,s)}}function pr(r,e,...t){if(r=ht(r),arguments.length===1&&(e=om.newId()),$w("doc","path",e),r instanceof Xd){const s=tt.fromString(e,...t);return oy(s),new vt(r,null,new we(s))}{if(!(r instanceof vt||r instanceof si))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return oy(s),new vt(r.firestore,r instanceof si?r.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Xy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ob(this,"async_queue_retry"),this._c=()=>{const s=Xf();s&&ue(Yy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;ue(Yy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",Jy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Tm.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Jy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Jy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fa extends Xd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Xy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,await e}}}function ZC(r,e){const t=typeof r=="object"?r:Xp(),s=typeof r=="string"?r:wd,o=Od(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Hv("firestore");l&&JC(o,...l)}return o}function Am(r){if(r._terminated)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eR(r),r._firestoreClient}function eR(r){const e=r._freezeSettings(),t=(function(o,l,u,f){return new NI(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,n_(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new GC(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vr($t.fromBase64String(e))}catch(t){throw new oe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vr($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,Vr._jsonSchema))return Vr.fromBase64String(e.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:jt("string",Vr._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dn._jsonSchemaVersion}}static fromJSON(e){if(xc(e,Dn._jsonSchema))return new Dn(e.latitude,e.longitude)}}Dn._jsonSchemaVersion="firestore/geoPoint/1.0",Dn._jsonSchema={type:jt("string",Dn._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:On._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,On._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new On(e.vectorValues);throw new oe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}On._jsonSchemaVersion="firestore/vectorValue/1.0",On._jsonSchema={type:jt("string",On._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=/^__.*__$/;class rR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yc(e,this.data,t,this.fieldTransforms)}}class i_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function a_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Pm{constructor(e,t,s,o,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(a_(this.Ac)&&tR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Kd(e)}Cc(e,t,s,o=!1){return new Pm({Ac:e,methodName:t,Dc:s,path:Bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(r){const e=r._freezeSettings(),t=Kd(r._databaseId);return new nR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function o_(r,e,t,s,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Om("Data must be an object, but it was:",u,s);const f=l_(s,u);let p,g;if(l.merge)p=new Tr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const k=Ap(e,b,t);if(!u.contains(k))throw new oe(Y.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);u_(v,k)||v.push(k)}p=new Tr(v),g=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=u.fieldTransforms;return new rR(new fr(f),p,g)}class th extends Zd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}class Dm extends Zd{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new nc(e.serializer,pb(e.serializer,this.Fc));return new QI(e.path,t)}isEqual(e){return e instanceof Dm&&this.Fc===e.Fc}}function sR(r,e,t,s){const o=r.Cc(1,e,t);Om("Data must be an object, but it was:",o,s);const l=[],u=fr.empty();gi(s,((p,g)=>{const v=Lm(e,p,t);g=ht(g);const b=o.yc(v);if(g instanceof th)l.push(v);else{const k=_c(g,b);k!=null&&(l.push(v),u.set(v,k))}}));const f=new Tr(l);return new i_(u,f,o.fieldTransforms)}function iR(r,e,t,s,o,l){const u=r.Cc(1,e,t),f=[Ap(e,s,t)],p=[o];if(l.length%2!=0)throw new oe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<l.length;k+=2)f.push(Ap(e,l[k])),p.push(l[k+1]);const g=[],v=fr.empty();for(let k=f.length-1;k>=0;--k)if(!u_(g,f[k])){const C=f[k];let P=p[k];P=ht(P);const V=u.yc(C);if(P instanceof th)g.push(C);else{const D=_c(P,V);D!=null&&(g.push(C),v.set(C,D))}}const b=new Tr(g);return new i_(v,b,u.fieldTransforms)}function aR(r,e,t,s=!1){return _c(t,r.Cc(s?4:3,e))}function _c(r,e){if(c_(r=ht(r)))return Om("Unsupported field value:",e,r),l_(r,e);if(r instanceof Zd)return(function(s,o){if(!a_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let u=0;for(const f of s){let p=_c(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ae.fromDate(s);return{timestampValue:Nd(o.serializer,l)}}if(s instanceof Ae){const l=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nd(o.serializer,l)}}if(s instanceof Dn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vr)return{bytesValue:Nb(o.serializer,s._byteString)};if(s instanceof vt){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ym(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof On)return(function(u,f){return{mapValue:{fields:{[Jw]:{stringValue:Zw},[bd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return pm(f.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ud(s)}`)})(r,e)}function l_(r,e){const t={};return Hw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(r,((s,o)=>{const l=_c(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function c_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ae||r instanceof Dn||r instanceof Vr||r instanceof vt||r instanceof Zd||r instanceof On)}function Om(r,e,t){if(!c_(t)||!qw(t)){const s=Ud(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ap(r,e,t){if((e=ht(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return Lm(r,e);throw Id("Field path arguments must be of type string or ",r,!1,void 0,t)}const oR=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search(oR)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Id(r,e,t,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new oe(Y.INVALID_ARGUMENT,f+r+p)}function u_(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lR extends d_{data(){return super.data()}}function rh(r,e){return typeof e=="string"?Lm(r,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class h_ extends Vm{}function rr(r,e,...t){let s=[];e instanceof Vm&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((p=>p instanceof Mm)).length,f=l.filter((p=>p instanceof nh)).length;if(u>1||u>0&&f>0)throw new oe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class nh extends h_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nh(e,t,s)}_apply(e){const t=this._parse(e);return f_(e._query,t),new ha(e.firestore,e.converter,bp(e._query,t))}_parse(e){const t=eh(e.firestore);return(function(l,u,f,p,g,v,b){let k;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ev(b,v);const P=[];for(const V of b)P.push(Zy(p,l,V));k={arrayValue:{values:P}}}else k=Zy(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ev(b,v),k=aR(f,u,b,v==="in"||v==="not-in");return Et.create(g,v,k)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lt(r,e,t){const s=e,o=rh("where",r);return nh._create(o,s,t)}class Mm extends Vm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mm(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:nn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)f_(u,p),u=bp(u,p)})(e._query,t),new ha(e.firestore,e.converter,bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends h_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Um(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new oe(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(l,u)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new Ro(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function sh(r,e="asc"){const t=e,s=rh("orderBy",r);return Um._create(s,t)}function Zy(r,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new oe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ob(e)&&t.indexOf("/")!==-1)throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!we.isDocumentKey(s))throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gy(r,new we(s))}if(t instanceof vt)return gy(r,t._key);throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function ev(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f_(r,e){const t=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uR{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return gi(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[bd].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new On(t)}convertGeoPoint(e){return new Dn(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=oi(e);return new Ae(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Qe(Cb(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),l=new we(s.popFirst(5));return o.isEqual(t)||ds(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qi extends d_{constructor(e,t,s,o,l,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(rh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qi._jsonSchema={type:jt("string",Qi._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class cd extends Qi{data(e={}){return super.data(e)}}class fo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new cd(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new cd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ml(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new cd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ml(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:dR(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(r){r=rn(r,vt);const e=rn(r.firestore,fa);return YC(Am(e),r._key).then((t=>pR(e,r,t)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:jt("string",fo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class g_ extends uR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function qt(r){r=rn(r,ha);const e=rn(r.firestore,fa),t=Am(e),s=new g_(e);return cR(r._query),XC(t,r._query).then((o=>new fo(e,s,r,o)))}function hR(r,e,t){r=rn(r,vt);const s=rn(r.firestore,fa),o=p_(r.converter,e);return ih(s,[o_(eh(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Ur.none())])}function fs(r,e,t,...s){r=rn(r,vt);const o=rn(r.firestore,fa),l=eh(o);let u;return u=typeof(e=ht(e))=="string"||e instanceof Jd?iR(l,"updateDoc",r._key,e,t,s):sR(l,"updateDoc",r._key,e),ih(o,[u.toMutation(r._key,Ur.exists(!0))])}function fR(r){return ih(rn(r.firestore,fa),[new mm(r._key,Ur.none())])}function sa(r,e){const t=rn(r.firestore,fa),s=pr(r),o=p_(r.converter,e);return ih(t,[o_(eh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ur.exists(!1))]).then((()=>s))}function ih(r,e){return(function(s,o){const l=new os;return s.asyncQueue.enqueueAndForget((async()=>MC(await QC(s),o,l))),l.promise})(Am(r),e)}function pR(r,e,t){const s=t.docs.get(e._key),o=new g_(r);return new Qi(r,o,e._key,s,new Ml(t.hasPendingWrites,t.fromCache),e.converter)}function mR(r){return new Dm("increment",r)}(function(e,t=!0){(function(o){Io=o})(la),Zi(new ii("firestore",((s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new fa(new iI(s.getProvider("auth-internal")),new lI(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(g.options.projectId,v)})(u,o),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Sn(ny,sy,e),Sn(ny,sy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="firebasestorage.googleapis.com",y_="storageBucket",gR=120*1e3,xR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends Vn{constructor(e,t,s=0){super(Zf(e),`Firebase Storage: ${t} (${Zf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Zf(r){return"storage/"+r}function Fm(){const r="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,r)}function yR(r){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function vR(r){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wR(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,r)}function bR(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _R(r){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function kR(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NR(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function ER(r){return new pt(ft.INVALID_URL,"Invalid URL '"+r+"'.")}function jR(r){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function TR(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+y_+"' property when initializing the app?")}function IR(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SR(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CR(r){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pp(r){return new pt(ft.INVALID_ARGUMENT,r)}function v_(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function RR(r){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(r,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Rl(r){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(s.path==="")return s;throw jR(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(Q){Q.path_=decodeURIComponent(Q.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${v}/b/${o}/o${k}`,"i"),P={bucket:1,path:3},V=t===x_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",W=new RegExp(`^https?://${V}/${o}/${D}`,"i"),X=[{regex:f,indices:p,postModify:l},{regex:C,indices:P,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let Q=0;Q<X.length;Q++){const ie=X[Q],de=ie.regex.exec(e);if(de){const R=de[ie.indices.bucket];let E=de[ie.indices.path];E||(E=""),s=new Ir(R,E),ie.postModify(s);break}}if(s==null)throw ER(e);return s}}class AR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r,e,t){let s=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function v(...D){g||(g=!0,e.apply(null,D))}function b(D){o=setTimeout(()=>{o=null,r(C,p())},D)}function k(){l&&clearTimeout(l)}function C(D,...W){if(g){k();return}if(D){k(),v.call(null,D,...W);return}if(p()||u){k(),v.call(null,D,...W);return}s<64&&(s*=2);let X;f===1?(f=2,X=0):X=(s+Math.random())*1e3,b(X)}let P=!1;function V(D){P||(P=!0,k(),!g&&(o!==null?(D||(f=2),clearTimeout(o),b(0)):D||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,V(!0)},t),V}function DR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){return r!==void 0}function LR(r){return typeof r=="object"&&!Array.isArray(r)}function zm(r){return typeof r=="string"||r instanceof String}function tv(r){return Bm()&&r instanceof Blob}function Bm(){return typeof Blob<"u"}function rv(r,e,t,s){if(s<e)throw Pp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Pp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function w_(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Yi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Yi||(Yi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t,s,o,l,u,f,p,g,v,b,k=!0,C=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=k,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,V)=>{this.resolve_=P,this.reject_=V,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Gu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Yi.NO_ERROR,p=l.getStatus();if(!f||VR(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Yi.ABORT;s(!1,new Gu(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Gu(g,l))})},t=(s,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());OR(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=Fm();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?v_():NR();u(p)}else{const p=kR();u(p)}};this.canceled_?t(!1,new Gu(!1,null,!0)):this.backoffId_=PR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function UR(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function FR(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zR(r,e){e&&(r["X-Firebase-GMPID"]=e)}function BR(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function $R(r,e,t,s,o,l,u=!0,f=!1){const p=w_(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return zR(v,e),UR(v,t),FR(v,l),BR(v,s),new MR(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WR(...r){const e=qR();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Bm())return new Blob(r);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HR(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){if(typeof atob>"u")throw CR("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(e,t){this.data=e,this.contentType=t||null}}function KR(r,e){switch(r){case Tn.RAW:return new ep(b_(e));case Tn.BASE64:case Tn.BASE64URL:return new ep(__(r,e));case Tn.DATA_URL:return new ep(YR(e),XR(e))}throw Fm()}function b_(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=r.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function QR(r){let e;try{e=decodeURIComponent(r)}catch{throw Wl(Tn.DATA_URL,"Malformed data URL.")}return b_(e)}function __(r,e){switch(r){case Tn.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Wl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Wl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=GR(e)}catch(o){throw o.message.includes("polyfill")?o:Wl(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class k_{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Wl(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=JR(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function YR(r){const e=new k_(r);return e.base64?__(Tn.BASE64,e.rest):QR(e.rest)}function XR(r){return new k_(r).contentType}function JR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){let s=0,o="";tv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(tv(this.data_)){const s=this.data_,o=HR(s,e,t);return o===null?null:new Zs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Zs(s,!0)}}static getBlob(...e){if(Bm()){const t=e.map(s=>s instanceof Zs?s.data_:s);return new Zs(WR.apply(null,t))}else{const t=e.map(u=>zm(u)?KR(Tn.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new Zs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){let e;try{e=JSON.parse(r)}catch{return null}return LR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function eA(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function E_(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e){return e}class ir{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||tA}}let Ku=null;function rA(r){return!zm(r)||r.length<2?r:E_(r)}function j_(){if(Ku)return Ku;const r=[];r.push(new ir("bucket")),r.push(new ir("generation")),r.push(new ir("metageneration")),r.push(new ir("name","fullPath",!0));function e(l,u){return rA(u)}const t=new ir("name");t.xform=e,r.push(t);function s(l,u){return u!==void 0?Number(u):u}const o=new ir("size");return o.xform=s,r.push(o),r.push(new ir("timeCreated")),r.push(new ir("updated")),r.push(new ir("md5Hash",null,!0)),r.push(new ir("cacheControl",null,!0)),r.push(new ir("contentDisposition",null,!0)),r.push(new ir("contentEncoding",null,!0)),r.push(new ir("contentLanguage",null,!0)),r.push(new ir("contentType",null,!0)),r.push(new ir("metadata","customMetadata",!0)),Ku=r,Ku}function nA(r,e){function t(){const s=r.bucket,o=r.fullPath,l=new Ir(s,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function sA(r,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return nA(s,r),s}function T_(r,e,t){const s=N_(e);return s===null?null:sA(r,s,t)}function iA(r,e,t,s){const o=N_(e);if(o===null||!zm(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=r.bucket,b=r.fullPath,k="/b/"+u(v)+"/o/"+u(b),C=$m(k,t,s),P=w_({alt:"media",token:g});return C+P})[0]}function aA(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class I_{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){if(!r)throw Fm()}function oA(r,e){function t(s,o){const l=T_(r,o,e);return S_(l!==null),l}return t}function lA(r,e){function t(s,o){const l=T_(r,o,e);return S_(l!==null),iA(l,o,r.host,r._protocol)}return t}function C_(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=bR():o=wR():t.getStatus()===402?o=vR(r.bucket):t.getStatus()===403?o=_R(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function cA(r){const e=C_(r);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=yR(r.path)),l.serverResponse=o.serverResponse,l}return t}function uA(r,e,t){const s=e.fullServerUrl(),o=$m(s,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,f=new I_(o,l,lA(r,t),u);return f.errorHandler=cA(e),f}function dA(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function hA(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=dA(null,e)),s}function fA(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let X="";for(let Q=0;Q<2;Q++)X=X+Math.random().toString().slice(2);return X}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=hA(e,s,o),v=aA(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,k=`\r
--`+p+"--",C=Zs.getBlob(b,s,k);if(C===null)throw IR();const P={name:g.fullPath},V=$m(l,r.host,r._protocol),D="POST",W=r.maxUploadRetryTime,z=new I_(V,D,oA(r,t),W);return z.urlParams=P,z.headers=u,z.body=C.uploadData(),z.errorHandler=C_(e),z}class pA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Rl("cannot .send() more than once");if(fi(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mA extends pA{initXhr(){this.xhr_.responseType="text"}}function R_(){return new mA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ia(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E_(this._location.path)}get storage(){return this._service}get parent(){const e=ZR(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new ia(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw RR(e)}}function gA(r,e,t){r._throwIfRoot("uploadBytes");const s=fA(r.storage,r._location,j_(),new Zs(e,!0),t);return r.storage.makeRequestWithTokens(s,R_).then(o=>({metadata:o,ref:r}))}function xA(r){r._throwIfRoot("getDownloadURL");const e=uA(r.storage,r._location,j_());return r.storage.makeRequestWithTokens(e,R_).then(t=>{if(t===null)throw SR();return t})}function yA(r,e){const t=eA(r._location.path,e),s=new Ir(r._location.bucket,t);return new ia(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){return/^[A-Za-z]+:\/\//.test(r)}function wA(r,e){return new ia(r,e)}function A_(r,e){if(r instanceof qm){const t=r;if(t._bucket==null)throw TR();const s=new ia(t,t._bucket);return e!=null?A_(s,e):s}else return e!==void 0?yA(r,e):r}function bA(r,e){if(e&&vA(e)){if(r instanceof qm)return wA(r,e);throw Pp("To use ref(service, url), the first argument must be a Storage instance.")}else return A_(r,e)}function nv(r,e){const t=e?.[y_];return t==null?null:Ir.makeFromBucketSpec(t,r)}function _A(r,e,t,s={}){r.host=`${e}:${t}`;const o=fi(e);o&&(Gp(`https://${r.host}/b`),Kp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(r._overrideAuthToken=typeof l=="string"?l:Qv(l,r.app.options.projectId))}class qm{constructor(e,t,s,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=x_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gR,this._maxUploadRetryTime=xR,this._requests=new Set,o!=null?this._bucket=Ir.makeFromBucketSpec(o,this._host):this._bucket=nv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=nv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new AR(v_());{const u=$R(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const sv="@firebase/storage",iv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="storage";function Wm(r,e,t){return r=ht(r),gA(r,e,t)}function Hm(r){return r=ht(r),xA(r)}function Gm(r,e){return r=ht(r),bA(r,e)}function kA(r=Xp(),e){r=ht(r);const s=Od(r,P_).getImmediate({identifier:e}),o=Hv("storage");return o&&NA(s,...o),s}function NA(r,e,t,s={}){_A(r,e,t,s)}function EA(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new qm(t,s,o,e,la)}function jA(){Zi(new ii(P_,EA,"PUBLIC").setMultipleInstances(!0)),Sn(sv,iv,""),Sn(sv,iv,"esm2020")}jA();const TA={apiKey:"AIzaSyCI5qUXSrau6XMBNMyHnUtgyGFS3rfJknU",authDomain:"notzy-83166.firebaseapp.com",projectId:"notzy-83166",storageBucket:"notzy-83166.firebasestorage.app",messagingSenderId:"471992545792",appId:"1:471992545792:web:e6e7712f07facc9bda1ee5",measurementId:"G-CL4XNKKH8X"},Km=Jv(TA),Qu=ZT(Km),gs=ZC(Km),Qm=kA(Km),Po=ms(gs,"users"),hi=ms(gs,"notes"),sc=ms(gs,"purchases"),wo=ms(gs,"bookmarks"),ah=ms(gs,"reviews");async function IA(r,e){await hR(pr(Po,r),{name:e.name,email:e.email,avatarUrl:e.avatarUrl||"",totalEarnings:0,createdAt:Ae.now()})}async function tp(r){const e=await m_(pr(Po,r));if(!e.exists())return null;const t=e.data(),s=await O_(r);return{id:r,name:t.name,email:t.email,avatarUrl:t.avatarUrl||"",totalEarnings:t.totalEarnings||0,uploadedNotes:s,isAdmin:t.isAdmin||!1,isVerified:t.isVerified||!1,isBlocked:t.isBlocked||!1}}async function av(r,e){await fs(pr(Po,r),e)}async function Ym(){const r=rr(hi,sh("uploadDate","desc"));return(await qt(r)).docs.map(t=>{const s=t.data();return{id:t.id,title:s.title,description:s.description,category:s.category,price:s.price,rating:s.rating||0,reviewCount:s.reviewCount||0,salesCount:s.salesCount||0,previewPages:s.previewPages||[],thumbnailUrl:s.thumbnailUrl||"",pdfUrls:s.pdfUrls||[],uploaderId:s.uploaderId,uploaderName:s.uploaderName,uploadDate:s.uploadDate instanceof Ae?s.uploadDate.toDate().toISOString().split("T")[0]:s.uploadDate}})}async function D_(r){const e=await m_(pr(hi,r));if(!e.exists())return null;const t=e.data();return{id:e.id,title:t.title,description:t.description,category:t.category,price:t.price,rating:t.rating||0,reviewCount:t.reviewCount||0,salesCount:t.salesCount||0,previewPages:t.previewPages||[],thumbnailUrl:t.thumbnailUrl||"",pdfUrls:t.pdfUrls||[],uploaderId:t.uploaderId,uploaderName:t.uploaderName,uploadDate:t.uploadDate instanceof Ae?t.uploadDate.toDate().toISOString().split("T")[0]:t.uploadDate}}async function SA(r){return(await sa(hi,{...r,rating:0,reviewCount:0,salesCount:0,uploadDate:Ae.now()})).id}async function O_(r){const e=rr(hi,Lt("uploaderId","==",r));return(await qt(e)).docs.map(s=>{const o=s.data();return{id:s.id,title:o.title,description:o.description,category:o.category,price:o.price,rating:o.rating||0,reviewCount:o.reviewCount||0,salesCount:o.salesCount||0,previewPages:o.previewPages||[],thumbnailUrl:o.thumbnailUrl||"",pdfUrls:o.pdfUrls||[],uploaderId:o.uploaderId,uploaderName:o.uploaderName,uploadDate:o.uploadDate instanceof Ae?o.uploadDate.toDate().toISOString().split("T")[0]:o.uploadDate}})}async function CA(r){await fs(pr(hi,r),{salesCount:mR(1)})}async function RA(r){const e=rr(sc,Lt("userId","==",r)),s=(await qt(e)).docs.map(l=>l.data().noteId);if(s.length===0)return[];const o=[];for(const l of s){const u=await D_(l);u&&o.push(u)}return o}async function AA(r,e){const t=rr(sc,Lt("userId","==",r),Lt("noteId","==",e));(await qt(t)).empty&&(await sa(sc,{userId:r,noteId:e,purchasedAt:Ae.now()}),await CA(e))}async function L_(r,e){const t=rr(sc,Lt("userId","==",r),Lt("noteId","==",e));return!(await qt(t)).empty}async function PA(r){const e=rr(wo,Lt("userId","==",r)),s=(await qt(e)).docs.map(l=>l.data().noteId);if(s.length===0)return[];const o=[];for(const l of s){const u=await D_(l);u&&o.push(u)}return o}async function DA(r,e){const t=rr(wo,Lt("userId","==",r),Lt("noteId","==",e));(await qt(t)).empty&&await sa(wo,{userId:r,noteId:e,createdAt:Ae.now()})}async function OA(r,e){const t=rr(wo,Lt("userId","==",r),Lt("noteId","==",e)),s=await qt(t);for(const o of s.docs)await fR(pr(wo,o.id))}async function LA(r){const e=rr(wo,Lt("userId","==",r));return(await qt(e)).docs.map(s=>s.data().noteId)}async function VA(r){const e=rr(sc,Lt("userId","==",r));return(await qt(e)).docs.map(s=>s.data().noteId)}async function MA(r){const e=rr(ah,Lt("noteId","==",r),sh("date","desc"));return(await qt(e)).docs.map(s=>{const o=s.data();return{id:s.id,noteId:o.noteId,userId:o.userId,userName:o.userName,rating:o.rating,comment:o.comment,date:o.date instanceof Ae?o.date.toDate().toISOString().split("T")[0]:o.date}})}async function V_(r,e){const t=rr(ah,Lt("userId","==",r),Lt("noteId","==",e));return!(await qt(t)).empty}async function UA(r){if(await V_(r.userId,r.noteId))throw new Error("You have already reviewed this note");if(!await L_(r.userId,r.noteId))throw new Error("You must purchase this note before reviewing");await sa(ah,{...r,date:Ae.now()}),await FA(r.noteId)}async function FA(r){const e=rr(ah,Lt("noteId","==",r)),t=await qt(e);if(t.empty){await fs(pr(hi,r),{rating:0,reviewCount:0});return}let s=0;t.docs.forEach(l=>{s+=l.data().rating});const o=Math.round(s/t.docs.length*10)/10;await fs(pr(hi,r),{rating:o,reviewCount:t.docs.length})}const kc=ms(gs,"supportChats");async function Xm(){const r=await qt(Po),e=[];for(const t of r.docs){const s=t.data(),o=await O_(t.id);e.push({id:t.id,name:s.name,email:s.email,avatarUrl:s.avatarUrl||"",totalEarnings:s.totalEarnings||0,uploadedNotes:o,isAdmin:s.isAdmin||!1,isVerified:s.isVerified||!1,isBlocked:s.isBlocked||!1})}return e}async function zA(r,e){await fs(pr(Po,r),{isVerified:e})}async function BA(r,e){await fs(pr(Po,r),{isBlocked:e})}async function $A(r,e){await fs(pr(hi,r),{isTopSelling:e})}async function qA(r,e,t,s){const o=await sa(kc,{userId:r,userName:e,userEmail:t,status:"open",createdAt:Ae.now(),lastMessage:s,lastMessageAt:Ae.now()}),l=ms(gs,"supportChats",o.id,"messages");return await sa(l,{senderId:r,senderName:e,isAdmin:!1,text:s,timestamp:Ae.now()}),o.id}async function M_(r,e,t,s,o){const l=ms(gs,"supportChats",r,"messages");await sa(l,{senderId:e,senderName:t,isAdmin:s,text:o,timestamp:Ae.now()}),await fs(pr(kc,r),{lastMessage:o,lastMessageAt:Ae.now()})}async function U_(r){const e=ms(gs,"supportChats",r,"messages"),t=rr(e,sh("timestamp","asc"));return(await qt(t)).docs.map(o=>{const l=o.data();return{id:o.id,senderId:l.senderId,senderName:l.senderName,isAdmin:l.isAdmin,text:l.text,timestamp:l.timestamp instanceof Ae?l.timestamp.toDate().toISOString():l.timestamp}})}async function WA(r){const e=rr(kc,Lt("userId","==",r));return(await qt(e)).docs.map(o=>{const l=o.data();return{id:o.id,userId:l.userId,userName:l.userName,userEmail:l.userEmail,status:l.status,createdAt:l.createdAt instanceof Ae?l.createdAt.toDate().toISOString():l.createdAt,lastMessage:l.lastMessage,lastMessageAt:l.lastMessageAt instanceof Ae?l.lastMessageAt.toDate().toISOString():l.lastMessageAt}}).sort((o,l)=>new Date(l.lastMessageAt).getTime()-new Date(o.lastMessageAt).getTime())}async function HA(){const r=rr(kc,sh("lastMessageAt","desc"));return(await qt(r)).docs.map(t=>{const s=t.data();return{id:t.id,userId:s.userId,userName:s.userName,userEmail:s.userEmail,status:s.status,createdAt:s.createdAt instanceof Ae?s.createdAt.toDate().toISOString():s.createdAt,lastMessage:s.lastMessage,lastMessageAt:s.lastMessageAt instanceof Ae?s.lastMessageAt.toDate().toISOString():s.lastMessageAt}})}async function GA(r,e){await fs(pr(kc,r),{status:e})}const F_=S.createContext(void 0);function KA({children:r}){const[e,t]=S.useState(null),[s,o]=S.useState(null),[l,u]=S.useState(!0);S.useEffect(()=>{const b=zj(Qu,async k=>{if(t(k),k){const C=await tp(k.uid);o(C)}else o(null);u(!1)});return()=>b()},[]);const f=async()=>{if(e){const b=await tp(e.uid);o(b)}},p=async(b,k)=>{try{return await Mj(Qu,b,k),{success:!0}}catch(C){let P="Failed to sign in";return C.code==="auth/user-not-found"?P="No account found with this email":C.code==="auth/wrong-password"?P="Incorrect password":C.code==="auth/invalid-email"?P="Invalid email address":C.code==="auth/invalid-credential"&&(P="Invalid email or password"),{success:!1,error:P}}},g=async(b,k,C)=>{try{const P=await Vj(Qu,k,C);await IA(P.user.uid,{name:b,email:k});const V=await tp(P.user.uid);return o(V),{success:!0}}catch(P){let V="Failed to create account";return P.code==="auth/email-already-in-use"?V="An account with this email already exists":P.code==="auth/weak-password"?V="Password should be at least 6 characters":P.code==="auth/invalid-email"&&(V="Invalid email address"),{success:!1,error:V}}},v=async()=>{await Bj(Qu),t(null),o(null)};return a.jsx(F_.Provider,{value:{user:e,userProfile:s,isAuthenticated:!!e,isLoading:l,login:p,signup:g,logout:v,refreshUserProfile:f},children:r})}function sn(){const r=S.useContext(F_);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),ov=r=>{const e=YA(r);return e.charAt(0).toUpperCase()+e.slice(1)},z_=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=S.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...f},p)=>S.createElement("svg",{ref:p,...XA,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:z_("lucide",o),...f},[...u.map(([g,v])=>S.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(r,e)=>{const t=S.forwardRef(({className:s,...o},l)=>S.createElement(JA,{ref:l,iconNode:e,className:z_(`lucide-${QA(ov(r))}`,`lucide-${r}`,s),...o}));return t.displayName=ov(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ot=Ie("arrow-left",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],lv=Ie("ban",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rP=Ie("bell",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],B_=Ie("book-open",nP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ic=Ie("bookmark",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aP=Ie("calendar",iP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],lP=Ie("camera",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dp=Ie("chevron-left",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Op=Ie("chevron-right",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$_=Ie("circle-alert",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jr=Ie("circle-check-big",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cv=Ie("circle-x",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jm=Ie("clock",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zr=Ie("download",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],q_=Ie("eye-off",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zm=Ie("eye",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],W_=Ie("file-check",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mr=Ie("file-text",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Lp=Ie("file",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Vp=Ie("graduation-cap",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uv=Ie("house",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],NP=Ie("image",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Fr=Ie("indian-rupee",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TP=Ie("info",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],SP=Ie("library",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Sd=Ie("log-out",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ac=Ie("mail",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],H_=Ie("menu",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Mr=Ie("message-square",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],bo=Ie("moon",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_o=Ie("search",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mp=Ie("send",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dv=Ie("settings",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UP=Ie("shield-check",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],In=Ie("shield",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],BP=Ie("shopping-bag",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],qP=Ie("shopping-cart",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],HP=Ie("square-pen",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xi=Ie("star",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ko=Ie("sun",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],YP=Ie("tag",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],eg=Ie("trending-up",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],oh=Ie("truck",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],er=Ie("upload",ZP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aa=Ie("user",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],oc=Ie("users",t4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lh=Ie("x",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],s4=Ie("zoom-in",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],a4=Ie("zoom-out",i4);function o4({currentPage:r,onNavigate:e}){const[t,s]=S.useState(!1),{isDark:o,toggleTheme:l}=Hp(),{userProfile:u,logout:f}=sn(),p=u?.isAdmin||!1,b=p?[{id:"admin",label:"Dashboard",icon:In},{id:"admin-users",label:"Manage Users",icon:oc},{id:"admin-earnings",label:"User Earnings",icon:Fr},{id:"admin-notes",label:"Manage Notes",icon:mr},{id:"admin-chats",label:"Support Chats",icon:Mr}]:[{id:"home",label:"Home",icon:uv},{id:"downloads",label:"Downloads",icon:Zr},{id:"bookmarks",label:"Bookmarks",icon:ic},{id:"earnings",label:"Earnings",icon:Fr},{id:"profile",label:"My Profile",icon:aa},{id:"upload",label:"Upload Notes",icon:er},{id:"support",label:"Support",icon:Mr},{id:"settings",label:"Settings",icon:dv}],k=p?[{id:"admin",label:"Dashboard",icon:In},{id:"admin-users",label:"Users",icon:oc},{id:"admin-notes",label:"Notes",icon:mr},{id:"admin-chats",label:"Chats",icon:Mr}]:[{id:"home",label:"Home",icon:uv},{id:"downloads",label:"Downloads",icon:Zr},{id:"upload",label:"Upload",icon:er},{id:"earnings",label:"Earnings",icon:Fr},{id:"profile",label:"Profile",icon:aa}],C=p?[]:[{id:"bookmarks",label:"Bookmarks",icon:ic},{id:"support",label:"Support",icon:Mr},{id:"settings",label:"Settings",icon:dv}],P=()=>{f()};return a.jsxs(a.Fragment,{children:[a.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 h-screen w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50 isolate",style:{backgroundColor:"var(--sidebar-bg, #ffffff)"},children:[a.jsx("style",{children:".dark aside { --sidebar-bg: #0f172a !important; }"}),a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${p?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-xl flex items-center justify-center shadow-lg`,children:p?a.jsx(In,{className:"w-6 h-6 text-white"}):a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:p?"Admin Panel":"Notezy"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:p?"Management Console":"Knowledge Marketplace"})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:b.map(V=>{const D=V.icon,W=r===V.id;return a.jsxs("button",{onClick:()=>e(V.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${W?"text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,style:W?{backgroundColor:p?"#db2777":"#2563eb"}:{},children:[a.jsx(D,{className:"w-5 h-5"}),a.jsx("span",{children:V.label})]},V.id)})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 space-y-1",children:[a.jsx("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ko,{className:"w-5 h-5"}),a.jsx("span",{children:"Light Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx(bo,{className:"w-5 h-5"}),a.jsx("span",{children:"Dark Mode"})]})}),p&&a.jsxs("button",{onClick:P,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Sd,{className:"w-5 h-5"}),a.jsx("span",{children:"Logout"})]})]})]}),a.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 ${p?"bg-gradient-to-br from-purple-600 to-pink-600":"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"} rounded-lg flex items-center justify-center`,children:p?a.jsx(In,{className:"w-5 h-5 text-white"}):a.jsx(er,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:p?"Admin":"Notezy"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:o?a.jsx(ko,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"}):a.jsx(bo,{className:"w-5 h-5 text-gray-700 dark:text-slate-300"})}),p&&a.jsx("button",{onClick:P,className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(Sd,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),!p&&C.length>0&&a.jsx("button",{onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:t?a.jsx(lh,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"}):a.jsx(H_,{className:"w-6 h-6 text-gray-700 dark:text-slate-300"})})]})]})}),t&&!p&&a.jsx("div",{className:"lg:hidden fixed top-14 left-0 right-0 z-40 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-lg",children:a.jsx("nav",{className:"p-2",children:C.map(V=>{const D=V.icon,W=r===V.id;return a.jsxs("button",{onClick:()=>{e(V.id),s(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${W?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:[a.jsx(D,{className:"w-5 h-5"}),a.jsx("span",{children:V.label})]},V.id)})})}),a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t border-gray-200 dark:border-slate-700",children:a.jsx("div",{className:"flex justify-around items-center h-16",children:k.map(V=>{const D=V.icon,W=r===V.id;return a.jsxs("button",{onClick:()=>e(V.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${W?p?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-slate-400"}`,children:[a.jsx(D,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] mt-1",children:V.label})]},V.id)})})})]})}function l4({searchQuery:r,onSearchChange:e,showSearch:t=!0}){const{userProfile:s}=sn();return a.jsx("div",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 lg:ml-64",children:a.jsxs("div",{className:"flex items-center gap-4 px-4 lg:px-8 py-4",children:[t&&a.jsx("div",{className:"flex-1 max-w-2xl",children:a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),a.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:r,onChange:o=>e(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3 ml-auto",children:[a.jsxs("button",{className:"relative p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:[a.jsx(rP,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:s?.name||"User"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s?.uploadedNotes&&s.uploadedNotes.length>0?"Seller":"Member"})]}),a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx(aa,{className:"w-5 h-5 text-white"})})]})]})]})})}function tg({note:r,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:l=!1,isPurchased:u=!1}){return a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all border border-gray-200 dark:border-slate-800 group",children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-slate-800 cursor-pointer overflow-hidden",onClick:()=>e(r),children:[a.jsx("img",{src:r.thumbnailUrl,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center",children:a.jsx(Zm,{className:"w-12 h-12 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform"})}),a.jsx("div",{className:"absolute top-3 right-3",children:t&&a.jsx("button",{onClick:f=>{f.stopPropagation(),t(r.id)},className:`p-2.5 rounded-xl ${l?"bg-yellow-500 text-white shadow-lg":"bg-white/90 dark:bg-slate-900/90 text-gray-700 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-900 backdrop-blur-sm"} transition-all`,children:a.jsx(ic,{className:`w-4 h-4 ${l?"fill-current":""}`})})})]}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white line-clamp-2 flex-1",children:r.title}),a.jsxs("span",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent whitespace-nowrap",children:["",r.price]})]}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:r.description}),a.jsxs("div",{className:"flex items-center gap-3 mb-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xi,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:r.rating})]}),a.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["(",r.reviewCount,")"]}),a.jsx("span",{className:"text-gray-400 dark:text-slate-600",children:""}),a.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[r.salesCount," sales"]})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:["by ",r.uploaderName]}),!u&&s&&a.jsxs("button",{onClick:()=>s(r.id),className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(qP,{className:"w-4 h-4"}),"Purchase Now"]}),u&&a.jsxs("button",{onClick:()=>o?o(r.id):e(r),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-2.5 px-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4"}),"View Notes"]})]})]})}function c4({notes:r,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,bookmarkedIds:l,purchasedIds:u,searchQuery:f,onSearchChange:p}){const[g,v]=S.useState(null),b=[{id:"assignment",label:"Assignments",icon:mr,color:"from-blue-500 to-blue-600"},{id:"pyq",label:"PYQ Papers",icon:B_,color:"from-green-500 to-green-600"},{id:"lecture-notes",label:"Lecture Notes",icon:SP,color:"from-purple-500 to-purple-600"}],k=r.filter(P=>{const V=P.title.toLowerCase().includes(f.toLowerCase())||P.description.toLowerCase().includes(f.toLowerCase()),D=!g||P.category===g;return V&&D}),C=[...r].sort((P,V)=>V.salesCount-P.salesCount).slice(0,8);return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[p&&a.jsx("div",{className:"lg:hidden mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-500"}),a.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQs...",value:f,onChange:P=>p(P.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:b.map(P=>{const V=P.icon,D=g===P.id;return a.jsxs("button",{onClick:()=>v(D?null:P.id),className:`bg-gradient-to-br ${P.color} ${D?"ring-4 ring-offset-2 dark:ring-offset-gray-950 ring-gray-400 dark:ring-gray-600":""} text-white p-6 rounded-2xl hover:shadow-2xl transition-all flex items-center gap-4 shadow-lg`,children:[a.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl backdrop-blur-sm",children:a.jsx(V,{className:"w-8 h-8"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-white",children:P.label}),a.jsxs("div",{className:"text-white text-opacity-90 text-sm",children:[r.filter(W=>W.category===P.id).length," items"]})]})]},P.id)})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 dark:text-white mb-6",children:g?`${b.find(P=>P.id===g)?.label}`:"Top Purchased Notes"}),k.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(g?k:C).map(P=>a.jsx(tg,{note:P,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:l.includes(P.id),isPurchased:u.includes(P.id)},P.id))}):a.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[a.jsx(_o,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),a.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No notes found matching your search"})]})]})]})})}function u4({purchasedNotes:r}){const e=(s,o)=>{window.open(s,"_blank")},t=s=>{s.pdfUrls&&s.pdfUrls.length>0&&s.pdfUrls.forEach((o,l)=>{setTimeout(()=>{window.open(o,"_blank")},l*500)})};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(Zr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Downloads"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Download your purchased notes"})]})]}),r.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-xl p-4 mb-6",children:a.jsxs("p",{className:"text-blue-900 dark:text-blue-200",children:["You have purchased ",r.length," notes"]})}),a.jsx("div",{className:"space-y-4",children:r.map(s=>a.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-lg",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(mr,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-1",children:s.title}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm line-clamp-2",children:s.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-slate-500",children:[a.jsx("span",{className:"capitalize",children:s.category}),a.jsx("span",{children:""}),a.jsxs("span",{children:["By ",s.uploaderName]}),s.pdfUrls&&s.pdfUrls.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[s.pdfUrls.length," PDF file(s)"]})]})]})]}),a.jsx("div",{className:"px-3 py-1 bg-green-500 text-white text-xs rounded-full flex-shrink-0",children:"Purchased"})]}),s.pdfUrls&&s.pdfUrls.length>0?a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[s.pdfUrls.length," PDF file(s) available"]}),s.pdfUrls.length>1&&a.jsxs("button",{onClick:()=>t(s),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm rounded-lg hover:shadow-lg transition-all",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Download All"]})]}),a.jsx("div",{className:"space-y-2",children:s.pdfUrls.map((o,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Lp,{className:"w-5 h-5 text-red-500"}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:[s.title," - File ",l+1,".pdf"]})]}),a.jsxs("button",{onClick:()=>e(o,`${s.title}_${l+1}.pdf`),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Download"]})]},l))})]}):a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl p-4 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No PDF files available for this note"})})]})},s.id))})]}):a.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[a.jsx(Zr,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),a.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Downloads Yet"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Purchase some notes to see them here"})]})]})})}function d4({bookmarkedNotes:r,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,purchasedIds:l}){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(ic,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Bookmarks"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Your saved notes collection"})]})]}),r.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-xl p-4 mb-6",children:a.jsxs("p",{className:"text-yellow-900 dark:text-yellow-200",children:["You have ",r.length," bookmarked notes"]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>a.jsx(tg,{note:u,onPreview:e,onBookmark:t,onPurchase:s,onViewNotes:o,isBookmarked:!0,isPurchased:l.includes(u.id)},u.id))})]}):a.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800",children:[a.jsx(ic,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-slate-700"}),a.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Bookmarks Yet"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Bookmark notes to save them for later"})]})]})})}function h4({totalEarnings:r,uploadedNotes:e}){const t=e.reduce((o,l)=>o+l.salesCount,0),s=e.map(o=>({...o,earnings:o.price*o.salesCount})).sort((o,l)=>l.earnings-o.earnings);return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl flex items-center justify-center",children:a.jsx(Fr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:"My Earnings"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track your sales performance"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Fr,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Earnings"})]}),a.jsxs("div",{className:"text-white text-3xl",children:["",r.toFixed(2)]}),a.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"All time revenue"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(BP,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),a.jsx("div",{className:"text-white text-3xl",children:t}),a.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Notes sold"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(mr,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Active Listings"})]}),a.jsx("div",{className:"text-white text-3xl",children:e.length}),a.jsx("div",{className:"text-white text-opacity-75 text-sm mt-1",children:"Available for sale"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:a.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Earnings Breakdown"})}),s.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note Title"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Rating"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Earnings"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:s.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:o.title}),a.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",o.price]}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:o.salesCount}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:o.rating}),a.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["(",o.reviewCount,")"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["",o.earnings.toFixed(2)]})})]},o.id))})]})}):a.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[a.jsx(eg,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),a.jsx("p",{children:"No earnings yet. Start uploading notes to earn!"})]})]})]})})}async function f4(r,e,t){const s=r.name.split(".").pop()||"jpg",o=`notes/${e}/preview_${t}.${s}`,l=Gm(Qm,o);return await Wm(l,r),await Hm(l)}async function p4(r,e){const t=r.name.split(".").pop()||"pdf",s=`notes/${e}/document.${t}`,o=Gm(Qm,s);return await Wm(o,r),await Hm(o)}async function m4(r,e){const t=r.name.split(".").pop()||"jpg",s=`avatars/${e}/avatar.${t}`,o=Gm(Qm,s);return await Wm(o,r),await Hm(o)}function g4({user:r,onPreview:e}){const{user:t,refreshUserProfile:s}=sn(),[o,l]=S.useState(!1),[u,f]=S.useState(r.name),[p,g]=S.useState(r.email),[v,b]=S.useState(r.avatarUrl),[k,C]=S.useState(!1),P=S.useRef(null),V=async()=>{if(t)try{await av(t.uid,{name:u,avatarUrl:v}),s&&await s(),l(!1)}catch(z){console.error("Error updating profile:",z)}},D=()=>{P.current?.click()},W=async z=>{if(!z.target.files||!z.target.files[0]||!t)return;const X=z.target.files[0];C(!0);try{const Q=await m4(X,t.uid);b(Q),await av(t.uid,{avatarUrl:Q}),s&&await s()}catch(Q){console.error("Error uploading avatar:",Q)}finally{C(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 mb-8 shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl overflow-hidden",children:[v?a.jsx("img",{src:v,alt:r.name,className:"w-full h-full rounded-2xl object-cover"}):a.jsx(aa,{className:"w-12 h-12 text-white"}),k&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-2xl",children:a.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),a.jsx("button",{onClick:D,disabled:k,className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-50 flex items-center justify-center rounded-2xl transition-all cursor-pointer group",children:a.jsx(lP,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),a.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:W,className:"hidden"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-lg border-4 border-white dark:border-gray-900"})]}),a.jsx("div",{className:"flex-1",children:o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Name"}),a.jsx("input",{type:"text",value:u,onChange:z=>f(z.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 text-sm",children:"Email"}),a.jsx("input",{type:"email",value:p,onChange:z=>g(z.target.value),disabled:!0,className:"w-full px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 dark:text-gray-400 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Email cannot be changed"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:V,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Save Changes"}),a.jsx("button",{onClick:()=>{l(!1),f(r.name),g(r.email),b(r.avatarUrl)},className:"px-6 py-2.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white mb-3",children:r.name}),a.jsxs("div",{className:"flex flex-col gap-2 text-gray-600 dark:text-gray-400 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ac,{className:"w-4 h-4"}),a.jsx("span",{children:r.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(aP,{className:"w-4 h-4"}),a.jsx("span",{children:"Member since 2024"})]})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2",children:[a.jsx(HP,{className:"w-4 h-4"}),"Edit Profile"]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-center shadow-xl",children:[a.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Total Earnings"}),a.jsxs("div",{className:"text-white text-3xl",children:["",r.totalEarnings.toFixed(2)]})]})]})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-gray-900 dark:text-white mb-6",children:["My Uploaded Notes (",r.uploadedNotes.length,")"]}),r.uploadedNotes.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.uploadedNotes.map(z=>a.jsx(tg,{note:z,onPreview:e,isPurchased:!0},z.id))}):a.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800",children:[a.jsx(aa,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),a.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"No Uploaded Notes"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start uploading notes to build your collection"})]})]})]})})}function x4(){const{user:r,userProfile:e}=sn(),[t,s]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(""),[p,g]=S.useState("assignment"),[v,b]=S.useState([]),[k,C]=S.useState([]),[P,V]=S.useState(!1),[D,W]=S.useState(!1),[z,X]=S.useState(""),[Q,ie]=S.useState(""),de=async A=>{if(A.preventDefault(),!r||!e){ie("You must be logged in to upload notes");return}if(k.length===0){ie("Please upload at least one PDF file");return}if(v.length===0){ie("Please upload at least one preview image");return}ie(""),W(!0);try{const O=`note_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;X(`Uploading ${k.length} PDF file(s)...`);const U=[];for(let be=0;be<k.length;be++){X(`Uploading PDF ${be+1} of ${k.length}...`);const qe=await p4(k[be],`${O}_${be}`);U.push(qe)}X("Uploading preview images...");const j=[];for(let be=0;be<v.length;be++){const qe=await f4(v[be],O,be);j.push(qe)}X("Creating note..."),await SA({title:t,description:o,category:p,price:parseFloat(u),previewPages:j,thumbnailUrl:j[0]||"",pdfUrls:U,uploaderId:r.uid,uploaderName:e.name}),V(!0),X(""),setTimeout(()=>{V(!1),s(""),l(""),f(""),g("assignment"),b([]),C([])},3e3)}catch(O){console.error("Error uploading note:",O),ie("Failed to upload note. Please try again."),X("")}finally{W(!1)}},R=A=>{A.target.files&&b(Array.from(A.target.files))},E=A=>{A.target.files&&C(Array.from(A.target.files))},I=()=>(k.reduce((O,U)=>O+U.size,0)/1024/1024).toFixed(2);return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Upload Notes"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share your knowledge and earn"})]})]}),P?a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-8 text-center shadow-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(er,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-white mb-2",children:"Notes Uploaded Successfully!"}),a.jsx("p",{className:"text-white text-opacity-90",children:"Your notes are now live and available for purchase."})]}):a.jsxs("form",{onSubmit:de,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 space-y-6 shadow-lg",children:[Q&&a.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:Q}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(mr,{className:"w-4 h-4"}),a.jsx("span",{children:"Note Title *"})]}),a.jsx("input",{type:"text",value:t,onChange:A=>s(A.target.value),placeholder:"e.g., Advanced Mathematics Assignment Solutions",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(mr,{className:"w-4 h-4"}),a.jsx("span",{children:"Description *"})]}),a.jsx("textarea",{value:o,onChange:A=>l(A.target.value),placeholder:"Describe what's included in your notes...",required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(YP,{className:"w-4 h-4"}),a.jsx("span",{children:"Category *"})]}),a.jsxs("select",{value:p,onChange:A=>g(A.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"assignment",children:"Assignment"}),a.jsx("option",{value:"pyq",children:"PYQ Paper"}),a.jsx("option",{value:"lecture-notes",children:"Lecture Notes"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Price ( INR) *"})]}),a.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),placeholder:"9.99",step:"0.01",min:"0",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(Lp,{className:"w-4 h-4"}),a.jsx("span",{children:"PDF Files *"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload one or more PDF files (these are the files buyers will download)"}),a.jsx("input",{type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:E,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 text-gray-900 dark:text-white"}),k.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[k.length," PDF file(s) selected (",I()," MB total)"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((A,O)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400",children:[a.jsx(Lp,{className:"w-3 h-3"}),a.jsx("span",{className:"max-w-[150px] truncate",children:A.name})]},O))})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(NP,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview Images *"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Upload 1-3 preview images (screenshots of your notes) to show potential buyers"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:R,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 text-gray-900 dark:text-white"}),v.length>0&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:[v.length," preview image(s) selected"]})]}),a.jsx("button",{type:"submit",disabled:D,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3.5 rounded-xl hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:D?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),z||"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(er,{className:"w-5 h-5"}),"Upload Notes"]})})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-blue-900 dark:text-blue-200 mb-3",children:"Upload Guidelines"}),a.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-300 text-sm",children:[a.jsx("li",{children:" Ensure your notes are original or you have permission to sell them"}),a.jsx("li",{children:" You can upload multiple PDF files for a single note listing"}),a.jsx("li",{children:" Provide 1-3 preview images showing sample pages from your notes"}),a.jsx("li",{children:" Write an accurate description of what's included"}),a.jsx("li",{children:" Price your notes fairly based on content quality and length"})]})]})]})})}function y4({note:r,onClose:e}){const{user:t,userProfile:s}=sn(),[o,l]=S.useState(0),[u,f]=S.useState([]),[p,g]=S.useState(!0),[v,b]=S.useState(!1),[k,C]=S.useState(!1),[P,V]=S.useState(!1),[D,W]=S.useState(5),[z,X]=S.useState(""),[Q,ie]=S.useState(!1),[de,R]=S.useState("");S.useEffect(()=>{E(),I()},[r.id,t?.uid]);async function E(){g(!0);try{const j=await MA(r.id);f(j)}catch(j){console.error("Error loading reviews:",j)}finally{g(!1)}}async function I(){if(t?.uid)try{const j=await L_(t.uid,r.id);if(b(j),j){const be=await V_(t.uid,r.id);C(be)}}catch(j){console.error("Error checking purchase status:",j)}}async function A(j){if(j.preventDefault(),!(!t?.uid||!s)){ie(!0),R("");try{await UA({noteId:r.id,userId:t.uid,userName:s.name,rating:D,comment:z}),V(!1),X(""),C(!0),await E()}catch(be){R(be.message||"Failed to submit review")}finally{ie(!1)}}}const O=()=>{o<r.previewPages.length-1&&l(o+1)},U=()=>{o>0&&l(o-1)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 lg:p-6 flex items-center justify-between z-10 rounded-t-2xl",children:[a.jsx("h2",{className:"text-gray-900 dark:text-white pr-8",children:r.title}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors flex-shrink-0",children:a.jsx(lh,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),a.jsxs("div",{className:"p-4 lg:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-gray-900 dark:text-white mb-3",children:["Preview Pages (",r.previewPages.length," pages)"]}),a.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden",children:[a.jsx("img",{src:r.previewPages[o],alt:`Page ${o+1}`,className:"w-full h-auto"}),r.previewPages.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:U,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:a.jsx(Dp,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),a.jsx("button",{onClick:O,disabled:o===r.previewPages.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white dark:bg-gray-900 rounded-xl shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-transform",children:a.jsx(Op,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-xl text-sm backdrop-blur-sm",children:[o+1," / ",r.previewPages.length]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-xl shadow-lg",children:[a.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Price"}),a.jsxs("div",{className:"text-white text-xl",children:["",r.price]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 p-4 rounded-xl shadow-lg",children:[a.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Rating"}),a.jsxs("div",{className:"flex items-center gap-1 text-white",children:[a.jsx(Xi,{className:"w-4 h-4 fill-current"}),a.jsx("span",{className:"text-xl",children:r.rating})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 rounded-xl shadow-lg",children:[a.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Sales"}),a.jsx("div",{className:"text-white text-xl",children:r.salesCount})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-4 rounded-xl shadow-lg",children:[a.jsx("div",{className:"text-white text-opacity-90 text-sm mb-1",children:"Category"}),a.jsx("div",{className:"text-white text-xl capitalize",children:r.category})]})]}),a.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-2xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx(aa,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Uploaded by"}),a.jsx("div",{className:"text-gray-900 dark:text-white",children:r.uploaderName})]})]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-gray-900 dark:text-white",children:["Reviews (",u.length,")"]}),v&&!k&&!P&&a.jsx("button",{onClick:()=>V(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all",children:"Write a Review"})]}),P&&a.jsxs("form",{onSubmit:A,className:"mb-6 bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Rating"}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(j=>a.jsx("button",{type:"button",onClick:()=>W(j),className:"p-1 transition-transform hover:scale-110",children:a.jsx(Xi,{className:`w-8 h-8 ${j<=D?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`})},j))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm mb-2",children:"Comment"}),a.jsx("textarea",{value:z,onChange:j=>X(j.target.value),placeholder:"Share your experience with this note...",rows:3,className:"w-full px-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white resize-none",required:!0})]}),de&&a.jsx("div",{className:"mb-4 text-red-600 dark:text-red-400 text-sm",children:de}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",disabled:Q,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium hover:shadow-lg transition-all disabled:opacity-50",children:Q?"Submitting...":"Submit Review"}),a.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),p?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):u.length>0?a.jsx("div",{className:"space-y-4",children:u.map(j=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:j.userName}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(be=>a.jsx(Xi,{className:`w-4 h-4 ${be<=j.rating?"fill-yellow-500 text-yellow-500":"text-gray-300 dark:text-gray-600"}`},be))})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:j.comment}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:j.date})]},j.id))}):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No reviews yet. Be the first to review!"})]})]})]})})}function hv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function v4(...r){return e=>{let t=!1;const s=r.map(o=>{const l=hv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():hv(r[o],null)}}}}var w4=Symbol.for("react.lazy"),Cd=TN[" use ".trim().toString()];function b4(r){return typeof r=="object"&&r!==null&&"then"in r}function G_(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===w4&&"_payload"in r&&b4(r._payload)}function _4(r){const e=N4(r),t=S.forwardRef((s,o)=>{let{children:l,...u}=s;G_(l)&&typeof Cd=="function"&&(l=Cd(l._payload));const f=S.Children.toArray(l),p=f.find(j4);if(p){const g=p.props.children,v=f.map(b=>b===p?S.Children.count(g)>1?S.Children.only(null):S.isValidElement(g)?g.props.children:null:b);return a.jsx(e,{...u,ref:o,children:S.isValidElement(g)?S.cloneElement(g,void 0,v):null})}return a.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var k4=_4("Slot");function N4(r){const e=S.forwardRef((t,s)=>{let{children:o,...l}=t;if(G_(o)&&typeof Cd=="function"&&(o=Cd(o._payload)),S.isValidElement(o)){const u=I4(o),f=T4(l,o.props);return o.type!==S.Fragment&&(f.ref=s?v4(s,u):u),S.cloneElement(o,f)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var E4=Symbol("radix.slottable");function j4(r){return S.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===E4}function T4(r,e){const t={...e};for(const s in e){const o=r[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...f)=>{const p=l(...f);return o(...f),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function I4(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function K_(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=K_(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Q_(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=K_(r))&&(s&&(s+=" "),s+=e);return s}const fv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,pv=Q_,S4=(r,e)=>t=>{var s;if(e?.variants==null)return pv(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(g=>{const v=t?.[g],b=l?.[g];if(v===null)return null;const k=fv(v)||fv(b);return o[g][k]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,k]=v;return k===void 0||(g[b]=k),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,v)=>{let{class:b,className:k,...C}=v;return Object.entries(C).every(P=>{let[V,D]=P;return Array.isArray(D)?D.includes({...l,...f}[V]):{...l,...f}[V]===D})?[...g,b,k]:g},[]);return pv(r,u,p,t?.class,t?.className)},C4=(r,e)=>{const t=new Array(r.length+e.length);for(let s=0;s<r.length;s++)t[s]=r[s];for(let s=0;s<e.length;s++)t[r.length+s]=e[s];return t},R4=(r,e)=>({classGroupId:r,validator:e}),Y_=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),Rd="-",mv=[],A4="arbitrary..",P4=r=>{const e=O4(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return D4(u);const f=u.split(Rd),p=f[0]===""&&f.length>1?1:0;return X_(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],g=t[u];return p?g?C4(g,p):p:g||mv}return t[u]||mv}}},X_=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const g=X_(r,e+1,l);if(g)return g}const u=t.validators;if(u===null)return;const f=e===0?r.join(Rd):r.slice(e).join(Rd),p=u.length;for(let g=0;g<p;g++){const v=u[g];if(v.validator(f))return v.classGroupId}},D4=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?A4+s:void 0})(),O4=r=>{const{theme:e,classGroups:t}=r;return L4(t,e)},L4=(r,e)=>{const t=Y_();for(const s in r){const o=r[s];rg(o,t,s,e)}return t},rg=(r,e,t,s)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];V4(u,e,t,s)}},V4=(r,e,t,s)=>{if(typeof r=="string"){M4(r,e,t);return}if(typeof r=="function"){U4(r,e,t,s);return}F4(r,e,t,s)},M4=(r,e,t)=>{const s=r===""?e:J_(e,r);s.classGroupId=t},U4=(r,e,t,s)=>{if(z4(r)){rg(r(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(R4(t,r))},F4=(r,e,t,s)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[f,p]=o[u];rg(p,J_(e,f),t,s)}},J_=(r,e)=>{let t=r;const s=e.split(Rd),o=s.length;for(let l=0;l<o;l++){const u=s[l];let f=t.nextPart.get(u);f||(f=Y_(),t.nextPart.set(u,f)),t=f}return t},z4=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,B4=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,s=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},Up="!",gv=":",$4=[],xv=(r,e,t,s,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:o}),q4=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=o=>{const l=[];let u=0,f=0,p=0,g;const v=o.length;for(let V=0;V<v;V++){const D=o[V];if(u===0&&f===0){if(D===gv){l.push(o.slice(p,V)),p=V+1;continue}if(D==="/"){g=V;continue}}D==="["?u++:D==="]"?u--:D==="("?f++:D===")"&&f--}const b=l.length===0?o:o.slice(p);let k=b,C=!1;b.endsWith(Up)?(k=b.slice(0,-1),C=!0):b.startsWith(Up)&&(k=b.slice(1),C=!0);const P=g&&g>p?g-p:void 0;return xv(l,C,k,P)};if(e){const o=e+gv,l=s;s=u=>u.startsWith(o)?l(u.slice(o.length)):xv($4,!1,u,void 0,!0)}if(t){const o=s;s=l=>t({className:l,parseClassName:o})}return s},W4=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],f=u[0]==="[",p=e.has(u);f||p?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(u)):o.push(u)}return o.length>0&&(o.sort(),s.push(...o)),s}},H4=r=>({cache:B4(r.cacheSize),parseClassName:q4(r),sortModifiers:W4(r),...P4(r)}),G4=/\s+/,K4=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=r.trim().split(G4);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:k,hasImportantModifier:C,baseClassName:P,maybePostfixModifierPosition:V}=t(v);if(b){p=v+(p.length>0?" "+p:p);continue}let D=!!V,W=s(D?P.substring(0,V):P);if(!W){if(!D){p=v+(p.length>0?" "+p:p);continue}if(W=s(P),!W){p=v+(p.length>0?" "+p:p);continue}D=!1}const z=k.length===0?"":k.length===1?k[0]:l(k).join(":"),X=C?z+Up:z,Q=X+W;if(u.indexOf(Q)>-1)continue;u.push(Q);const ie=o(W,D);for(let de=0;de<ie.length;++de){const R=ie[de];u.push(X+R)}p=v+(p.length>0?" "+p:p)}return p},Q4=(...r)=>{let e=0,t,s,o="";for(;e<r.length;)(t=r[e++])&&(s=Z_(t))&&(o&&(o+=" "),o+=s);return o},Z_=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=Z_(r[s]))&&(t&&(t+=" "),t+=e);return t},Y4=(r,...e)=>{let t,s,o,l;const u=p=>{const g=e.reduce((v,b)=>b(v),r());return t=H4(g),s=t.cache.get,o=t.cache.set,l=f,f(p)},f=p=>{const g=s(p);if(g)return g;const v=K4(p,t);return o(p,v),v};return l=u,(...p)=>l(Q4(...p))},X4=[],St=r=>{const e=t=>t[r]||X4;return e.isThemeGetter=!0,e},ek=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,J4=/^\d+\/\d+$/,Z4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,to=r=>J4.test(r),Le=r=>!!r&&!Number.isNaN(Number(r)),Ks=r=>!!r&&Number.isInteger(Number(r)),rp=r=>r.endsWith("%")&&Le(r.slice(0,-1)),rs=r=>Z4.test(r),s6=()=>!0,i6=r=>e6.test(r)&&!t6.test(r),rk=()=>!1,a6=r=>r6.test(r),o6=r=>n6.test(r),l6=r=>!pe(r)&&!me(r),c6=r=>Do(r,ik,rk),pe=r=>ek.test(r),Wi=r=>Do(r,ak,i6),np=r=>Do(r,p6,Le),yv=r=>Do(r,nk,rk),u6=r=>Do(r,sk,o6),Yu=r=>Do(r,ok,a6),me=r=>tk.test(r),Al=r=>Oo(r,ak),d6=r=>Oo(r,m6),vv=r=>Oo(r,nk),h6=r=>Oo(r,ik),f6=r=>Oo(r,sk),Xu=r=>Oo(r,ok,!0),Do=(r,e,t)=>{const s=ek.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},Oo=(r,e,t=!1)=>{const s=tk.exec(r);return s?s[1]?e(s[1]):t:!1},nk=r=>r==="position"||r==="percentage",sk=r=>r==="image"||r==="url",ik=r=>r==="length"||r==="size"||r==="bg-size",ak=r=>r==="length",p6=r=>r==="number",m6=r=>r==="family-name",ok=r=>r==="shadow",g6=()=>{const r=St("color"),e=St("font"),t=St("text"),s=St("font-weight"),o=St("tracking"),l=St("leading"),u=St("breakpoint"),f=St("container"),p=St("spacing"),g=St("radius"),v=St("shadow"),b=St("inset-shadow"),k=St("text-shadow"),C=St("drop-shadow"),P=St("blur"),V=St("perspective"),D=St("aspect"),W=St("ease"),z=St("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...Q(),me,pe],de=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],E=()=>[me,pe,p],I=()=>[to,"full","auto",...E()],A=()=>[Ks,"none","subgrid",me,pe],O=()=>["auto",{span:["full",Ks,me,pe]},Ks,me,pe],U=()=>[Ks,"auto",me,pe],j=()=>["auto","min","max","fr",me,pe],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],qe=()=>["start","end","center","stretch","center-safe","end-safe"],Xe=()=>["auto",...E()],Ne=()=>[to,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],G=()=>[r,me,pe],ce=()=>[...Q(),vv,yv,{position:[me,pe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",h6,c6,{size:[me,pe]}],Z=()=>[rp,Al,Wi],ye=()=>["","none","full",g,me,pe],ve=()=>["",Le,Al,Wi],De=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Le,rp,vv,yv],Me=()=>["","none",P,me,pe],He=()=>["none",Le,me,pe],wt=()=>["none",Le,me,pe],an=()=>[Le,me,pe],on=()=>[to,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rs],breakpoint:[rs],color:[s6],container:[rs],"drop-shadow":[rs],ease:["in","out","in-out"],font:[l6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rs],shadow:[rs],spacing:["px",Le],text:[rs],"text-shadow":[rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",to,pe,me,D]}],container:["container"],columns:[{columns:[Le,pe,me,f]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Ks,"auto",me,pe]}],basis:[{basis:[to,"full","auto",f,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,to,"auto","initial","none",pe]}],grow:[{grow:["",Le,me,pe]}],shrink:[{shrink:["",Le,me,pe]}],order:[{order:[Ks,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...qe(),"normal"]}],"justify-self":[{"justify-self":["auto",...qe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...qe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...qe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...qe(),"baseline"]}],"place-self":[{"place-self":["auto",...qe()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Xe()}],mx:[{mx:Xe()}],my:[{my:Xe()}],ms:[{ms:Xe()}],me:[{me:Xe()}],mt:[{mt:Xe()}],mr:[{mr:Xe()}],mb:[{mb:Xe()}],ml:[{ml:Xe()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ne()}],w:[{w:[f,"screen",...Ne()]}],"min-w":[{"min-w":[f,"screen","none",...Ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Ne()]}],h:[{h:["screen","lh",...Ne()]}],"min-h":[{"min-h":["screen","lh","none",...Ne()]}],"max-h":[{"max-h":["screen","lh",...Ne()]}],"font-size":[{text:["base",t,Al,Wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,me,np]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rp,pe]}],"font-family":[{font:[d6,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,pe]}],"line-clamp":[{"line-clamp":[Le,"none",me,np]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",me,Wi]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Le,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ks,me,pe],radial:["",me,pe],conic:[Ks,me,pe]},f6,u6]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,me,pe]}],"outline-w":[{outline:["",Le,Al,Wi]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",v,Xu,Yu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,Xu,Yu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Le,Wi]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",k,Xu,Yu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Le,me,pe]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:Me()}],brightness:[{brightness:[Le,me,pe]}],contrast:[{contrast:[Le,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",C,Xu,Yu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Le,me,pe]}],"hue-rotate":[{"hue-rotate":[Le,me,pe]}],invert:[{invert:["",Le,me,pe]}],saturate:[{saturate:[Le,me,pe]}],sepia:[{sepia:["",Le,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Le,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Le,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",Le,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Le,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Le,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",me,pe]}],ease:[{ease:["linear","initial",W,me,pe]}],delay:[{delay:[Le,me,pe]}],animate:[{animate:["none",z,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,me,pe]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:wt()}],"scale-x":[{"scale-x":wt()}],"scale-y":[{"scale-y":wt()}],"scale-z":[{"scale-z":wt()}],"scale-3d":["scale-3d"],skew:[{skew:an()}],"skew-x":[{"skew-x":an()}],"skew-y":[{"skew-y":an()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:on()}],"translate-x":[{"translate-x":on()}],"translate-y":[{"translate-y":on()}],"translate-z":[{"translate-z":on()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Le,Al,Wi,np]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},x6=Y4(g6);function lk(...r){return x6(Q_(r))}const y6=S4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ze({className:r,variant:e,size:t,asChild:s=!1,...o}){const l=s?k4:"button";return a.jsx(l,{"data-slot":"button",className:lk(y6({variant:e,size:t,className:r})),...o})}function v6({onNavigateToLogin:r,onNavigateToSignup:e}){const[t,s]=S.useState(!1),[o,l]=S.useState(""),{isDark:u,toggleTheme:f}=Hp(),p=v=>{const b=document.getElementById(v);b&&(b.scrollIntoView({behavior:"smooth"}),s(!1))},g=[{icon:mr,title:"Assignments",description:"Access high-quality assignment solutions from top students across various subjects and courses."},{icon:B_,title:"PYQ Papers",description:"Download previous year question papers with detailed solutions to ace your exams."},{icon:Vp,title:"Lecture Notes",description:"Comprehensive lecture notes prepared by experienced students and educators."},{icon:Fr,title:"Earn Money",description:"Upload your notes and earn from every download. Turn your knowledge into income."}];return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx("button",{onClick:()=>p("about"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),a.jsx("button",{onClick:()=>p("features"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),a.jsx("button",{onClick:()=>p("contact"),className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"}),a.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors",children:u?a.jsx(ko,{className:"w-5 h-5"}):a.jsx(bo,{className:"w-5 h-5"})}),a.jsx(Ze,{onClick:r,variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),a.jsx(Ze,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg",children:"Sign Up"})]}),a.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[a.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:u?a.jsx(ko,{className:"w-5 h-5"}):a.jsx(bo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",children:t?a.jsx(lh,{className:"w-6 h-6"}):a.jsx(H_,{className:"w-6 h-6"})})]})]}),t&&a.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-slate-800",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>p("about"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"About Us"}),a.jsx("button",{onClick:()=>p("features"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Features"}),a.jsx("button",{onClick:()=>p("contact"),className:"text-left px-4 py-2 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Contact"}),a.jsxs("div",{className:"flex gap-2 px-4 pt-2",children:[a.jsx(Ze,{onClick:r,variant:"outline",className:"flex-1 border-gray-300 dark:border-slate-700 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800",children:"Login"}),a.jsx(Ze,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:"Sign Up"})]})]})})]})}),a.jsxs("section",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 via-purple-100/50 to-pink-100/50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-slate-800/50 border border-green-200 dark:border-slate-700 rounded-full mb-8",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-green-700 dark:text-slate-300",children:"New Platform  Just Launched"})]}),a.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl text-gray-900 dark:text-white mb-6",children:["Your Academic Success",a.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 dark:from-blue-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Starts Here"})]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Access quality assignments, PYQs, and lecture notes. Share your knowledge and earn from your notes."}),a.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search for notes, assignments, PYQ papers...",value:o,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800/50 border border-gray-300 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-500"})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(Ze,{onClick:e,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-xl text-lg px-8 py-6",children:"Get Started Free"}),a.jsx(Ze,{onClick:()=>p("features"),variant:"outline",className:"border-gray-300 dark:border-slate-700 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-800 text-lg px-8 py-6",children:"Learn More"})]})]})})]}),a.jsx("section",{id:"features",className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl text-gray-900 dark:text-white mb-4",children:"What We Offer"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Everything you need to excel in your studies and earn from your knowledge"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((v,b)=>{const k=v.icon;return a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all group hover:shadow-lg",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:a.jsx(k,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),a.jsx("h3",{className:"text-gray-900 dark:text-white mb-2",children:v.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:v.description})]},b)})})]})}),a.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-950",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:a.jsx(Vp,{className:"w-6 h-6 text-white"})}),a.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white",children:"About Us"})]}),a.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[a.jsxs("p",{children:["Welcome to ",a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),a.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),a.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),a.jsx("div",{className:"pt-4",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[a.jsx(Fr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})})]})]})})}),a.jsx("section",{className:"py-20 bg-gray-50 dark:bg-slate-900/50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(In,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"All user data is encrypted and stored securely"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"We never share your personal information with third parties"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Payment information is processed through secure gateways"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"You have full control over your data and can request deletion anytime"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(W_,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"By using Notezy, you agree to our terms of service designed to ensure a fair and transparent marketplace."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"All uploaded content must be original or properly authorized"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:a.jsx("span",{className:"text-amber-600 dark:text-yellow-400",children:"Notes once purchased cannot be returned or refunded"})})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Sellers are responsible for the accuracy of their content"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Platform fees apply to all transactions"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(mr,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg",children:a.jsx("p",{className:"text-red-700 dark:text-red-400",children:a.jsx("span",{children:"No Refunds  No Cancellations"})})}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"Due to the digital nature of our products, all sales are final. Once you purchase and download notes, they cannot be returned or refunded."}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We encourage users to carefully review note previews, ratings, and reviews before making a purchase. If you encounter any issues with downloaded content, please contact our support team."})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(oh,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white",children:"Shipping & Delivery"})]}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-4",children:"All notes are delivered digitally - no physical shipping required!"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"Instant access after payment confirmation"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:'Download your purchased notes from the "Downloads" section'})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"Access your notes anytime, anywhere"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"No delivery charges or waiting time"})]})]})]})]})})}),a.jsx("section",{id:"contact",className:"py-20 bg-white dark:bg-slate-950",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/50 dark:to-slate-800/30 border border-gray-200 dark:border-slate-700 rounded-2xl p-8 lg:p-12 text-center shadow-lg",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6",children:a.jsx(ac,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-3xl text-gray-900 dark:text-white mb-4",children:"Get in Touch"}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-6 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."}),a.jsxs("a",{href:"mailto:notzy2026@gmail.com",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700/50 dark:hover:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white transition-colors",children:[a.jsx(ac,{className:"w-5 h-5"}),a.jsx("span",{children:"notzy2026@gmail.com"})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-700",children:a.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})})}),a.jsx("footer",{className:"bg-gray-100 dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Knowledge Marketplace"})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("button",{onClick:()=>p("about"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"About Us"}),a.jsx("button",{onClick:()=>p("features"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Features"}),a.jsx("button",{onClick:()=>p("contact"),className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact"})]})]}),a.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-800",children:[a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 text-sm text-gray-600 dark:text-slate-400 mb-6",children:[a.jsx(Zt,{to:"/terms",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms & Conditions"}),a.jsx(Zt,{to:"/privacy",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx(Zt,{to:"/refund",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Refund & Cancellation"}),a.jsx(Zt,{to:"/shipping",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Shipping & Delivery"}),a.jsx(Zt,{to:"/contact",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Contact Us"})]}),a.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-slate-500",children:" 2025 Notezy. All rights reserved. Built for students, by students."})]})]})})]})}function oo({className:r,type:e,...t}){return a.jsx("input",{type:e,"data-slot":"input",className:lk("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function w6({onNavigateToSignup:r,onNavigateToLanding:e}){const[t,s]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(!1),[p,g]=S.useState(""),[v,b]=S.useState(!1),{login:k}=sn(),C=async P=>{if(P.preventDefault(),g(""),b(!0),!t||!o){g("Please fill in all fields"),b(!1);return}const V=await k(t,o);V.success||g(V.error||"Invalid email or password"),b(!1)};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-4 py-8",children:[e&&a.jsxs("button",{onClick:e,className:"fixed top-4 left-4 flex items-center gap-2 px-4 py-2 bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:text-white transition-colors z-50",children:[a.jsx(Ot,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx(er,{className:"w-8 h-8 text-white"})})}),a.jsx("h1",{className:"text-3xl text-white mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to access your notes marketplace"})]}),a.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[p&&a.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:p}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm text-slate-300",children:"Email Address"}),a.jsx(oo,{id:"email",type:"email",value:t,onChange:P=>s(P.target.value),placeholder:"Enter your email",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm text-slate-300",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{id:"password",type:u?"text":"password",value:o,onChange:P=>l(P.target.value),placeholder:"Enter your password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20 pr-10"}),a.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:u?a.jsx(q_,{className:"w-5 h-5"}):a.jsx(Zm,{className:"w-5 h-5"})})]})]}),a.jsx(Ze,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:v?"Signing in...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400",children:["Don't have an account?"," ",a.jsx("button",{onClick:r,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign Up"})]})})]}),a.jsx("p",{className:"text-center text-xs text-slate-500 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}function b6({onNavigateToLogin:r,onNavigateToLanding:e}){const[t,s]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(""),[p,g]=S.useState(""),[v,b]=S.useState(!1),[k,C]=S.useState(""),[P,V]=S.useState(!1),{signup:D}=sn(),W=async z=>{if(z.preventDefault(),C(""),V(!0),!t||!o||!u||!p){C("Please fill in all fields"),V(!1);return}if(u!==p){C("Passwords do not match"),V(!1);return}if(u.length<6){C("Password must be at least 6 characters"),V(!1);return}const X=await D(t,o,u);X.success||C(X.error||"Failed to create account"),V(!1)};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-4 py-8",children:[e&&a.jsxs("button",{onClick:e,className:"fixed top-4 left-4 flex items-center gap-2 px-4 py-2 bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:text-white transition-colors z-50",children:[a.jsx(Ot,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx(er,{className:"w-8 h-8 text-white"})})}),a.jsx("h1",{className:"text-3xl text-white mb-2",children:"Create Account"}),a.jsx("p",{className:"text-slate-400",children:"Join the knowledge marketplace"})]}),a.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[a.jsxs("form",{onSubmit:W,className:"space-y-5",children:[k&&a.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:k}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"name",className:"block text-sm text-slate-300",children:"Full Name"}),a.jsx(oo,{id:"name",type:"text",value:t,onChange:z=>s(z.target.value),placeholder:"Enter your full name",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm text-slate-300",children:"Email Address"}),a.jsx(oo,{id:"email",type:"email",value:o,onChange:z=>l(z.target.value),placeholder:"Enter your email",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm text-slate-300",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{id:"password",type:v?"text":"password",value:u,onChange:z=>f(z.target.value),placeholder:"Create a password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20 pr-10"}),a.jsx("button",{type:"button",onClick:()=>b(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:v?a.jsx(q_,{className:"w-5 h-5"}):a.jsx(Zm,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm text-slate-300",children:"Confirm Password"}),a.jsx(oo,{id:"confirmPassword",type:v?"text":"password",value:p,onChange:z=>g(z.target.value),placeholder:"Confirm your password",className:"bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-purple-500 focus:ring-purple-500/20"})]}),a.jsx(Ze,{type:"submit",disabled:P,className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl transition-all",children:P?"Creating Account...":"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400",children:["Already have an account?"," ",a.jsx("button",{onClick:r,className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign In"})]})})]}),a.jsx("p",{className:"text-center text-xs text-slate-500 mt-6",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})}function _6({onNavigateToTerms:r,onNavigateToAbout:e,onNavigateToPrivacy:t,onNavigateToRefund:s,onNavigateToShipping:o}){const{userProfile:l,logout:u}=sn(),{isDark:f,toggleTheme:p}=Hp(),g=()=>{u()};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pb-24 lg:pb-8 mobile-page-content",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and security"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:a.jsx(aa,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Account"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 dark:text-white",children:l?.name||"User"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:l?.email})]})})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:f?a.jsx(bo,{className:"w-5 h-5 text-white"}):a.jsx(ko,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Appearance"})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 dark:text-white",children:"Theme"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Current: ",f?"Dark Mode":"Light Mode"]})]}),a.jsx("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:f?a.jsxs(a.Fragment,{children:[a.jsx(ko,{className:"w-4 h-4"}),"Switch to Light"]}):a.jsxs(a.Fragment,{children:[a.jsx(bo,{className:"w-4 h-4"}),"Switch to Dark"]})})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:a.jsx(In,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Legal"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Terms & Conditions"})]}),a.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),a.jsxs("button",{onClick:t,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(In,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Privacy Policy"})]}),a.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(W_,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Refund Policy"})]}),a.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),a.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oh,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Shipping Policy"})]}),a.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]}),a.jsxs("button",{onClick:e,className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(TP,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:"About Us"})]}),a.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:""})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-red-200 dark:border-red-900/30 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-500 rounded-lg flex items-center justify-center",children:a.jsx(Sd,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Danger Zone"})]}),a.jsxs(Ze,{onClick:g,className:"w-full bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white",children:[a.jsx(Sd,{className:"w-5 h-5 mr-2"}),"Log Out"]})]})]})})}function k6({onBack:r}){return a.jsx("div",{className:"min-h-screen bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs(Ze,{onClick:r,variant:"ghost",className:"mb-6 text-slate-400 hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsx("h1",{className:"text-3xl text-white mb-6",children:"Terms & Conditions"}),a.jsxs("div",{className:"space-y-6 text-slate-300",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"2. User Accounts"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Provide accurate and complete information"}),a.jsx("li",{children:"Maintain the security of your password"}),a.jsx("li",{children:"Accept responsibility for all activities under your account"}),a.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"3. Content Guidelines"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"You own the copyright or have permission to share the content"}),a.jsx("li",{children:"The content does not violate any intellectual property rights"}),a.jsx("li",{children:"The material is accurate and not misleading"}),a.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"4. Purchases and Payments"}),a.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"5. Intellectual Property"}),a.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"6. Prohibited Activities"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Uploading copyrighted material without permission"}),a.jsx("li",{children:"Engaging in fraudulent activities"}),a.jsx("li",{children:"Harassing or threatening other users"}),a.jsx("li",{children:"Attempting to compromise platform security"}),a.jsx("li",{children:"Using automated tools to scrape content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"7. Termination"}),a.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"8. Limitation of Liability"}),a.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"9. Changes to Terms"}),a.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-white mb-3",children:"10. Contact Information"}),a.jsx("p",{className:"leading-relaxed",children:"For questions about these terms, please contact us at legal@noteshub.com"})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:a.jsx("p",{className:"text-sm text-slate-400",children:"Last updated: December 16, 2024"})})]})]})]})})}function N6({onBack:r}){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Ze,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),a.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"About Us"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Learn more about Notezy"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:a.jsx(Vp,{className:"w-6 h-6 text-white"})}),a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Welcome to Notezy"})]}),a.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-slate-300",children:[a.jsxs("p",{children:["Welcome to ",a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notezy"})," - a brand new platform designed by students, for students. We understand the challenges of finding quality study materials and the effort that goes into creating excellent notes."]}),a.jsxs("p",{children:["Our mission is simple: to provide students with easy access to high-quality ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"assignments"}),", ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"previous year question papers (PYQs)"}),", and ",a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"lecture notes"})," while empowering content creators to earn from their hard work."]}),a.jsx("p",{children:"Whether you're looking to excel in your studies or want to monetize your knowledge, Notezy is your one-stop platform. Join our growing community and experience the future of academic resource sharing."}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"What We Provide"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Assignments:"})," High-quality assignment solutions from top students across various subjects and courses"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"PYQ Papers:"})," Previous year question papers with detailed solutions to help you ace your exams"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Lecture Notes:"})," Comprehensive lecture notes prepared by experienced students and educators"]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[a.jsx(Fr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Start earning by selling your notes today!"})]})}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-2",children:"Have questions or feedback? We'd love to hear from you!"}),a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]})]})]})})}function E6({onBack:r}){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Ze,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),a.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:a.jsx(In,{className:"w-6 h-6 text-white"})}),a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Your Privacy Matters"})]}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Account information (name, email address)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Transaction history and purchase records"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Uploaded content and notes"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To provide and improve our services"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To process transactions and payments"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To send important account updates (with your permission)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),a.jsx("p",{className:"mb-3",children:"You have the right to:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Access your personal data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Request correction of inaccurate data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Request deletion of your account and data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})]})})}function j6({onBack:r}){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Ze,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),a.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Refund & Cancellation Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:a.jsx(mr,{className:"w-6 h-6 text-white"})}),a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Refund & Cancellation"})]}),a.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),a.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),a.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),a.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),a.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),a.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),a.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Download problems or corrupted files"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Payment processed but content not accessible"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Missing pages or incomplete content"})]})]}),a.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),a.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),a.jsxs("ul",{className:"space-y-2 mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Significantly different from the description"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Plagiarized or violate copyright"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Completely unreadable or unusable"})]})]}),a.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})]})})}function T6({onBack:r}){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 lg:ml-64 pt-20 pb-24 lg:pt-0 lg:pb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Ze,{onClick:r,variant:"ghost",className:"mb-4 text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Settings"]}),a.jsx("h1",{className:"text-2xl lg:text-3xl text-gray-900 dark:text-white mb-2",children:"Shipping & Delivery Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:a.jsx(oh,{className:"w-6 h-6 text-white"})}),a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:"Digital Delivery"})]}),a.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Zr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"1"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Purchase Notes"}),a.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"2"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:"Instant Access"}),a.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"3"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:'Download from "Downloads" Section'}),a.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Jm,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Processing Time"})]}),a.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Zr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("h4",{className:"text-gray-900 dark:text-white",children:"Download Speed"})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Accessing Your Notes"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 rounded-lg p-4 space-y-3",children:[a.jsx("p",{className:"text-sm",children:"To access your purchased notes:"}),a.jsxs("ol",{className:"space-y-2 text-sm",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"1."}),a.jsxs("span",{children:["Navigate to the ",a.jsx("span",{className:"text-gray-900 dark:text-white",children:'"Downloads"'})," section from the main menu"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"2."}),a.jsx("span",{children:"Find the notes you want to view"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"3."}),a.jsxs("span",{children:["Click ",a.jsx("span",{className:"text-gray-900 dark:text-white",children:'"View Notes"'})," to open them in our built-in PDF viewer"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"4."}),a.jsx("span",{children:"You can view, zoom, and navigate through the notes at your convenience"})]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Internet connection for downloading"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),a.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),a.jsxs("ul",{className:"space-y-2 mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Check your internet connection"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Ensure your payment was successfully processed"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Try refreshing the Downloads page"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),a.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})]})})}function I6({note:r,onClose:e}){const[t,s]=S.useState(1),[o,l]=S.useState(100),u=r.previewPages.length,f=()=>{s(k=>Math.max(1,k-1))},p=()=>{s(k=>Math.min(u,k+1))},g=()=>{l(k=>Math.min(200,k+25))},v=()=>{l(k=>Math.max(50,k-25))},b=()=>{alert(`Downloading ${r.title}...`)};return a.jsxs("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-sm z-50 flex flex-col",children:[a.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ze,{onClick:e,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:a.jsx(lh,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white",children:r.title}),a.jsxs("p",{className:"text-sm text-slate-400",children:["by ",r.uploaderName]})]})]}),a.jsxs(Ze,{onClick:b,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:[a.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),a.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 px-4 py-3",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{onClick:f,disabled:t===1,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:a.jsx(Dp,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-lg",children:[a.jsx("span",{className:"text-white",children:t}),a.jsx("span",{className:"text-slate-500",children:"/"}),a.jsx("span",{className:"text-slate-400",children:u})]}),a.jsx(Ze,{onClick:p,disabled:t===u,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:a.jsx(Op,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{onClick:v,disabled:o===50,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:a.jsx(a4,{className:"w-5 h-5"})}),a.jsx("div",{className:"px-4 py-2 bg-slate-800/50 rounded-lg",children:a.jsxs("span",{className:"text-white",children:[o,"%"]})}),a.jsx(Ze,{onClick:g,disabled:o===200,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white disabled:opacity-50",children:a.jsx(s4,{className:"w-5 h-5"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-auto bg-slate-900 p-4 lg:p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden transition-transform",style:{transform:`scale(${o/100})`,transformOrigin:"top center"},children:a.jsxs("div",{className:"aspect-[8.5/11] relative",children:[a.jsx("img",{src:r.previewPages[t-1],alt:`Page ${t}`,className:"w-full h-full object-contain"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"transform -rotate-45 text-6xl font-bold text-black/5 select-none",children:"PREVIEW"})})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400",children:["Page ",t," of ",u]})})]})}),a.jsx("div",{className:"lg:hidden bg-slate-900/80 backdrop-blur-xl border-t border-slate-800 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ze,{onClick:f,disabled:t===1,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:[a.jsx(Dp,{className:"w-5 h-5 mr-1"}),"Previous"]}),a.jsxs("span",{className:"text-white",children:[t," / ",u]}),a.jsxs(Ze,{onClick:p,disabled:t===u,variant:"ghost",className:"text-slate-400 hover:text-white disabled:opacity-50",children:["Next",a.jsx(Op,{className:"w-5 h-5 ml-1"})]})]})})]})}function wv({onBack:r}){const{user:e,userProfile:t}=sn(),[s,o]=S.useState(null),[l,u]=S.useState([]),[f,p]=S.useState(""),[g,v]=S.useState(!0),[b,k]=S.useState(!1),C=S.useRef(null);S.useEffect(()=>{e&&P()},[e]),S.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[l]),S.useEffect(()=>{if(!s)return;const W=setInterval(()=>{V(s)},3e3);return()=>clearInterval(W)},[s]);async function P(){if(e)try{const W=await WA(e.uid);W.length>0&&(o(W[0].id),await V(W[0].id))}catch(W){console.error("Error initializing chat:",W)}finally{v(!1)}}async function V(W){try{const z=await U_(W);u(z)}catch(z){console.error("Error loading messages:",z)}}async function D(W){if(W.preventDefault(),!(!f.trim()||!e||!t)){k(!0);try{if(s)await M_(s,e.uid,t.name,!1,f),p(""),await V(s);else{const z=await qA(e.uid,t.name,t.email,f);o(z),p(""),await V(z)}}catch(z){console.error("Error sending message:",z)}finally{k(!1)}}}return g?a.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex items-center justify-center z-50",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-950 lg:left-64 flex flex-col z-50",children:[a.jsxs("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:a.jsx(Ot,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Mr,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customer Support"}),a.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"We typically reply within minutes"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:l.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:a.jsx(Mr,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-2",children:"Welcome to Notezy Support!"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Have a question or need help? Send us a message and our team will get back to you as soon as possible."})]}):a.jsxs(a.Fragment,{children:[l.map(W=>{const z=W.isAdmin===!1;return a.jsx("div",{style:{display:"flex",justifyContent:z?"flex-end":"flex-start"},children:a.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",maxWidth:"75%",flexDirection:z?"row-reverse":"row"},children:[!z&&a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Mr,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{style:{borderRadius:"16px",borderBottomRightRadius:z?"4px":"16px",borderBottomLeftRadius:z?"16px":"4px",padding:"12px 16px",background:z?"linear-gradient(to right, #2563eb, #9333ea)":void 0,backgroundColor:z?void 0:"white",color:z?"white":"#111827",border:z?"none":"1px solid #e5e7eb"},className:z?"":"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[!z&&a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium block mb-1",children:"Support Team"}),a.jsx("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:W.text}),a.jsx("span",{style:{fontSize:"11px",marginTop:"4px",display:"block",opacity:z?.7:.5,textAlign:z?"right":"left"},children:new Date(W.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},W.id)}),a.jsx("div",{ref:C})]})}),a.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 p-4 safe-area-inset-bottom",children:a.jsx("form",{onSubmit:D,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"text",value:f,onChange:W=>p(W.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500"}),a.jsx("button",{type:"submit",disabled:b||!f.trim(),className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:b?a.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(Mp,{className:"w-6 h-6"})})]})})})]})}function S6({onNavigate:r}){const[e,t]=S.useState([]),[s,o]=S.useState([]),[l,u]=S.useState(!0);S.useEffect(()=>{async function g(){try{const[v,b]=await Promise.all([Xm(),Ym()]);t(v),o(b)}catch(v){console.error("Error loading admin data:",v)}finally{u(!1)}}g()},[]);const f=e.reduce((g,v)=>g+v.totalEarnings,0),p=s.reduce((g,v)=>g+v.salesCount,0);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:a.jsx(eg,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your platform"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(oc,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Users"})]}),a.jsx("div",{className:"text-3xl font-bold",children:e.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(mr,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Notes"})]}),a.jsx("div",{className:"text-3xl font-bold",children:s.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Fr,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Revenue"})]}),a.jsxs("div",{className:"text-3xl font-bold",children:["",f.toFixed(2)]})]}),a.jsxs("div",{className:"text-white p-6 rounded-2xl shadow-xl",style:{backgroundColor:"#f97316"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Xi,{className:"w-8 h-8"}),a.jsx("span",{className:"text-white text-opacity-90",children:"Total Sales"})]}),a.jsx("div",{className:"text-3xl font-bold",children:p})]})]}),a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Admin Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("button",{onClick:()=>r("admin-earnings"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:a.jsx(Fr,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"User Earnings"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View earnings for all users"})]}),a.jsxs("button",{onClick:()=>r("admin-notes"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4",children:a.jsx(Xi,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Manage Notes"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mark notes as top selling"})]}),a.jsxs("button",{onClick:()=>r("admin-chats"),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl p-6 hover:shadow-lg transition-all text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4",children:a.jsx(Mr,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"Support Chats"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respond to customer queries"})]})]})]})})}function C6({onBack:r}){const[e,t]=S.useState([]),[s,o]=S.useState(!0),[l,u]=S.useState("");S.useEffect(()=>{async function g(){try{const v=await Xm();t(v.sort((b,k)=>k.totalEarnings-b.totalEarnings))}catch(v){console.error("Error loading users:",v)}finally{o(!1)}}g()},[]);const f=e.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())||g.email.toLowerCase().includes(l.toLowerCase())),p=e.reduce((g,v)=>g+v.totalEarnings,0);return s?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:a.jsx(Ot,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:a.jsx(Fr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"User Earnings"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Platform Revenue: ",p.toFixed(2)]})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:g=>u(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"User"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Notes Uploaded"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Total Earnings"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:f.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-medium",children:g.name.charAt(0).toUpperCase()}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:g.name}),g.isAdmin&&a.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-xs rounded-full",children:"Admin"})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:g.email}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:g.uploadedNotes.length}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["",g.totalEarnings.toFixed(2)]})})]},g.id))})]})}),f.length===0&&a.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})]})]})})}function R6({onBack:r}){const[e,t]=S.useState([]),[s,o]=S.useState(!0),[l,u]=S.useState(""),[f,p]=S.useState(null);S.useEffect(()=>{g()},[]);async function g(){try{const k=await Ym();t(k)}catch(k){console.error("Error loading notes:",k)}finally{o(!1)}}async function v(k,C){p(k);try{await $A(k,!C),t(e.map(P=>P.id===k?{...P,isTopSelling:!C}:P))}catch(P){console.error("Error updating note:",P)}finally{p(null)}}const b=e.filter(k=>k.title.toLowerCase().includes(l.toLowerCase())||k.uploaderName.toLowerCase().includes(l.toLowerCase()));return s?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-xl transition-colors",children:a.jsx(Ot,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx(Xi,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Notes"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mark notes as top selling"})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search notes...",value:l,onChange:k=>u(k.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-lg",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Note"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Uploader"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Sales"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm text-gray-600 dark:text-gray-400",children:"Top Selling"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:b.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[k.thumbnailUrl?a.jsx("img",{src:k.thumbnailUrl,alt:k.title,className:"w-12 h-12 rounded-lg object-cover"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:k.title}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:k.category})]})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:k.uploaderName}),a.jsxs("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:["",k.price]}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:k.salesCount}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>v(k.id,k.isTopSelling||!1),disabled:f===k.id,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${k.isTopSelling?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border border-yellow-300 dark:border-yellow-700":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-700"} ${f===k.id?"opacity-50":"hover:scale-105"}`,children:f===k.id?a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(eg,{className:"w-4 h-4"}),k.isTopSelling?"Top Selling":"Mark Top"]})})})]},k.id))})]})}),b.length===0&&a.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:"No notes found"})]})]})})}function A6({onBack:r}){const{userProfile:e}=sn(),[t,s]=S.useState([]),[o,l]=S.useState(null),[u,f]=S.useState([]),[p,g]=S.useState(""),[v,b]=S.useState(!0),[k,C]=S.useState(!1),P=S.useRef(null);S.useEffect(()=>{V()},[]),S.useEffect(()=>{o&&D(o.id)},[o]),S.useEffect(()=>{P.current?.scrollIntoView({behavior:"smooth"})},[u]);async function V(){try{const Q=await HA();s(Q)}catch(Q){console.error("Error loading chats:",Q)}finally{b(!1)}}async function D(Q){try{const ie=await U_(Q);f(ie)}catch(ie){console.error("Error loading messages:",ie)}}async function W(Q){if(Q.preventDefault(),!(!p.trim()||!o||!e)){C(!0);try{await M_(o.id,e.id,e.name,!0,p),g(""),await D(o.id),await V()}catch(ie){console.error("Error sending message:",ie)}finally{C(!1)}}}async function z(Q,ie){try{await GA(Q,ie),await V(),o?.id===Q&&l({...o,status:ie})}catch(de){console.error("Error updating status:",de)}}function X(){l(null)}return v?a.jsx("div",{style:{minHeight:"100vh",marginLeft:"256px",display:"flex",alignItems:"center",justifyContent:"center"},className:"bg-gray-50 dark:bg-gray-950 lg:ml-64 ml-0",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-white dark:bg-gray-950 flex flex-col",children:[a.jsxs("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"dark:bg-gray-900 dark:border-gray-800",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("button",{onClick:X,style:{padding:"8px",marginLeft:"-4px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Ot,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),a.jsx("div",{style:{width:"36px",height:"36px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px"},children:o.userName.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:o.userName}),a.jsx("div",{style:{fontSize:"12px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?a.jsx("button",{onClick:()=>z(o.id,"closed"),style:{padding:"8px",borderRadius:"8px"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:a.jsx(cv,{style:{width:"16px",height:"16px"}})}):a.jsx("button",{onClick:()=>z(o.id,"open"),style:{padding:"8px",borderRadius:"8px"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:a.jsx(jr,{style:{width:"16px",height:"16px"}})})]}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",paddingBottom:"80px"},children:[u.map(Q=>a.jsx("div",{style:{display:"flex",justifyContent:Q.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:a.jsxs("div",{style:{maxWidth:"80%",borderRadius:"16px",padding:"10px 16px",background:Q.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:Q.isAdmin?"white":"#111827"},children:[a.jsx("p",{style:{fontSize:"14px",margin:0},children:Q.text}),a.jsx("span",{style:{fontSize:"11px",marginTop:"2px",display:"block",color:Q.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Q.id)),a.jsx("div",{ref:P})]}),a.jsx("form",{onSubmit:W,style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"12px",paddingBottom:"max(12px, env(safe-area-inset-bottom))"},className:"dark:bg-gray-900 dark:border-gray-800",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"text",value:p,onChange:Q=>g(Q.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"10px 16px",borderRadius:"9999px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"submit",disabled:k||!p.trim(),style:{padding:"10px",borderRadius:"50%",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:k||!p.trim()?.5:1},children:k?a.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):a.jsx(Mp,{style:{width:"20px",height:"20px"}})})]})})]}),a.jsx("div",{className:"hidden lg:block",style:{marginLeft:"256px",height:"100vh",display:"flex"},children:a.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[a.jsxs("div",{style:{width:"320px",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",flexShrink:0},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[a.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px"},className:"dark:border-gray-800",children:[a.jsx("button",{onClick:r,style:{padding:"8px",marginLeft:"-8px",borderRadius:"12px"},className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Ot,{style:{width:"20px",height:"20px"},className:"text-gray-700 dark:text-gray-300"})}),a.jsx(Mr,{style:{width:"20px",height:"20px"},className:"text-blue-600"}),a.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:"Chats"})]}),a.jsx("div",{style:{flex:1,overflowY:"auto"},children:t.map(Q=>a.jsxs("button",{onClick:()=>l(Q),style:{width:"100%",padding:"12px 16px",textAlign:"left",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",backgroundColor:o?.id===Q.id?"rgba(59, 130, 246, 0.1)":"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 dark:border-gray-800",children:[a.jsx("div",{style:{width:"40px",height:"40px",minWidth:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"14px"},children:Q.userName.charAt(0).toUpperCase()}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2px"},children:[a.jsx("span",{style:{fontWeight:"500",fontSize:"14px"},className:"text-gray-900 dark:text-white",children:Q.userName}),a.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:Q.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:Q.status==="open"?"#16a34a":"#6b7280"},children:Q.status})]}),a.jsx("p",{style:{fontSize:"13px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:Q.lastMessage})]})]},Q.id))})]}),a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},className:"bg-gray-50 dark:bg-gray-950",children:[a.jsxs("div",{style:{padding:"12px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500"},children:o.userName.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:o.userName}),a.jsx("div",{style:{fontSize:"14px"},className:"text-gray-500 dark:text-gray-400",children:o.userEmail})]})]}),o.status==="open"?a.jsxs("button",{onClick:()=>z(o.id,"closed"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200",children:[a.jsx(cv,{style:{width:"16px",height:"16px"}})," Close"]}):a.jsxs("button",{onClick:()=>z(o.id,"open"),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",border:"none",cursor:"pointer"},className:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200",children:[a.jsx(jr,{style:{width:"16px",height:"16px"}})," Reopen"]})]}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:[u.map(Q=>a.jsx("div",{style:{display:"flex",justifyContent:Q.isAdmin?"flex-end":"flex-start",marginBottom:"12px"},children:a.jsxs("div",{style:{maxWidth:"70%",borderRadius:"16px",padding:"12px 16px",background:Q.isAdmin?"linear-gradient(to right, #2563eb, #9333ea)":"#e5e7eb",color:Q.isAdmin?"white":"#111827"},children:[a.jsx("p",{style:{margin:0},children:Q.text}),a.jsx("span",{style:{fontSize:"12px",marginTop:"4px",display:"block",color:Q.isAdmin?"rgba(255,255,255,0.7)":"#6b7280"},children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Q.id)),a.jsx("div",{ref:P})]}),a.jsx("form",{onSubmit:W,style:{padding:"16px",borderTop:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("input",{type:"text",value:p,onChange:Q=>g(Q.target.value),placeholder:"Type your reply...",style:{flex:1,padding:"12px 16px",borderRadius:"12px",border:"none",fontSize:"14px"},className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"submit",disabled:k||!p.trim(),style:{padding:"12px",borderRadius:"12px",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",border:"none",cursor:"pointer",opacity:k||!p.trim()?.5:1},children:k?a.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):a.jsx(Mp,{style:{width:"20px",height:"20px"}})})]})})]})]})})]}):a.jsx("div",{className:"bg-gray-50 dark:bg-gray-950",style:{minHeight:"100vh",paddingBottom:"80px"},children:a.jsxs("div",{className:"lg:ml-64",style:{padding:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[a.jsx("button",{onClick:r,style:{padding:"8px",borderRadius:"12px"},className:"hover:bg-gray-200 dark:hover:bg-gray-800",children:a.jsx(Ot,{style:{width:"24px",height:"24px"},className:"text-gray-700 dark:text-gray-300"})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Mr,{style:{width:"20px",height:"20px",color:"white"}})}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",margin:0},className:"text-gray-900 dark:text-white",children:"Support Chats"}),a.jsxs("p",{style:{fontSize:"12px",margin:0},className:"text-gray-500 dark:text-gray-400",children:[t.length," conversations"]})]})]})]}),a.jsx("div",{style:{borderRadius:"16px",overflow:"hidden",border:"1px solid #e5e7eb"},className:"bg-white dark:bg-gray-900 dark:border-gray-800",children:t.length>0?t.map((Q,ie)=>a.jsxs("button",{onClick:()=>l(Q),style:{width:"100%",padding:"16px",textAlign:"left",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"none",borderBottom:ie<t.length-1?"1px solid #e5e7eb":"none",backgroundColor:"transparent"},className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 active:bg-gray-100 dark:active:bg-gray-800 dark:border-gray-800",children:[a.jsx("div",{style:{width:"48px",height:"48px",minWidth:"48px",background:"linear-gradient(135deg, #3b82f6, #9333ea)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"18px"},children:Q.userName.charAt(0).toUpperCase()}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[a.jsx("span",{style:{fontWeight:"500"},className:"text-gray-900 dark:text-white",children:Q.userName}),a.jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"9999px",backgroundColor:Q.status==="open"?"rgba(34, 197, 94, 0.1)":"#f3f4f6",color:Q.status==="open"?"#16a34a":"#6b7280"},children:Q.status})]}),a.jsx("p",{style:{fontSize:"14px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"text-gray-500 dark:text-gray-400",children:Q.lastMessage})]})]},Q.id)):a.jsxs("div",{style:{padding:"48px",textAlign:"center"},className:"text-gray-500 dark:text-gray-400",children:[a.jsx(Mr,{style:{width:"64px",height:"64px",margin:"0 auto 16px",opacity:.3}}),a.jsx("p",{children:"No support chats yet"})]})})]})})}function P6(){const[r,e]=S.useState([]),[t,s]=S.useState(!0),[o,l]=S.useState(null);S.useEffect(()=>{u()},[]);async function u(){try{const g=await Xm();e(g.filter(v=>!v.isAdmin))}catch(g){console.error("Error loading users:",g)}finally{s(!1)}}async function f(g,v){l(g);try{await zA(g,!v),e(b=>b.map(k=>k.id===g?{...k,isVerified:!v}:k))}catch(b){console.error("Error updating verification status:",b)}finally{l(null)}}async function p(g,v){l(g);try{await BA(g,!v),e(b=>b.map(k=>k.id===g?{...k,isBlocked:!v}:k))}catch(b){console.error("Error updating block status:",b)}finally{l(null)}}return t?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 lg:ml-64 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-24 lg:pb-8 lg:ml-64 mobile-page-content",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"#db2777"},children:a.jsx(oc,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl text-gray-900 dark:text-white",children:"Manage Users"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verify or block platform users"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-800",children:[a.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"User"}),a.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Email"}),a.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Status"}),a.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Notes"}),a.jsx("th",{className:"text-left p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Earnings"}),a.jsx("th",{className:"text-right p-4 text-gray-600 dark:text-gray-400 font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(g=>a.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:"#6366f1"},children:g.name.charAt(0).toUpperCase()}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:g.name})]})}),a.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:g.email}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[g.isVerified&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#dcfce7",color:"#166534"},children:[a.jsx(UP,{className:"w-3 h-3"}),"Verified"]}),g.isBlocked&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#fee2e2",color:"#991b1b"},children:[a.jsx(lv,{className:"w-3 h-3"}),"Blocked"]}),!g.isVerified&&!g.isBlocked&&a.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"#f3f4f6",color:"#6b7280"},children:"Unverified"})]})}),a.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:g.uploadedNotes.length}),a.jsxs("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:["",g.totalEarnings.toFixed(2)]}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsxs("button",{onClick:()=>f(g.id,g.isVerified||!1),disabled:o===g.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g.isVerified?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700":"text-white hover:opacity-90"}`,style:g.isVerified?{}:{backgroundColor:"#16a34a"},children:[a.jsx(jr,{className:"w-4 h-4"}),g.isVerified?"Unverify":"Verify"]}),a.jsx("button",{onClick:()=>p(g.id,g.isBlocked||!1),disabled:o===g.id,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g.isBlocked?"text-white hover:opacity-90":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-700 dark:hover:text-red-400"}`,style:g.isBlocked?{backgroundColor:"#16a34a"}:{},children:g.isBlocked?a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"w-4 h-4"}),"Unblock"]}):a.jsxs(a.Fragment,{children:[a.jsx(lv,{className:"w-4 h-4"}),"Block"]})})]})})]},g.id))})]})}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(oc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No users found"})]})]})]})})}function D6(){const r=jo();return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Zt,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs(Ze,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white mb-6",children:"Terms & Conditions"}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"leading-relaxed",children:"By accessing and using Notezy, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"2. User Accounts"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"To access certain features of the platform, you must create an account. You agree to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Provide accurate and complete information"}),a.jsx("li",{children:"Maintain the security of your password"}),a.jsx("li",{children:"Accept responsibility for all activities under your account"}),a.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"3. Content Guidelines"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"When uploading notes and educational materials, you must ensure that:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"You own the copyright or have permission to share the content"}),a.jsx("li",{children:"The content does not violate any intellectual property rights"}),a.jsx("li",{children:"The material is accurate and not misleading"}),a.jsx("li",{children:"The content does not contain harmful or inappropriate material"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"4. Purchases and Payments"}),a.jsx("p",{className:"leading-relaxed",children:"All purchases made through Notezy are final. We reserve the right to refuse or cancel any transaction. Sellers agree to our revenue sharing model, and earnings will be paid according to our payment schedule."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"5. Intellectual Property"}),a.jsx("p",{className:"leading-relaxed",children:"The Notezy platform, including its design, features, and original content, is protected by copyright and other intellectual property laws. Users retain ownership of their uploaded content but grant us a license to display and distribute it through our platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"6. Prohibited Activities"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Users are prohibited from:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Uploading copyrighted material without permission"}),a.jsx("li",{children:"Engaging in fraudulent activities"}),a.jsx("li",{children:"Harassing or threatening other users"}),a.jsx("li",{children:"Attempting to compromise platform security"}),a.jsx("li",{children:"Using automated tools to scrape content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"7. Termination"}),a.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms without prior notice. Users may close their accounts at any time through the settings page."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"8. Limitation of Liability"}),a.jsx("p",{className:"leading-relaxed",children:'Notezy is provided "as is" without warranties of any kind. We are not liable for any damages arising from the use of our platform, including but not limited to loss of data, revenue, or educational opportunities.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"9. Changes to Terms"}),a.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes via email. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"10. Contact Information"}),a.jsxs("p",{className:"leading-relaxed",children:["For questions about these terms, please contact us at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-800",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Last updated: December 2025"})})]})]})})]})}function O6(){const r=jo();return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Zt,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs(Ze,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:a.jsx(In,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"How we protect and handle your data"})]})]}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:"Your privacy and security are our top priorities. We implement industry-standard security measures to protect your personal information."}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Data Protection"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Encryption:"})," All user data is encrypted and stored securely using industry-standard protocols"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Third-Party Sharing:"})," We never share your personal information with third parties without your explicit consent"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Secure Payments:"})," Payment information is processed through secure, PCI-compliant gateways"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Data Control:"})," You have full control over your data and can request deletion anytime"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Information We Collect"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Account information (name, email address)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Transaction history and purchase records"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Uploaded content and notes"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Usage data and analytics (anonymous)"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"How We Use Your Data"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To provide and improve our services"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To process transactions and payments"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To send important account updates (with your permission)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsx("span",{children:"To prevent fraud and ensure platform security"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Your Rights"}),a.jsx("p",{className:"mb-3",children:"You have the right to:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Access your personal data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Request correction of inaccurate data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Request deletion of your account and data"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-pink-600 dark:text-pink-400 mt-1",children:""}),a.jsx("span",{children:"Opt-out of marketing communications"})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Note:"})," Notezy is not meant for collecting personally identifiable information (PII) or handling sensitive data beyond what's necessary for the platform operation. We are committed to data minimization and only collect what's essential."]})}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["For any privacy-related questions or to exercise your rights, please contact us at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-4",children:"Last updated: December 2025"})]})]})]})})]})}function L6(){const r=jo();return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Zt,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs(Ze,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-rose-500 rounded-xl flex items-center justify-center",children:a.jsx(mr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Refund & Cancellation Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Understanding our digital product policy"})]})]}),a.jsx("div",{className:"mb-6 p-6 bg-red-50 dark:bg-red-500/10 border-2 border-red-200 dark:border-red-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($_,{className:"w-6 h-6 text-red-600 dark:text-red-400 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-red-700 dark:text-red-400 mb-2",children:"No Refunds  No Cancellations"}),a.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"All sales are final. Due to the digital nature of our products, we cannot offer refunds or cancellations once a purchase is completed and the notes are downloaded."})]})]})}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Why No Refunds?"}),a.jsx("p",{className:"mb-4",children:'Notezy offers digital products (study notes, assignments, PYQ papers) that are delivered instantly upon purchase. Unlike physical products, digital content cannot be "returned" once accessed.'}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," You receive immediate access to the content after purchase"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Digital Nature:"})," Once downloaded, the content is in your possession"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Industry Standard:"})," This is standard practice for digital content platforms"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Purchase"}),a.jsx("p",{className:"mb-4",children:"We encourage all users to make informed decisions before purchasing. Here's what you can do:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview Content:"})," Use the preview feature to review sample pages before buying"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Read Reviews:"})," Check ratings and reviews from other students"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Check Details:"})," Review the note description, page count, and topics covered"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 mt-1",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Verify Seller:"})," Look at the seller's rating and upload history"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Order Cancellation"}),a.jsx("p",{className:"mb-3",children:"Orders cannot be cancelled once the payment is processed, as you receive immediate access to the purchased content."}),a.jsx("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Tip:"})," Double-check your cart before completing the purchase to ensure you're buying the correct notes."]})})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Issues"}),a.jsx("p",{className:"mb-3",children:"If you experience technical difficulties accessing your purchased content, we're here to help:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Download problems or corrupted files"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Payment processed but content not accessible"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Missing pages or incomplete content"})]})]}),a.jsxs("p",{className:"mt-3 text-sm",children:["Please contact our support team at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","with your order details and we'll resolve the issue promptly."]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Content Quality Issues"}),a.jsx("p",{className:"mb-3",children:"While we don't offer refunds, we take content quality seriously. If you receive notes that are:"}),a.jsxs("ul",{className:"space-y-2 mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Significantly different from the description"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Plagiarized or violate copyright"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Completely unreadable or unusable"})]})]}),a.jsx("p",{className:"text-sm",children:"Please report the issue to us immediately. We will investigate and may take action against the seller, including removal of the content from our platform."})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Policy Updates:"})," We reserve the right to update this policy at any time. Continued use of the platform after changes constitutes acceptance of the updated policy."]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-3",children:"Last updated: December 2025"})]})]})]})})]})}function V6(){const r=jo();return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Zt,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs(Ze,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:a.jsx(oh,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl text-gray-900 dark:text-white",children:"Shipping & Delivery Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Digital delivery information"})]})]}),a.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Zr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-gray-900 dark:text-white mb-2",children:"100% Digital - No Physical Shipping"}),a.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm",children:"All notes are delivered digitally through our platform. There's no physical shipping involved, which means instant access and no delivery charges!"})]})]})}),a.jsxs("div",{className:"space-y-6 text-gray-700 dark:text-slate-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Purchase Notes"}),a.jsx("p",{className:"text-sm",children:"Browse and purchase the notes you need from our marketplace"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:"Instant Access"}),a.jsx("p",{className:"text-sm",children:"Payment is processed securely and you get immediate access"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-pink-100 dark:bg-pink-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-pink-600 dark:text-pink-400 font-semibold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 dark:text-white mb-1 font-medium",children:'Download from "Downloads" Section'}),a.jsx("p",{className:"text-sm",children:"Access all your purchased notes anytime from the Downloads page"})]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-4",children:"Delivery Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Jm,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Processing Time"})]}),a.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:"Instant"})," - Notes are available immediately after payment confirmation"]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Zr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Download Speed"})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Depends on your internet connection - typically a few seconds"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Benefits of Digital Delivery"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Instant Access:"})," No waiting for shipping - get your notes immediately after purchase"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"No Shipping Charges:"})," Zero delivery fees - pay only for the content"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Access Anywhere:"})," Download on any device, anytime, from anywhere"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Eco-Friendly:"})," No paper waste or carbon emissions from shipping"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Permanent Access:"})," Your purchased notes remain in your Downloads section indefinitely"]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Technical Requirements"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Internet connection for downloading"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"PDF viewer (built into the platform) or PDF reader software"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 mt-1",children:""}),a.jsx("span",{children:"Compatible with all modern browsers and devices"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Having Issues?"}),a.jsx("p",{className:"mb-3",children:"If you experience any problems accessing your purchased notes:"}),a.jsxs("ul",{className:"space-y-2 mb-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Check your internet connection"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Ensure your payment was successfully processed"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Try refreshing the Downloads page"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400 mt-1",children:""}),a.jsx("span",{children:"Clear your browser cache and cookies"})]})]}),a.jsxs("p",{className:"text-sm",children:["Still having trouble? Contact our support team at"," ",a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline",children:"notzy2026@gmail.com"})," ","and we'll help you resolve the issue."]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg border border-blue-200 dark:border-blue-500/20",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Remember:"})," All notes are delivered digitally. There are no physical products shipped, no tracking numbers, and no delivery addresses required. Everything happens instantly online!"]})}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"Last updated: December 2025"})})]})]})})]})}function M6(){const r=jo();return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Zt,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(er,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-semibold",children:"Notezy"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 hidden sm:block",children:"Knowledge Marketplace"})]})]}),a.jsxs(Ze,{onClick:()=>r("/"),variant:"ghost",className:"text-gray-700 dark:text-slate-300 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-6 shadow-xl",children:a.jsx(ac,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-4xl text-gray-900 dark:text-white mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We'd love to hear from you! Our team is here to help."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(ac,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Email Us"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"For general inquiries and support"}),a.jsx("a",{href:"mailto:notzy2026@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline font-medium",children:"notzy2026@gmail.com"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(Jm,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"Response Time"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"We typically respond within 24-48 hours during business days"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(Mr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-1",children:"In-App Support"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Logged-in users can access our support chat directly from the app for faster assistance"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900/50 backdrop-blur-xl border border-gray-200 dark:border-slate-800 rounded-2xl p-6 lg:p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white mb-6",children:"How Can We Help?"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Purchase Issues"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Problems with payments, accessing purchased notes, or transaction disputes"})]}),a.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-xl",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Seller Support"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Help with uploading notes, earnings withdrawals, or seller account issues"})]}),a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-xl",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Technical Support"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"App bugs, download issues, or account-related technical problems"})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-xl",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Feedback & Suggestions"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Ideas for new features, improvements, or general feedback about the platform"})]}),a.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-xl",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:" Report Content"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Report plagiarized, inappropriate, or misleading content on the platform"})]})]})]})]}),a.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-500/10 dark:to-purple-500/10 border border-blue-200 dark:border-blue-500/20 rounded-2xl p-6 lg:p-8 text-center",children:[a.jsx("h2",{className:"text-xl text-gray-900 dark:text-white mb-3",children:"Before You Contact Us"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Many common questions are answered in our policy pages. Check them out for quick answers!"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[a.jsx(Zt,{to:"/terms",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Terms & Conditions"}),a.jsx(Zt,{to:"/privacy",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Privacy Policy"}),a.jsx(Zt,{to:"/refund",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Refund Policy"}),a.jsx(Zt,{to:"/shipping",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-lg text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Shipping & Delivery"})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:"We're a growing platform and currently focused on email support. Social media channels coming soon!"})})]})]})}function U6(){const{isAuthenticated:r,isLoading:e,user:t,userProfile:s,logout:o}=sn(),[l,u]=S.useState("landing"),[f,p]=S.useState("home"),[g,v]=S.useState(""),[b,k]=S.useState(null),[C,P]=S.useState(null);S.useEffect(()=>{s?.isAdmin&&f==="home"&&p("admin")},[s?.isAdmin]);const V=s?.isBlocked||!1,[D,W]=S.useState([]),[z,X]=S.useState([]),[Q,ie]=S.useState([]),[de,R]=S.useState([]),[E,I]=S.useState([]),[A,O]=S.useState(!0);if(S.useEffect(()=>{async function Ne(){try{const G=await Ym();W(G)}catch(G){console.error("Error fetching notes:",G)}}Ne()},[]),S.useEffect(()=>{async function Ne(){if(!t){X([]),ie([]),R([]),I([]),O(!1);return}try{O(!0);const[G,ce,ae,F]=await Promise.all([RA(t.uid),PA(t.uid),LA(t.uid),VA(t.uid)]);X(G),ie(ce),R(ae),I(F)}catch(G){console.error("Error fetching user data:",G)}finally{O(!1)}}Ne()},[t]),e)return a.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!r)return l==="login"?a.jsx(w6,{onNavigateToSignup:()=>u("signup"),onNavigateToLanding:()=>u("landing")}):l==="signup"?a.jsx(b6,{onNavigateToLogin:()=>u("login"),onNavigateToLanding:()=>u("landing")}):a.jsx(v6,{onNavigateToLogin:()=>u("login"),onNavigateToSignup:()=>u("signup")});const U=async Ne=>{if(!t)return;const G=D.find(ce=>ce.id===Ne);if(G&&!E.includes(Ne))try{await AA(t.uid,Ne),X([...z,G]),I([...E,Ne]),alert(`Successfully purchased "${G.title}" for $${G.price}`)}catch(ce){console.error("Error purchasing note:",ce),alert("Failed to purchase note. Please try again.")}},j=async Ne=>{if(!t)return;const G=D.find(ce=>ce.id===Ne);if(G){const ce=de.includes(Ne);try{ce?(await OA(t.uid,Ne),ie(Q.filter(ae=>ae.id!==Ne)),R(de.filter(ae=>ae!==Ne))):(await DA(t.uid,Ne),ie([...Q,G]),R([...de,Ne]))}catch(ae){console.error("Error updating bookmark:",ae)}}},be=async Ne=>{const G=[...z,...D].find(ce=>ce.id===Ne);G&&P(G)},qe=s||{id:t?.uid||"",name:t?.displayName||"User",email:t?.email||"",avatarUrl:"",totalEarnings:0,uploadedNotes:[]},Xe=f==="home";return V?f==="support"?a.jsx("div",{className:"min-h-screen bg-slate-950",children:a.jsx(wv,{onBack:()=>p("home")})}):a.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-2xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:"#dc2626"},children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h1",{className:"text-2xl text-white mb-2",children:"Account Blocked"}),a.jsx("p",{className:"text-slate-400 mb-8",children:"Your account has been blocked. If you believe this is a mistake or need help, please contact our support team."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>p("support"),className:"w-full py-3 px-6 rounded-xl text-white font-medium transition-colors",style:{backgroundColor:"#2563eb"},children:" Chat with Customer Care"}),a.jsx("button",{onClick:()=>o(),className:"w-full py-3 px-6 rounded-xl bg-slate-800 text-white font-medium hover:bg-slate-700 transition-colors",children:" Logout"})]})]})}):a.jsxs("div",{className:"min-h-screen bg-slate-950",children:[a.jsx(o4,{currentPage:f,onNavigate:p}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(l4,{searchQuery:g,onSearchChange:v,showSearch:Xe})}),f==="home"&&a.jsx(c4,{notes:D,onPreview:k,onBookmark:j,onPurchase:U,onViewNotes:be,bookmarkedIds:de,purchasedIds:E,searchQuery:g,onSearchChange:v}),f==="downloads"&&a.jsx(u4,{purchasedNotes:z,onPreview:k,onViewNotes:be}),f==="bookmarks"&&a.jsx(d4,{bookmarkedNotes:Q,onPreview:k,onBookmark:j,onPurchase:U,onViewNotes:be,purchasedIds:E}),f==="earnings"&&a.jsx(h4,{totalEarnings:qe.totalEarnings,uploadedNotes:qe.uploadedNotes}),f==="profile"&&a.jsx(g4,{user:qe,onPreview:k}),f==="upload"&&a.jsx(x4,{}),f==="settings"&&a.jsx(_6,{onNavigateToTerms:()=>p("terms"),onNavigateToAbout:()=>p("about"),onNavigateToPrivacy:()=>p("privacy"),onNavigateToRefund:()=>p("refund"),onNavigateToShipping:()=>p("shipping")}),f==="terms"&&a.jsx(k6,{onBack:()=>p("settings")}),f==="about"&&a.jsx(N6,{onBack:()=>p("settings")}),f==="privacy"&&a.jsx(E6,{onBack:()=>p("settings")}),f==="refund"&&a.jsx(j6,{onBack:()=>p("settings")}),f==="shipping"&&a.jsx(T6,{onBack:()=>p("settings")}),f==="support"&&a.jsx(wv,{onBack:()=>p("home")}),f==="admin"&&a.jsx(S6,{onNavigate:p}),f==="admin-earnings"&&a.jsx(C6,{onBack:()=>p("admin")}),f==="admin-notes"&&a.jsx(R6,{onBack:()=>p("admin")}),f==="admin-chats"&&a.jsx(A6,{onBack:()=>p("admin")}),f==="admin-users"&&a.jsx(P6,{}),b&&a.jsx(y4,{note:b,onClose:()=>k(null)}),C&&a.jsx(I6,{note:C,onClose:()=>P(null)})]})}function F6(){return a.jsx(sE,{children:a.jsx(KA,{children:a.jsxs(N1,{children:[a.jsx(Hi,{path:"/terms",element:a.jsx(D6,{})}),a.jsx(Hi,{path:"/privacy",element:a.jsx(O6,{})}),a.jsx(Hi,{path:"/refund",element:a.jsx(L6,{})}),a.jsx(Hi,{path:"/shipping",element:a.jsx(V6,{})}),a.jsx(Hi,{path:"/contact",element:a.jsx(M6,{})}),a.jsx(Hi,{path:"/*",element:a.jsx(U6,{})})]})})})}EN.createRoot(document.getElementById("root")).render(a.jsx(K1,{children:a.jsx(F6,{})}));
